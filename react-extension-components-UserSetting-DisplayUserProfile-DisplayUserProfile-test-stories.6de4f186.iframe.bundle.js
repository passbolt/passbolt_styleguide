/*! For license information please see react-extension-components-UserSetting-DisplayUserProfile-DisplayUserProfile-test-stories.6de4f186.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[9088],{"./src/react-extension/components/UserSetting/DisplayUserProfile/DisplayUserProfile.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayUserProfile_test_stories});var react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react=__webpack_require__("./node_modules/react/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),UploadUserProfileAvatar=__webpack_require__("./src/react-extension/components/UserSetting/UploadUserProfileAvatar/UploadUserProfileAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),UserSettingsContext=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");class DisplayUserProfile extends react.Component{constructor(props){super(props),this.bindHandlers()}get user(){return this.props.context.loggedInUser}bindHandlers(){this.handleUploadPicture=this.handleUploadPicture.bind(this)}handleUploadPicture(){this.props.dialogContext.open(UploadUserProfileAvatar.A)}get userLocaleLabel(){const locale=(this.props.context.siteSettings.supportedLocales||[]).find((supportedLocale=>supportedLocale.locale===this.props.context.locale));return locale?locale.label:"N/A"}get translate(){return this.props.t}get canIUseLocale(){return this.props.context.siteSettings.canIUse("locale")}get canIUseUploadAvatarCapability(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.AVATAR_UPLOAD)}render(){return react.createElement("div",{className:"grid grid-responsive-12 profile-detailed-information"},this.user&&react.createElement("div",{className:"row"},react.createElement("div",{className:"profile col6 main-column"},react.createElement("h3",null,react.createElement(es.x6,null,"Profile")),react.createElement("table",{className:"table-info profile"},react.createElement("tbody",null,react.createElement("tr",{className:"name"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Name")),react.createElement("td",{className:"value"},`${this.user.profile.first_name} ${this.user.profile.last_name}`)),react.createElement("tr",{className:"email"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Email")),react.createElement("td",{className:"value"},this.user.username)),react.createElement("tr",{className:"role"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Role")),react.createElement("td",{className:"value"},this.user.role.name)),react.createElement("tr",{className:"modified"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Modified")),react.createElement("td",{className:"value"},(0,dateUtils.kD)(this.user.modified,this.props.t,this.props.context.locale))),react.createElement("tr",{className:"created"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Created")),react.createElement("td",{className:"value"},(0,dateUtils.kD)(this.user.created,this.props.t,this.props.context.locale))))),this.canIUseLocale&&react.createElement(react.Fragment,null,react.createElement("h4",null,react.createElement(es.x6,null,"Internationalisation")),react.createElement("table",{className:"table-info profile"},react.createElement("tbody",null,react.createElement("tr",{className:"locale"},react.createElement("td",{className:"label"},react.createElement(es.x6,null,"Language")),react.createElement("td",{className:"value"},this.userLocaleLabel)))))),react.createElement("div",{className:"col5 secondary-column last"},react.createElement("div",{className:"sidebar"},react.createElement("h3",null,react.createElement(es.x6,null,"Avatar")),react.createElement("div",{className:"avatar"},react.createElement("div",{className:"value"},react.createElement(UserAvatar.A,{user:this.props.context.loggedInUser,baseUrl:this.props.context.userSettings.getTrustedDomain(),className:""}))),this.canIUseUploadAvatarCapability&&react.createElement("div",null,react.createElement("button",{className:"button edit-avatar-action",title:this.translate("Upload a new avatar picture"),type:"button",onClick:this.handleUploadPicture},react.createElement(Icon.A,{name:"upload"}),react.createElement("span",{className:"help-text"},react.createElement(es.x6,null,"Upload a new avatar picture"))))))))}}DisplayUserProfile.propTypes={context:prop_types_default().any,rbacContext:prop_types_default().object,dialogContext:prop_types_default().object,userSettingsContext:prop_types_default().object,t:prop_types_default().func,i18n:prop_types_default().any};const DisplayUserProfile_DisplayUserProfile=(0,AppContext.L)((0,DialogContext.z9)((0,UserSettingsContext.tX)((0,RbacContext.x6)((0,es.CI)("common")(DisplayUserProfile)))));DisplayUserProfile.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"handleUploadPicture",docblock:"Whenever the user wants to upload a new profile's picture",modifiers:[],params:[],returns:null,description:"Whenever the user wants to upload a new profile's picture"},{name:"userLocaleLabel",docblock:"Get the locale label.",modifiers:["get"],params:[],returns:null,description:"Get the locale label."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"canIUseLocale",docblock:"Can I use the locale plugin.\n@type {boolean}",modifiers:["get"],params:[],returns:null,description:"Can I use the locale plugin."},{name:"canIUseUploadAvatarCapability",docblock:"Can the user access upload a new avatar capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access upload a new avatar capability."}],displayName:"DisplayUserProfile",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}};var role_test_data=__webpack_require__("./src/shared/models/entity/role/role.test.data.js");const DisplayUserProfile_test_stories={title:"Components/UserSetting/DisplayUserProfile",component:DisplayUserProfile_DisplayUserProfile},context={userSettings:{getTrustedDomain:()=>new URL(window.location.href).origin},siteSettings:{canIUse:()=>!0},loggedInUser:{id:"f848277c-5398-58f8-a82a-72397af2d450",role_id:role_test_data.ol,role:{name:"admin"},username:"ada@passbolt.com",active:!0,deleted:!1,created:"2020-08-13T10:10:02+00:00",modified:"2020-09-13T10:10:02+00:00",profile:{id:"99522cc9-0acc-5ae2-b996-d03bded3c0a6",user_id:"f848277c-5398-58f8-a82a-72397af2d450",first_name:"Ada",last_name:"Lovelace",created:"2020-10-13T10:10:02+00:00",modified:"2020-10-13T10:10:02+00:00",avatar:{url:{medium:"img/avatar/user_medium.png",small:"img/avatar/user.png"}}},is_mfa_enabled:!1,last_logged_in:null}},Template=args=>react.createElement(AppContext.A.Provider,{value:context},react.createElement("div",{id:"container",className:"page settings"},react.createElement(react_router.fS,{initialEntries:["/"]},react.createElement(react_router.qh,{component:routerProps=>react.createElement(DisplayUserProfile_DisplayUserProfile,{...args,...routerProps})}))));Template.propTypes={context:prop_types_default().object};const Initial=Template.bind({}),__namedExportsOrder=["Initial"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:'args => <AppContext.Provider value={context}>\n    <div id="container" className="page settings">\n      <MemoryRouter initialEntries={[\'/\']}>\n        <Route component={routerProps => <DisplayUserProfile {...args} {...routerProps} />}></Route>\n      </MemoryRouter>\n    </div>\n  </AppContext.Provider>',...Initial.parameters?.docs?.source}}}},"./src/react-extension/components/Common/Avatar/UserAvatar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");const DEFAULT_AVATAR_URL_REGEXP=/img\/avatar\/user(_medium)?\.png$/;class UserAvatar extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{error:!1}}bindCallbacks(){this.handleError=this.handleError.bind(this)}get avatarUrl(){return this.props?.user?.profile?.avatar?.url?.medium}propsHasUrl(){return Boolean(this.avatarUrl)}propsUrlHasProtocol(){return this.avatarUrl.startsWith("https://")||this.avatarUrl.startsWith("http://")}formatUrl(url){return`${this.props.baseUrl}/${url}`}isDefaultAvatarUrlFromApi(){return DEFAULT_AVATAR_URL_REGEXP.test(this.avatarUrl)}getAvatarSrc(){return this.propsHasUrl()?this.propsUrlHasProtocol()?this.avatarUrl:this.formatUrl(this.avatarUrl):null}handleError(){console.error(`Could not load avatar image url: ${this.getAvatarSrc()}`),this.setState({error:!0})}getAltText(){const user=this.props?.user;return user?.first_name&&user?.last_name?this.props.t("Avatar of user {{first_name}} {{last_name}}.",{firstname:user.first_name,lastname:user.last_name}):"..."}render(){const srcAvatar=this.getAvatarSrc(),shouldDisplayDefaultAvatar=this.state.error||this.isDefaultAvatarUrlFromApi()||!srcAvatar;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`${this.props.className} ${this.props.attentionRequired?"attention-required":""}`},shouldDisplayDefaultAvatar&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 42 42","aria-labelledby":"svg-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:"svg-title"},this.getAltText()),react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{fill:"#939598",cx:"21",cy:"21",r:"21"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#ffffff",d:"m21,23.04c-4.14,0-7.51-3.37-7.51-7.51s3.37-7.51,7.51-7.51,7.51,3.37,7.51,7.51-3.37,7.51-7.51,7.51Z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#ffffff",d:"m27.17,26.53h-12.33c-2.01,0-3.89.78-5.31,2.2-1.42,1.42-2.2,3.3-2.2,5.31v1.15c3.55,3.42,8.36,5.53,13.67,5.53s10.13-2.11,13.67-5.53v-1.15c0-2.01-.78-3.89-2.2-5.31-1.42-1.42-3.3-2.2-5.31-2.2Z"})),!shouldDisplayDefaultAvatar&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:srcAvatar,onError:this.handleError,alt:this.getAltText()}),this.props.attentionRequired&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"exclamation"}))}}UserAvatar.defaultProps={className:"avatar user-avatar"},UserAvatar.propTypes={baseUrl:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,user:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,attentionRequired:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(UserAvatar);UserAvatar.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {*}",modifiers:[],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"avatarUrl",docblock:"Returns the current avatar URL from the props\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current avatar URL from the props"},{name:"propsHasUrl",docblock:"Return true if the user from props contains a valid profile with avatar url properties\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the user from props contains a valid profile with avatar url properties"},{name:"propsUrlHasProtocol",docblock:"Check if the url has a protocol like http or https?\n@todo only check https for now\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the url has a protocol like http or https?"},{name:"formatUrl",docblock:"Format the avatar url to point on the site url.\n@param {string} url The relative url\n@returns {string}",modifiers:[],params:[{name:"url",description:"The relative url",type:{name:"string"},optional:!1}],returns:{type:{name:"string"}},description:"Format the avatar url to point on the site url."},{name:"isDefaultAvatarUrlFromApi",docblock:"Returns true if the given URL matches a default avatar from the API\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the given URL matches a default avatar from the API"},{name:"getAvatarSrc",docblock:"Get the user avatar url. If the user has no avatar defined, return the default one.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user avatar url. If the user has no avatar defined, return the default one."},{name:"handleError",docblock:"Handle error while loading the user avatar image.\nBy instance when the image is not present on the server.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle error while loading the user avatar image.\nBy instance when the image is not present on the server."},{name:"getAltText",docblock:"Get the user avatar image alternative text.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user avatar image alternative text."}],displayName:"UserAvatar",props:{className:{defaultValue:{value:'"avatar user-avatar"',computed:!1},description:"",type:{name:"string"},required:!1},baseUrl:{description:"",type:{name:"string"},required:!1},user:{description:"",type:{name:"object"},required:!1},attentionRequired:{description:"",type:{name:"bool"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/UserSettingsContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{tX:()=>withUserSettings});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const UserSettingsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({state:null,oldPassphrase:null,onIntroductionPassphraseRequested:()=>{},onProvidePassphraseRequested:()=>{},onCheckProvidePassphraseRequested:()=>{},onUpdatePassphraseRequested:()=>{},onGoToIntroductionPassphraseRequested:()=>{},onDownloadRecoveryKitRequested:()=>{},onUpdateSecurityTokenRequested:()=>{},onUpdateUserLocaleRequested:()=>{}});class UserSettingsContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{state:UserSettingsContextState.INITIAL_STATE,oldPassphrase:null,onIntroductionPassphraseRequested:this.onIntroductionPassphraseRequested.bind(this),onProvidePassphraseRequested:this.onProvidePassphraseRequested.bind(this),onCheckProvidePassphraseRequested:this.onCheckProvidePassphraseRequested.bind(this),onUpdatePassphraseRequested:this.onUpdatePassphraseRequested.bind(this),onGoToIntroductionPassphraseRequested:this.onGoToIntroductionPassphraseRequested.bind(this),onDownloadRecoveryKitRequested:this.onDownloadRecoveryKitRequested.bind(this),onUpdateSecurityTokenRequested:this.onUpdateSecurityTokenRequested.bind(this),onUpdateLocaleUserRequested:this.handleUpdateLocaleUserRequested.bind(this)}}async onIntroductionPassphraseRequested(){await this.setState({state:UserSettingsContextState.PASSPHRASE_INTRODUCTION})}async onProvidePassphraseRequested(){await this.setState({state:UserSettingsContextState.PASSPHRASE_TO_PROVIDE_REQUESTED})}async onCheckProvidePassphraseRequested(passphrase){await this.props.context.port.request("passbolt.auth.verify-passphrase",passphrase),await this.setState({state:UserSettingsContextState.PASSPHRASE_TO_PROVIDE_CHECKED,oldPassphrase:passphrase})}async onGoToIntroductionPassphraseRequested(){await this.setState({state:UserSettingsContextState.PASSPHRASE_INTRODUCTION,oldPassphrase:null})}async onUpdatePassphraseRequested(passphrase){await this.props.context.port.request("passbolt.user.update-private-key",this.state.oldPassphrase,passphrase),await this.setState({state:UserSettingsContextState.PASSPHRASE_UPDATED,oldPassphrase:null})}async onDownloadRecoveryKitRequested(){await this.props.context.port.request("passbolt.keyring.download-my-private-key")}async onUpdateSecurityTokenRequested(securityTokenDto){await this.props.context.port.request("passbolt.users.update-security-token",securityTokenDto)}async handleUpdateLocaleUserRequested(localeDto){await this.props.context.port.request("passbolt.locale.update-user-locale",localeDto)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UserSettingsContext.Provider,{value:this.state},this.props.children)}}UserSettingsContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(UserSettingsContextProvider);function withUserSettings(WrappedComponent){return class withUserSettings extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UserSettingsContext.Consumer,null,(userSettingsContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{userSettingsContext,...this.props})))}}}const UserSettingsContextState={INITIAL_STATE:"Initial State",PASSPHRASE_INTRODUCTION:"Passphrase Introduction",PASSPHRASE_TO_PROVIDE_REQUESTED:"Passphrase To Provide Requested",PASSPHRASE_TO_PROVIDE_CHECKED:"Passphrase To Provide Checked",PASSPHRASE_UPDATED:"Passphrase Updated"};UserSettingsContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"onIntroductionPassphraseRequested",docblock:"Whenever the introduction passphrase is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the introduction passphrase is requested"},{name:"onProvidePassphraseRequested",docblock:"Whenever the provide passphrase is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the provide passphrase is requested"},{name:"onCheckProvidePassphraseRequested",docblock:"Whenever the check provide passphrase is requested\n@param passphrase A passphrase",modifiers:["async"],params:[{name:"passphrase",description:"A passphrase",optional:!1}],returns:null,description:"Whenever the check provide passphrase is requested"},{name:"onGoToIntroductionPassphraseRequested",docblock:"Whenever the user wants to go back to the passphrase introduction",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to go back to the passphrase introduction"},{name:"onUpdatePassphraseRequested",docblock:"Whenever the update passphrase is requested\n@param {string} passphrase The new passphrase",modifiers:["async"],params:[{name:"passphrase",description:"The new passphrase",type:{name:"string"},optional:!1}],returns:null,description:"Whenever the update passphrase is requested"},{name:"onDownloadRecoveryKitRequested",docblock:"Whenever the download of the recovery kit is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the download of the recovery kit is requested"},{name:"onUpdateSecurityTokenRequested",docblock:"Whenever the update security token is requested\n@param securityTokenDto The security token DTO",modifiers:["async"],params:[{name:"securityTokenDto",description:"The security token DTO",optional:!1}],returns:null,description:"Whenever the update security token is requested"},{name:"handleUpdateLocaleUserRequested",docblock:"Whenever the update of the locale is requested\n@param localeDto The locale DTO",modifiers:["async"],params:[{name:"localeDto",description:"The locale DTO",optional:!1}],returns:null,description:"Whenever the update of the locale is requested"}],displayName:"UserSettingsContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/utils/dateUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B7:()=>formatDateForApi,Br:()=>formatExpirationDateTimeAgo,kD:()=>formatDateTimeAgo});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js");const formatDateTimeAgo=(date,translate,locale)=>{if(null===date)return"n/a";if("Infinity"===date)return translate("Never");const dateTime=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.fromISO(date),duration=dateTime.diffNow().toMillis();return duration>-1e3&&duration<0?translate("Just now"):dateTime.toRelative({locale})},formatExpirationDateTimeAgo=(date,translate,locale)=>date?formatDateTimeAgo(date,translate,locale):translate("Never"),formatDateForApi=date=>date?.toUTC().toISO()||null},"./node_modules/validator/es/lib/util/assertString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function assertString(input){if(!("string"==typeof input||input instanceof String)){var invalidType=_typeof(input);throw null===input?invalidType="null":"object"===invalidType&&(invalidType=input.constructor.name),new TypeError("Expected a string but received a ".concat(invalidType))}}__webpack_require__.d(__webpack_exports__,{A:()=>assertString})}}]);