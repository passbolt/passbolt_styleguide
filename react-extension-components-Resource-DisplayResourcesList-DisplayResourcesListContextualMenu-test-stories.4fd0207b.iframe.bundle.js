/*! For license information please see react-extension-components-Resource-DisplayResourcesList-DisplayResourcesListContextualMenu-test-stories.4fd0207b.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[1375],{"./src/img/svg/clock.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgClock(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.692 14.391a6.699 6.699 0 1 0 0-13.398 6.699 6.699 0 0 0 0 13.398"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7.692 3.677v4.015l2.684 1.342"})))}},"./src/img/svg/go.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgGo(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 9.75v4.5a1.5 1.5 0 0 1-1.5 1.5H3.75a1.5 1.5 0 0 1-1.5-1.5V3.75a1.5 1.5 0 0 1 1.5-1.5h4.5M15.75 2.25 9 9M11.25 2.25h4.5v4.5"})))}},"./src/react-extension/components/Common/ContextualMenu/ContextualMenuWrapper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class ContextualMenuWrapper extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.createRefs(),this.bindCallbacks()}get defaultState(){return{positionY:this.props.top}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleDocumentScrollEvent=this.handleDocumentScrollEvent.bind(this),this.isWindowExceeded=this.isWindowExceeded.bind(this)}createRefs(){this.elementRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){this.adjustPositionY(),document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.addEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),document.removeEventListener("scroll",this.handleDocumentScrollEvent,{capture:!0})}handleDocumentScrollEvent(){this.props.hide()}handleDocumentClickEvent(event){this.elementRef.current.contains(event.target)||(event.stopPropagation(),this.props.hide())}handleDocumentContextualMenuEvent(event){this.elementRef.current.contains(event.target)||this.props.hide()}handleDocumentDragStartEvent(){this.props.hide()}isWindowExceeded(){const contextMenuHeight=this.elementRef.current?.offsetHeight;return this.props.top+contextMenuHeight>window.innerHeight}adjustPositionY(){this.isWindowExceeded()&&(this.setState({positionY:window.innerHeight-this.elementRef.current.offsetHeight}),this.elementRef.current.style.zIndex=1e3)}getStyle(){return{position:"absolute",display:"block",left:this.props.left,top:this.state.positionY}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{ref:this.elementRef,className:`contextual-menu ${this.props.className} ${this.isWindowExceeded()?"floating":""}`,style:this.getStyle()},this.props.children)}}ContextualMenuWrapper.defaultProps={className:""},ContextualMenuWrapper.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,left:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,hide:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,top:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string};const __WEBPACK_DEFAULT_EXPORT__=ContextualMenuWrapper;ContextualMenuWrapper.__docgenInfo={description:"The ContextualMenuWrapper has for aim to handle common contextual menus common behavior.\nYou can use it in your component as following\n\n<ContextualMenuWrapper\n  hide={callback_func} // Function to call when the contextual menu request to close itself\n  left={100} // Left position in absolute to display the contextual menu\n  top={100}> // Top position in absolute to display the contextual menu\n  <div>\n    Your contextual menu content\n  </div>\n</ContextualMenuWrapper>",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"bindCallbacks",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleDocumentScrollEvent",docblock:"Handle scroll event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle scroll event on document. Hide the component if any."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\nDon't hide it if a contextual menu event occurred on the FoldersList component, this component props will be\nupdated with new datA.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\nDon't hide it if a contextual menu event occurred on the FoldersList component, this component props will be\nupdated with new datA."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"isWindowExceeded",docblock:"Returns true if the height of the contextual menu given its position exceeds the window.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the height of the contextual menu given its position exceeds the window."},{name:"adjustPositionY",docblock:"Adjust the vertical position of the contextual menuu if its height at its position execeeds the window.",modifiers:[],params:[],returns:null,description:"Adjust the vertical position of the contextual menuu if its height at its position execeeds the window."},{name:"getStyle",docblock:"Get the contextual menu style.",modifiers:[],params:[],returns:null,description:"Get the contextual menu style."}],displayName:"ContextualMenuWrapper",props:{className:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"any"},required:!1},left:{description:"",type:{name:"number"},required:!1},hide:{description:"",type:{name:"func"},required:!1},top:{description:"",type:{name:"number"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesList/DisplayResourcesListContextualMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_ContextualMenu_ContextualMenuWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ContextualMenuWrapper.js"),_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Resource/EditResource/EditResource.js"),_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Share/ShareDialog.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Resource/DeleteResource/DeleteResource.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/lib/Sanitize/sanitizeUrl.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/shared/services/otp/TotpCodeGeneratorService.js"),_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/shared/utils/dateUtils.js"),luxon__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/luxon/build/es6/luxon.mjs"),_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/img/svg/owned_by_me.svg"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/img/svg/globe.svg"),_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/img/svg/link.svg"),_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/img/svg/share.svg"),_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/img/svg/edit.svg"),_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/img/svg/delete.svg"),_img_svg_clock_svg__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/img/svg/clock.svg"),_img_svg_calendar_svg__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/img/svg/calendar.svg"),_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/img/svg/totp.svg"),_img_svg_go_svg__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./src/img/svg/go.svg"),_img_svg_history_svg__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./src/img/svg/history.svg"),_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js"),_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./src/react-extension/components/Metadata/ActionAbortedMissingMetadataKeys/ActionAbortedMissingMetadataKeys.js"),_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js"),_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),_shared_utils_logger__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./src/shared/utils/logger.js"),_shared_context_SecretRevisionSettingsContext_SecretRevisionsSettingsContext__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./src/shared/context/SecretRevisionSettingsContext/SecretRevisionsSettingsContext.js"),_shared_models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js"),_SecretHistory_DisplayResourceSecretHistory__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./src/react-extension/components/SecretHistory/DisplayResourceSecretHistory.js");class DisplayResourcesListContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleUsernameClickEvent=this.handleUsernameClickEvent.bind(this),this.handleUriClickEvent=this.handleUriClickEvent.bind(this),this.handlePermalinkClickEvent=this.handlePermalinkClickEvent.bind(this),this.handlePasswordClickEvent=this.handlePasswordClickEvent.bind(this),this.handleTotpClickEvent=this.handleTotpClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleGoToResourceUriClick=this.handleGoToResourceUriClick.bind(this),this.handleSetExpiryDateClick=this.handleSetExpiryDateClick.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this),this.handleSecretHistoryClickEvent=this.handleSecretHistoryClickEvent.bind(this)}handleEditClickEvent(){this.canEditResource()?this.props.dialogContext.open(_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_5__.A,{resource:this.resource}):this.displayActionAborted(),this.props.hide()}canEditResource(){if(this.props.resourceTypes.getFirstById(this.resource.resource_type_id).isV5()){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,isPersonalResource=this.resource.personal,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;if(isPersonalResource&&isMetadataSharedKeyEnforced&&userHasMissingKeys)return!1;if(!isPersonalResource&&userHasMissingKeys)return!1}return!0}handleShareClickEvent(){if(this.canShareResource()){const resourcesIds=[this.resource.id];this.props.context.setContext({shareDialogProps:{resourcesIds}}),this.props.dialogContext.open(_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_6__.A)}else this.displayActionAborted();this.props.hide()}handleSecretHistoryClickEvent(){this.props.dialogContext.open(_SecretHistory_DisplayResourceSecretHistory__WEBPACK_IMPORTED_MODULE_41__.A,{resource:this.resource}),this.props.hide()}canShareResource(){if(this.props.resourceTypes.getFirstById(this.resource.resource_type_id).isV5()){return!(this.props.context.loggedInUser.missing_metadata_key_ids?.length>0)}return!0}async handleUsernameClickEvent(){await this.props.clipboardContext.copy(this.resource.metadata.username,this.translate("The username has been copied to clipboard.")),this.props.hide()}async handleUriClickEvent(){await this.props.clipboardContext.copy(this.resource.metadata.uris[0],this.translate("The uri has been copied to clipboard.")),this.props.hide()}async handlePermalinkClickEvent(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.resource.id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard.")),this.props.hide()}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.resource.id)}async copyPasswordToClipboard(plaintextSecretDto){const password=plaintextSecretDto.password;if(!password)throw new TypeError(this.translate("The password is empty."));await this.props.clipboardContext.copyTemporarily(password,this.translate("The secret has been copied to clipboard."))}async handlePasswordClickEvent(){let plaintextSecretDto;this.props.hide(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}this.props.progressContext.close(),plaintextSecretDto?.password?.length?(await this.copyPasswordToClipboard(plaintextSecretDto),this.props.resourceWorkspaceContext.onResourceCopied()):await this.props.actionFeedbackContext.displayWarning(this.translate("The password is empty and cannot be copied to clipboard."))}async handleTotpClickEvent(){let plaintextSecretDto,code;this.props.hide(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}if(this.props.progressContext.close(),plaintextSecretDto)if(plaintextSecretDto.totp){try{code=_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_15__.l.generate(plaintextSecretDto.totp)}catch(error){return _shared_utils_logger__WEBPACK_IMPORTED_MODULE_38__.A.error(error),void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await this.props.clipboardContext.copyTemporarily(code,this.translate("The TOTP has been copied to clipboard.")),await this.props.resourceWorkspaceContext.onResourceCopied()}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleDeleteClickEvent(){const resources=[this.resource];this.props.dialogContext.open(_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_8__.A,{resources}),this.props.hide()}handleGoToResourceUriClick(){this.props.resourceWorkspaceContext.onGoToResourceUriRequested(this.resource.metadata.uris[0])}async handleMarkAsExpiredClick(){try{await this.props.context.port.request("passbolt.resources.set-expiration-date",[{id:this.resource.id,expired:(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_17__.B7)(luxon__WEBPACK_IMPORTED_MODULE_18__.c9.utc())}]),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:1}))}catch(error){_shared_utils_logger__WEBPACK_IMPORTED_MODULE_38__.A.error(error),await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:1}))}finally{this.props.hide()}}handleSetExpiryDateClick(){this.props.dialogContext.open(_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_19__.A,{resources:[this.resource]}),this.props.hide()}displayActionAborted(){this.props.dialogContext.open(_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_35__.A)}get resource(){return this.props.resource}get safeUri(){return(0,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_10__.A)(this.resource.metadata.uris?.[0],{whiteListedProtocols:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_9__.XH,defaultProtocol:_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_10__.P.HTTPS})}canUpdate(){return this.resource.permission.type>=7}canShare(){return 15===this.resource.permission.type}canCopyUsername(){return this.resource.metadata?.username&&""!==this.resource.metadata.username}canCopyPassword(){return this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasPassword()}canCopyTotp(){return this.isTotpResources}get isTotpResources(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes?.getFirstById(this.resource.resource_type_id)?.isStandaloneTotp()}canCopyUri(){return this.resource.metadata?.uris?.length>0&&""!==this.resource.metadata.uris?.[0]}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canUsePasswordExpiry(){const passwordExpirySettings=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&passwordExpirySettings?.policy_override}get canUseSecretHistory(){return this.props.context.siteSettings.canIUse("secretRevisions")&&this.props.secretRevisionsSettings?.isFeatureEnabled}get translate(){return this.props.t}render(){const canCopySecret=this.props.rbacContext.canIUseAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__.e.SECRETS_COPY),canViewShare=this.props.rbacContext.canIUseAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__.e.SHARE_VIEW_LIST);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_ContextualMenu_ContextualMenuWrapper__WEBPACK_IMPORTED_MODULE_4__.A,{hide:this.props.hide,left:this.props.left,top:this.props.top,className:"floating"},!this.isStandaloneTotpResource&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-username-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"username",className:"link no-border",disabled:!this.canCopyUsername(),onClick:this.handleUsernameClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_22__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy username"))))))),canCopySecret&&this.canCopyPassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-copy-password-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",id:"password",onClick:this.handlePasswordClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_23__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy password"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-copy-uri-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"uri",className:"link no-border",disabled:!this.canCopyUri(),onClick:this.handleUriClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_24__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy URI"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-permalink-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"permalink",onClick:this.handlePermalinkClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_25__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy permalink"))))))),canCopySecret&&this.canUseTotp&&this.canCopyTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-copy-totp-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",id:"totp",onClick:this.handleTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_31__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy TOTP"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-open-uri-resource",className:"ready separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"open-uri",className:"link no-border",disabled:!this.safeUri,onClick:this.handleGoToResourceUriClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_go_svg__WEBPACK_IMPORTED_MODULE_32__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Open URI in a new Tab"))))))),this.canUsePasswordExpiry&&this.canUpdate()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-set-expiry-date",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"set-expiry-date",className:"link no-border",onClick:this.handleSetExpiryDateClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_calendar_svg__WEBPACK_IMPORTED_MODULE_30__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Set expiry date"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-mark-as-expired-resource",className:"ready separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"mark-as-expired",className:"link no-border",onClick:this.handleMarkAsExpiredClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_clock_svg__WEBPACK_IMPORTED_MODULE_29__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Mark as expired")))))))),this.canUpdate()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-edit-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"edit",className:"link no-border",onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_27__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Edit"))))))),canViewShare&&this.canShare()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-share-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"share",className:"link no-border",onClick:this.handleShareClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_26__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Share"))))))),this.canUseSecretHistory&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-secret_history",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"secret-history",className:"link no-border",onClick:this.handleSecretHistoryClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_history_svg__WEBPACK_IMPORTED_MODULE_33__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Secret history"))))))),this.canShare()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"option-delete-resource",className:"ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"delete",className:"link no-border",onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_28__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Delete"))))))))}}DisplayResourcesListContextualMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,hide:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,left:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,top:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_21__.A),dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,progressContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resource:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,clipboardContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,metadataKeysSettings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_37__.A),secretRevisionsSettings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_40__.A),t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_36__.XF)((0,_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_34__.nJ)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_13__.x6)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_9__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_20__.KH)((0,_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_16__.f4)((0,_shared_context_SecretRevisionSettingsContext_SecretRevisionsSettingsContext__WEBPACK_IMPORTED_MODULE_39__.ac)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_14__.E0)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_7__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.CI)("common")(DisplayResourcesListContextualMenu))))))))))));DisplayResourcesListContextualMenu.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleEditClickEvent",docblock:"handle edit resource",modifiers:[],params:[],returns:null,description:"handle edit resource"},{name:"canEditResource",docblock:"Can edit the resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can edit the resource"},{name:"handleShareClickEvent",docblock:"handle share resource",modifiers:[],params:[],returns:null,description:"handle share resource"},{name:"handleSecretHistoryClickEvent",docblock:"handle secret history",modifiers:[],params:[],returns:null,description:"handle secret history"},{name:"canShareResource",docblock:"Can share the resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can share the resource"},{name:"handleUsernameClickEvent",docblock:"handle username resource",modifiers:["async"],params:[],returns:null,description:"handle username resource"},{name:"handleUriClickEvent",docblock:"handle uri resource",modifiers:["async"],params:[],returns:null,description:"handle uri resource"},{name:"handlePermalinkClickEvent",docblock:"handle permalink resource",modifiers:["async"],params:[],returns:null,description:"handle permalink resource"},{name:"decryptResourceSecret",docblock:"Decrypt the resource secret\n@returns {Promise<object>} The secret in plaintext format\n@throw UserAbortsOperationError If the user cancel the operation",modifiers:[],params:[],returns:{description:"The secret in plaintext format",type:{name:"Promise",elements:[{name:"object"}]}},description:"Decrypt the resource secret"},{name:"copyPasswordToClipboard",docblock:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)\n\n@param {object} plaintextSecretDto The plain text secret DTO.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"plaintextSecretDto",description:"The plain text secret DTO.",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)"},{name:"handlePasswordClickEvent",docblock:"handle password resource",modifiers:["async"],params:[],returns:null,description:"handle password resource"},{name:"handleTotpClickEvent",docblock:"handle copy to clipboard the totp of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the totp of the selected resource"},{name:"handleDeleteClickEvent",docblock:"handle delete resource",modifiers:[],params:[],returns:null,description:"handle delete resource"},{name:"handleGoToResourceUriClick",docblock:"handle open the uri in a new tab",modifiers:[],params:[],returns:null,description:"handle open the uri in a new tab"},{name:"handleMarkAsExpiredClick",docblock:"Handle mark as expired\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle mark as expired"},{name:"handleSetExpiryDateClick",docblock:"Handle set expiry date click.",modifiers:[],params:[],returns:null,description:"Handle set expiry date click."},{name:"displayActionAborted",docblock:"Display action aborted",modifiers:[],params:[],returns:null,description:"Display action aborted"},{name:"resource",docblock:"the resource selected\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"the resource selected"},{name:"safeUri",docblock:"the resource safe uri\n@return {string|bool} Return safe uri or false if not safe",modifiers:["get"],params:[],returns:{description:"Return safe uri or false if not safe",type:{name:"union",elements:[{name:"string"},{name:"bool"}]}},description:"the resource safe uri"},{name:"canUpdate",docblock:"Can update the resource",modifiers:[],params:[],returns:null,description:"Can update the resource"},{name:"canShare",docblock:"Can share the resource",modifiers:[],params:[],returns:null,description:"Can share the resource"},{name:"canCopyUsername",docblock:"Can copy username\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy username"},{name:"canCopyPassword",docblock:"Can copy password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy password"},{name:"isPasswordResources",docblock:"Is password resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is password resource"},{name:"canCopyTotp",docblock:"Can copy totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy totp"},{name:"isTotpResources",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"isStandaloneTotpResource",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"canCopyUri",docblock:"Can copy uri\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy uri"},{name:"canUseTotp",docblock:"Can use Totp\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use Totp"},{name:"canUsePasswordExpiry",docblock:"Can use password expiry\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use password expiry"},{name:"canUseSecretHistory",docblock:"Can use secret history\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use secret history"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourcesListContextualMenu",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},hide:{description:"",type:{name:"func"},required:!1},left:{description:"",type:{name:"number"},required:!1},top:{description:"",type:{name:"number"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},progressContext:{description:"",type:{name:"any"},required:!1},resource:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},metadataKeysSettings:{description:"",type:{name:"instanceOf",value:"MetadataKeysSettingsEntity"},required:!1},secretRevisionsSettings:{description:"",type:{name:"instanceOf",value:"SecretRevisionsSettingsEntity"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesList/DisplayResourcesListContextualMenu.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,DenyUiActions:()=>DenyUiActions,ReadOnlyPermission:()=>ReadOnlyPermission,StandaloneTotp:()=>StandaloneTotp,UpdatePermission:()=>UpdatePermission,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesListContextualMenu_test_stories});var DisplayResourcesListContextualMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesList/DisplayResourcesListContextualMenu.js"),RbacContext_test_data=__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),DialogContext_test_data=__webpack_require__("./src/react-extension/contexts/DialogContext.test.data.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),resourceEntity_test_data=__webpack_require__("./src/shared/models/entity/resource/resourceEntity.test.data.js"),PasswordExpirySettingsContext_test_data=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),ManagedClipboardServiceProvider_test_data=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.test.data.js"),metadataKeysSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),metadataKeysSettingsEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.test.data.js"),secretRevisionsSettingsEntity=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js"),secretRevisionsSettingsEntity_test_data=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.test.data.js");function defaultProps(data={}){return{context:(0,ExtAppContext_test_data.bC)(),rbacContext:(0,RbacContext_test_data.mM)(),resource:(0,resourceEntity_test_data.j8)(),hide:jest.fn(),left:10,top:10,dialogContext:(0,DialogContext_test_data.L)(),resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)({policy_override:!0}),clipboardContext:(0,ManagedClipboardServiceProvider_test_data.H)(),metadataKeysSettings:new metadataKeysSettingsEntity.A((0,metadataKeysSettingsEntity_test_data.L)()),secretRevisionsSettings:new secretRevisionsSettingsEntity.A((0,secretRevisionsSettingsEntity_test_data.C)()),...data}}const DisplayResourcesListContextualMenu_test_stories={title:"Components/Resource/DisplayResourcesListContextualMenu",component:DisplayResourcesListContextualMenu.A,parameters:{docs:{description:{component:"DisplayResourcesListContextualMenu stories"}}}},Default={args:defaultProps()},StandaloneTotp={args:function propsResourceStandaloneTotp(){return{...defaultProps(),resource:(0,resourceEntity_test_data.Ge)()}}()},ReadOnlyPermission={args:function propsResourceWithReadOnlyPermission(){return{...defaultProps(),resource:(0,resourceEntity_test_data.Jn)()}}()},UpdatePermission={args:function propsResourceWithUpdatePermission(){return{...defaultProps(),resource:(0,resourceEntity_test_data._Y)()}}()},DenyUiActions={args:function propsDenyUIActions(){return{...defaultProps(),rbacContext:(0,RbacContext_test_data.UO)()}}()},__namedExportsOrder=["Default","StandaloneTotp","ReadOnlyPermission","UpdatePermission","DenyUiActions"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: defaultProps()\n}",...Default.parameters?.docs?.source}}},StandaloneTotp.parameters={...StandaloneTotp.parameters,docs:{...StandaloneTotp.parameters?.docs,source:{originalSource:"{\n  args: propsResourceStandaloneTotp()\n}",...StandaloneTotp.parameters?.docs?.source}}},ReadOnlyPermission.parameters={...ReadOnlyPermission.parameters,docs:{...ReadOnlyPermission.parameters?.docs,source:{originalSource:"{\n  args: propsResourceWithReadOnlyPermission()\n}",...ReadOnlyPermission.parameters?.docs?.source}}},UpdatePermission.parameters={...UpdatePermission.parameters,docs:{...UpdatePermission.parameters?.docs,source:{originalSource:"{\n  args: propsResourceWithUpdatePermission()\n}",...UpdatePermission.parameters?.docs?.source}}},DenyUiActions.parameters={...DenyUiActions.parameters,docs:{...DenyUiActions.parameters?.docs,source:{originalSource:"{\n  args: propsDenyUIActions()\n}",...DenyUiActions.parameters?.docs?.source}}}},"./src/react-extension/components/Share/SharePermissionItemSkeleton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class SharePermissionItemSkeleton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"row skeleton"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"avatar"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-details"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select rights"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"shimmer"}))}}SharePermissionItemSkeleton.propTypes={};const __WEBPACK_DEFAULT_EXPORT__=SharePermissionItemSkeleton;SharePermissionItemSkeleton.__docgenInfo={description:"",methods:[],displayName:"SharePermissionItemSkeleton"}},"./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>defaultClipboardContext});__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");const defaultClipboardContext=data=>({copyTemporarily:jest.fn(),copy:jest.fn(),...data})},"./src/react-extension/contexts/DialogContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function defaultDialogContext(context={}){const defaultContext={dialogs:[],open:jest.fn(),close:jest.fn(),closeAll:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{L:()=>defaultDialogContext})},"./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>defaultPasswordExpirySettingsContext});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/build/es6/luxon.mjs"),_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js");__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");const defaultPasswordExpirySettingsContext=(data={})=>{const settings=data?.getSettings?data.getSettings():(0,_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__.Xc)(data),isFeatureEnabled=Boolean(settings?.automatic_update)||Boolean(settings?.automatic_expiry)||Boolean(settings?.policy_override),defaultExpiryDate=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.utc().plus({days:settings?.default_expiry_period}).toISO(),defaultData={findSettings:()=>{},getSettings:()=>settings,isFeatureEnabled:()=>isFeatureEnabled,getDefaultExpirationDate:()=>defaultExpiryDate};return Object.assign(defaultData,data)}},"./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AW:()=>defaultResourceWorkspaceContext,Rv:()=>resourceWorkspaceContextWithSelectedFolderICanRead,tw:()=>resourceWorkspaceContextWithSelectedFolderIOwn,H9:()=>resourceWorkspaceContextWithSelectedResourceIOwn,gJ:()=>resourceWorkspaceContextWithSelectedResourcesAndVariousPermission});var ResourceWorkspaceContext=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),folderEntity_test_data=__webpack_require__("./src/shared/models/entity/folder/folderEntity.test.data.js"),resourceEntity_test_data=__webpack_require__("./src/shared/models/entity/resource/resourceEntity.test.data.js"),columnsResourceSettingCollection=__webpack_require__("./src/shared/models/entity/resource/columnsResourceSettingCollection.js"),permissionEntity_test_data=(__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),__webpack_require__("./src/shared/models/entity/permission/permissionEntity.test.data.js")),secretEntity_test_data=(__webpack_require__("./src/shared/models/entity/resource/metadata/resourceMetadataEntity.test.data.js"),__webpack_require__("./src/shared/models/entity/secret/secretEntity.test.data.js")),resourceTypeEntity_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");__webpack_require__("./test/fixture/encryptedMetadata/metadata.js");const resourceAllTypesDtosCollectionAndVariousPermission=()=>{const resource1=(0,resourceEntity_test_data.j8)({name:"Resource password string",resource_type_id:resourceTypeEntity_test_data.Bt});resource1.secrets=[(0,secretEntity_test_data.n)({resource_id:resource1.id})],resource1.permission=(0,permissionEntity_test_data.uq)({aco_foreign_key:resource1.id}),resource1.permissions=[resource1.permission];const resource2=(0,resourceEntity_test_data.j8)({name:"Resource password with encrypted description",resource_type_id:resourceTypeEntity_test_data.s_});resource2.secrets=[(0,secretEntity_test_data.n)({resource_id:resource2.id})],resource2.permission=(0,permissionEntity_test_data.yA)({aco_foreign_key:resource2.id}),resource2.permissions=[resource2.permission];const resource3=(0,resourceEntity_test_data.j8)({name:"Resource password with encrypted description and totp",resource_type_id:resourceTypeEntity_test_data.Av});return resource3.secrets=[(0,secretEntity_test_data.n)({resource_id:resource3.id})],resource3.permission=(0,permissionEntity_test_data.js)({aco_foreign_key:resource3.id}),resource3.permissions=[resource3.permission],[resource1,resource2,resource3]};var ManagedClipboardServiceProvider_test_data=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.test.data.js");function defaultResourceWorkspaceContext(data={}){return{details:{folder:null,resource:null},filteredResources:[],selectedResources:[],columnsResourceSetting:new columnsResourceSettingCollection.A([{id:"favorite",label:"Favorite",position:1,show:!0},{id:"attentionRequired",label:"Attention",position:2,show:!0},{id:"icon",label:"Icon",position:3,show:!0},{id:"name",label:"Name",position:4,show:!0},{id:"expired",label:"Expiry",position:5,show:!0},{id:"username",label:"Username",position:6,show:!0},{id:"password",label:"Password",position:7,show:!0},{id:"totp",label:"TOTP",position:8,show:!0},{id:"uri",label:"URI",position:9,show:!0},{id:"modified",label:"Modified",position:10,show:!0},{id:"location",label:"Location",position:11,show:!0}]),filter:{type:ResourceWorkspaceContext.FM.ALL},scrollTo:{},sorter:{propertyName:"modified"},onGoToResourceUriRequested:jest.fn(),onResourceCopied:jest.fn(),onResourcePreviewed:jest.fn(),onResourceSelected:{all:jest.fn(),none:jest.fn(),multiple:jest.fn(),range:jest.fn(),single:jest.fn()},onResourceScrolled:jest.fn(),onFolderScrolled:jest.fn(),onResourceEdited:jest.fn(),onSorterChanged:jest.fn(),onResourcesToExport:jest.fn(),onResourceFileImportResult:jest.fn(),onResourceFileToImport:jest.fn(),onLockDetail:jest.fn(),onChangeColumnView:jest.fn(),onChangeColumnsSettings:jest.fn(),resetGridColumnsSettings:jest.fn(),onResourceDescriptionDecrypted:jest.fn(),onChangeRowSettingsHeight:jest.fn(),clipboardContext:(0,ManagedClipboardServiceProvider_test_data.H)(),...data}}function resourceWorkspaceContextWithSelectedFolderIOwn(data={}){return defaultResourceWorkspaceContext({filter:{type:ResourceWorkspaceContext.FM.FOLDER,payload:{folder:(0,folderEntity_test_data.nk)()}},...data})}function resourceWorkspaceContextWithSelectedFolderICanRead(data={}){return defaultResourceWorkspaceContext({filter:{type:ResourceWorkspaceContext.FM.FOLDER,payload:{folder:(0,folderEntity_test_data.ht)()}},...data})}function resourceWorkspaceContextWithSelectedResourceIOwn(data={}){return defaultResourceWorkspaceContext({details:{resource:(0,resourceEntity_test_data.j8)()},...data})}function resourceWorkspaceContextWithSelectedResourcesAndVariousPermission(data={}){return defaultResourceWorkspaceContext({selectedResources:resourceAllTypesDtosCollectionAndVariousPermission(),...data})}},"./src/shared/models/entity/folder/folderEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ht:()=>folderWithReadPermissionDto,nk:()=>defaultFolderDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_permission_permissionEntity_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/permission/permissionEntity.test.data.js"),_permission_permissionCollection_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/permission/permissionCollection.test.data.js"),_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");const defaultFolderDto=(data={},options={})=>{const id=data?.id||(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),defaultData={id,name:"Accounting",created:"2020-02-01T00:00:00+00:00",modified:"2020-02-01T00:00:00+00:00",created_by:"d57c10f5-639d-5160-9c81-8a0c6c4ec856",modified_by:"d57c10f5-639d-5160-9c81-8a0c6c4ec856",permission:(0,_permission_permissionEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.uq)({aco:"Folder",aco_foreign_key:id}),folder_parent_id:null,personal:!1,...data};return!data.permissions&&options.withPermissions&&(defaultData.permissions=(0,_permission_permissionCollection_test_data__WEBPACK_IMPORTED_MODULE_2__.w)({aco:"Folder",aco_foreign_key:id},options.withPermissions)),!data.creator&&options?.withCreator&&(defaultData.creator=(0,_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_3__.cI)()),!data.modifier&&options?.withModifier&&(defaultData.modifier=(0,_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_3__.cI)()),defaultData},folderWithReadPermissionDto=(data={})=>{const id=data?.id||(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)();return defaultFolderDto({id,permission:(0,_permission_permissionEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.js)({aco_foreign_key:id,aco:"Folder"}),...data})}},"./src/shared/models/entity/metadata/metadataKeysSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{L:()=>defaultMetadataKeysSettingsDto});var _metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const defaultMetadataKeysSettingsDto=(data={},options={})=>{const defaultData={allow_usage_of_personal_keys:!0,zero_knowledge_key_share:!1};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,_metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mr)({metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)()},options?.withMetadataPrivateKeys)]),Object.assign(defaultData,data)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{mr:()=>defaultMetadataPrivateKeyDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),user_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),data_signed_by_current_user:null,modified:"2022-10-11T08:09:00+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),...data})},"./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class SecretRevisionsSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["max_revisions","allow_sharing_revisions"],properties:{id:{type:"string",format:"uuid"},max_revisions:{type:"integer",minimum:1},allow_sharing_revisions:{type:"boolean"}}}}static createFromDefault(data={}){return new SecretRevisionsSettingsEntity({max_revisions:1,allow_sharing_revisions:!1,...data})}get id(){return this._props.id}get maxRevisions(){return this._props.max_revisions}get allowSharingRevisions(){return this._props.allow_sharing_revisions}get isFeatureEnabled(){return this.maxRevisions>1}}const __WEBPACK_DEFAULT_EXPORT__=SecretRevisionsSettingsEntity},"./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>defaultSecretRevisionsSettingsDto});const defaultSecretRevisionsSettingsDto=(data={})=>Object.assign({max_revisions:3,allow_sharing_revisions:!1},data)},"./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Xc:()=>defaultPasswordExpirySettingsEntityDto,om:()=>overridenPasswordExpirySettingsEntityDto});const defaultPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!1,default_expiry_period:null},data),overridenPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!0,default_expiry_period:30},data)},"./test/fixture/encryptedMetadata/metadata.js":(__unused_webpack_module,exports)=>{}}]);