/*! For license information please see react-extension-components-Administration-DisplayContentTypesMetadataKeyAdministration-DisplayContentTypesMetadataKeyAdministration-test-stories.e92a4c8f.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[1155],{"./src/react-extension/components/Administration/DisplayContentTypesMetadataKeyAdministration/DisplayContentTypesMetadataKeyAdministration.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GeneratedMetadataKey:()=>GeneratedMetadataKey,Initial:()=>Initial,MultipleActiveKeys:()=>MultipleActiveKeys,MultipleKeys:()=>MultipleKeys,SingleActiveMetadataKey:()=>SingleActiveMetadataKey,WithValidationError:()=>WithValidationError,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayContentTypesMetadataKeyAdministration_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),DisplayContentTypesMetadataKeyAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayContentTypesMetadataKeyAdministration/DisplayContentTypesMetadataKeyAdministration.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),DialogContext_test_data=__webpack_require__("./src/react-extension/contexts/DialogContext.test.data.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),metadataKeysSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js");var metadataKeysCollection=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysCollection.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");function mutatePgpBlockFromOptions(block,options={withCrc:!0,withComments:!1,withWrongExtraCharacters:!1,withDuplicates:!1}){return options.withComments&&(block=block.replace("\n\n","\nVersion: PGP 1.0\nComments: This is a test\n\n")),options.withWrongExtraCharacters&&(block=block.replace(/\n\n(.{64})\n/,"\n\n$1Wrong Stuff Here\n")),options.withCrc||(block=block.replace(/\n=[a-zA-Z0-9/+=]{4}\n-----/,"\n-----")),options.withDuplicates&&(block=`${block}\n\n${block}\n\n${block}`),block}const defaultArmoredPublicKey=options=>mutatePgpBlockFromOptions("-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n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\n=KFUt\n-----END PGP PUBLIC KEY BLOCK-----",options);var keys=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:keys.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,v4.A)(),user_id:(0,v4.A)(),metadata_key_id:(0,v4.A)(),modified:"2022-10-11T08:09:00+00:00",created_by:(0,v4.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,v4.A)(),...data}),defaultMetadataKeyDto=(data={},options={})=>((data={},options={})=>{const defaultData={fingerprint:Array.from({length:40},(()=>Math.floor(16*Math.random()).toString(16).toUpperCase())).join(""),armored_key:defaultArmoredPublicKey(),...data};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[defaultMetadataPrivateKeyDto({metadata_key_id:defaultData.id})]),defaultData})({id:data.id||(0,v4.A)(),modified:"2022-10-11T08:09:00+00:00",created_by:(0,v4.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,v4.A)(),deleted:null,expired:null,...data},options);var externalGpgKeyCollection=__webpack_require__("./src/shared/models/entity/gpgkey/externalGpgKeyCollection.js");const ed25519ExternalPublicGpgKeyEntityDto=(data={})=>{const defaultData={armored_key:keys.u.eddsa_ed25519.public,key_id:keys.u.eddsa_ed25519.key_id,user_ids:keys.u.eddsa_ed25519.user_ids,fingerprint:keys.u.eddsa_ed25519.fingerprint,expires:"Infinity",created:keys.u.eddsa_ed25519.created,algorithm:keys.u.eddsa_ed25519.algorithm?.toLowerCase(),length:keys.u.eddsa_ed25519.length,curve:keys.u.eddsa_ed25519.curve,private:!1,revoked:keys.u.eddsa_ed25519.revoked};return Object.assign(defaultData,data)},ed25519ExternalPrivateGpgKeyEntityDto=(data={})=>{const defaultData={armored_key:keys.u.eddsa_ed25519.private,key_id:keys.u.eddsa_ed25519.key_id,user_ids:keys.u.eddsa_ed25519.user_ids,fingerprint:keys.u.eddsa_ed25519.fingerprint,expires:"Infinity",created:keys.u.eddsa_ed25519.created,algorithm:keys.u.eddsa_ed25519.algorithm?.toLowerCase(),length:keys.u.eddsa_ed25519.length,curve:keys.u.eddsa_ed25519.curve,private:!0,revoked:keys.u.eddsa_ed25519.revoked};return Object.assign(defaultData,data)};var externalGpgKeyPairEntity=__webpack_require__("./src/shared/models/entity/gpgkey/external/externalGpgKeyPairEntity.js"),metadataKeyEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataKeyEntity.js"),ActionFeedbackContext_test_data=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.test.data.js");const metadataKeysInfoDto=[((data={})=>{const defaultData={armored_key:keys.u.ada.private,key_id:keys.u.ada.key_id,user_ids:keys.u.ada.user_ids,fingerprint:keys.u.ada.fingerprint,expires:keys.u.ada.expires,created:keys.u.ada.created,algorithm:keys.u.ada.algorithm.toLowerCase(),length:keys.u.ada.length,curve:keys.u.ada.curve,private:!0,revoked:keys.u.ada.revoked};return Object.assign(defaultData,data)})(),((data={})=>{const defaultData={armored_key:keys.u.betty.public,key_id:keys.u.betty.key_id,user_ids:keys.u.betty.user_ids,fingerprint:keys.u.betty.fingerprint,expires:keys.u.betty.expires,created:keys.u.betty.created,algorithm:keys.u.betty.algorithm?.toLowerCase(),length:keys.u.betty.length,curve:keys.u.betty.curve,private:!1,revoked:keys.u.betty.revoked};return Object.assign(defaultData,data)})(),((data={})=>{const defaultData={armored_key:keys.u.carol.public,key_id:keys.u.carol.key_id,user_ids:keys.u.carol.user_ids,fingerprint:keys.u.carol.fingerprint,expires:"Infinity",created:keys.u.carol.created,algorithm:keys.u.carol.algorithm?.toLowerCase(),length:keys.u.carol.length,curve:keys.u.carol.curve,private:!1,revoked:keys.u.carol.revoked};return Object.assign(defaultData,data)})(),ed25519ExternalPublicGpgKeyEntityDto()];function defaultProps(props={}){const metadataKeysInfo=new externalGpgKeyCollection.A(metadataKeysInfoDto);return{context:(0,ExtAppContext_test_data.dO)(),dialogContext:(0,DialogContext_test_data.L)(),actionFeedbackContext:(0,ActionFeedbackContext_test_data.M)(),metadataSettingsServiceWorkerService:{findKeysSettings:()=>new metadataKeysSettingsEntity.A(((data={})=>Object.assign({allow_usage_of_personal_keys:!0,zero_knowledge_key_share:!1},data))()),saveKeysSettings:settings=>settings},metadataKeysServiceWorkerService:{findAll:()=>new metadataKeysCollection.A([]),generateKeyPair:()=>new externalGpgKeyPairEntity.A({public_key:ed25519ExternalPublicGpgKeyEntityDto(),private_key:ed25519ExternalPrivateGpgKeyEntityDto()}),createKey:()=>new metadataKeyEntity.A(defaultMetadataKeyDto({fingerprint:keys.u.eddsa_ed25519.fingerprint,armored_key:keys.u.eddsa_ed25519.public}))},gpgServiceWorkerService:{keyInfo:armoredKey=>metadataKeysInfo.getFirst("armored_key",armoredKey),keysInfo:()=>metadataKeysInfo},createPortal:jest.fn(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),t:text=>text,...props}}var dom_esm=__webpack_require__("./node_modules/@testing-library/dom/dist/@testing-library/dom.esm.js");const DisplayContentTypesMetadataKeyAdministration_test_stories={title:"Components/Administration/DisplayContentTypesMetadataKeyAdministration",component:DisplayContentTypesMetadataKeyAdministration.A},Template=args=>react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"grid grid-responsive-12"},react.createElement(DisplayContentTypesMetadataKeyAdministration.A,args)));Template.propTypes={context:prop_types_default().object};const Initial=Template.bind({});Initial.args=defaultProps();const WithValidationError=Template.bind({});WithValidationError.args=defaultProps(),WithValidationError.play=async({canvasElement})=>{(0,dom_esm.ux)(canvasElement).getByTestId("submit-form").requestSubmit()};const GeneratedMetadataKey=Template.bind({});GeneratedMetadataKey.args=defaultProps(),GeneratedMetadataKey.play=async({canvasElement})=>{(0,dom_esm.ux)(canvasElement).getByTestId("generate-key-buton").click()};const SingleActiveMetadataKey=Template.bind({});SingleActiveMetadataKey.args=function defaultSettingsAndSingleActiveKeyProps(props={}){const metadataKeysDto=[defaultMetadataKeyDto({armored_key:keys.u.ada.public,fingerprint:keys.u.ada.fingerprint})];return defaultProps({metadataKeysServiceWorkerService:{findAll:()=>new metadataKeysCollection.A(metadataKeysDto)},...props})}();const MultipleActiveKeys=Template.bind({});MultipleActiveKeys.args=function defaultSettingsAndMultipleActiveKeysProps(props={}){const metadataKeysDto=[defaultMetadataKeyDto({armored_key:keys.u.ada.public,fingerprint:keys.u.ada.fingerprint}),defaultMetadataKeyDto({armored_key:keys.u.betty.public,fingerprint:keys.u.betty.fingerprint})];return defaultProps({metadataKeysServiceWorkerService:{findAll:()=>new metadataKeysCollection.A(metadataKeysDto)},...props})}();const MultipleKeys=Template.bind({});MultipleKeys.args=function defaultSettingsAndMultipleKeysProps(props={}){const metadataKeysDto=[defaultMetadataKeyDto({armored_key:keys.u.ada.public,fingerprint:keys.u.ada.fingerprint}),defaultMetadataKeyDto({armored_key:keys.u.betty.public,fingerprint:keys.u.betty.fingerprint}),defaultMetadataKeyDto({armored_key:keys.u.carol.public,fingerprint:keys.u.carol.fingerprint,expired:"2022-03-04T13:59:11+00:00"}),defaultMetadataKeyDto({armored_key:keys.u.eddsa_ed25519.public,fingerprint:keys.u.eddsa_ed25519.fingerprint,expired:"2023-10-04T15:11:45+00:00"})];return defaultProps({metadataKeysServiceWorkerService:{findAll:()=>new metadataKeysCollection.A(metadataKeysDto)},...props})}();const __namedExportsOrder=["Initial","WithValidationError","GeneratedMetadataKey","SingleActiveMetadataKey","MultipleActiveKeys","MultipleKeys"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...Initial.parameters?.docs?.source}}},WithValidationError.parameters={...WithValidationError.parameters,docs:{...WithValidationError.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...WithValidationError.parameters?.docs?.source}}},GeneratedMetadataKey.parameters={...GeneratedMetadataKey.parameters,docs:{...GeneratedMetadataKey.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...GeneratedMetadataKey.parameters?.docs?.source}}},SingleActiveMetadataKey.parameters={...SingleActiveMetadataKey.parameters,docs:{...SingleActiveMetadataKey.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...SingleActiveMetadataKey.parameters?.docs?.source}}},MultipleActiveKeys.parameters={...MultipleActiveKeys.parameters,docs:{...MultipleActiveKeys.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...MultipleActiveKeys.parameters?.docs?.source}}},MultipleKeys.parameters={...MultipleKeys.parameters,docs:{...MultipleKeys.parameters?.docs,source:{originalSource:'args => <div className="panel middle">\n    <div className="grid grid-responsive-12">\n      <DisplayContentTypesMetadataKeyAdministration {...args} />\n    </div>\n  </div>',...MultipleKeys.parameters?.docs?.source}}}},"./src/react-extension/contexts/ActionFeedbackContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>ActionFeedbackContextProvider,ot:()=>withActionFeedback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const ActionFeedbackContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({feedbacks:[],displaySuccess:()=>{},displayError:()=>{},remove:()=>{}});class ActionFeedbackContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{feedbacks:[],displaySuccess:this.displaySuccess.bind(this),displayError:this.displayError.bind(this),remove:this.remove.bind(this)}}async displaySuccess(feedbackToAdd){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),type:"success",message:feedbackToAdd}]})}async displayError(feedbackToAdd){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),type:"error",message:feedbackToAdd}]})}async remove(feedbackToRemove){await this.setState({feedbacks:this.state.feedbacks.filter((feedback=>feedbackToRemove.id!==feedback.id))})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Provider,{value:this.state},this.props.children)}}function withActionFeedback(WrappedComponent){return class WithActionFeedback extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Consumer,null,(actionFeedbackContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{actionFeedbackContext,...this.props})))}}}ActionFeedbackContextProvider.displayName="ActionFeedbackContextProvider",ActionFeedbackContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},ActionFeedbackContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"displaySuccess",docblock:"Display the feedback in a success mode\n@param feedbackToAdd A feedback",modifiers:["async"],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a success mode"},{name:"displayError",docblock:"Display the feedback in a error mode\n@param feedbackToAdd A feedback",modifiers:["async"],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a error mode"},{name:"remove",docblock:"Remove the feedback\n@param feedbackToRemove A feedback",modifiers:["async"],params:[{name:"feedbackToRemove",description:"A feedback",optional:!1}],returns:null,description:"Remove the feedback"}],displayName:"ActionFeedbackContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ActionFeedbackContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function defaultActionFeedbackContext(data={}){const defaultContext={displaySuccess:jest.fn(),displayError:jest.fn(),remove:jest.fn()};return Object.assign(defaultContext,data)}__webpack_require__.d(__webpack_exports__,{M:()=>defaultActionFeedbackContext})},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/DialogContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function defaultDialogContext(context={}){const defaultContext={dialogs:[],open:jest.fn(),close:jest.fn(),closeAll:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{L:()=>defaultDialogContext})},"./src/shared/models/entity/abstract/entity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class Entity{constructor(dto,options={}){(options?.clone??!0)&&(dto=JSON.parse(JSON.stringify(dto))),this._props=dto}toDto(){return JSON.parse(JSON.stringify(this))}toJSON(){return this._props}_hasProp(propName){if(!propName.includes(".")){const normalizedPropName=Entity._normalizePropName(propName);return Object.prototype.hasOwnProperty.call(this._props,normalizedPropName)}try{return this._getPropByPath(propName),!0}catch(error){return!1}}_getPropByPath(path){return Entity._normalizePropName(path).split(".").reduce(((obj,i)=>{if(Object.prototype.hasOwnProperty.call(obj,i))return obj[i];throw new Error}),this._props)}static _normalizePropName(name){return name.replace(/([A-Z])/g,((x,y)=>`_${y.toLowerCase()}`)).replace(/\._/,".").replace(/^_/,"").replace(/^\./,"")}}const __WEBPACK_DEFAULT_EXPORT__=Entity},"./src/shared/models/entity/abstract/entityV2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entitySchema__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),_entity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/abstract/entity.js"),validator_es_lib_util_assertString__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/validator/es/lib/util/assertString.js"),_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");const SCALAR_PROPERTY_TYPES=["string","number","integer","boolean"];class EntityV2 extends _entity__WEBPACK_IMPORTED_MODULE_2__.A{static _cachedSchema={};constructor(dtos={},options={}){const validate=options?.validate??!0;if(super(dtos,options),this.marshall(),validate){const error=this.validate({schema:options?.schema,validateBuildRules:options?.validateBuildRules});if(error)throw error}}marshall(){}validate(options={}){try{this.validateSchema(options?.schema),this.validateBuildRules(options?.validateBuildRules)}catch(error){if(!(error instanceof _entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A))throw error;return error}return null}validateSchema(schema=null){this._props=_entitySchema__WEBPACK_IMPORTED_MODULE_0__.A.validate(this.constructor.name,this._props,schema??this.cachedSchema)}get cachedSchema(){return this.constructor._cachedSchema[this.constructor.name]||(this.constructor._cachedSchema[this.constructor.name]=this.constructor.getSchema()),this.constructor._cachedSchema[this.constructor.name]}static getSchema(){throw new Error("The entity class should declare its schema.")}validateBuildRules(options={}){}get(propName){(0,validator_es_lib_util_assertString__WEBPACK_IMPORTED_MODULE_3__.A)(propName);const schemaProperties=this.constructor.getSchema().properties[propName];if(!schemaProperties)throw new Error(`The property "${propName}" has no schema definition.`);if(!SCALAR_PROPERTY_TYPES.includes(schemaProperties?.type))throw new Error('The property "associated_entity" should reference scalar properties only.');return this._props[propName]}set(propName,value,options={}){(0,validator_es_lib_util_assertString__WEBPACK_IMPORTED_MODULE_3__.A)(propName);const validate=options?.validate??!0,schemaProperties=this.constructor.getSchema().properties[propName];if(!schemaProperties)throw new Error(`The property "${propName}" has no schema definition.`);if(!SCALAR_PROPERTY_TYPES.includes(schemaProperties?.type))throw new Error('The property "associated_entity" should reference scalar properties only.');validate&&_entitySchema__WEBPACK_IMPORTED_MODULE_0__.A.validateProp(propName,value,schemaProperties),this._props[propName]=value}diffProps(compareEntity){if(!(compareEntity instanceof EntityV2))throw new TypeError('The property "compareEntity" should be of "EntityV2" type.');const diff={},schema=this.constructor.getSchema(),propertiesNamesToCompare=Object.keys(schema.properties).filter((propertyName=>SCALAR_PROPERTY_TYPES.includes(schema.properties[propertyName].type)));for(const propertyName of propertiesNamesToCompare){const propValue=this.get(propertyName),comparedPropValue=compareEntity.get(propertyName);propValue!==comparedPropValue&&(diff[propertyName]=comparedPropValue)}return diff}hasDiffProps(compareEntity){const diff=this.diffProps(compareEntity);return Object.keys(diff).length>0}}const __WEBPACK_DEFAULT_EXPORT__=EntityV2},"./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Av:()=>TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP,Bt:()=>TEST_RESOURCE_TYPE_PASSWORD_STRING,G6:()=>resourceTypePasswordDescriptionTotpDto,G9:()=>resourceTypeV5DefaultDto,J6:()=>TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP,KD:()=>resourceTypePasswordAndDescriptionDto,Lt:()=>resourceTypeTotpDto,Tl:()=>resourceTypeV5PasswordStringDto,Vv:()=>TEST_RESOURCE_TYPE_V5_DEFAULT,m$:()=>resourceTypePasswordStringDto,mF:()=>resourceTypeV5TotpDto,s_:()=>TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION,tS:()=>resourceTypeV5DefaultTotpDto,vD:()=>TEST_RESOURCE_TYPE_TOTP});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const TEST_RESOURCE_TYPE_PASSWORD_STRING=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_DEFAULT=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_PASSWORD_STRING=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),resourceTypePasswordStringDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_STRING,name:"Simple password",slug:"password-string",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"string",maxLength:4096}},...data}),resourceTypePasswordAndDescriptionDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION,name:"Password with description",slug:"password-and-description",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}},...data}),resourceTypePasswordDescriptionTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP,name:"Password, Description and TOTP",slug:"password-description-totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0},totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_TOTP,name:"Standalone TOTP",slug:"totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["totp"],properties:{totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeV5DefaultDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_DEFAULT,name:"V5 Default",slug:"v5-default",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}},...data}),resourceTypeV5PasswordStringDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_PASSWORD_STRING,name:"V5 Password",slug:"v5-password-string",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"string",maxLength:4096}},...data}),resourceTypeV5DefaultTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP,name:"V5 Default with TOTP",slug:"v5-default-with-totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0},totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeV5TotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_TOTP,name:"V5 Standalone TOTP",slug:"v5-totp-standalone",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["totp"],properties:{totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data})},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)()]},"./src/shared/models/entity/role/roleEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class RoleEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",enum:[RoleEntity.ROLE_ADMIN,RoleEntity.ROLE_USER,RoleEntity.ROLE_GUEST,RoleEntity.ROLE_ROOT]},description:{type:"string",maxLength:255},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get name(){return this._props.name}get description(){return this._props.description||null}get created(){return this._props.created||null}get modified(){return this._props.modified||null}isAdmin(){return this.name===RoleEntity.ROLE_ADMIN}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_ROOT(){return"root"}}const __WEBPACK_DEFAULT_EXPORT__=RoleEntity},"./src/shared/utils/dateUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B7:()=>formatDateForApi,Br:()=>formatExpirationDateTimeAgo,kD:()=>formatDateTimeAgo});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js");const formatDateTimeAgo=(date,translate,locale)=>{if(null===date)return"n/a";if("Infinity"===date)return translate("Never");const dateTime=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.fromISO(date),duration=dateTime.diffNow().toMillis();return duration>-1e3&&duration<0?translate("Just now"):dateTime.toRelative({locale})},formatExpirationDateTimeAgo=(date,translate,locale)=>date?formatDateTimeAgo(date,translate,locale):translate("Never"),formatDateForApi=date=>date?.toUTC().toISO()||null},"?4f7e":()=>{}}]);