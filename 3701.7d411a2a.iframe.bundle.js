/*! For license information please see 3701.7d411a2a.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[3701],{"./src/img/svg/cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#cog_svg__clip0_93_844425)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 15.51a6.51 6.51 0 1 0 0-13.019 6.51 6.51 0 0 0 0 13.019"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 10.627a1.628 1.628 0 1 0 0-3.255 1.628 1.628 0 0 0 0 3.255M9.83.862V2.49M9.83 17.137V15.51M13.899 16.046l-.814-1.407M9.016 7.592 5.76 1.953M16.876 13.069l-1.407-.814M2.783 4.932l1.408.813M11.457 9h6.51M1.693 9H3.32M16.876 4.932l-1.407.813M2.783 13.069l1.408-.814M13.899 1.953l-.814 1.408M9.016 10.407l-3.255 5.64"}))))}},"./src/img/svg/heart.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHeart(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#heart_svg__clip0_93_734678)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.497 9.333c.993-.973 2-2.14 2-3.666A3.667 3.667 0 0 0 11.83 2c-1.173 0-2 .333-3 1.333-1-1-1.827-1.333-3-1.333a3.667 3.667 0 0 0-3.667 3.667c0 1.533 1 2.7 2 3.666L8.83 14z"}))))}},"./src/img/svg/help.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHelp(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#help_svg__clip0_93_844469)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M6.818 6.75a2.25 2.25 0 0 1 4.372.75c0 1.5-2.25 2.25-2.25 2.25M9 12.75h.008"}))))}},"./src/img/svg/logout.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLogout(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.75 15.75h-3a1.5 1.5 0 0 1-1.5-1.5V3.75a1.5 1.5 0 0 1 1.5-1.5h3M12 12.75 15.75 9 12 5.25M15.75 9h-9"})))}},"./src/img/svg/profile.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,_path3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgProfile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.75 13.5a1.5 1.5 0 0 0-1.5-1.5h-4.5a1.5 1.5 0 0 0-1.5 1.5"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.25 3H3.75a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V4.5a1.5 1.5 0 0 0-1.5-1.5"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M6 1.5V3M12 1.5V3"})))}},"./src/img/svg/settings.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSettings(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M24.5 4.667h-8.167M11.667 4.667H3.5M24.5 14H14M9.333 14H3.5M24.5 23.333h-5.833M14 23.333H3.5M16.333 2.333V7M9.333 11.667v4.667M18.667 21v4.667"})))}},"./src/img/svg/users.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUsers(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none",viewBox:"0 0 18 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.741 14.338V12.89a2.77 2.77 0 0 0-.826-2.04 2.82 2.82 0 0 0-2.04-.825H4.248a2.825 2.825 0 0 0-2.723 2.865v1.448M7.143 7.26a2.815 2.815 0 1 0-2.815-2.814 2.825 2.825 0 0 0 2.815 2.815M16.994 14.338V12.89a2.85 2.85 0 0 0-.592-1.724 2.8 2.8 0 0 0-1.52-1.02M12.068 1.724a2.74 2.74 0 0 1 1.52 1.02 2.804 2.804 0 0 1 0 3.446 2.74 2.74 0 0 1-1.52 1.02"})))}},"./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageDialogs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){const dialog=this.props.dialogContext.dialogs.find((({key})=>key===index));dialog?.DialogProps?.onClose&&dialog.DialogProps.onClose(),this.props.dialogContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.dialogContext.dialogs.map((({key,Dialog,DialogProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Dialog,{key,...DialogProps,onClose:()=>this.close(key)}))),this.props.children)}}ManageDialogs.propTypes={dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__.z9)(ManageDialogs);ManageDialogs.__docgenInfo={description:"This component acts as an anchor for the different project dialogs.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th dialog",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th dialog"}],displayName:"ManageDialogs",props:{dialogContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Footer/Footer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/heart.svg"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js");class Footer extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://www.passbolt.com/docs/hosting/faq/why-I-see-unsafe-mode-banner/"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const versions=[],serverVersion=this.props.context.siteSettings.version;return serverVersion&&versions.push(`${this.props.t("Server")} ${serverVersion}`),this.props.context.extensionVersion&&versions.push(`${this.props.t("Client")} ${this.props.context.extensionVersion}`),versions.join(" / ")}get isUnsafeMode(){if(!this.props.context.siteSettings)return!1;const debug=this.props.context.siteSettings.debug,isHttpMode=this.props.context.siteSettings.url.startsWith("http://");return debug||isHttpMode}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("footer",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Unsafe mode"))),this.termsUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Terms"))),this.privacyUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Privacy"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Credits"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{message:this.versions,direction:"left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))),!this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null)))))}}Footer.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(Footer));Footer.__docgenInfo={description:"The application footer",methods:[{name:"privacyUrl",docblock:"Returns the terms link url",modifiers:["get"],params:[],returns:null,description:"Returns the terms link url"},{name:"creditsUrl",docblock:"Returns the credits link url",modifiers:["get"],params:[],returns:null,description:"Returns the credits link url"},{name:"unsafeUrl",docblock:"Returns the unsafe url.",modifiers:["get"],params:[],returns:null,description:"Returns the unsafe url."},{name:"termsUrl",docblock:"Returns the privacy link url",modifiers:["get"],params:[],returns:null,description:"Returns the privacy link url"},{name:"versions",docblock:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION",modifiers:["get"],params:[],returns:null,description:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION"},{name:"isUnsafeMode",docblock:"Returns true if the application is in an unsafe mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the application is in an unsafe mode"}],displayName:"Footer",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,K:()=>WORKSPACE_ENUM});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/settings.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/users.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/cog.svg"),_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/help.svg");const WORKSPACE_ENUM={RESOURCE:"RESOURCE",ORGANISATION_SETTINGS:"ORGANISATION_SETTINGS",USER_AND_GROUPS:"USER_AND_GROUPS",USER_PROFILE:"USER_PROFILE"};class WorkspaceSwitcher extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){return this.props.isUserAdmin||this.props.isUserWorkspaceVisible?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"workspace-switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__.A,{className:"button-transparent switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"cog"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__.A,{direction:"left",className:"menu-switcher"},this.props.isUserAdmin&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.ORGANISATION_SETTINGS?"active":""),onClick:this.props.navigationContext.onGoToAdministrationRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Organisation Settings")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.USER_AND_GROUPS?"active":""),onClick:this.props.navigationContext.onGoToUsersRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Manage Users & Groups")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.props.navigationContext.onGoToHelpRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Help"))))))):null}}WorkspaceSwitcher.propTypes={isUserAdmin:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,isUserWorkspaceVisible:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,currentWorkspace:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_8__.qN)(WorkspaceSwitcher);WorkspaceSwitcher.__docgenInfo={description:"",methods:[],displayName:"WorkspaceSwitcher",props:{isUserAdmin:{description:"",type:{name:"bool"},required:!1},isUserWorkspaceVisible:{description:"",type:{name:"bool"},required:!1},currentWorkspace:{description:"",type:{name:"string"},required:!1},navigationContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/profile.svg"),_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/logout.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/close.svg"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/attention.svg"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayUserBadgeMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}getDefaultState(){return{open:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleToggleMenuClick=this.handleToggleMenuClick.bind(this),this.handleProfileClick=this.handleProfileClick.bind(this),this.handleSignOutClick=this.handleSignOutClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),this.props.context.siteSettings.canIUse("mfaPolicies")&&this.props.mfaContext.checkMfaChoiceRequired()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.userBadgeMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleDocumentClickEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentContextualMenuEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentDragStartEvent(){this.closeUserBadgeMenu()}closeUserBadgeMenu(){this.setState({open:!1})}getUserFullName(){return this.props.user&&this.props.user.profile?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:"..."}getUserUsername(){return this.props.user&&this.props.user.username?`${this.props.user.username}`:"..."}handleToggleMenuClick(e){e.preventDefault();const open=!this.state.open;this.setState({open})}handleProfileClick(){this.props.navigationContext.onGoToUserSettingsProfileRequested(),this.closeUserBadgeMenu()}async handleSignOutClick(){try{await this.props.context.onLogoutRequested()}catch(error){this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_13__.A,{error})}finally{this.closeUserBadgeMenu()}}get attentionRequired(){return this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()||this.props.mfaContext.isMfaChoiceRequired()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"profile-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"user profile dropdown",ref:this.userBadgeMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"avatar-with-name button avatar-button "+(this.state.open?"open":""),onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{user:this.props.user,baseUrl:this.props.baseUrl,attentionRequired:this.attentionRequired})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown-content left visible"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button button-transparent user-profile-close",role:"button",onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"svg-icon close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},"Close")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{user:this.props.user,baseUrl:this.props.baseUrl}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"informations"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},this.getUserFullName()),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"email"},this.getUserUsername())),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"manage-account"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary",onClick:this.handleProfileClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_8__.A,null)," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Manage account"),this.attentionRequired&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"attention-required"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border sign-out",onClick:this.handleSignOutClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_9__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Sign out")))))}}DisplayUserBadgeMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,baseUrl:prop_types__WEBPACK_IMPORTED_MODULE_14___default().string,user:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__.x6)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__.qN)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_12__.z9)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_3__.Le)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_6__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserBadgeMenu)))))));DisplayUserBadgeMenu.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"closeUserBadgeMenu",docblock:"Close the user badge menu",modifiers:[],params:[],returns:null,description:"Close the user badge menu"},{name:"getUserFullName",docblock:"Get the user full name\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user full name"},{name:"getUserUsername",docblock:"Get the user username\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user username"},{name:"handleToggleMenuClick",docblock:"Handle click on menu (toggle open state)\n@param {Event} e\n@return {void}",modifiers:[],params:[{name:"e",type:{name:"Event"},optional:!1}],returns:{type:{name:"void"}},description:"Handle click on menu (toggle open state)"},{name:"handleProfileClick",docblock:"Whenever the user wants to navigate to the users settings workspace profile section.",modifiers:[],params:[],returns:null,description:"Whenever the user wants to navigate to the users settings workspace profile section."},{name:"handleSignOutClick",docblock:"Handles the click on Sign out button\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handles the click on Sign out button"},{name:"attentionRequired",docblock:"Returns true if the account recovery needs to be configured.\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the account recovery needs to be configured."}],displayName:"DisplayUserBadgeMenu",props:{context:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},baseUrl:{description:"",type:{name:"string"},required:!1},user:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/ExtAppContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_shared_models_entity_rbac_rbacsCollection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.js"),_shared_models_entity_account_accountEntity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/models/entity/account/accountEntity.js");class ExtAppContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(props),this.bindCallbacks(),this.initEventHandlers(),this.hierarchyFolderCache={}}async componentDidMount(){await this.getSiteSettings(),await this.getExtensionVersion(),this.getUserSettings(),this.getLoggedInUser(),this.initLocale(),this.getResources(),this.getFolders(),this.getGroups(),this.getUsers(),this.getRoles(),this.getAccount();const skeleton=document.getElementById("temporary-skeleton");skeleton&&skeleton.remove()}bindCallbacks(){this.handleStorageChange=this.handleStorageChange.bind(this),this.handleIsReadyEvent=this.handleIsReadyEvent.bind(this)}initEventHandlers(){this.props.storage.onChanged.addListener(this.handleStorageChange)}getDefaultState(props){return{name:"browser-extension",port:props.port,storage:props.storage,user:null,resources:null,folders:null,foldersMapById:[],users:null,groups:null,loggedInUser:null,account:null,rbacs:null,siteSettings:null,userSettings:null,extensionVersion:null,locale:null,isSessionLogoutByUser:!1,setContext:context=>{this.setState(context)},passphraseRequestId:"",folder:{},folderMoveStrategyProps:{requestId:null,folderId:null,foldersIds:[],resourcesIds:[]},shareDialogProps:{foldersIds:null,resourcesIds:null},editUserDialogProps:{id:null},deleteUserDialogProps:{user:null},deleteUserWithConflictsDialogProps:{user:null,errors:{}},tagToEdit:null,tagToDelete:null,deleteGroupDialogProps:{group:null,numberResourcesOwned:null},deleteGroupWithConflictsDialogProps:{group:null,errors:{}},resourceCommentId:null,mustRefreshComments:!1,onLogoutRequested:()=>this.onLogoutRequested(),onExpiredSession:this.onExpiredSession.bind(this),onGetSubscriptionKeyRequested:()=>this.onGetSubscriptionKeyRequested(),onUpdateLocaleRequested:this.onUpdateLocaleRequested.bind(this),getHierarchyFolderCache:this.getHierarchyFolderCache.bind(this)}}handleIsReadyEvent(requestId){this.isReady()?this.props.port.emit(requestId,"SUCCESS"):this.props.port.emit(requestId,"ERROR")}isReady(){return null!==this.state.loggedInUser&&null!==this.state.rbacs&&null!==this.state.userSettings&&null!==this.state.siteSettings&&null!==this.state.locale}async getLoggedInUser(){const canIUseRbac=this.state.siteSettings.canIUse("rbacs"),loggedInUser=await this.props.port.request("passbolt.users.find-logged-in-user"),rbacsDto=canIUseRbac?await this.props.port.request("passbolt.rbacs.find-me"):[],rbacs=new _shared_models_entity_rbac_rbacsCollection__WEBPACK_IMPORTED_MODULE_3__.A(rbacsDto);this.setState({loggedInUser,rbacs})}async getSiteSettings(){const settings=await this.props.port.request("passbolt.organization-settings.get"),siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_2__.A(settings);this.setState({siteSettings})}async getExtensionVersion(){const extensionVersion=await this.props.port.request("passbolt.addon.get-version");this.setState({extensionVersion})}async getResources(){const storageData=await this.props.storage.local.get(["resources"]);if(storageData.resources){const resources=storageData.resources;this.setState({resources})}}async getFolders(){const storageData=await this.props.storage.local.get(["folders"]);if(storageData.folders){const folders=storageData.folders,foldersMapById=folders.reduce(((result,folder)=>(result[folder.id]=folder,result)),{});this.hierarchyFolderCache={},this.setState({folders,foldersMapById})}}async getGroups(){const storageData=await this.props.storage.local.get(["groups"]);if(storageData.groups){const groups=storageData.groups;this.setState({groups})}}async getUsers(){const storageData=await this.props.storage.local.get(["users"]);if(storageData.users&&storageData.users.length){const users=storageData.users;this.setState({users})}}async getRoles(){const roles=await this.props.port.request("passbolt.role.get-all");this.setState({roles})}async getUserSettings(){const storageData=await this.props.storage.local.get(["_passbolt_data"]),userSettings=new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_5__.A(storageData._passbolt_data.config);this.setState({userSettings})}async initLocale(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}async getAccount(){const accountDto=await this.props.port.request("passbolt.account.get"),account=new _shared_models_entity_account_accountEntity__WEBPACK_IMPORTED_MODULE_4__.A(accountDto);this.setState({account})}getHierarchyFolderCache(id){return null===id?[]:(void 0===this.hierarchyFolderCache[id]&&(this.hierarchyFolderCache[id]=this.getHierarchyFolder(id)),this.hierarchyFolderCache[id])}getHierarchyFolder(id){const hierarchy=[];let currentFolderId=id;for(;currentFolderId;){const folder=this.state.foldersMapById[currentFolderId];if(!folder)return hierarchy;hierarchy.unshift(folder),currentFolderId=folder.folder_parent_id}return hierarchy}handleStorageChange(changes){if(changes.resources&&changes.resources.newValue){const resources=changes.resources.newValue;this.setState({resources})}if(changes._passbolt_data&&changes._passbolt_data.newValue){const userData=changes._passbolt_data.newValue,userSettings=new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_5__.A(userData.config);this.setState({userSettings})}if(changes.folders&&changes.folders.newValue){const folders=changes.folders.newValue,foldersMapById=folders.reduce(((result,folder)=>(result[folder.id]=folder,result)),{});this.hierarchyFolderCache={},this.setState({folders,foldersMapById})}if(changes.users&&changes.users.newValue){const users=changes.users.newValue;this.setState({users})}if(changes.groups&&changes.groups.newValue){const groups=changes.groups.newValue;this.setState({groups})}if(changes.roles&&changes.roles.newValue){const roles=changes.roles.newValue;this.setState({roles})}}onLogoutRequested(){this.setState({isSessionLogoutByUser:!0},(()=>this.props.port.request("passbolt.auth.logout",!0)))}onExpiredSession(callback){this.props.port.on("passbolt.auth.after-logout",(()=>{this.state.isSessionLogoutByUser||(callback(),this.setState({resources:[]}))}))}async onGetSubscriptionKeyRequested(){return await this.props.port.request("passbolt.subscription.get")}async onUpdateLocaleRequested(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.A.Provider,{value:this.state},this.isReady()&&this.props.children)}}ExtAppContextProvider.propTypes={port:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,storage:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any};const __WEBPACK_DEFAULT_EXPORT__=ExtAppContextProvider;ExtAppContextProvider.__docgenInfo={description:"The ExtApp context provider",methods:[{name:"bindCallbacks",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"getDefaultState",docblock:null,modifiers:[],params:[{name:"props",optional:!1,type:null}],returns:null},{name:"handleIsReadyEvent",docblock:null,modifiers:[],params:[{name:"requestId",optional:!1,type:null}],returns:null},{name:"isReady",docblock:"Check if the application is ready to render with minimal data.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the application is ready to render with minimal data."},{name:"getLoggedInUser",docblock:"Get the current user info from background page and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the current user info from background page and set it in the state"},{name:"getSiteSettings",docblock:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings",modifiers:["async"],params:[],returns:null,description:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings"},{name:"getExtensionVersion",docblock:"Get extension version",modifiers:["async"],params:[],returns:null,description:"Get extension version"},{name:"getResources",docblock:"Get the list of resources from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of resources from local storage and set it in the state"},{name:"getFolders",docblock:"Get the list of folders from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of folders from local storage and set it in the state"},{name:"getGroups",docblock:"Returns the list of all groups",modifiers:["async"],params:[],returns:null,description:"Returns the list of all groups"},{name:"getUsers",docblock:"Get the list of users from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of users from local storage and set it in the state"},{name:"getRoles",docblock:"Get the list of roles from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of roles from local storage and set it in the state"},{name:"getUserSettings",docblock:"Get the list of user settings from local storage and set it in the state\nUsing UserSettings",modifiers:["async"],params:[],returns:null,description:"Get the list of user settings from local storage and set it in the state\nUsing UserSettings"},{name:"initLocale",docblock:"Init the locale",modifiers:["async"],params:[],returns:null,description:"Init the locale"},{name:"getAccount",docblock:"Get the account\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Get the account"},{name:"getHierarchyFolderCache",docblock:"Get the hierarchy of a folder by ID in cache\n@param {string} id The id of the folder\n@returns {array<object>} Array of folders",modifiers:[],params:[{name:"id",description:"The id of the folder",type:{name:"string"},optional:!1}],returns:{description:"Array of folders",type:{name:"array",elements:[{name:"object"}]}},description:"Get the hierarchy of a folder by ID in cache"},{name:"getHierarchyFolder",docblock:"Get the hierarchy of a folder by ID in cache\n@param {string} id The id of the folder\n@returns {*[]}",modifiers:[],params:[{name:"id",description:"The id of the folder",type:{name:"string"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"mixed"}]}},description:"Get the hierarchy of a folder by ID in cache"},{name:"handleStorageChange",docblock:"Handle the change in the storage\n@param changes",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handle the change in the storage"},{name:"onLogoutRequested",docblock:"Listen when the user wants to logout.",modifiers:[],params:[],returns:null,description:"Listen when the user wants to logout."},{name:"onExpiredSession",docblock:"Listen when the user session is expired.\n@param {function} callback The callback to execute",modifiers:[],params:[{name:"callback",description:"The callback to execute",type:{name:"function"},optional:!1}],returns:null,description:"Listen when the user session is expired."},{name:"onGetSubscriptionKeyRequested",docblock:"Whenever the subscription key is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the subscription key is requested"},{name:"onUpdateLocaleRequested",docblock:"Whenever the update of the locale is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the update of the locale is requested"}],displayName:"ExtAppContextProvider",props:{port:{description:"",type:{name:"object"},required:!1},storage:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/rbac/rbacEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>rbacEntity});var entity=__webpack_require__("./src/shared/models/entity/abstract/entity.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js");class ActionEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(ActionEntity.ENTITY_NAME,dto,ActionEntity.getSchema()),options)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"Action"}}const actionEntity=ActionEntity;class UiActionEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(UiActionEntity.ENTITY_NAME,dto,UiActionEntity.getSchema()),options)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"UiAction"}}const uiActionEntity=UiActionEntity;var controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js");class RbacEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(RbacEntity.ENTITY_NAME,dto,RbacEntity.getSchema()),options),this._props.action&&(this._action=new actionEntity(this._props.action,{clone:!1})),delete this._props.action,this._props.ui_action&&(this._ui_action=new uiActionEntity(this._props.ui_action,{clone:!1})),delete this._props.ui_action}static getSchema(){return{type:"object",required:["id","role_id","foreign_model","foreign_id","control_function"],properties:{id:{type:"string",format:"uuid"},role_id:{type:"string",format:"uuid"},foreign_model:{type:"string",enum:[RbacEntity.FOREIGN_MODEL_ACTION,RbacEntity.FOREIGN_MODEL_UI_ACTION]},foreign_id:{type:"string",format:"uuid"},control_function:{type:"string",enum:[controlFunctionEnumeration.HK.ALLOW,controlFunctionEnumeration.HK.DENY,controlFunctionEnumeration.HK.ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP]},action:actionEntity.getSchema(),ui_action:uiActionEntity.getSchema()}}}toDto(contain){const result=Object.assign({},this._props);return contain?(this._action&&contain.action&&(result.action=this._action.toDto()),this._ui_action&&contain.ui_action&&(result.ui_action=this._ui_action.toDto()),result):result}toUpdateDto(){return{id:this.id,control_function:this.controlFunction}}toJSON(){return this.toDto(RbacEntity.ALL_CONTAIN_OPTIONS)}get id(){return this._props.id}get roleId(){return this._props.role_id}get foreignModel(){return this._props.foreign_model}get foreignId(){return this._props.foreign_id}get controlFunction(){return this._props.control_function}set controlFunction(controlFunction){entitySchema.A.validateProp("control_function",controlFunction,RbacEntity.getSchema().properties.control_function),this._props.control_function=controlFunction}get action(){return this._action||null}get uiAction(){return this._ui_action||null}static get ENTITY_NAME(){return"Rbac"}static get ALL_CONTAIN_OPTIONS(){return{action:!0,ui_action:!0}}static get FOREIGN_MODEL_ACTION(){return"Action"}static get FOREIGN_MODEL_UI_ACTION(){return"UiAction"}}const rbacEntity=RbacEntity},"./src/shared/models/entity/rbac/rbacsCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _rbacEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/rbac/rbacEntity.js"),_abstract_entityCollection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityCollection.js"),_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),_role_roleEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class RbacsCollection extends _abstract_entityCollection__WEBPACK_IMPORTED_MODULE_1__.A{constructor(collectionDto,excludeInvalid=!1){super(_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_2__.A.validate(RbacsCollection.ENTITY_NAME,collectionDto,RbacsCollection.getSchema())),this._props.forEach((dto=>{try{this._items.push(new _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A(dto))}catch(e){if(!excludeInvalid)throw e}})),this._props=null}static getSchema(){return{type:"array",items:_rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A.getSchema()}}get rbacs(){return this._items}toBulkUpdateDto(){return this.items.map((rbac=>rbac.toUpdateDto()))}findRbacByRoleAndUiActionName(role,name){if(!(role instanceof _role_roleEntity__WEBPACK_IMPORTED_MODULE_3__.A))throw new Error("The role parameter should be a role entity.");if("string"!=typeof name&&!(name instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((rbac=>rbac.roleId===role.id&&rbac.uiAction?.name===name))}findRbacByActionName(name){if("string"!=typeof name&&!(name instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((rbac=>rbac.uiAction?.name===name))}push(dto){if(!dto||"object"!=typeof dto)throw new TypeError("The function expect an object as parameter");dto instanceof _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A&&(dto=dto.toDto(_rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A.ALL_CONTAIN_OPTIONS));const entity=new _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A(dto);super.push(entity)}addOrReplace(rbac){const index=this.items.findIndex((existingRbac=>existingRbac.id===rbac.id));index>-1?this._items[index]=rbac:this.push(rbac)}remove(rbac){const length=this.items.length;let i=0;for(;i<length;i++){if(this.items[i].id===rbac.id)return void this._items.splice(i,1)}}static get ENTITY_NAME(){return"Rbacs"}static get RULE_UNIQUE_ID(){return"unique_id"}}const __WEBPACK_DEFAULT_EXPORT__=RbacsCollection}}]);