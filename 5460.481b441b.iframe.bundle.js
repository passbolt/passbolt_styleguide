/*! For license information please see 5460.481b441b.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[766,5460,8178],{"./src/img/svg/calendar.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCalendar(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.83 1.5v3M12.83 1.5v3M15.08 3H4.58a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V4.5a1.5 1.5 0 0 0-1.5-1.5M3.08 7.5h13.5"})))}},"./src/img/svg/edit.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEdit(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 2.25H3.75a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V9"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.781 1.969a1.591 1.591 0 0 1 2.25 2.25L9 11.25 6 12l.75-3z"})))}},"./src/img/svg/globe.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgGlobe(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#globe_svg__clip0_99_1008706)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 1.5a10.875 10.875 0 0 0 0 15 10.875 10.875 0 0 0 0-15M1.5 9h15"}))))}},"./src/img/svg/history.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHistory(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 9A6.75 6.75 0 1 0 9 2.25a7.31 7.31 0 0 0-5.055 2.055L2.25 6"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 2.25V6H6M9 5.25V9l3 1.5"})))}},"./src/img/svg/owned_by_me.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgOwnedByMe(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:14,height:16,fill:"none",viewBox:"0 0 14 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 14.75v-1.5a3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v1.5M7 7.25a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})))}},"./src/img/svg/share.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgShare(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",viewBox:"0 0 16 17"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.302 5.921a2.21 2.21 0 1 0 0-4.421 2.21 2.21 0 0 0 0 4.421M3.46 11.08a2.21 2.21 0 1 0 0-4.422 2.21 2.21 0 0 0 0 4.421M12.302 16.236a2.21 2.21 0 1 0 0-4.42 2.21 2.21 0 0 0 0 4.42M5.366 9.979l5.04 2.937M10.396 4.82l-5.03 2.938"})))}},"./src/react-extension/components/Common/Dropdown/Dropdown.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_DropdownContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownContext.js");class Dropdown extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DropdownContext__WEBPACK_IMPORTED_MODULE_2__.Ay,null,this.props.children)}}Dropdown.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any.isRequired};const __WEBPACK_DEFAULT_EXPORT__=Dropdown;Dropdown.__docgenInfo={description:"This component acts as an anchor for the dropdown button.",methods:[],displayName:"Dropdown",props:{children:{description:"",type:{name:"any"},required:!0}}}},"./src/react-extension/components/Common/Dropdown/DropdownButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_DropdownContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownContext.js");class DropdownButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleDropdownMenuClickEvent=this.handleDropdownMenuClickEvent.bind(this)}handleDropdownMenuClickEvent(){this.props.dropdownContext.onOpen()}get dropdownOpen(){return this.props.dropdownContext.dropdownOpen}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:`${this.props.className} ${this.dropdownOpen?"open":""}`,disabled:this.props.disabled,onClick:this.handleDropdownMenuClickEvent},this.props.children)}}DropdownButton.defaultProps={disabled:!1,direction:"right",className:"button-dropdown"},DropdownButton.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,direction:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,dropdownContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_DropdownContext__WEBPACK_IMPORTED_MODULE_2__.Mv)(DropdownButton);DropdownButton.__docgenInfo={description:"This component acts as an anchor for the dropdown button.",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDropdownMenuClickEvent",docblock:"Handle create click event",modifiers:[],params:[],returns:null,description:"Handle create click event"},{name:"dropdownOpen",docblock:"Dropdown open\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Dropdown open"}],displayName:"DropdownButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},direction:{defaultValue:{value:'"right"',computed:!1},description:"",type:{name:"string"},required:!1},className:{defaultValue:{value:'"button-dropdown"',computed:!1},description:"",type:{name:"string"},required:!1},dropdownContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Dropdown/DropdownContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DropdownContextProvider,Mv:()=>withDropdown});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const DropdownContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dropdownOpen:!1,onOpen:()=>{},onClose:()=>{}});class DropdownContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{dropdownOpen:!1,onClose:this.handleCloseDropdown.bind(this),onOpen:this.handleOpenDropdown.bind(this)}}createRefs(){this.dropdownRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleCloseDropdown=this.handleCloseDropdown.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}handleDocumentDragStartEvent(){this.handleCloseDropdown()}handleDocumentClickEvent(event){this.dropdownRef.current.contains(event.target)||this.handleCloseDropdown()}handleDocumentContextualMenuEvent(event){this.dropdownRef.current.contains(event.target)||this.handleCloseDropdown()}handleCloseDropdown(){this.setState({dropdownOpen:!1})}handleOpenDropdown(){const dropdownOpen=!this.state.dropdownOpen;this.setState({dropdownOpen})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownContext.Provider,{value:this.state},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown",ref:this.dropdownRef},this.props.children))}}function withDropdown(WrappedComponent){return class withDropdown extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DropdownContext.Consumer,null,dropdownContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dropdownContext,...this.props}))}}}DropdownContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},DropdownContextProvider.__docgenInfo={description:"This component represents a Dropdown Context",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleCloseDropdown",docblock:"Removes dropdown items",modifiers:[],params:[],returns:null,description:"Removes dropdown items"},{name:"handleOpenDropdown",docblock:"Removes dropdown items",modifiers:[],params:[],returns:null,description:"Removes dropdown items"}],displayName:"DropdownContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Dropdown/DropdownMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_DropdownContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownContext.js");class DropdownMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get dropdownMenuMustShow(){return this.props.dropdownContext.dropdownOpen}render(){return this.dropdownMenuMustShow&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:`dropdown-content menu visible ${this.props.className} ${this.props.direction}`},this.props.children)}}DropdownMenu.defaultProps={direction:"right"},DropdownMenu.propTypes={direction:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,dropdownContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_DropdownContext__WEBPACK_IMPORTED_MODULE_2__.Mv)(DropdownMenu);DropdownMenu.__docgenInfo={description:"This component acts as a dropdown item.",methods:[{name:"dropdownMenuMustShow",docblock:"Dropdown must show menu",modifiers:["get"],params:[],returns:null,description:"Dropdown must show menu"}],displayName:"DropdownMenu",props:{direction:{defaultValue:{value:'"right"',computed:!1},description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},dropdownContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_DropdownContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownContext.js");class DropdownMenuItem extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.keepOpenOnClick||this.props.dropdownContext.onClose()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{onClick:this.handleClick,className:""+(this.props.separator?"separator-after":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},this.props.children))))}}DropdownMenuItem.defaultProps={keepOpenOnClick:!1},DropdownMenuItem.propTypes={separator:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,keepOpenOnClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,dropdownContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_DropdownContext__WEBPACK_IMPORTED_MODULE_2__.Mv)(DropdownMenuItem);DropdownMenuItem.__docgenInfo={description:"This component acts as a dropdown item.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"handleClick",docblock:"Handle click item",modifiers:[],params:[],returns:null,description:"Handle click item"}],displayName:"DropdownMenuItem",props:{keepOpenOnClick:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},separator:{description:"",type:{name:"bool"},required:!1},dropdownContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/spinner.svg");class DisplayProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.infiniteTimerUpdateIntervalId=null,this.state=this.defaultState}get defaultState(){return{infiniteTimer:0}}componentDidMount(){this.startInfiniteTimerUpdateProgress()}startInfiniteTimerUpdateProgress(){this.isInfiniteProgressMode()&&(this.infiniteTimerUpdateIntervalId=setInterval(()=>{const infiniteTimer=this.state.infiniteTimer+2;this.setState({infiniteTimer})},500))}componentDidUpdate(){!this.isInfiniteProgressMode()&&this.infiniteTimerUpdateIntervalId&&this.resetInterval()}componentWillUnmount(){this.resetInterval()}isInfiniteProgressMode(){return!this.props.progressContext.progressDialogProps.goals}resetInterval(){this.infiniteTimerUpdateIntervalId&&(clearInterval(this.infiniteTimerUpdateIntervalId),this.infiniteTimerUpdateIntervalId=null)}calculateProgress(){return this.props.progressContext.progressDialogProps?.goals>0?this.calculateGoalsProgress():this.calculateInfiniteProgress()}calculateInfiniteProgress(){return 100-100/Math.pow(1.1,this.state.infiniteTimer)}calculateGoalsProgress(){const completed=this.props.progressContext.progressDialogProps.completed||0;let progress=Math.round(100*completed/this.props.progressContext.progressDialogProps.goals);return progress>100&&(progress=100),progress}decodedHtmlCharacters(text){if(text)try{return(new DOMParser).parseFromString(text,"text/html").documentElement.textContent}catch(error){console.error(error)}return text}render(){const progress=this.calculateProgress(),progressBarStyle={width:`${progress}%`};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-wrapper progress-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"dialog-title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.decodedHtmlCharacters(this.props.progressContext.progressDialogProps.title)||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Take a deep breath and enjoy being in the present moment...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-bar-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress "+(100===progress?"completed":""),style:progressBarStyle})),!this.isInfiniteProgressMode()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-step-label"},this.decodedHtmlCharacters(this.props.progressContext.progressDialogProps.message)||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-percent"},progress,"%")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:"disabled processing"},"Submit",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_4__.A,null))))))}}DisplayProgress.propTypes={progressContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__.E0)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayProgress));DisplayProgress.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the component default state"},{name:"startInfiniteTimerUpdateProgress",docblock:"Start the infinite timer update.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Start the infinite timer update."},{name:"isInfiniteProgressMode",docblock:"Check if the component should display an infinite progress bar.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component should display an infinite progress bar."},{name:"resetInterval",docblock:"Reset interval",modifiers:[],params:[],returns:null,description:"Reset interval"},{name:"calculateProgress",docblock:"Calculate the progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress"},{name:"calculateInfiniteProgress",docblock:"Calculate the infinite progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the infinite progress"},{name:"calculateGoalsProgress",docblock:"Calculate the progress based on the goals\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress based on the goals"},{name:"decodedHtmlCharacters",docblock:"Decode html characters\n@param {string} text with html encoded characters\n@return {string}",modifiers:[],params:[{name:"text",description:"with html encoded characters",type:{name:"string"},optional:!1}],returns:{type:{name:"string"}},description:"Decode html characters"}],displayName:"DisplayProgress",props:{progressContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Metadata/ActionAbortedMissingMetadataKeys/ActionAbortedMissingMetadataKeys.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js");class ActionAbortedMissingMetadataKeys extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}close(){this.props.onClose()}handleCloseClick(){this.close()}async handleFormSubmit(event){event.preventDefault(),this.props.onClose()}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_3__.A,{className:"action-aborted-missing-metadata-keys-dialog",title:this.translate("Action aborted"),onClose:this.handleCloseClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"You cannot perform this action because you lack access to the shared metadata key."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please ask your administrator to share it with you."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__.A,{value:this.translate("Ok")}))))}}ActionAbortedMissingMetadataKeys.propTypes={onClose:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(ActionAbortedMissingMetadataKeys);ActionAbortedMissingMetadataKeys.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"close",docblock:"Close the dialog.",modifiers:[],params:[],returns:null,description:"Close the dialog."},{name:"handleCloseClick",docblock:"Handle close button click.",modifiers:[],params:[],returns:null,description:"Handle close button click."},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@return {Promise}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise"}},description:"Handle form submit event."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ActionAbortedMissingMetadataKeys",props:{onClose:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/DeleteResource/DeleteResource.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DeleteResource extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}get resources(){return this.props.resources}async handleFormSubmit(event){event.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been deleted successfully.",{count:this.resources.length})),this.props.onClose()}handleSaveError(error){"UserAbortsOperationError"===error.name||(console.error(error),this.handleError(error)),this.setState({processing:!1})}async delete(){this.setState({processing:!0});try{const resourcesIds=this.resources.map(resource=>resource.id);await this.props.context.port.request("passbolt.resources.delete-all",resourcesIds),await this.handleSaveSuccess()}catch(error){this.handleSaveError(error)}}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_5__.A,errorDialogProps)}hasAllInputDisabled(){return this.state.processing}hasMultipleResources(){return this.resources.length>1}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_3__.A,{title:this.translate("Delete resource?",{count:this.resources.length}),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-password-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},!this.hasMultipleResources()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Are you sure you want to delete the resource ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",{className:"dialog-variable"},{resourceName:this.resources[0].metadata.name}),"?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Once the resource is deleted, it will be removed permanently and will not be recoverable."))),this.hasMultipleResources()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Please confirm you really want to delete the resources. After clicking ok, the resources will be deleted permanently."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_8__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}DeleteResource.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resources:prop_types__WEBPACK_IMPORTED_MODULE_1___default().array,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_9__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_6__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.CI)("common")(DeleteResource)))));DeleteResource.__docgenInfo={description:"This component allows user to delete a tag of the resources",methods:[{name:"getDefaultState",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"resources",docblock:"get the resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"get the resources"},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@return {Promise}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise"}},description:"Handle form submit event."},{name:"handleCloseClick",docblock:"Handle close button click.",modifiers:[],params:[],returns:null,description:"Handle close button click."},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:[],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"delete",docblock:"Save the changes.",modifiers:["async"],params:[],returns:null,description:"Save the changes."},{name:"handleError",docblock:"handle error and display error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"handle error and display error dialog"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"hasMultipleResources",docblock:"has multiple resources\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has multiple resources"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DeleteResource",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resources:{description:"",type:{name:"array"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PasswordExpiryDialog_PasswordExpiryDialog});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DialogWrapper=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),FormCancelButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),FormSubmitButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),PasswordExpirySettingsContext=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),luxon=__webpack_require__("./node_modules/luxon/build/es6/luxon.mjs"),dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js");const PasswordExpiryOptionEnum={AUTOMATIC:"automatic",MANUAL:"manual",NEVER:"never"};class PasswordExpiryDialogViewModel{constructor(settings={}){this.passwordExpiryDurationInDay=settings.passwordExpiryDurationInDay,this.passwordExpiryDate=settings.passwordExpiryDate,this.passwordExpiryOption=settings.passwordExpiryOption}static getSchema(){return{type:"object",required:["passwordExpiryDurationInDay","passwordExpiryDate","passwordExpiryOption"],properties:{passwordExpiryDurationInDay:{type:"integer",maximum:999,minimum:-99},passwordExpiryDate:{type:"string",pattern:/\d{4}-\d{2}-\d{2}/},passwordExpiryOption:{type:"string",enum:PasswordExpiryOptionEnum}}}}static fromEntityDto(entityDto){const passwordExpiryDurationInDay=entityDto?.default_expiry_period||90,passwordExpiryDate=luxon.c9.utc().plus({days:passwordExpiryDurationInDay}).toFormat("yyyy-MM-dd");return new PasswordExpiryDialogViewModel({passwordExpiryDurationInDay,passwordExpiryDate,passwordExpiryOption:PasswordExpiryOptionEnum.AUTOMATIC})}toDto(){return{passwordExpiryDurationInDay:this.passwordExpiryDurationInDay,passwordExpiryDate:this.passwordExpiryDate,passwordExpiryOption:this.passwordExpiryOption}}getExpiryDateToApply(){let date;switch(this.passwordExpiryOption){case PasswordExpiryOptionEnum.AUTOMATIC:date=luxon.c9.utc().plus({days:this.passwordExpiryDurationInDay});break;case PasswordExpiryOptionEnum.MANUAL:date=luxon.c9.fromFormat(this.passwordExpiryDate,"yyyy-MM-dd",{zone:"UTC"});break;case PasswordExpiryOptionEnum.NEVER:date=null;break;default:throw new Error(`Unsuppored Password Expiry dialog option '${this.passwordExpiryOption}'`)}return(0,dateUtils.B7)(date)}mapResourcesToPasswordExpiryDto(resourceList){const expiryDate=this.getExpiryDateToApply();return resourceList.map(resource=>({id:resource.id,expired:expiryDate}))}validate(){switch(this.passwordExpiryOption){case PasswordExpiryOptionEnum.AUTOMATIC:return this.validatePasswordExpiryDurationInDay();case PasswordExpiryOptionEnum.MANUAL:return this.validatePasswordExpiryDate()}return new entityValidationError.A}validatePasswordExpiryDurationInDay(){const schema=PasswordExpiryDialogViewModel.getSchema();try{entitySchema.A.validateProp("passwordExpiryDurationInDay",this.passwordExpiryDurationInDay,schema.properties.passwordExpiryDurationInDay)}catch(e){if(!(e instanceof entityValidationError.A))throw e;return e}return new entityValidationError.A}validatePasswordExpiryDate(){const schema=PasswordExpiryDialogViewModel.getSchema();try{entitySchema.A.validateProp("passwordExpiryDate",this.passwordExpiryDate,schema.properties.passwordExpiryDate)}catch(e){if(!(e instanceof entityValidationError.A))throw e;return e}return new entityValidationError.A}}const passwordExpirySettings_PasswordExpiryDialogViewModel=PasswordExpiryDialogViewModel;var calendar=__webpack_require__("./src/img/svg/calendar.svg");class PasswordExpiryDialog extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){const settings=this.props.passwordExpiryContext.getSettings();return{hasBeenSubmitted:!1,processing:!1,passwordExpiryDialogViewModel:passwordExpirySettings_PasswordExpiryDialogViewModel.fromEntityDto(settings),errors:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleDurationInDayChange=this.handleDurationInDayChange.bind(this),this.handleDuration=this.handleDurationInDayChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.selectExpiryOption=this.selectExpiryOption.bind(this)}handleDurationInDayChange(event){if(event.target.value.toString().length>3)return void event.preventDefault();const newExpiryDurationInDay={passwordExpiryDurationInDay:parseInt(event.target.value,10)};this.selectExpiryOption(PasswordExpiryOptionEnum.AUTOMATIC,newExpiryDurationInDay)}handleDateChange(event){const newPasswordExpiryDate={passwordExpiryDate:event.target.value};this.selectExpiryOption(PasswordExpiryOptionEnum.MANUAL,newPasswordExpiryDate)}selectExpiryOption(passwordExpiryOption,newInputFieldDate={}){const data=Object.assign({},this.state.passwordExpiryDialogViewModel.toDto(),newInputFieldDate,{passwordExpiryOption}),newState={passwordExpiryDialogViewModel:new passwordExpirySettings_PasswordExpiryDialogViewModel(data)};this.state.hasBeenSubmitted?(newState.errors=this.state.passwordExpiryDialogViewModel.validate(),this.setState(newState)):this.setState(newState)}hasAllInputDisabled(){return this.state.processing}handleError(error){this.props.dialogContext.open(NotifyError.A,{error})}displayErrors(errors){return react.createElement("span",{className:"error-message"},Object.keys(errors).map(errorKey=>react.createElement(react.Fragment,null,errors[errorKey])))}get resourceCount(){return this.props.resources.length}async handleFormSubmit(e){e.preventDefault();const errors=this.state.passwordExpiryDialogViewModel.validate();if(this.setState({hasBeenSubmitted:!0,errors}),errors.hasErrors())return;this.setState({processing:!0});const resourceExpirationDto=this.state.passwordExpiryDialogViewModel.mapResourcesToPasswordExpiryDto(this.props.resources);try{await this.props.context.port.request("passbolt.resources.set-expiration-date",resourceExpirationDto),this.props.actionFeedbackContext.displaySuccess(this.props.t("The expiry date of the selected resource has been updated.",{count:this.props.resources.length})),this.setState({processing:!1}),this.props.onClose()}catch(e){this.handleError(e),this.setState({processing:!1})}}render(){const viewModel=this.state.passwordExpiryDialogViewModel,isDisabled=this.hasAllInputDisabled(),errors=this.state.errors;return react.createElement(DialogWrapper.A,{className:"password-expiry-dialog",title:this.props.t("Set an expiry date",{count:this.resourceCount}),onClose:this.props.onClose,disabled:isDisabled},react.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react.createElement("div",{className:"form-content"},react.createElement("div",{className:"radiolist-alt"},react.createElement("div",{className:"input radio "+(viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.AUTOMATIC?"checked":"")},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.AUTOMATIC,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.AUTOMATIC),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.AUTOMATIC,id:"passwordExpiryOptionAutomatic",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"passwordExpiryOptionAutomatic"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Set the date automatically:")),react.createElement("span",{className:"info"},react.createElement("input",{type:"number",value:viewModel.passwordExpiryDurationInDay,id:"passwordExpiryDateAutomatic",name:"passwordExpiryDurationInDay",onChange:this.handleDurationInDayChange,disabled:this.hasAllInputDisabled(),min:"1",max:"365"}),react.createElement(es.x6,null,"days from now.")),errors?.hasError("passwordExpiryDurationInDay")&&this.displayErrors(errors.getError("passwordExpiryDurationInDay")))),react.createElement("div",{className:"input radio "+(viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.MANUAL?"checked":"")},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.MANUAL,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.MANUAL),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.MANUAL,id:"passwordExpiryOptionManual",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"passwordExpiryOptionManual"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Set the date manually:")),react.createElement("span",{className:"info date-wrapper"},react.createElement("div",{className:"button-inline"},react.createElement("input",{className:"fluid form-element "+(viewModel.passwordExpiryDate?"":"empty"),type:"date",value:viewModel.passwordExpiryDate,id:"passwordExpiryDateManual",name:"passwordExpiryDate",onChange:this.handleDateChange,disabled:this.hasAllInputDisabled()}),react.createElement(calendar.A,null))),errors?.hasError("passwordExpiryDate")&&this.displayErrors(errors.getError("passwordExpiryDate")))),react.createElement("div",{className:"input radio "+(viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.NEVER?"checked":"")},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.NEVER,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.NEVER),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.NEVER,id:"passwordExpiryOptionNever",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"passwordExpiryOptionNever"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Not set")),react.createElement("span",{className:"info"},react.createElement(es.x6,{count:this.resourceCount},"This resource does not need an expiry date.")))))),react.createElement("div",{className:"submit-wrapper clearfix"},react.createElement(FormCancelButton.A,{disabled:isDisabled,onClick:this.props.onClose}),react.createElement(FormSubmitButton.A,{disabled:isDisabled,processing:this.state.processing,value:this.props.t("Save")}))))}}PasswordExpiryDialog.propTypes={context:prop_types_default().any,onClose:prop_types_default().func,passwordExpiryContext:prop_types_default().object,dialogContext:prop_types_default().object,actionFeedbackContext:prop_types_default().object,t:prop_types_default().func,resources:prop_types_default().arrayOf(Object)};const PasswordExpiryDialog_PasswordExpiryDialog=(0,AppContext.L)((0,DialogContext.z9)((0,PasswordExpirySettingsContext.f4)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(PasswordExpiryDialog)))));PasswordExpiryDialog.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDurationInDayChange",docblock:"Handle duration in day input change\n@param {Event} event",modifiers:[],params:[{name:"event",type:{name:"Event"},optional:!1}],returns:null,description:"Handle duration in day input change"},{name:"handleDateChange",docblock:"Handle manual date input change\n@param {Event} event",modifiers:[],params:[{name:"event",type:{name:"Event"},optional:!1}],returns:null,description:"Handle manual date input change"},{name:"selectExpiryOption",docblock:"Change the currently selected expiration option\n@param {string} passwordExpiryOption\n@param {object} [newInputFieldDate]",modifiers:[],params:[{name:"passwordExpiryOption",type:{name:"string"},optional:!1},{name:"newInputFieldDate",optional:!0}],returns:null,description:"Change the currently selected expiration option"},{name:"hasAllInputDisabled",docblock:"Returns true if the input must be disabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the input must be disabled."},{name:"handleError",docblock:"Handles error by displaying the NotifyError dialog.\n@param {Error} error",modifiers:[],params:[{name:"error",type:{name:"Error"},optional:!1}],returns:null,description:"Handles error by displaying the NotifyError dialog."},{name:"displayErrors",docblock:"Handles EntityValidationError for displaying on the UI.\n@param {object} errors",modifiers:[],params:[{name:"errors",type:{name:"object"},optional:!1}],returns:null,description:"Handles EntityValidationError for displaying on the UI."},{name:"resourceCount",docblock:"Returns the count of selected resources.\nThis is mainly used to adapt the translations accordingly.\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Returns the count of selected resources.\nThis is mainly used to adapt the translations accordingly."},{name:"handleFormSubmit",docblock:"Handles form submission\n@param {Event} e",modifiers:["async"],params:[{name:"e",type:{name:"Event"},optional:!1}],returns:null,description:"Handles form submission"}],displayName:"PasswordExpiryDialog",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},resources:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"Object"}},required:!1}}}},"./src/react-extension/components/SecretHistory/DisplayResourceSecretHistory.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayResourceSecretHistory});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),DialogWrapper=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),FormSubmitButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),TooltipPortal=__webpack_require__("./src/react-extension/components/Common/Tooltip/TooltipPortal.js"),assertString=__webpack_require__("./node_modules/validator/es/lib/util/assertString.js"),entityV2Collection=__webpack_require__("./src/shared/models/entity/abstract/entityV2Collection.js"),entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),secretDataEntity=__webpack_require__("./src/shared/models/entity/secretData/secretDataEntity.js");class SecretEntity extends entityV2.A{constructor(dto,options={}){super(dto,options)}static getSchema(){return{type:"object",required:["data"],properties:{id:{type:"string",format:"uuid"},user_id:{type:"string",format:"uuid"},resource_id:{type:"string",format:"uuid"},secret_revision_id:{type:"string",format:"uuid"},data:{type:"string"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid",nullable:!0},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid",nullable:!0}}}}validateBuildRules(){SecretEntity.assertValidMessage(this._props.data)}get id(){return this._props.id||null}get data(){return this.isDataDecrypted?this._data:this._props.data}get userId(){return this._props.user_id||null}get resourceId(){return this._props.resource_id||null}get secretRevisionId(){return this._props.secret_revision_id||null}get isDataDecrypted(){return Boolean(this._data)}set data(data){if("string"==typeof data)entitySchema.A.validateProp("data",data,this.cachedSchema.properties.data),this._props.data=data,delete this._data;else{if(!(data instanceof secretDataEntity.A))throw new TypeError("The given data is not of type SecretDataEntity");this._data=new data.constructor(data.toDto(),{clone:!0,validate:!1}),delete this._props.data}}static assertValidMessage(message){const error=new entityValidationError.A("This is not a valid OpenPGP armored message");if(!message||"string"!=typeof message||""===message)throw error.addError("data","empty","The OpenPGP armored message should not be empty."),error;if(!message.match(/-----BEGIN PGP MESSAGE-----/))throw error.addError("data","begin","The OpenPGP armored message should contain a start delimiter."),error;if(!message.match(/-----END PGP MESSAGE-----/))throw error.addError("data","end","The OpenPGP armored message should contain an end delimiter."),error}toDto(contain={}){const result=Object.assign({},this._props);return contain?(this._data&&contain.data&&(result.data=this._data.toDto()),result):result}static get ALL_CONTAIN_OPTIONS(){return{data:!0}}}const secretEntity=SecretEntity;class SecretsCollection extends entityV2Collection.A{get entityClass(){return secretEntity}constructor(dtos=[],options={}){super(dtos,options)}static getSchema(){return{type:"array",items:secretEntity.getSchema()}}validateBuildRules(item,options){this.assertNotExist("id",item._props.id,{haystackSet:options?.uniqueIdsSetCache}),this.assertUniqueResourceIdUserId(item,{haystackSet:options?.uniqueResourceIdUserIdSetCache})}hasSecretsDataDecrypted(){return this._items.every(secret=>secret.isDataDecrypted)}hasSecretsDataEncrypted(){return this._items.every(secret=>!secret.isDataDecrypted)}filterOutSecretDataEncrypted(){this.filterByCallback(secret=>secret.isDataDecrypted)}assertUniqueResourceIdUserId(secret,options){if(!secret.userId||!secret.resourceId)return;let haystackSet=options?.haystackSet;haystackSet||(haystackSet=new Set(this.items.map(item=>`${item.resourceId}:${item.userId}`)));const resourceIdUserIdKey=`${secret.resourceId}:${secret.userId}`;if(haystackSet.has(resourceIdUserIdKey)){const error=new entityValidationError.A,message=`The collection already includes an element that has a couple resource_id:user_id (${resourceIdUserIdKey}) with an identical value.`;throw error.addError("resource_id:user_id","unique",message),error}}pushMany(data,entityOptions={},options={}){const uniqueIdsSetCache=new Set(this.extract("id")),uniqueResourceIdUserIdSetCache=new Set(this.items.map(item=>`${item.id}:${item.userId}`));options={onItemPushed:item=>{uniqueIdsSetCache.add(item.id),uniqueResourceIdUserIdSetCache.add(`${item.resourceId}:${item.userId}`)},validateBuildRules:{...options?.validateBuildRules,uniqueIdsSetCache,uniqueResourceIdUserIdSetCache},...options},super.pushMany(data,entityOptions,options)}toDto(contains={}){return this._items.map(entity=>entity.toDto(contains))}}const secretsCollection=SecretsCollection;var userEntity=__webpack_require__("./src/shared/models/entity/user/userEntity.js");class SecretRevisionEntity extends entityV2.A{static getSchema(){return{type:"object",required:["id","resource_id","resource_type_id","created","created_by","modified","modified_by"],properties:{id:{type:"string",format:"uuid"},resource_id:{type:"string",format:"uuid"},resource_type_id:{type:"string",format:"uuid"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid"},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid"},deleted:{type:"string",format:"date-time",nullable:!0},secrets:secretsCollection.getSchema(),creator:userEntity.A.getSchema()}}}static get associations(){return{creator:userEntity.A,secrets:secretsCollection}}get id(){return this._props.id}get resourceId(){return this._props.resource_id}get resourceTypeId(){return this._props.resource_type_id}get created(){return this._props.created}get createdBy(){return this._props.created_by}get modified(){return this._props.modified}get modifiedBy(){return this._props.modified_by}get deleted(){return this._props.deleted||null}get creator(){return this._creator||null}get secrets(){return this._secrets||null}toDto(contain=SecretRevisionEntity.ALL_CONTAIN_OPTIONS){const result=Object.assign({},this._props);return contain?(this._creator&&contain.creator&&(result.creator=this._creator.toDto(userEntity.A.ALL_CONTAIN_OPTIONS)),this._secrets&&contain.secrets&&(result.secrets=this._secrets.toDto(secretEntity.ALL_CONTAIN_OPTIONS)),result):result}static get ALL_CONTAIN_OPTIONS(){return{creator:!0,secrets:!0}}}const secretRevisionEntity=SecretRevisionEntity;class ResourceSecretRevisionsCollection extends entityV2Collection.A{get entityClass(){return secretRevisionEntity}constructor(dtos=[],options={}){super(dtos,options)}static getSchema(){return{type:"array",items:secretRevisionEntity.getSchema()}}validateBuildRules(item,options={}){this.assertNotExist("id",item._props.id,{haystackSet:options?.uniqueIdsSetCache}),this.assertSameResourceId(item)}assertSameResourceId(secretRevision){if(!this.items.length)return;const collectionResourceId=this.items[0].resourceId;if(secretRevision.resourceId!==collectionResourceId){const error=new entityValidationError.A,message=`The collection has different resource id: ${collectionResourceId} != ${secretRevision.resourceId}.`;throw error.addError("resource_id","different_resource_id",message),error}}sortByModified(){this._items.sort((secretRevisionEntityA,secretRevisionEntityB)=>secretRevisionEntityB.modified>secretRevisionEntityA.modified?1:-1)}toDto(contains=secretRevisionEntity.ALL_CONTAIN_OPTIONS){return this._items.map(entity=>entity.toDto(contains))}pushMany(data,entityOptions={},options={}){const uniqueIdsSetCache=new Set(this.extract("id"));options={onItemPushed:item=>{uniqueIdsSetCache.add(item._props.id)},validateBuildRules:{...options?.validateBuildRules,uniqueIdsSetCache},...options},super.pushMany(data,entityOptions,options)}filterOutItemsHavingSecretDataEncrypted(){this.filterByCallback(resourceRevision=>!resourceRevision.secrets?.hasSecretsDataEncrypted())}}const resourceSecretRevisionsCollection=ResourceSecretRevisionsCollection;class SecretRevisionsResourceServiceWorkerService{constructor(port){this.port=port}async findAllByResourceIdForDisplay(resourceId){(0,assertString.A)(resourceId);const secretRevisionsCollection=await this.port.request("passbolt.secret-revisions.find-all-by-resource-id-for-display",resourceId);return new resourceSecretRevisionsCollection(secretRevisionsCollection,{validate:!1})}}var dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),TooltipMessageFingerprintLoading=__webpack_require__("./src/react-extension/components/Common/Tooltip/TooltipMessageFingerprintLoading.js"),fingerprint=__webpack_require__("./src/img/svg/fingerprint.svg"),Fingerprint=__webpack_require__("./src/react-extension/components/Common/Fingerprint/Fingerprint.js");class DisplayCreatorSecretRevision extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{tooltipFingerprintMessage:null}}bindCallbacks(){this.handleSelectSecretRevision=this.handleSelectSecretRevision.bind(this)}handleSelectSecretRevision(event){event.preventDefault(),this.props.onSelectSecretRevision&&this.props.onSelectSecretRevision(this.props.secretRevision.id)}async onTooltipFingerprintMouseHover(userId){if(this.state.tooltipFingerprintMessage)return;let tooltipFingerprintMessage;try{const gpgkey=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",userId);tooltipFingerprintMessage=react.createElement(Fingerprint.A,{fingerprint:gpgkey.fingerprint})}catch(error){console.error(error),tooltipFingerprintMessage=react.createElement("p",null,error.message)}this.setState({tooltipFingerprintMessage})}get translate(){return this.props.t}render(){return react.createElement("button",{type:"button",className:"no-border",disabled:this.props.disabled,onClick:this.handleSelectSecretRevision},react.createElement("div",{className:"creator"},react.createElement(UserAvatar.A,{user:this.props.secretRevision.creator.toDto(userEntity.A.ALL_CONTAIN_OPTIONS),baseUrl:this.props.context.userSettings.getTrustedDomain()}),react.createElement("div",{className:"profile"},react.createElement("div",{className:"name"},react.createElement("span",{className:"ellipsis"},this.props.secretRevision.creator.getUserFormattedName(this.translate)),react.createElement(TooltipPortal.A,{message:this.state.tooltipFingerprintMessage||react.createElement(TooltipMessageFingerprintLoading.A,null),onMouseHover:()=>this.onTooltipFingerprintMouseHover(this.props.secretRevision.creator?.id)},react.createElement(fingerprint.A,null))),react.createElement("div",{className:"username ellipsis"},this.props.secretRevision.creator.username))),react.createElement("div",{className:"additional-information"},this.props.secretRevision.creator.status===userEntity.H.SUSPENDED&&react.createElement("div",{className:"status suspended ellipsis"},react.createElement(es.x6,null,"Suspended")),this.props.secretRevision.creator.status===userEntity.H.DELETED&&react.createElement("div",{className:"status deleted ellipsis"},react.createElement(es.x6,null,"Deleted")),react.createElement("div",{className:"updated-date ellipsis"},react.createElement("span",null,"Edited:")," ",(0,dateUtils.kD)(this.props.secretRevision.modified,this.translate,this.props.context.locale))))}}DisplayCreatorSecretRevision.defaultProps={disabled:!0},DisplayCreatorSecretRevision.propTypes={secretRevision:prop_types_default().instanceOf(secretRevisionEntity).isRequired,disabled:prop_types_default().bool,onSelectSecretRevision:prop_types_default().func,context:prop_types_default().object,t:prop_types_default().func};const SecretHistory_DisplayCreatorSecretRevision=(0,AppContext.L)((0,es.CI)("common")(DisplayCreatorSecretRevision));DisplayCreatorSecretRevision.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Ge the default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Ge the default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSelectSecretRevision",docblock:"Handle the select secret revision\n@param event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle the select secret revision"},{name:"onTooltipFingerprintMouseHover",docblock:"Handle whenever the user passes its mouse hover the tooltip.\n@returns {Promise<JSX>}",modifiers:["async"],params:[{name:"userId",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"JSX"}]}},description:"Handle whenever the user passes its mouse hover the tooltip."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayCreatorSecretRevision",props:{disabled:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},secretRevision:{description:"",type:{name:"instanceOf",value:"SecretRevisionEntity"},required:!0},onSelectSecretRevision:{description:"",type:{name:"func"},required:!1},context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplaySecretResourceHistory extends react.Component{constructor(props){super(props),this.secretRevisionsResourceServiceWorkerService=new SecretRevisionsResourceServiceWorkerService(props.context.port),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{resourceSecretHistorySelectedId:null,isProcessing:!0,tooltipFingerprintMessage:null}}bindCallbacks(){this.handleClose=this.handleClose.bind(this),this.onSelectSecretRevision=this.onSelectSecretRevision.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}async componentDidMount(){try{this.resourceSecretRevisionsCollection=await this.secretRevisionsResourceServiceWorkerService.findAllByResourceIdForDisplay(this.props.resource.id)}catch(error){return"UserAbortsOperationError"===error?.name?(console.warn(error),void this.handleClose()):(this.props.dialogContext.open(NotifyError.A,{error}),void this.handleClose())}this.resourceSecretRevisionsCollection.sortByModified(),this.setState({resourceSecretHistorySelectedId:this.resourceSecretRevisionsCollection?.items[0]?.id,isProcessing:!1})}handleClose(){this.props.onClose()}onSelectSecretRevision(secretRevisionId){this.setState({resourceSecretHistorySelectedId:secretRevisionId})}async handleFormSubmit(event){event.preventDefault(),this.handleClose()}get secretHistoryAsJson(){const object=this.resourceSecretRevisionSelected?.secrets?.items[0]?.data;return JSON.stringify(object,null,2)}get resourceSecretRevisionSelected(){return this.state.resourceSecretHistorySelectedId?this.resourceSecretRevisionsCollection?.getFirst("id",this.state.resourceSecretHistorySelectedId):null}isResourceSecretRevisionSelected(id){return this.state.resourceSecretHistorySelectedId===id}hasNoRevisionsAccess(secrets){return secrets&&0===secrets.length}get translate(){return this.props.t}render(){return react.createElement(DialogWrapper.A,{title:this.translate("Secret history"),subtitle:this.props.resource.metadata.name,className:"resource-secret-history",disabled:this.state.isProcessing,onClose:this.handleClose},react.createElement("div",{className:"left-sidebar"},react.createElement("div",{className:"sidebar-content-sections"},this.resourceSecretRevisionsCollection?.items.map(resourceSecretRevision=>react.createElement("div",{className:`section-content ${this.isResourceSecretRevisionSelected(resourceSecretRevision.id)?"selected":""} ${this.hasNoRevisionsAccess(resourceSecretRevision.secrets)?"disabled":""}`,key:resourceSecretRevision.id},this.hasNoRevisionsAccess(resourceSecretRevision.secrets)&&react.createElement(TooltipPortal.A,{message:react.createElement(es.x6,null,"You cannot access revisions created before the resource was shared with you.")},react.createElement(SecretHistory_DisplayCreatorSecretRevision,{disabled:!0,secretRevision:resourceSecretRevision})),!this.hasNoRevisionsAccess(resourceSecretRevision.secrets)&&react.createElement(SecretHistory_DisplayCreatorSecretRevision,{disabled:this.state.isProcessing,secretRevision:resourceSecretRevision,onSelectSecretRevision:this.onSelectSecretRevision}))))),react.createElement("form",{onSubmit:this.handleFormSubmit,className:"grid-and-footer",noValidate:!0},react.createElement("div",{className:"grid"},react.createElement("div",{className:"resource-secret-history-workspace"},react.createElement("div",{className:"title"},react.createElement("h2",null,react.createElement(es.x6,null,"Secret revision"),react.createElement("span",{className:"subtitle"},(0,dateUtils.kD)(this.resourceSecretRevisionSelected?.modified,this.props.t,this.props.context.locale)))),react.createElement("div",{className:"content"},react.createElement("div",{className:"secret-history-fields"},this.resourceSecretRevisionsCollection?.length>0&&react.createElement("pre",null,react.createElement("code",{className:"json-object"},this.secretHistoryAsJson)),0===this.resourceSecretRevisionsCollection?.length&&react.createElement("p",{className:"empty-content"},react.createElement(es.x6,null,"There is no revision")))))),react.createElement("div",{className:"submit-wrapper"},react.createElement(FormSubmitButton.A,{value:this.translate("Close"),disabled:this.state.isProcessing,processing:this.state.isProcessing}))))}}DisplaySecretResourceHistory.propTypes={onClose:prop_types_default().func,resource:prop_types_default().object,dialogContext:prop_types_default().object,context:prop_types_default().object,t:prop_types_default().func};const DisplayResourceSecretHistory=(0,AppContext.L)((0,DialogContext.z9)((0,es.CI)("common")(DisplaySecretResourceHistory)));DisplaySecretResourceHistory.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Ge the default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Ge the default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleClose",docblock:"Handle close",modifiers:[],params:[],returns:null,description:"Handle close"},{name:"onSelectSecretRevision",docblock:"Set the state for the resource form selected\n@param {string} secretRevisionId The secret revision id",modifiers:[],params:[{name:"secretRevisionId",description:"The secret revision id",type:{name:"string"},optional:!1}],returns:null,description:"Set the state for the resource form selected"},{name:"handleFormSubmit",docblock:"Handle form submission that can be trigger when hitting `enter`\n@param {Event} event The html event triggering the form submit.",modifiers:["async"],params:[{name:"event",description:"The html event triggering the form submit.",type:{name:"Event"},optional:!1}],returns:null,description:"Handle form submission that can be trigger when hitting `enter`"},{name:"secretHistoryAsJson",docblock:"Get the secret history in JSON format\n@return {string | React.JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"string"},{name:"React.JSX.Element"}]}},description:"Get the secret history in JSON format"},{name:"resourceSecretRevisionSelected",docblock:"Get the resource secret revision selected\n@return {SecretRevisionEntity | null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"SecretRevisionEntity"}]}},description:"Get the resource secret revision selected"},{name:"isResourceSecretRevisionSelected",docblock:"Is resource secret revision selected\n@param id\n@return {boolean}",modifiers:[],params:[{name:"id",optional:!1}],returns:{type:{name:"boolean"}},description:"Is resource secret revision selected"},{name:"hasNoRevisionsAccess",docblock:"Has no resource secret revision access\n@param secrets\n@return {boolean}",modifiers:[],params:[{name:"secrets",optional:!1}],returns:{type:{name:"boolean"}},description:"Has no resource secret revision access"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplaySecretResourceHistory",props:{onClose:{description:"",type:{name:"func"},required:!1},resource:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/ProgressContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,E0:()=>withProgress});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js"),_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js");const ProgressContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({progressDialogProps:null,dialogIndex:null,open:()=>{},updateMessage:()=>{},updateGoals:()=>{},close:()=>{}});class ProgressContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks(),this.state=this.defaultState}get defaultState(){return{progressDialogProps:null,dialogIndex:null,open:this.open,updateMessage:this.updateMessage,updateGoals:this.updateGoals,close:this.close}}bindCallbacks(){this.open=this.open.bind(this),this.updateGoals=this.updateGoals.bind(this),this.updateMessage=this.updateMessage.bind(this),this.close=this.close.bind(this)}open(title,goals,message){const progressDialogProps={title,goals,message};this.setState({progressDialogProps});const dialogIndex=this.props.dialogContext.open(_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_2__.A);this.setState({dialogIndex})}updateMessage(message,completed=!1){const progressDialogProps={...this.state.progressDialogProps,message:message||this.state.progressDialogProps.message,completed};this.setState({progressDialogProps})}async updateGoals(goals){const progressDialogProps={...this.state.progressDialogProps,goals};this.setState({progressDialogProps})}async close(){this.props.dialogContext.close(this.state.dialogIndex);this.setState({progressDialogProps:{},dialogIndex:null})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Provider,{value:this.state},this.props.children)}}ProgressContextProvider.displayName="ProgressContextProvider",ProgressContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)(ProgressContextProvider);function withProgress(WrappedComponent){return class WithProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Consumer,null,progressContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{progressContext,...this.props}))}}}ProgressContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"open",docblock:"Open the progress dialog\n@param {string} title The title\n@param {integer} goals The goals\n@param {string} message The message",modifiers:[],params:[{name:"title",description:"The title",type:{name:"string"},optional:!1},{name:"goals",description:"The goals",type:{name:"integer"},optional:!1},{name:"message",description:"The message",type:{name:"string"},optional:!1}],returns:null,description:"Open the progress dialog"},{name:"updateMessage",docblock:"Update the progress dialog message.\n@param {string} message The message\n@param {boolean} completed The progress is completed.",modifiers:[],params:[{name:"message",description:"The message",type:{name:"string"},optional:!1},{name:"completed",description:"The progress is completed.",type:{name:"boolean"},optional:!0}],returns:null,description:"Update the progress dialog message."},{name:"updateGoals",docblock:"Upate the progress dialog goals.\n@param {integer} goals the goals",modifiers:["async"],params:[{name:"goals",description:"the goals",type:{name:"integer"},optional:!1}],returns:null,description:"Upate the progress dialog goals."},{name:"close",docblock:"Close the progress dialog.",modifiers:["async"],params:[],returns:null,description:"Close the progress dialog."}],displayName:"ProgressContextProvider",props:{children:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XF:()=>withMetadataKeysSettingsLocalStorage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js");const MetadataKeysSettingsLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},metadataKeysSettings:null,updateLocalStorage:()=>{}});class MetadataKeysSettingsLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),metadataKeysSettings:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes[this.storageKey]&&this.set(changes[this.storageKey].newValue)}set(metadataKeysSettings){const metadataKeysSettingsEntity=new _models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_3__.A(metadataKeysSettings);this.setState({metadataKeysSettings:metadataKeysSettingsEntity})}get(){return null===this.state.metadataKeysSettings?(this.loadLocalStorage(),null):this.state.metadataKeysSettings}get storageKey(){return`metadata_keys_settings-${this.props.context.account?.id}`}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get([this.storageKey]);storageData[this.storageKey]?this.set(storageData[this.storageKey]):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.metadata.get-or-find-metadata-keys-settings"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataKeysSettingsLocalStorageContext.Provider,{value:this.state},this.props.children)}}MetadataKeysSettingsLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(MetadataKeysSettingsLocalStorageContextProvider);function withMetadataKeysSettingsLocalStorage(WrappedComponent){return class withMetadataKeysSettingsKeysLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataKeysSettingsLocalStorageContext.Consumer,null,metadataKeysSettingsLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{metadataKeysSettingsLocalStorageContext,metadataKeysSettings:metadataKeysSettingsLocalStorageContext.get(),...this.props}))}}}MetadataKeysSettingsLocalStorageContextProvider.__docgenInfo={description:"The metadata key settings local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the metadata key settings in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the metadata key settings in the local storage."},{name:"set",docblock:"Set metadataKeysSettings.\n@param {Object} metadataKeysSettings The metadata keys settings to set.\n@private",modifiers:[],params:[{name:"metadataKeysSettings",description:"The metadata keys settings to set.",type:{name:"Object"},optional:!1}],returns:null,description:"Set metadataKeysSettings."},{name:"get",docblock:"Get the metadata key settings from the local storage and/or init them if not the case already.\n@returns {MetadataKeysSettingsEntity|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"MetadataKeysSettingsEntity"}]}},description:"Get the metadata key settings from the local storage and/or init them if not the case already."},{name:"storageKey",docblock:"Get the storage key.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the storage key."},{name:"loadLocalStorage",docblock:"Load the metadata key settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the metadata key settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the metadata key settings in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the metadata key settings in the local storage."}],displayName:"MetadataKeysSettingsLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/MetadataTypesSettingsLocalStorageContext/MetadataTypesSettingsLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,BB:()=>MetadataTypesSettingsLocalStorageContext,mw:()=>withMetadataTypesSettingsLocalStorage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js");const MetadataTypesSettingsLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},metadataTypeSettings:null,updateLocalStorage:()=>{}});class MetadataTypesSettingsLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),metadataTypeSettings:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes[this.storageKey]&&this.set(changes[this.storageKey].newValue)}set(metadataTypeSettings){const metadataTypeSettingsCollection=new _models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_3__.Ay(metadataTypeSettings);this.setState({metadataTypeSettings:metadataTypeSettingsCollection})}get(){return null===this.state.metadataTypeSettings?(this.loadLocalStorage(),null):this.state.metadataTypeSettings}get storageKey(){return`metadata_types_settings-${this.props.context.account?.id}`}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get([this.storageKey]);storageData[this.storageKey]?this.set(storageData[this.storageKey]):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.metadata.get-or-find-metadata-types-settings"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataTypesSettingsLocalStorageContext.Provider,{value:this.state},this.props.children)}}MetadataTypesSettingsLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(MetadataTypesSettingsLocalStorageContextProvider);function withMetadataTypesSettingsLocalStorage(WrappedComponent){return class withMetadataTypesSettingsTypesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataTypesSettingsLocalStorageContext.Consumer,null,metadataTypeSettingsLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{metadataTypeSettingsLocalStorageContext,metadataTypeSettings:metadataTypeSettingsLocalStorageContext.get(),...this.props}))}}}MetadataTypesSettingsLocalStorageContextProvider.__docgenInfo={description:"The metadata type settings local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the metadata type settings in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the metadata type settings in the local storage."},{name:"set",docblock:"Set metadataTypeSettings.\n@param {Object} metadataTypeSettings The metadata type settings to set.\n@private",modifiers:[],params:[{name:"metadataTypeSettings",description:"The metadata type settings to set.",type:{name:"Object"},optional:!1}],returns:null,description:"Set metadataTypeSettings."},{name:"get",docblock:"Get the metadata type settings from the local storage and/or init them if not the case already.\n@returns {MetadataTypesSettingsEntity|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"MetadataTypesSettingsEntity"}]}},description:"Get the metadata type settings from the local storage and/or init them if not the case already."},{name:"storageKey",docblock:"Get the storage key.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the storage key."},{name:"loadLocalStorage",docblock:"Load the metadata type settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the metadata type settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the metadata type settings in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the metadata type settings in the local storage."}],displayName:"MetadataTypesSettingsLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,KH:()=>withResourceTypesLocalStorage,dA:()=>ResourceTypesLocalStorageContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js");const ResourceTypesLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},resourceTypes:null,updateLocalStorage:()=>{}});class ResourceTypesLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),resourceTypes:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes.resourceTypes&&this.set(changes.resourceTypes.newValue)}set(resourceTypes){const resourceTypesCollection=new _models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_3__.A(resourceTypes);this.setState({resourceTypes:resourceTypesCollection})}get(){return null===this.state.resourceTypes?(this.loadLocalStorage(),null):this.state.resourceTypes}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get(["resourceTypes"]);storageData.resourceTypes?this.set(storageData.resourceTypes):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.resource-type.get-or-find-all"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Provider,{value:this.state},this.props.children)}}ResourceTypesLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(ResourceTypesLocalStorageContextProvider);function withResourceTypesLocalStorage(WrappedComponent){return class withResourceTypesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Consumer,null,resourceTypesLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{resourceTypesLocalStorageContext,resourceTypes:resourceTypesLocalStorageContext.get(),...this.props}))}}}ResourceTypesLocalStorageContextProvider.__docgenInfo={description:"The resource types local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the resource types in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the resource types in the local storage."},{name:"set",docblock:"Set resourceTypes.\n@param {Array<Object>} resourceTypes The resource types to set.\n@private",modifiers:[],params:[{name:"resourceTypes",description:"The resource types to set.",type:{name:"Array",elements:[{name:"Object"}]},optional:!1}],returns:null,description:"Set resourceTypes."},{name:"get",docblock:"Get the resource types from the local storage and/or init them if not the case already.\n@returns {ResourceTypesCollection|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"ResourceTypesCollection"}]}},description:"Get the resource types from the local storage and/or init them if not the case already."},{name:"loadLocalStorage",docblock:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the resource types in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the resource types in the local storage."}],displayName:"ResourceTypesLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/SecretRevisionSettingsContext/SecretRevisionsSettingsContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,ac:()=>withSecretRevisionsSettings});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js"),_services_serviceWorker_secretRevision_secretRevisionsSettingsServiceWorkerService__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/services/serviceWorker/secretRevision/secretRevisionsSettingsServiceWorkerService.js");const SecretRevisionsSettingsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},secretRevisionsSettings:null});class SecretRevisionsSettingsContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.secretRevisionsSettingsServiceWorkerService=new _services_serviceWorker_secretRevision_secretRevisionsSettingsServiceWorkerService__WEBPACK_IMPORTED_MODULE_4__.Ay(props.context.port),this.runningUpdatePromise=null}get defaultState(){return{get:this.get.bind(this),secretRevisionsSettings:null}}set(secretRevisionsSettings){if(!(secretRevisionsSettings instanceof _models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_3__.A))throw new TypeError("The given data is not of type SecretRevisionsSettingsEntity");this.setState({secretRevisionsSettings})}get(){return null===this.state.secretRevisionsSettings?(this.findSettings(),null):this.state.secretRevisionsSettings}async findSettings(){if(null===this.runningUpdatePromise){this.runningUpdatePromise=this.secretRevisionsSettingsServiceWorkerService.findSettings();const data=await this.runningUpdatePromise;this.set(data),this.runningUpdatePromise=null}else await this.runningUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SecretRevisionsSettingsContext.Provider,{value:this.state},this.props.children)}}SecretRevisionsSettingsContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(SecretRevisionsSettingsContextProvider);function withSecretRevisionsSettings(WrappedComponent){return class withSecretRevisionsSettingsTypesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SecretRevisionsSettingsContext.Consumer,null,secretRevisionsSettingsContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{secretRevisionsSettingsContext,secretRevisionsSettings:secretRevisionsSettingsContext.get(),...this.props}))}}}SecretRevisionsSettingsContextProvider.__docgenInfo={description:"The secret revisions settings local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"set",docblock:"Set secretRevisionsSettings.\n@param {SecretRevisionsSettingsEntity} secretRevisionsSettings The secret revisions settings to set.\n@throws {TypeError} If the secretRevisionsSettings parameter is not a valid SecretRevisionsSettingsEntity\n@private",modifiers:[],params:[{name:"secretRevisionsSettings",description:"The secret revisions settings to set.",type:{name:"SecretRevisionsSettingsEntity"},optional:!1}],returns:null,description:"Set secretRevisionsSettings."},{name:"get",docblock:"Get the secret revisions settings from the local storage and/or init them if not the case already.\n@returns {SecretRevisionsSettingsEntity|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"SecretRevisionsSettingsEntity"}]}},description:"Get the secret revisions settings from the local storage and/or init them if not the case already."},{name:"findSettings",docblock:"Load the secret revisions settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the secret revisions settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."}],displayName:"SecretRevisionsSettingsContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/services/serviceWorker/secretRevision/secretRevisionsSettingsServiceWorkerService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>SecretRevisionsSettingsServiceWorkerService});var _models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js");class SecretRevisionsSettingsServiceWorkerService{constructor(port){this.port=port}async findSettings(){const settings=await this.port.request("passbolt.secret-revisions.find-settings");return new _models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_0__.A(settings)}async saveSettings(secretRevisionSettingsEntity){if(!(secretRevisionSettingsEntity instanceof _models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_0__.A))throw new TypeError("The parameter `secretRevisionSettingsEntity` should be of type SecretRevisionsSettingsEntity.");const settings=await this.port.request("passbolt.secret-revisions.save-settings",secretRevisionSettingsEntity);return new _models_entity_secretRevision_secretRevisionsSettingsEntity__WEBPACK_IMPORTED_MODULE_0__.A(settings)}async deleteSettings(){await this.port.request("passbolt.secret-revisions.delete-settings")}}}}]);