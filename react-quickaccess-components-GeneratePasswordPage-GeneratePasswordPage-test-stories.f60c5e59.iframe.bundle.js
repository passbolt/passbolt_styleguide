/*! For license information please see react-quickaccess-components-GeneratePasswordPage-GeneratePasswordPage-test-stories.f60c5e59.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[3446],{"./src/react-quickaccess/components/GeneratePasswordPage/GeneratePasswordPage.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>GeneratePasswordPage_test_stories});var react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),Tabs=__webpack_require__("./src/react-extension/components/Common/Tab/Tabs.js"),Tab=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js"),ConfigurePassphraseGenerator=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePassphraseGenerator.js"),ConfigurePasswordGenerator=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePasswordGenerator.js"),SecretGenerator=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGenerator.js"),PrepareResourceContext=__webpack_require__("./src/react-quickaccess/contexts/PrepareResourceContext.js"),Transition=__webpack_require__("./node_modules/react-transition-group/cjs/Transition.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),spinner=__webpack_require__("./src/img/svg/spinner.svg"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),PasswordComplexity=__webpack_require__("./src/shared/components/PasswordComplexity/PasswordComplexity.js"),clipBoard=__webpack_require__("./src/shared/lib/Browser/clipBoard.js");class GeneratePasswordPage extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.initEventHandlers()}get defaultState(){return{password:"",generatorSettings:null,isObfuscated:!0,copySecretState:"default",processing:!1,passwordEntropy:null}}componentDidMount(){const generatorSettings=this.props.prepareResourceContext.getSettings(),password=this.generatePassword(generatorSettings);this.setState({generatorSettings,password})}initEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleViewPasswordToggle=this.handleViewPasswordToggle.bind(this),this.handleGeneratePasswordButtonClick=this.handleGeneratePasswordButtonClick.bind(this),this.handleGeneratorConfigurationChanged=this.handleGeneratorConfigurationChanged.bind(this),this.handlePasswordGeneratorConfigurationChanged=this.handlePasswordGeneratorConfigurationChanged.bind(this),this.handlePassphraseGeneratorConfigurationChanged=this.handlePassphraseGeneratorConfigurationChanged.bind(this),this.handleCopyPassword=this.handleCopyPassword.bind(this),this.handleGoBackClick=this.handleGoBackClick.bind(this)}handleGeneratorConfigurationChanged(generatorSettings){const password=this.generatePassword(generatorSettings);this.setState({generatorSettings,password})}handlePasswordGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.password_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handlePassphraseGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.passphrase_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handleGeneratorTypeChanged(generatorType){const generatorConfiguration=JSON.parse(JSON.stringify(this.state.generatorSettings));generatorConfiguration.default_generator=generatorType,this.handleGeneratorConfigurationChanged(generatorConfiguration)}handleGeneratePasswordButtonClick(){const password=this.generatePassword(this.state.generatorSettings);this.setState({password})}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}handleViewPasswordToggle(){this.state.processing||this.setState({isObfuscated:!this.state.isObfuscated})}handleSubmit(event){event.preventDefault(),this.setState({processing:!0}),this.props.prepareResourceContext.onPasswordGenerated(this.state.password,this.state.generatorSettings),this.props.history.goBack()}async handleCopyPassword(){this.setState({copySecretState:"processing"}),await clipBoard.A.copy(this.state.password,this.props.context.port),this.setState({copySecretState:"done"}),setTimeout((()=>{this.setState({copySecretState:"default"})}),3e3)}generatePassword(generatorConfiguration){const password=SecretGenerator.M.generate(generatorConfiguration),passwordEntropy=password?.length>0?SecretGenerator.M.entropy(password):null;return this.setState({passwordEntropy}),password}handleGoBackClick(ev){ev.preventDefault(),this.props.history.goBack()}isPasswordEmpty(){return""===this.state.password}hasGeneratorConfiguration(){return Boolean(this.state.generatorSettings)}get translate(){return this.props.t}render(){const generatorConfiguration=this.state.generatorSettings;return react.createElement("div",{className:"generate-password"},react.createElement("div",{className:"back-link"},react.createElement("a",{href:"#",className:"primary-action",onClick:this.handleGoBackClick,title:this.translate("Cancel the operation")},react.createElement(Icon.A,{name:"chevron-left"}),react.createElement("span",{className:"primary-action-title"},react.createElement(es.x6,null,"Generate password"))),react.createElement(react_router_dom.N_,{to:"/webAccessibleResources/quickaccess/home",className:"secondary-action button-transparent button",title:this.translate("Cancel")},react.createElement(Icon.A,{name:"close"}),react.createElement("span",{className:"visually-hidden"},react.createElement(es.x6,null,"Cancel")))),react.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},react.createElement("div",{className:"form-container"},react.createElement("div",{className:"input-password-wrapper input"},react.createElement("label",{htmlFor:"generate-resource-password-form-password"},react.createElement(es.x6,null,"Password")),react.createElement("div",{className:"password-button-inline"},react.createElement(Password.A,{id:"generate-resource-password-form-password",name:"password",autoComplete:"off",readOnly:!0,placeholder:this.translate("Password"),preview:!0,value:this.state.password,onChange:this.handleInputChange,disabled:this.state.processing}),react.createElement("a",{onClick:this.handleGeneratePasswordButtonClick,className:"password-generate button button-icon"},react.createElement(Icon.A,{name:"dice"}),react.createElement("span",{className:"visually-hidden"},react.createElement(es.x6,null,"Generate"))),react.createElement("a",{onClick:this.handleCopyPassword,className:"copy-to-clipboard button button-icon"},react.createElement(Transition.Ay,{in:"default"===this.state.copySecretState,appear:!1,timeout:500},(status=>react.createElement("span",{className:`transition fade-${status} ${"default"!==this.state.copySecretState?"visually-hidden":""}`},react.createElement(Icon.A,{name:"copy-to-clipboard"})))),react.createElement(Transition.Ay,{in:"processing"===this.state.copySecretState,appear:!0,timeout:500},(status=>react.createElement("span",{className:`transition fade-${status} ${"processing"!==this.state.copySecretState?"visually-hidden":""}`},react.createElement(spinner.A,null)))),react.createElement(Transition.Ay,{in:"done"===this.state.copySecretState,appear:!0,timeout:500},(status=>react.createElement("span",{className:`transition fade-${status} ${"done"!==this.state.copySecretState?"visually-hidden":""}`},react.createElement(Icon.A,{name:"check"})))),react.createElement("span",{className:"visually-hidden"},react.createElement(es.x6,null,"Copy")))),react.createElement(PasswordComplexity.A,{entropy:this.state.passwordEntropy})),this.hasGeneratorConfiguration()&&react.createElement(Tabs.A,{activeTabName:generatorConfiguration.default_generator},react.createElement(Tab.A,{key:"password",name:this.props.t("password"),type:"password",onClick:()=>this.handleGeneratorTypeChanged("password")},"password"===generatorConfiguration.default_generator&&react.createElement(ConfigurePasswordGenerator.A,{configuration:generatorConfiguration.password_generator_settings,onConfigurationChanged:this.handlePasswordGeneratorConfigurationChanged})),react.createElement(Tab.A,{key:"passphrase",name:this.props.t("passphrase"),type:"passphrase",onClick:()=>this.handleGeneratorTypeChanged("passphrase")},"passphrase"===generatorConfiguration.default_generator&&react.createElement(ConfigurePassphraseGenerator.A,{configuration:generatorConfiguration.passphrase_generator_settings,onConfigurationChanged:this.handlePassphraseGeneratorConfigurationChanged})))),react.createElement("div",{className:"submit-wrapper input"},react.createElement("button",{type:"submit",className:"button primary big full-width "+(this.state.processing?"processing":""),disabled:this.state.processing||this.isPasswordEmpty()},react.createElement(es.x6,null,"Apply"),this.state.processing&&react.createElement(spinner.A,null)))))}}GeneratePasswordPage.propTypes={context:prop_types_default().any,prepareResourceContext:prop_types_default().any,history:prop_types_default().any,t:prop_types_default().func};const GeneratePasswordPage_GeneratePasswordPage=(0,react_router.y)((0,PrepareResourceContext.N5)((0,es.CI)("common")(GeneratePasswordPage)));GeneratePasswordPage.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"initEventHandlers",docblock:"Initialize the event handlers",modifiers:[],params:[],returns:null,description:"Initialize the event handlers"},{name:"handleGeneratorConfigurationChanged",docblock:"Handle when the generator configuration has changed\n@param generatorConfiguration The generator configuration",modifiers:[],params:[{name:"generatorSettings",optional:!1}],returns:null,description:"Handle when the generator configuration has changed"},{name:"handlePasswordGeneratorConfigurationChanged",docblock:"Handle when the password generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the password generator configuration has changed"},{name:"handlePassphraseGeneratorConfigurationChanged",docblock:"Handle when the passphrase generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the passphrase generator configuration has changed"},{name:"handleGeneratorTypeChanged",docblock:"Handle when the generator type has changed\n@param generatorConfiguration The generator configuration",modifiers:[],params:[{name:"generatorType",optional:!1}],returns:null,description:"Handle when the generator type has changed"},{name:"handleGeneratePasswordButtonClick",docblock:"Handle when one wants to generate password",modifiers:[],params:[],returns:null,description:"Handle when one wants to generate password"},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handleViewPasswordToggle",docblock:"Handle view password button click.",modifiers:[],params:[],returns:null,description:"Handle view password button click."},{name:"handleSubmit",docblock:"Handle the submission of the generated password.\n@params {ReactEvent} The react event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle the submission of the generated password."},{name:"handleCopyPassword",docblock:"Whenever one wants to copy the password",modifiers:["async"],params:[],returns:null,description:"Whenever one wants to copy the password"},{name:"generatePassword",docblock:"Generate the password\n@param {object} generatorConfiguration\n@returns {string} the generated password",modifiers:[],params:[{name:"generatorConfiguration",type:{name:"object"},optional:!1}],returns:{description:"the generated password",type:{name:"string"}},description:"Generate the password"},{name:"handleGoBackClick",docblock:null,modifiers:[],params:[{name:"ev",optional:!1,type:null}],returns:null},{name:"isPasswordEmpty",docblock:null,modifiers:[],params:[],returns:null},{name:"hasGeneratorConfiguration",docblock:null,modifiers:[],params:[],returns:null},{name:"translate",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"GeneratePasswordPage",props:{context:{description:"",type:{name:"any"},required:!1},prepareResourceContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var PrepareResourceContext_test_data=__webpack_require__("./src/react-quickaccess/contexts/PrepareResourceContext.test.data.js");const GeneratePasswordPage_test_stories={title:"Components/QuickAccess/GeneratePasswordPage",component:GeneratePasswordPage_GeneratePasswordPage},Initial=(args=>react.createElement(react_router.fS,{initialEntries:["/"]},react.createElement(react_router.qh,{component:routerProps=>react.createElement("div",{className:"container quickaccess"},react.createElement(GeneratePasswordPage_GeneratePasswordPage,{...args,...routerProps}))}))).bind({});Initial.args={prepareResourceContext:(0,PrepareResourceContext_test_data.M)(),onClose:()=>{},t:text=>text},Initial.parameters={css:"ext_quickaccess"};const __namedExportsOrder=["Initial"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:"args => <MemoryRouter initialEntries={['/']}>\n    <Route component={routerProps => <div className=\"container quickaccess\"><GeneratePasswordPage {...args} {...routerProps} /></div>}></Route>\n  </MemoryRouter>",...Initial.parameters?.docs?.source}}}},"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/components/Common/Tab/Tab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Tab extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.onClick(this.props.name)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"tab "+(this.props.isActive?"active":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"tab-link",onClick:this.handleClick},this.props.name))}}Tab.propTypes={name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,isActive:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=Tab;Tab.__docgenInfo={description:"Display of the Tab component",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"handleClick",docblock:"Handle click\n@param event",modifiers:[],params:[],returns:null,description:"Handle click"}],displayName:"Tab",props:{name:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!0},isActive:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Tab/Tabs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_Tab__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js");class Tabs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(props),this.bindCallback()}getDefaultState(props){return{activeTabName:props.activeTabName}}bindCallback(){this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(tabItem){this.setState({activeTabName:tabItem.type}),"function"==typeof tabItem.onClick&&tabItem.onClick()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tabs"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"tabs-nav tabs-nav--bordered"},this.props.children.map((({key,props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tab__WEBPACK_IMPORTED_MODULE_1__.A,{key,name:props.name,type:props.type,onClick:()=>this.handleTabClick(props),isActive:props.type===this.state.activeTabName})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tabs-active-content"},this.props.children.find((tab=>tab.props.type===this.state.activeTabName)).props.children))}}Tabs.propTypes={activeTabName:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=Tabs;Tabs.__docgenInfo={description:"Tabs component to handle the display of selected tab",methods:[{name:"getDefaultState",docblock:"Default state\n@param props Component props",modifiers:[],params:[{name:"props",description:"Component props",optional:!1}],returns:null,description:"Default state"},{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"handleTabClick",docblock:"Toggle currently active tab\n@param tabItem The item which represents the tab",modifiers:[],params:[{name:"tabItem",description:"The item which represents the tab",optional:!1}],returns:null,description:"Toggle currently active tab"}],displayName:"Tabs",props:{activeTabName:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-quickaccess/contexts/PrepareResourceContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N5:()=>withPrepareResourceContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_context_PasswordPoliciesContext_PasswordPoliciesContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const PrepareResourceContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({settings:null,lastGeneratedPassword:null,resourcePrepared:null,onPrepareResource:()=>{},onPasswordGenerated:()=>{},getSettings:()=>{},consumeLastGeneratedPassword:()=>{},consumePreparedResource:()=>{},resetSecretGeneratorSettings:()=>{}});class PrepareResourceContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{settings:null,lastGeneratedPassword:null,resourcePrepared:null,getSettings:this.getSettings.bind(this),onPrepareResource:this.onPrepareResource.bind(this),onPasswordGenerated:this.onPasswordGenerated.bind(this),consumeLastGeneratedPassword:this.consumeLastGeneratedPassword.bind(this),consumePreparedResource:this.consumePreparedResource.bind(this),resetSecretGeneratorSettings:this.resetSecretGeneratorSettings.bind(this)}}componentDidMount(){this.resetSecretGeneratorSettings()}async resetSecretGeneratorSettings(){await this.props.passwordPoliciesContext.findPolicies();const passwordPolicies=this.props.passwordPoliciesContext.getPolicies();this.setState({settings:passwordPolicies})}onPasswordGenerated(newPassword,newGeneratorSettings){this.setState({lastGeneratedPassword:newPassword,settings:newGeneratorSettings})}onPrepareResource(resource){this.setState({resourcePrepared:resource})}getSettings(){return this.state.settings}consumeLastGeneratedPassword(){const lastGeneratedPassword=this.state.lastGeneratedPassword;return this.setState({lastGeneratedPassword:null}),lastGeneratedPassword}consumePreparedResource(){const resourcePrepared=this.state.resourcePrepared;return this.setState({resourcePrepared:null}),resourcePrepared}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrepareResourceContext.Provider,{value:this.state},this.props.children)}}PrepareResourceContextProvider.displayName="PrepareResourceContextProvider",PrepareResourceContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,passwordPoliciesContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_PasswordPoliciesContext_PasswordPoliciesContext__WEBPACK_IMPORTED_MODULE_1__.WJ)(PrepareResourceContextProvider));function withPrepareResourceContext(WrappedComponent){return class WithPrepareResource extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrepareResourceContext.Consumer,null,(PrepareResourceContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{prepareResourceContext:PrepareResourceContext,...this.props})))}}}PrepareResourceContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"resetSecretGeneratorSettings",docblock:"Initialize the secret generator settings.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Initialize the secret generator settings."},{name:"onPasswordGenerated",docblock:"Whenever a password has been generated with the generator\n@param password The generated password",modifiers:[],params:[{name:"newPassword",optional:!1},{name:"newGeneratorSettings",optional:!1}],returns:null,description:"Whenever a password has been generated with the generator"},{name:"onPrepareResource",docblock:"Whenever a resource has been prepared by the user\n@param resource The prepared resource",modifiers:[],params:[{name:"resource",description:"The prepared resource",optional:!1}],returns:null,description:"Whenever a resource has been prepared by the user"},{name:"getSettings",docblock:"Get the settings of the password generator\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get the settings of the password generator"},{name:"consumeLastGeneratedPassword",docblock:"Get the last generated password\n@returns {string|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Get the last generated password"},{name:"consumePreparedResource",docblock:"Consume the prepared resource\n@returns {Object|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"Object"}]}},description:"Consume the prepared resource"}],displayName:"PrepareResourceContextProvider",props:{context:{description:"",type:{name:"object"},required:!1},passwordPoliciesContext:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/components/GeneratePassword/ConfigurePassphraseGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_react_extension_components_Common_Select_Select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js");class ConfigurePassphraseGenerator extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.initEventHandlers()}initEventHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleWordCountChange=this.handleWordCountChange.bind(this)}handleInputChange(event){const target=event.target,value=target.value,name=target.name,configuration={...this.props.configuration};configuration[name]=value,this.props.onConfigurationChanged(configuration)}handleWordCountChange(event){const configuration={...this.props.configuration,words:event.target.value};this.props.onConfigurationChanged(configuration)}get numberOfWords(){const config=this.props.configuration;return{default:config.words,min:config.min_words,max:config.max_words}}get separator(){return this.props.configuration.word_separator}get wordCase(){return this.props.configuration.word_case}get wordCaseList(){return[{value:"lowercase",label:this.translate("Lower case")},{value:"uppercase",label:this.translate("Upper case")},{value:"camelcase",label:this.translate("Camel case")}]}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-word-count"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Number of words")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,type:"range",onChange:this.handleInputChange,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"number",id:"configure-passphrase-generator-form-word-count",name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,onChange:this.handleWordCountChange,disabled:this.props.disabled}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-separator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Words separator")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",id:"configure-passphrase-generator-form-words-separator",name:"word_separator",value:this.separator,onChange:this.handleInputChange,placeholder:this.translate("Type one or more characters"),disabled:this.props.disabled})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-case"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Words case")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Select_Select__WEBPACK_IMPORTED_MODULE_2__.A,{id:"configure-passphrase-generator-form-words-case",name:"word_case",items:this.wordCaseList,value:this.wordCase,onChange:this.handleInputChange,disabled:this.props.disabled})))}}ConfigurePassphraseGenerator.propTypes={configuration:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired,onConfigurationChanged:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ConfigurePassphraseGenerator);ConfigurePassphraseGenerator.__docgenInfo={description:"",methods:[{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handleWordCountChange",docblock:"Handle form word count input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form word count input change."},{name:"numberOfWords",docblock:"Returns the current number of words option\n@return {{default: number, min: number, max: number}}",modifiers:["get"],params:[],returns:{},description:"Returns the current number of words option"},{name:"separator",docblock:"Returns the current separator option\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current separator option"},{name:"wordCase",docblock:"Returns the current word case option\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current word case option"},{name:"wordCaseList",docblock:"Get word case list\n@returns {Array<{label: string, value: string}>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[]}},description:"Get word case list"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ConfigurePassphraseGenerator",props:{configuration:{description:"",type:{name:"object"},required:!0},onConfigurationChanged:{description:"",type:{name:"func"},required:!0},disabled:{description:"",type:{name:"bool"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/shared/components/GeneratePassword/ConfigurePasswordGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js");class ConfigurePasswordGenerator extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleLengthChanged=this.handleLengthChanged.bind(this),this.handleMaskToggled=this.handleMaskToggled.bind(this),this.handleExcludeLookAlikeCharactersToggled=this.handleExcludeLookAlikeCharactersToggled.bind(this)}handleLengthChanged(event){const value=event.target.value,configuration={...this.props.configuration};configuration.length=value,this.props.onConfigurationChanged(configuration)}handleMaskToggled(maskName,event){event.preventDefault();const configuration={...this.props.configuration};configuration[maskName]=!configuration[maskName],this.props.onConfigurationChanged(configuration)}handleExcludeLookAlikeCharactersToggled(){const configuration={...this.props.configuration};configuration.exclude_look_alike_chars=!configuration.exclude_look_alike_chars,this.props.onConfigurationChanged(configuration)}render(){const config=this.props.configuration,maskNames=Object.entries(_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.MU);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-generator-length input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-length"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Length")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{name:"length",min:config.min_length,max:config.max_length,value:config.length,step:"1",type:"range",onChange:this.handleLengthChanged,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"configure-password-generator-form-length",type:"number",min:config.min_length,max:config.max_length,value:config.length,onChange:this.handleLengthChanged,disabled:this.props.disabled}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input text ${this.props.disabled?"disabled":""} select-button`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-masks"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Character Types")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button-group button-group--nowrap"},maskNames.map((([maskName])=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{key:maskName,type:"button",className:"button button-toggle "+(config[maskName]?"selected":""),onClick:event=>this.handleMaskToggled(maskName,event),disabled:this.props.disabled},_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.MU[maskName].label))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"configure-password-generator-form-exclude-look-alike",type:"checkbox",name:"exclude-look-alike",checked:config.exclude_look_alike_chars,onChange:this.handleExcludeLookAlikeCharactersToggled,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-exclude-look-alike"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Exclude look-alike characters")))))}}ConfigurePasswordGenerator.propTypes={configuration:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired,onConfigurationChanged:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ConfigurePasswordGenerator);ConfigurePasswordGenerator.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleLengthChanged",docblock:"Whenever the length option value has been changed",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Whenever the length option value has been changed"},{name:"handleMaskToggled",docblock:"Whenever a mask has been toggled on/off\n@param maskName The name of a mask\n@param event Dom Click event",modifiers:[],params:[{name:"maskName",description:"The name of a mask",optional:!1},{name:"event",description:"Dom Click event",optional:!1}],returns:null,description:"Whenever a mask has been toggled on/off"},{name:"handleExcludeLookAlikeCharactersToggled",docblock:"Whenever the exclude-look-alike-character option has been toggled on/off",modifiers:[],params:[],returns:null,description:"Whenever the exclude-look-alike-character option has been toggled on/off"}],displayName:"ConfigurePasswordGenerator",props:{configuration:{description:"",type:{name:"object"},required:!0},onConfigurationChanged:{description:"",type:{name:"func"},required:!0},disabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,WJ:()=>withPasswordPolicies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const PasswordPoliciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({policies:null,getPolicies:()=>{},findPolicies:()=>{},shouldRunDictionaryCheck:()=>{}});class PasswordPoliciesContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{policies:null,getPolicies:this.getPolicies.bind(this),findPolicies:this.findPolicies.bind(this),shouldRunDictionaryCheck:this.shouldRunDictionaryCheck.bind(this)}}async findPolicies(){if(null!==this.getPolicies())return;const policies=await this.props.context.port.request("passbolt.password-policies.get");this.setState({policies})}getPolicies(){return this.state.policies}shouldRunDictionaryCheck(){return Boolean(this.state.policies?.external_dictionary_check)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Provider,{value:this.state},this.props.children)}}PasswordPoliciesContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(PasswordPoliciesContextProvider);function withPasswordPolicies(WrappedComponent){return class WithPasswordPolicies extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Consumer,null,(passwordPoliciesContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{passwordPoliciesContext,...this.props})))}}}PasswordPoliciesContextProvider.__docgenInfo={description:"The Password policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicies",docblock:"Find the password policies settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the password policies settings"},{name:"getPolicies",docblock:"Returns the policies for password setting.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policies for password setting."},{name:"shouldRunDictionaryCheck",docblock:"Returns true if the password policies allows external dictionary checks\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the password policies allows external dictionary checks"}],displayName:"PasswordPoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/lib/Browser/clipBoard.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class ClipBoard{static async copy(text,port){if(navigator.clipboard)try{await navigator.clipboard.writeText(text)}catch{ClipBoard.copyWithBrowserExtension(text,port)}else ClipBoard.copyWithBrowserExtension(text,port)}static copyWithBrowserExtension(text,port){port.request("passbolt.clipboard.copy",text)}}const __WEBPACK_DEFAULT_EXPORT__=ClipBoard}}]);