/*! For license information please see react-extension-components-Resource-DisplayResourcesWorkspace-DisplayResourcesWorkspaceMainMenu-test-stories.3ccb0605.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[6681,9664],{"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FolderNotOwned:()=>FolderNotOwned,FolderOwned:()=>FolderOwned,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesWorkspaceMainMenu_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),DisplayResourcesWorkspaceMainMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),RbacContext_test_data=__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js"),DialogContext_test_data=__webpack_require__("./src/react-extension/contexts/DialogContext.test.data.js"),WorkflowContext_test_data=__webpack_require__("./src/react-extension/contexts/WorkflowContext.test.data.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),metadataTypesSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js"),metadataTypesSettingsEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js");const DisplayResourcesWorkspaceMainMenu_test_stories={title:"Components/Resource/DisplayResourcesWorkspaceMainMenu",component:DisplayResourcesWorkspaceMainMenu.A,parameters:{docs:{description:{component:"DisplayResourcesWorkspaceMainMenu stories"}}}},Template=({...args})=>react.createElement("div",{className:"header third"},react.createElement("div",{className:"col1 main-action-wrapper"},react.createElement(DisplayResourcesWorkspaceMainMenu.A,args))),props=function defaultPropsFolderOwned(data={}){return{context:(0,ExtAppContext_test_data.bC)(),rbacContext:(0,RbacContext_test_data.E2)(),resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.tw)(),dialogContext:(0,DialogContext_test_data.L)(),workflowContext:(0,WorkflowContext_test_data.q)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),metadataTypeSettings:new metadataTypesSettingsEntity.Ay((0,metadataTypesSettingsEntity_test_data.uc)()),...data}}(),FolderOwned=Template.bind({});FolderOwned.args={...props};const propsFolderNotOwned=function defaultPropsFolderNotOwned(data={}){return{context:(0,ExtAppContext_test_data.bC)(),rbacContext:(0,RbacContext_test_data.E2)(),resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.Rv)(),dialogContext:(0,DialogContext_test_data.L)(),workflowContext:(0,WorkflowContext_test_data.q)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),metadataTypeSettings:new metadataTypesSettingsEntity.Ay((0,metadataTypesSettingsEntity_test_data.uc)()),...data}}(),FolderNotOwned=Template.bind({});FolderNotOwned.args={...propsFolderNotOwned};const __namedExportsOrder=["FolderOwned","FolderNotOwned"];FolderOwned.parameters={...FolderOwned.parameters,docs:{...FolderOwned.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <div className="header third">\n    <div className="col1 main-action-wrapper">\n      <DisplayResourcesWorkspaceMainMenu {...args} />\n    </div>\n  </div>',...FolderOwned.parameters?.docs?.source}}},FolderNotOwned.parameters={...FolderNotOwned.parameters,docs:{...FolderNotOwned.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <div className="header third">\n    <div className="col1 main-action-wrapper">\n      <DisplayResourcesWorkspaceMainMenu {...args} />\n    </div>\n  </div>',...FolderNotOwned.parameters?.docs?.source}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormCancelButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.disabled||this.props.onClick()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.props.disabled,className:"link cancel",onClick:this.handleClick},this.props.value)}}FormCancelButton.defaultProps={value:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Cancel")},FormCancelButton.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default().node),prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,prop_types__WEBPACK_IMPORTED_MODULE_2___default().string])};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(FormCancelButton);FormCancelButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleClick",docblock:"Handle cancel click\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle cancel click"}],displayName:"FormCancelButton",props:{value:{defaultValue:{value:"<Trans>Cancel</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormSubmitButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let name="button primary";return this.props.warning?name+=" warning":this.props.attention&&(name+=" attention"),this.props.disabled&&(name+=" disabled"),this.props.processing&&(name+=" processing"),this.props.big&&(name+=" big"),this.props.medium&&(name+=" medium"),this.props.fullWidth&&(name+=" full-width"),name}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:this.getClassName(),disabled:this.props.disabled},this.props.value||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Save"),this.props.processing&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"spinner"}))}}FormSubmitButton.defaultProps={warning:!1,attention:!1},FormSubmitButton.propTypes={processing:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().string]),warning:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,attention:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,big:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,medium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,fullWidth:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FormSubmitButton);FormSubmitButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"getClassName",docblock:"Get the input button classname\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the input button classname"}],displayName:"FormSubmitButton",props:{warning:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},attention:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},processing:{description:"",type:{name:"bool"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},big:{description:"",type:{name:"bool"},required:!1},medium:{description:"",type:{name:"bool"},required:!1},fullWidth:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_20__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/ResourceFolder/CreateResourceFolder/CreateResourceFolder.js"),_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Resource/CreateResource/CreateResource.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflow.js"),_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflowMode.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/shared/context/MetadataTypesSettingsLocalStorageContext/MetadataTypesSettingsLocalStorageContext.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js");class DisplayResourcesWorkspaceMainMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{createMenuOpen:!1}}createRefs(){this.createMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleCreateClickEvent=this.handleCreateClickEvent.bind(this),this.handleCreateMenuPasswordClickEvent=this.handleCreateMenuPasswordClickEvent.bind(this),this.handleMenuCreateTotpClickEvent=this.handleMenuCreateTotpClickEvent.bind(this),this.handleMenuCreateFolderClickEvent=this.handleMenuCreateFolderClickEvent.bind(this),this.handleImportClickEvent=this.handleImportClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}handleDocumentClickEvent(event){this.createMenuRef.current.contains(event.target)||this.handleCloseCreateMenu()}handleDocumentContextualMenuEvent(event){this.createMenuRef.current.contains(event.target)||this.handleCloseCreateMenu()}handleDocumentDragStartEvent(){this.handleCloseCreateMenu()}handleCreateClickEvent(){if(this.props.context.siteSettings.canIUse("folders")){const createMenuOpen=!this.state.createMenuOpen;this.setState({createMenuOpen})}else this.openPasswordCreateDialog()}handleCreateMenuPasswordClickEvent(){this.openPasswordCreateDialog(),this.handleCloseCreateMenu()}handleImportClickEvent(){this.props.dialogContext.open(_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_6__.A)}openPasswordCreateDialog(){let resourceType;this.props.metadataTypeSettings.isDefaultResourceTypeV5?resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.gG):this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.Bo)),this.props.dialogContext.open(_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_8__.A,{folderParentId:this.folderIdSelected,resourceType})}handleMenuCreateTotpClickEvent(){this.openStandaloneTotpCreateDialog(),this.handleCloseCreateMenu()}openStandaloneTotpCreateDialog(){let resourceType;this.props.metadataTypeSettings.isDefaultResourceTypeV5?resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.uQ):this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.KY)),this.props.workflowContext.start(_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_12__.A,{mode:_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_13__._.CREATE_STANDALONE_TOTP,folderParentId:this.folderIdSelected,resourceType})}handleMenuCreateFolderClickEvent(){this.openFolderCreateDialog(),this.handleCloseCreateMenu()}openFolderCreateDialog(){this.props.dialogContext.open(_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_5__.A,{folderParentId:this.folderIdSelected})}handleCloseCreateMenu(){this.setState({createMenuOpen:!1})}get folderSelected(){const filter=this.props.resourceWorkspaceContext.filter;return filter&&filter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.FM.FOLDER?filter.payload.folder:null}get folderIdSelected(){return this.folderSelected&&this.folderSelected.id}canCreate(){return null===this.folderSelected||this.folderSelected.permission.type>=7}hasMetadataTypesSettings(){return Boolean(this.props.metadataTypeSettings)}canCreatePassword(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.gG):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.Bo)}canCreateStandaloneTotp(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.uQ):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_18__.KY)}render(){const canImport=this.props.context.siteSettings.canIUse("import")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_10__.e.RESOURCES_IMPORT),canUseFolders=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_10__.e.FOLDERS_USE),canUseTotp=this.props.context.siteSettings.canIUse("totpResourceTypes");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown",ref:this.createMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"create primary "+(this.state.createMenuOpen?"open":""),disabled:!this.canCreate(),onClick:this.handleCreateClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"add"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Create"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"dropdown-content menu right "+(this.state.createMenuOpen?"visible":"")},!this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"password_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_17__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"New password")))))))),canUseTotp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"totp_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_17__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"New TOTP"))))))))),this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.canCreatePassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"password_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuPasswordClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"New password"))))))),canUseTotp&&this.canCreateStandaloneTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"totp_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleMenuCreateTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"New TOTP")))))))),canUseFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"folder_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleMenuCreateFolderClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"New folder"))))))))),canImport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"import button-action-icon",onClick:this.handleImportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"upload"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"upload"))))}}DisplayResourcesWorkspaceMainMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_20___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_20___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_20___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_20___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_20___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_15__.A),metadataTypeSettings:prop_types__WEBPACK_IMPORTED_MODULE_20___default().instanceOf(_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_19__.Ay),workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_20___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_20___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_9__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_11__.AV)((0,_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_16__.mw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_14__.KH)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_7__.CI)("common")(DisplayResourcesWorkspaceMainMenu))))))));DisplayResourcesWorkspaceMainMenu.__docgenInfo={description:"This component allows the current user to create a new resource",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"handleCreateClickEvent",docblock:"Handle create click event",modifiers:[],params:[],returns:null,description:"Handle create click event"},{name:"handleCreateMenuPasswordClickEvent",docblock:"Handle password click event",modifiers:[],params:[],returns:null,description:"Handle password click event"},{name:"handleImportClickEvent",docblock:"Handle the import click event",modifiers:[],params:[],returns:null,description:"Handle the import click event"},{name:"openPasswordCreateDialog",docblock:"Open create password dialog",modifiers:[],params:[],returns:null,description:"Open create password dialog"},{name:"handleMenuCreateTotpClickEvent",docblock:"Handle folder click event",modifiers:[],params:[],returns:null,description:"Handle folder click event"},{name:"openStandaloneTotpCreateDialog",docblock:"Open create password dialog",modifiers:[],params:[],returns:null,description:"Open create password dialog"},{name:"handleMenuCreateFolderClickEvent",docblock:"Handle folder click event",modifiers:[],params:[],returns:null,description:"Handle folder click event"},{name:"openFolderCreateDialog",docblock:"Open create password dialog",modifiers:[],params:[],returns:null,description:"Open create password dialog"},{name:"handleCloseCreateMenu",docblock:"Close the create menu",modifiers:[],params:[],returns:null,description:"Close the create menu"},{name:"folderSelected",docblock:"Get the currently selected folder. Return null if none selected.\n@returns {null|object}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"}]}},description:"Get the currently selected folder. Return null if none selected."},{name:"folderIdSelected",docblock:"the folder id selected\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"the folder id selected"},{name:"canCreate",docblock:"can create a resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"can create a resource"},{name:"hasMetadataTypesSettings",docblock:"Has metadata types settings\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has metadata types settings"},{name:"canCreatePassword",docblock:"Can create password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create password"},{name:"canCreateStandaloneTotp",docblock:"Can create standalone totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create standalone totp"}],displayName:"DisplayResourcesWorkspaceMainMenu",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},metadataTypeSettings:{description:"",type:{name:"instanceOf",value:"MetadataTypesSettingsEntity"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/ResourceFolder/CreateResourceFolder/CreateResourceFolder.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_Error_InputValidator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/lib/Error/InputValidator.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_shared_constants_inputs_const__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/constants/inputs.const.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-router/esm/react-router.js");class CreateResourceFolder extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.createInputRefs(),this.bindEventHandlers()}componentDidMount(){this.setState({loading:!1,name:""},(()=>{this.nameRef.current.focus()}))}getDefaultState(){return{loading:!0,processing:!1,inlineValidation:!1,name:this.translate("loading..."),nameError:!1,nameWarning:""}}createInputRefs(){this.nameRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this)}handleClose(){this.props.onClose()}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value},(()=>{this.state.inlineValidation&&this.validate()}))}async handleFormSubmit(event){if(event.preventDefault(),!this.state.processing){if(this.setState({inlineValidation:this.state.inlineValidation||!0}),await this.toggleProcessing(),await this.validate(),this.hasValidationError())return await this.toggleProcessing(),void this.focusFirstFieldError();try{const folder=await this.createFolder();await this.handleSaveSuccess(folder.id)}catch(error){this.handleSaveError(error)}}}async handleSaveSuccess(folderId){await this.props.actionFeedbackContext.displaySuccess(this.translate("The folder has been added successfully")),this.props.history.push(`/app/folders/view/${folderId}`),this.props.onClose()}handleSaveError(error){"UserAbortsOperationError"===error.name||(console.error(error),this.handleError(error)),this.setState({processing:!1})}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__.A,errorDialogProps)}async toggleProcessing(){const prev=this.state.processing;return new Promise((resolve=>{this.setState({processing:!prev},resolve())}))}focusFirstFieldError(){this.nameRef.current.focus()}async createFolder(){const folderDto={name:this.state.name,folder_parent_id:this.props.folderParentId};return await this.props.context.port.request("passbolt.folders.create",folderDto)}async validate(){return await this.resetValidation(),await this.validateNameInput(),this.hasValidationError()}async resetValidation(){return new Promise((resolve=>{this.setState({nameError:!1},resolve())}))}validateNameInput(){let nameError=!1;const name=this.state.name.trim();return name.length||(nameError=this.translate("A name is required.")),name.length>256&&(nameError=this.translate("A name can not be more than 256 char in length.")),new Promise((resolve=>{this.setState({nameError},resolve)}))}handleNameInputKeyUp(){const nameWarning=(0,_lib_Error_InputValidator__WEBPACK_IMPORTED_MODULE_10__.d)(this.state.name,_shared_constants_inputs_const__WEBPACK_IMPORTED_MODULE_11__.Dt,this.translate);this.setState({nameWarning})}hasValidationError(){return!1!==this.state.nameError}hasAllInputDisabled(){return this.state.processing||this.state.loading}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{className:"folder-create-dialog",title:this.translate("Create a new folder"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"folder-create-form",onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input text required ${this.state.nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"folder-name-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Name"),this.state.nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_9__.A,{name:"exclamation"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"folder-name-input",name:"name",ref:this.nameRef,type:"text",value:this.state.name,placeholder:this.translate("Untitled folder"),maxLength:"256",required:"required",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,onKeyUp:this.handleNameInputKeyUp,autoComplete:"off",autoFocus:!0}),this.state.nameError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"error-message"},this.state.nameError),this.state.nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Warning:"))," ",this.state.nameWarning))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}CreateResourceFolder.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,folderParentId:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,onClose:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,history:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.y)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_7__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(CreateResourceFolder)))));CreateResourceFolder.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {*}",modifiers:[],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"createInputRefs",docblock:"Create references\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Create references"},{name:"bindEventHandlers",docblock:"Bind event handlers\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind event handlers"},{name:"handleClose",docblock:"Handle close button click.\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle close button click."},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form submit event."},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[{name:"folderId",optional:!1}],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:[],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"handleError",docblock:"handle error to display the error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"handle error to display the error dialog"},{name:"toggleProcessing",docblock:"Toggle processing state\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Toggle processing state"},{name:"focusFirstFieldError",docblock:"Focus the first field of the form which is in error state.\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Focus the first field of the form which is in error state."},{name:"createFolder",docblock:"Create the folder\n@returns {Promise<Object>} Folder entity or Error",modifiers:["async"],params:[],returns:{description:"Folder entity or Error",type:{name:"Promise",elements:[{name:"Object"}]}},description:"Create the folder"},{name:"validate",docblock:"Validate the form.\n@returns {Promise<boolean>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"boolean"}]}},description:"Validate the form."},{name:"resetValidation",docblock:"Reset validation errors\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Reset validation errors"},{name:"validateNameInput",docblock:"Validate the name input.\n@returns {Promise<void>}",modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the name input."},{name:"handleNameInputKeyUp",docblock:"Handle name input keyUp event.",modifiers:[],params:[],returns:null,description:"Handle name input keyUp event."},{name:"hasValidationError",docblock:"Return true if the form has some validation error\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the form has some validation error"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"CreateResourceFolder",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},folderParentId:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/DialogContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultDialogContext(context={}){const defaultContext={dialogs:[],open:jest.fn(),close:jest.fn(),closeAll:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{L:()=>defaultDialogContext})},"./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>defaultPasswordExpirySettingsContext});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js");__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");const defaultPasswordExpirySettingsContext=(data={})=>{const settings=data?.getSettings?data.getSettings():(0,_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__.Xc)(data),isFeatureEnabled=Boolean(settings?.automatic_update)||Boolean(settings?.automatic_expiry)||Boolean(settings?.policy_override),defaultExpiryDate=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.utc().plus({days:settings?.default_expiry_period}).toISO(),defaultData={findSettings:()=>{},getSettings:()=>settings,isFeatureEnabled:()=>isFeatureEnabled,getDefaultExpirationDate:()=>defaultExpiryDate};return Object.assign(defaultData,data)}},"./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AW:()=>defaultResourceWorkspaceContext,Rv:()=>resourceWorkspaceContextWithSelectedFolderICanRead,tw:()=>resourceWorkspaceContextWithSelectedFolderIOwn});var _ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_models_entity_folder_folderEntity_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/folder/folderEntity.test.data.js"),_shared_models_entity_resource_columnsResourceSettingCollection__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./src/shared/models/entity/resource/resourceEntity.test.data.js"),__webpack_require__("./src/shared/models/entity/resource/columnsResourceSettingCollection.js"));__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),__webpack_require__("./src/shared/models/entity/permission/permissionEntity.test.data.js"),__webpack_require__("./src/shared/models/entity/resourceMetadata/resourceMetadataEntity.test.data.js");function defaultResourceWorkspaceContext(data={}){return{details:{folder:null,resource:null},filteredResources:[],selectedResources:[],columnsResourceSetting:new _shared_models_entity_resource_columnsResourceSettingCollection__WEBPACK_IMPORTED_MODULE_3__.A([{id:"favorite",label:"Favorite",position:1,show:!0},{id:"attentionRequired",label:"Attention",position:2,show:!0},{id:"name",label:"Name",position:3,show:!0},{id:"expired",label:"Expiry",position:4,show:!0},{id:"username",label:"Username",position:5,show:!0},{id:"password",label:"Password",position:6,show:!0},{id:"totp",label:"TOTP",position:7,show:!0},{id:"uri",label:"URI",position:8,show:!0},{id:"modified",label:"Modified",position:9,show:!0},{id:"location",label:"Location",position:10,show:!0}]),filter:{type:_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_0__.FM.ALL},scrollTo:{},sorter:{propertyName:"modified"},onGoToResourceUriRequested:jest.fn(),onResourceCopied:jest.fn(),onResourcePreviewed:jest.fn(),onResourceSelected:{all:jest.fn(),none:jest.fn(),multiple:jest.fn(),range:jest.fn(),single:jest.fn()},onResourceScrolled:jest.fn(),onResourceEdited:jest.fn(),onSorterChanged:jest.fn(),onResourcesToExport:jest.fn(),onResourceFileImportResult:jest.fn(),onResourceFileToImport:jest.fn(),onLockDetail:jest.fn(),onChangeColumnView:jest.fn(),onChangeColumnsSettings:jest.fn(),getHierarchyFolderCache:jest.fn((()=>[])),...data}}function resourceWorkspaceContextWithSelectedFolderIOwn(data={}){return defaultResourceWorkspaceContext({filter:{type:_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_0__.FM.FOLDER,payload:{folder:(0,_shared_models_entity_folder_folderEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.nk)()}},...data})}function resourceWorkspaceContextWithSelectedFolderICanRead(data={}){return defaultResourceWorkspaceContext({filter:{type:_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_0__.FM.FOLDER,payload:{folder:(0,_shared_models_entity_folder_folderEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.ht)()}},...data})}},"./src/react-extension/contexts/WorkflowContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultWorkflowContext(context={}){const defaultContext={workflows:[],start:jest.fn(),stop:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{q:()=>defaultWorkflowContext})},"./src/react-extension/lib/Error/InputValidator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function maxSizeValidation(value,maxLength,translate){const sizeExceeded=value.length>=maxLength,warningMessage=translate("this is the maximum size for this field, make sure your data was not truncated");return sizeExceeded?warningMessage:""}__webpack_require__.d(__webpack_exports__,{d:()=>maxSizeValidation})},"./src/shared/context/Rbac/RbacContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E2:()=>defaultAdministratorRbacContext,UO:()=>denyRbacContext,mM:()=>defaultUserRbacContext});__webpack_require__("./src/shared/models/entity/groupUser/groupUserEntity.test.data.js"),__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");function defaultAdministratorRbacContext(data={}){return{canIUseUiAction:()=>!0,...data}}function defaultUserRbacContext(data={}){return{canIUseUiAction:()=>!0,...data}}function denyRbacContext(data={}){return{canIUseUiAction:()=>!1,...data}}},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{uc:()=>defaultMetadataTypesSettingsV4Dto});const defaultMetadataTypesSettingsV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data)},"./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Xc:()=>defaultPasswordExpirySettingsEntityDto,om:()=>overridenPasswordExpirySettingsEntityDto});const defaultPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!1,default_expiry_period:null},data),overridenPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!0,default_expiry_period:30},data)},"./node_modules/uuid/dist/esm-browser/stringify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});for(var _validate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js"),byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));const __WEBPACK_DEFAULT_EXPORT__=function stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.A)(uuid))throw TypeError("Stringified UUID is invalid");return uuid}},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var getRandomValues;__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v4});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js");const esm_browser_v4=function v4(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return(0,stringify.A)(rnds)}},"./node_modules/uuid/dist/esm-browser/validate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_validate});const regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const esm_browser_validate=function validate(uuid){return"string"==typeof uuid&&regex.test(uuid)}},"./node_modules/validator/es/lib/util/assertString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function assertString(input){if(!("string"==typeof input||input instanceof String)){var invalidType=_typeof(input);throw null===input?invalidType="null":"object"===invalidType&&(invalidType=input.constructor.name),new TypeError("Expected a string but received a ".concat(invalidType))}}__webpack_require__.d(__webpack_exports__,{A:()=>assertString})}}]);