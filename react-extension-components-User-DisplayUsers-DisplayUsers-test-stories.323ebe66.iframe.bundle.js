/*! For license information please see react-extension-components-User-DisplayUsers-DisplayUsers-test-stories.323ebe66.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[5454],{"./src/react-extension/components/User/DisplayUsers/DisplayUsers.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AccountRecoveryPending:()=>AccountRecoveryPending,Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayUsers_test_stories});var react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react=__webpack_require__("./node_modules/react/index.js"),DisplayUsers=__webpack_require__("./src/react-extension/components/User/DisplayUsers/DisplayUsers.js"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),AccountRecoveryUserContext_test_data=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.test.data.js"),roleEntity_test_data=__webpack_require__("./src/shared/models/entity/role/roleEntity.test.data.js"),UserWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.test.data.js");function defaultProps(props){return{context:(0,ExtAppContext_test_data.st)(),accountRecoveryContext:(0,AccountRecoveryUserContext_test_data.cJ)(),userWorkspaceContext:(0,UserWorkspaceContext_test_data.np)({onUserScrolled:()=>{},scrollTo:{user:{id:"54c6278e-f824-5fda-91ff-3e946b18d994",role_id:roleEntity_test_data.ol,role:{created:"2012-07-04T13:39:25+00:00",description:"Logged in user",id:roleEntity_test_data.ol,modified:"2012-07-04T13:39:25+00:00",name:"user"},username:"dame@passbolt.com",active:!0,deleted:!1,created:"2020-05-13T07:32:49+00:00",modified:"2020-05-13T08:32:49+00:00",profile:{id:"2766ff6b-87f1-53a9-98fd-72cd32a3df69",user_id:"54c6278e-f824-5fda-91ff-3e946b18d994",first_name:"Dame Steve",last_name:"Shirley",created:"2020-05-13T09:32:49+00:00",modified:"2020-05-13T09:32:49+00:00",avatar:{id:"81100609-d60d-4dc8-a8c8-de45522eee1b",user_id:"54c6278e-f824-5fda-91ff-3e946b18d994",foreign_key:"2766ff6b-87f1-53a9-98fd-72cd32a3df69",model:"Avatar",filename:"dame steve.png",filesize:20676,mime_type:"image/png",extension:"png",hash:"f2695972b9009970ac85aae95f907693268cd249",path:"Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.png",adapter:"Local",created:"2020-05-13T09:32:51+00:00",modified:"2020-05-13T09:32:51+00:00",url:{medium:"img/public/Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.a99472d5.png",small:"img/public/Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.65a0ba70.png"}}},__placeholder_last_logged_in__:"",last_logged_in:"",is_mfa_enabled:!1}},onSorterChanged:()=>{},onUserSelected:{single:()=>{}},sorter:{propertyName:"modified"},selectedUsers:[],filteredUsers:[{id:"640ebc06-5ec1-5322-a1ae-6120ed2f3a74",role_id:roleEntity_test_data.ol,role:{created:"2012-07-04T13:39:25+00:00",description:"Logged in user",id:roleEntity_test_data.ol,modified:"2012-07-04T13:39:25+00:00",name:"user"},username:"carol@passbolt.com",active:!0,deleted:!1,created:"2020-05-11T09:32:49+00:00",modified:"2020-05-12T09:32:49+00:00",profile:{id:"48bcd9ac-a520-53e0-b3a4-9da7e57b91aa",user_id:"640ebc06-5ec1-5322-a1ae-6120ed2f3a74",first_name:"Carol",last_name:"Shaw",created:"2020-05-13T09:32:49+00:00",modified:"2020-05-13T09:32:49+00:00",avatar:{id:"0f769127-3053-45e4-bd8e-75e766bb4d52",user_id:"640ebc06-5ec1-5322-a1ae-6120ed2f3a74",foreign_key:"48bcd9ac-a520-53e0-b3a4-9da7e57b91aa",model:"Avatar",filename:"carol.png",filesize:733439,mime_type:"image/png",extension:"png",hash:"7445a736df60a1ac1bfdab8fc5b842a95c495aec",path:"Avatar/73/09/19/0f769127305345e4bd8e75e766bb4d52/0f769127305345e4bd8e75e766bb4d52.png",adapter:"Local",created:"2020-05-13T09:32:51+00:00",modified:"2020-05-13T09:32:51+00:00",url:{medium:"img/public/Avatar/73/09/19/0f769127305345e4bd8e75e766bb4d52/0f769127305345e4bd8e75e766bb4d52.a99472d5.png",small:"img/public/Avatar/73/09/19/0f769127305345e4bd8e75e766bb4d52/0f769127305345e4bd8e75e766bb4d52.65a0ba70.png"}}},__placeholder_last_logged_in__:"",last_logged_in:"",is_mfa_enabled:!1},{id:"54c6278e-f824-5fda-91ff-3e946b18d994",role_id:roleEntity_test_data.ol,role:{created:"2012-07-04T13:39:25+00:00",description:"Logged in user",id:roleEntity_test_data.ol,modified:"2012-07-04T13:39:25+00:00",name:"user"},username:"dame@passbolt.com",active:!0,deleted:!1,created:"2020-05-13T07:32:49+00:00",modified:"2020-05-13T08:32:49+00:00",profile:{id:"2766ff6b-87f1-53a9-98fd-72cd32a3df69",user_id:"54c6278e-f824-5fda-91ff-3e946b18d994",first_name:"Dame Steve",last_name:"Shirley",created:"2020-05-13T09:32:49+00:00",modified:"2020-05-13T09:32:49+00:00",avatar:{id:"81100609-d60d-4dc8-a8c8-de45522eee1b",user_id:"54c6278e-f824-5fda-91ff-3e946b18d994",foreign_key:"2766ff6b-87f1-53a9-98fd-72cd32a3df69",model:"Avatar",filename:"dame steve.png",filesize:20676,mime_type:"image/png",extension:"png",hash:"f2695972b9009970ac85aae95f907693268cd249",path:"Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.png",adapter:"Local",created:"2020-05-13T09:32:51+00:00",modified:"2020-05-13T09:32:51+00:00",url:{medium:"img/public/Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.a99472d5.png",small:"img/public/Avatar/1b/9d/80/81100609d60d4dc8a8c8de45522eee1b/81100609d60d4dc8a8c8de45522eee1b.65a0ba70.png"}}},__placeholder_last_logged_in__:"",last_logged_in:"",is_mfa_enabled:!1}],filter:{type:UserWorkspaceContext.aj.ALL},getTranslatedRoleName:name=>name}),...props}}var AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const DisplayUsers_test_stories={title:"Components/User/DisplayUsers",component:DisplayUsers.A,decorators:[(Story,{args})=>react.createElement(AppContext.A.Provider,{value:args.context},react.createElement(UserWorkspaceContext.uF.Provider,{value:args.userWorkspaceContext},react.createElement(react_router.MemoryRouter,{initialEntries:["/"]},react.createElement("div",{id:"container",className:"page user"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000",style:{margin:"-1rem"}},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement(react_router.Route,{component:routerProps=>react.createElement(Story,{...args,...routerProps})}))))))))))]},Default={args:defaultProps()},AccountRecoveryPending={args:function propsWithFirstUserAttentionRequired(){const props=defaultProps();return props.userWorkspaceContext.filteredUsers[0].pending_account_recovery_request=!0,props.userWorkspaceContext.filteredUsers[1].missing_metadata_key_ids=["81100609-d60d-4dc8-a8c8-de45522eee1b"],props}()},__namedExportsOrder=["Default","AccountRecoveryPending"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: defaultProps()\n}",...Default.parameters?.docs?.source}}},AccountRecoveryPending.parameters={...AccountRecoveryPending.parameters,docs:{...AccountRecoveryPending.parameters?.docs,source:{originalSource:"{\n  args: propsWithFirstUserAttentionRequired()\n}",...AccountRecoveryPending.parameters?.docs?.source}}}},"./src/react-extension/contexts/AccountRecoveryUserContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cJ:()=>defaultAccountRecoveryUserContext});__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");function defaultAccountRecoveryUserContext(context={}){const defaultContext={findAccountRecoveryPolicy:jest.fn(),loadAccountRecoveryPolicy:jest.fn(),reloadAccountRecoveryPolicy:jest.fn(),isPolicyEnabled:jest.fn(()=>!0),setUserAccountRecoveryStatus:jest.fn()};return Object.assign(defaultContext,context)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>metadataPrivateKeyEntity});var entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class MetadataPrivateKeyDataEntity extends entityV2.A{static getSchema(){return{type:"object",required:["object_type","domain","fingerprint","armored_key","passphrase"],properties:{object_type:{type:"string",enum:["PASSBOLT_METADATA_PRIVATE_KEY"]},domain:{type:"string",maxLength:1024},fingerprint:{type:"string",pattern:/^[a-f0-9]{40}$/im},armored_key:{type:"string",maxLength:1e4,pattern:/^-----BEGIN PGP PRIVATE KEY BLOCK-----\r?\n((?:[!-9;-~]+:\s?.*\r?\n)*\r?\n)((?:[A-Za-z0-9+/]{1,76}\r?\n)*)([A-Za-z0-9+/]{1,76}={0,2}\r?\n)(=[A-Za-z0-9+/]{4}\r?\n)-----END PGP PRIVATE KEY BLOCK-----\s*$/},passphrase:{type:"string",maxLength:1024}}}}get armoredKey(){return this._props.armored_key}get fingerprint(){return this._props.fingerprint}}const metadataPrivateKeyDataEntity=MetadataPrivateKeyDataEntity;var userEntity=__webpack_require__("./src/shared/models/entity/user/userEntity.js");class MetadataPrivateKeyEntity extends entityV2.A{constructor(dto,options={}){super(dto,options),this._props.data&&"string"!=typeof this._props.data&&(this._data=new metadataPrivateKeyDataEntity(this._props.data,{...options,clone:!1}),delete this._props.data)}static getSchema(){return{type:"object",required:["user_id","data"],properties:{id:{type:"string",format:"uuid",nullable:!0},metadata_key_id:{type:"string",format:"uuid",nullable:!0},user_id:{type:"string",format:"uuid",nullable:!0},data_signed_by_current_user:{type:"string",format:"date-time",nullable:!0},data:{anyOf:[{type:"string",maxLength:1e4,pattern:/^-----BEGIN PGP MESSAGE-----\r?\n((?:[!-9;-~]+:\s?.*\r?\n)*\r?\n)((?:[A-Za-z0-9+/]{1,76}\r?\n)*)([A-Za-z0-9+/]{1,76}={0,2}\r?\n)(=[A-Za-z0-9+/]{4}\r?\n)-----END PGP MESSAGE-----\s*$/},{type:"object"}]},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid",nullable:!0},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid",nullable:!0}}}}validateBuildRules(){if(Boolean(this._props.data)&&Boolean(this._data)){const error=new entityValidationError.A,message="The property data and _data cannot be set at the same time";throw error.addError("data","only-one-defined",message),error}}toDto(contain){const result=Object.assign({},this._props),data=this.data;return result.data=data instanceof metadataPrivateKeyDataEntity?data.toDto():data,contain?(this._creator&&contain.creator&&(result.creator=this._creator.toDto(userEntity.A.ALL_CONTAIN_OPTIONS)),result):result}toDataDto(){return{data:this.toDto().data}}toContentCodeConfirmTrustRequestDto(){const result=this.toDto();return delete result.data,result}toJSON(){return this.toDto(userEntity.A.ALL_CONTAIN_OPTIONS)}cloneForSharing(userId){const cloneDto={user_id:userId,metadata_key_id:this.metadataKeyId,data:this.data};return new MetadataPrivateKeyEntity(cloneDto)}marshall(){}get data(){return this.isDecrypted?this._data:this._props.data}get id(){return this._props.id||null}get metadataKeyId(){return this._props.metadata_key_id||null}get isDecrypted(){return Boolean(this._data)}get userId(){return this._props.user_id}get dataSignedByCurrentUser(){return this._props.data_signed_by_current_user||null}get modifiedBy(){return this._props.modified_by}get modified(){return this._props.modified}set modified(modified){this._props.modified=modified}set modifiedBy(modifiedBy){this._props.modifiedBy=modifiedBy}set data(data){entitySchema.A.validateProp("data",data,this.cachedSchema.properties.data),"string"==typeof data?(this._props.data=data,delete this._data):(this._data=new metadataPrivateKeyDataEntity(data.toDto(),{clone:!0,validate:!1}),delete this._props.data)}set dataSignedByCurrentUser(value){entitySchema.A.validateProp("data_signed_by_current_user",value,this.cachedSchema.properties.data_signed_by_current_user),this._props.data_signed_by_current_user=value}static get ALL_CONTAIN_OPTIONS(){return{creator:!0}}}const metadataPrivateKeyEntity=MetadataPrivateKeyEntity}}]);