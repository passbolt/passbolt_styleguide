/*! For license information please see react-extension-components-Administration-ApiAdministrationWorkspace-test-stories.67a8a416.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[6137],{"./src/react-extension/components/Administration/ApiAdministrationWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HealthcheckPage:()=>HealthcheckPage,MfaPolicyPage:()=>MfaPolicyPage,UserDirectoryPage:()=>UserDirectoryPage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ApiAdministrationWorkspace_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),AdministrationWorkspace=__webpack_require__("./src/react-extension/components/Administration/AdministrationWorkspace.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),MFAContext=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),DisplayActionFeedbacks=__webpack_require__("./src/react-extension/components/Common/ActionFeedback/DisplayActionFeedbacks.js"),AnnouncementContext=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),TranslationProvider=__webpack_require__("./src/react-extension/components/Common/Internationalisation/TranslationProvider.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),ManageAnnouncements=__webpack_require__("./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js"),ManageContextualMenu=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js"),AdministrationWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.test.data.js"),ApiAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ApiAppContext.test.data.js"),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),rbacsCollection=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),apiClientOptions=__webpack_require__("./src/shared/lib/apiClient/apiClientOptions.js"),apiClient_apiClient=__webpack_require__("./src/shared/lib/apiClient/apiClient.js"),PassboltApiFetchError=__webpack_require__("./src/shared/lib/Error/PassboltApiFetchError.js");class PassboltSubscriptionError extends Error{constructor(message,subscription={}){super(message),this.name="PassboltSubscriptionError",this.subscription=subscription}}const Error_PassboltSubscriptionError=PassboltSubscriptionError;var abstractService=__webpack_require__("./src/shared/services/api/abstract/abstractService.js");class RbacMeService extends abstractService.A{constructor(apiClientOptions){super(apiClientOptions,RbacMeService.RESOURCE_NAME)}static get RESOURCE_NAME(){return"/rbacs/me"}static getSupportedContainOptions(){return["action","ui_action"]}async findMe(contains){const options=contains?this.formatContainOptions(contains,RbacMeService.getSupportedContainOptions()):null;return(await this.apiClient.findAll(options)).body}}const rbacMeService=RbacMeService;const auth_AuthLogoutService=class AuthLogoutService{constructor(apiClientOptions){apiClientOptions.setResourceName("auth"),this.apiClient=new apiClient_apiClient.O(apiClientOptions)}async logout(){const url=this.apiClient.buildUrl(`${this.apiClient.baseUrl}/logout`,{}),response=await this.apiClient.sendRequest("POST",url,null,{redirect:"manual"});if(!(response.ok||0===response.status))return this._logoutLegacy()}async _logoutLegacy(){const url=this.apiClient.buildUrl(`${this.apiClient.baseUrl}/logout`,{}),response=await this.apiClient.sendRequest("GET",url,null,{redirect:"manual"});if(!(response.ok||0===response.status))throw new PassboltApiFetchError.A("An unexpected error happened during the legacy logout process",{code:response.status})}};class ApiAppContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.authLogoutService=new auth_AuthLogoutService(this.getApiClientOptions())}async componentDidMount(){await this.getLoggedInUser(),await this.getSiteSettings(),await this.getRbacs(),this.initLocale(),this.removeSplashScreen();const skeleton=document.querySelector(".temporary.skeleton");skeleton&&skeleton.remove()}componentWillUnmount(){clearTimeout(this.state.onExpiredSession)}get defaultState(){return{name:"api",loggedInUser:null,rbacs:null,siteSettings:null,trustedDomain:this.baseUrl,basename:new URL(this.baseUrl).pathname,getApiClientOptions:this.getApiClientOptions.bind(this),locale:null,displayTestUserDirectoryDialogProps:{userDirectoryTestResult:null},setContext:context=>{this.setState(context)},onLogoutRequested:()=>this.onLogoutRequested(),onCheckIsAuthenticatedRequested:()=>this.onCheckIsAuthenticatedRequested(),onExpiredSession:this.onExpiredSession.bind(this),onGetSubscriptionKeyRequested:()=>this.onGetSubscriptionKeyRequested(),onRefreshLocaleRequested:this.onRefreshLocaleRequested.bind(this)}}get isReady(){return null!==this.state.loggedInUser&&null!==this.state.rbacs&&null!==this.state.siteSettings&&null!==this.state.locale}get baseUrl(){const baseElement=document.getElementsByTagName("base")&&document.getElementsByTagName("base")[0];return baseElement?baseElement.attributes.href.value.replace(/\/*$/g,""):(console.error("Unable to retrieve the page base tag"),"")}getApiClientOptions(){return(new apiClientOptions.k).setBaseUrl(this.state.trustedDomain)}async getLoggedInUser(){const apiClientOptions=this.getApiClientOptions().setResourceName("users"),apiClient=new apiClient_apiClient.O(apiClientOptions),loggedInUser=(await apiClient.get("me")).body;this.setState({loggedInUser})}async getRbacs(){let rbacsDto=[];if(this.state.siteSettings.canIUse("rbacs")){const apiClientOptions=this.getApiClientOptions(),rbacService=new rbacMeService(apiClientOptions);rbacsDto=await rbacService.findMe({ui_action:!0})}const rbacs=new rbacsCollection.A(rbacsDto,!0);this.setState({rbacs})}async getSiteSettings(){const apiClientOptions=this.getApiClientOptions().setResourceName("settings"),apiClient=new apiClient_apiClient.O(apiClientOptions),siteSettings=await apiClient.findAll();await this.setState({siteSettings:new SiteSettings.A(siteSettings.body)})}async initLocale(){const userLocale=await this.getUserLocale();if(userLocale)return this.setState({locale:userLocale.locale});const organizationLocale=this.state.siteSettings.locale;return this.setState({locale:organizationLocale})}async getUserLocale(){const userLocaleSettings=(await this.getUserSettings()).find((userSetting=>"locale"===userSetting.property));if(userLocaleSettings)return this.state.siteSettings.supportedLocales.find((supportedLocale=>supportedLocale.locale===userLocaleSettings.value))}async getUserSettings(){const apiClientOptions=this.getApiClientOptions().setResourceName("account/settings"),apiClient=new apiClient_apiClient.O(apiClientOptions);return(await apiClient.findAll()).body}removeSplashScreen(){document.getElementsByTagName("html")[0].classList.remove("launching")}async onLogoutRequested(){await this.authLogoutService.logout(),window.location.href=this.state.trustedDomain}async onCheckIsAuthenticatedRequested(){try{const apiClientOptions=this.getApiClientOptions().setResourceName("auth"),apiClient=new apiClient_apiClient.O(apiClientOptions);return await apiClient.get("is-authenticated"),!0}catch(error){if(error instanceof PassboltApiFetchError.A&&401===error.data.code)return!1;throw error}}onExpiredSession(callback){this.scheduledCheckIsAuthenticatedTimeout=setTimeout((async()=>{await this.onCheckIsAuthenticatedRequested()?this.onExpiredSession(callback):callback()}),6e4)}async onGetSubscriptionKeyRequested(){try{const apiClientOptions=this.getApiClientOptions().setResourceName("ee/subscription"),apiClient=new apiClient_apiClient.O(apiClientOptions);return(await apiClient.get("key")).body}catch(error){if(error instanceof PassboltApiFetchError.A){if(error.data&&402===error.data.code){const subscriptionKey=error.data.body;throw new Error_PassboltSubscriptionError(error.message,subscriptionKey)}}throw error}}onRefreshLocaleRequested(locale){this.state.siteSettings.setLocale(locale),this.initLocale()}render(){return react.createElement(AppContext.A.Provider,{value:this.state},this.isReady&&this.props.children)}}ApiAppContextProvider.propTypes={children:prop_types_default().any};const ApiAppContext=ApiAppContextProvider;ApiAppContextProvider.__docgenInfo={description:"The ApiApp context provider",methods:[{name:"defaultState",docblock:"Default state\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Default state"},{name:"isReady",docblock:"Returns true when the component can be rendered",modifiers:["get"],params:[],returns:null,description:"Returns true when the component can be rendered"},{name:"baseUrl",docblock:"Get the application base url\n@return {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the application base url"},{name:"getApiClientOptions",docblock:"Get the API client options\n@returns {ApiClientOptions}",modifiers:[],params:[],returns:{type:{name:"ApiClientOptions"}},description:"Get the API client options"},{name:"getLoggedInUser",docblock:"Retrieve the logged in user.\n@returns {Promise<object>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"object"}]}},description:"Retrieve the logged in user."},{name:"getRbacs",docblock:"Retrieve the rbacs.\n@returns {Promise<object>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"object"}]}},description:"Retrieve the rbacs."},{name:"getSiteSettings",docblock:"Fetch the site settings",modifiers:["async"],params:[],returns:null,description:"Fetch the site settings"},{name:"initLocale",docblock:"Get the locale following this priority:\n1. The user locale if set;\n2. The organization locale;\n@warning Require the site settings to be fetch to work.",modifiers:["async"],params:[],returns:null,description:"Get the locale following this priority:\n1. The user locale if set;\n2. The organization locale;"},{name:"getUserLocale",docblock:"Get the user locale.\n@returns {Promise<object>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"object"}]}},description:"Get the user locale."},{name:"getUserSettings",docblock:"Get the user settings.\n@returns {Promise<array>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"array"}]}},description:"Get the user settings."},{name:"removeSplashScreen",docblock:"Remove the splashscreen.",modifiers:[],params:[],returns:null,description:"Remove the splashscreen."},{name:"onLogoutRequested",docblock:"Listen when the user wants to logout.",modifiers:["async"],params:[],returns:null,description:"Listen when the user wants to logout."},{name:"onCheckIsAuthenticatedRequested",docblock:"Whenever the user authentication status must be checked\n@return {Promise<boolean>}\n@throw Error if an unexpected error occurred while checking the session",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"boolean"}]}},description:"Whenever the user authentication status must be checked"},{name:"onExpiredSession",docblock:"Check when the user session is expired and execute the callback.\n@param {function} callback The callback to execute",modifiers:[],params:[{name:"callback",description:"The callback to execute",type:{name:"function"},optional:!1}],returns:null,description:"Check when the user session is expired and execute the callback."},{name:"onGetSubscriptionKeyRequested",docblock:"Whenever the subsription key is requested\n@return {Promise<Object>}\n@throw Error if an unexpected error occurred while get the subscription key",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"Object"}]}},description:"Whenever the subsription key is requested"},{name:"onRefreshLocaleRequested",docblock:"Refresh the organization locale\n@param locale",modifiers:[],params:[{name:"locale",optional:!1}],returns:null,description:"Refresh the organization locale"}],displayName:"ApiAppContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}};var siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js");const mock_MockApiAppContextProvider=class MockApiAppContextProvider extends ApiAppContext{get baseUrl(){return document.baseURI}getSiteSettings(){this.setState({siteSettings:new SiteSettings.A(siteSettings.A)})}async getRbacs(){this.setState({rbacs:new rbacsCollection.A([],!0)})}};var MockFetch=__webpack_require__("./src/react-extension/test/mock/MockFetch.js"),mockApiResponse=__webpack_require__("./test/mocks/mockApiResponse.js"),DisplayUserDirectoryAdministration_test_data=__webpack_require__("./src/react-extension/components/Administration/DisplayUserDirectoryAdministration/DisplayUserDirectoryAdministration.test.data.js"),AdministrationUserDirectoryContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationUserDirectory/AdministrationUserDirectoryContext.js");const currentAdminUser=DisplayUserDirectoryAdministration_test_data.rB.find((user=>"admin@passbolt.com"===user.username)),mockFetch=new MockFetch.A;mockFetch.addGetFetchRequest(/directorysync\/settings/,(async()=>(0,mockApiResponse._)(DisplayUserDirectoryAdministration_test_data.Yw))),mockFetch.addGetFetchRequest(/account\/settings/,(async()=>(0,mockApiResponse._)([]))),mockFetch.addGetFetchRequest(/users\/me/,(async()=>(0,mockApiResponse._)(currentAdminUser))),mockFetch.addGetFetchRequest(/users*/,(async()=>(0,mockApiResponse._)(DisplayUserDirectoryAdministration_test_data.rB))),mockFetch.addGetFetchRequest(/settings\.json/,(async()=>(0,mockApiResponse._)(siteSettings.A)));const ApiAdministrationWorkspace_test_stories={title:"Workspaces/ApiAdministration",component:AdministrationWorkspace.A,parameters:{css:"api_main",docs:{description:{component:"Api served page for AdministrationWorkspace stories"}}},decorators:[(Story,{args})=>react.createElement(react_router.MemoryRouter,{initialEntries:[args.routerInitialEntry]},react.createElement(TranslationProvider.A,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},react.createElement(mock_MockApiAppContextProvider,null,react.createElement(RbacContext.Ay,null,react.createElement(MFAContext.Ay,null,react.createElement(ActionFeedbackContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(AnnouncementContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(DisplayActionFeedbacks.A,null),react.createElement(NavigationContext.Ay,null,react.createElement(react_router.Route,{path:["/app/administration/users-directory","/app/administration/mfa-policy","/app/administration/password-policies","/app/administration/user-passphrase-policies","/app/administration/healthcheck"]},react.createElement(AdministrationWorkspaceContext.Ay,{value:args.administrationWorkspaceContext},react.createElement(AdministrationUserDirectoryContext.Ay,null,react.createElement(ManageContextualMenu.A,null),react.createElement(ManageAnnouncements.A,null),react.createElement(ManageDialogs.A,null),react.createElement("div",{style:{margin:"-1rem"}},react.createElement(Story,args)))))))))))))))]},UserDirectoryPage={args:(0,ApiAppContext_test_data.s)({administrationWorkspaceContext:(0,AdministrationWorkspaceContext_test_data.M)({selectedAdministration:AdministrationWorkspaceContext.UZ.USER_DIRECTORY}),routerInitialEntry:"/app/administration/users-directory"})},MfaPolicyPage={args:{administrationWorkspaceContext:(0,AdministrationWorkspaceContext_test_data.M)({selectedAdministration:AdministrationWorkspaceContext.UZ.MFA_POLICY}),routerInitialEntry:"/app/administration/mfa-policy"}},HealthcheckPage={args:{administrationWorkspaceContext:(0,AdministrationWorkspaceContext_test_data.M)({selectedAdministration:AdministrationWorkspaceContext.UZ.HEALTHCHECK}),routerInitialEntry:"/app/administration/healthcheck"}},__namedExportsOrder=["UserDirectoryPage","MfaPolicyPage","HealthcheckPage"];UserDirectoryPage.parameters={...UserDirectoryPage.parameters,docs:{...UserDirectoryPage.parameters?.docs,source:{originalSource:'{\n  args: defaultAppContext({\n    administrationWorkspaceContext: defaultAdministrationWorkspaceContext({\n      selectedAdministration: AdministrationWorkspaceMenuTypes.USER_DIRECTORY\n    }),\n    routerInitialEntry: "/app/administration/users-directory"\n  })\n}',...UserDirectoryPage.parameters?.docs?.source}}},MfaPolicyPage.parameters={...MfaPolicyPage.parameters,docs:{...MfaPolicyPage.parameters?.docs,source:{originalSource:'{\n  args: {\n    administrationWorkspaceContext: defaultAdministrationWorkspaceContext({\n      selectedAdministration: AdministrationWorkspaceMenuTypes.MFA_POLICY\n    }),\n    routerInitialEntry: "/app/administration/mfa-policy"\n  }\n}',...MfaPolicyPage.parameters?.docs?.source}}},HealthcheckPage.parameters={...HealthcheckPage.parameters,docs:{...HealthcheckPage.parameters?.docs,source:{originalSource:'{\n  args: {\n    administrationWorkspaceContext: defaultAdministrationWorkspaceContext({\n      selectedAdministration: AdministrationWorkspaceMenuTypes.HEALTHCHECK\n    }),\n    routerInitialEntry: "/app/administration/healthcheck"\n  }\n}',...HealthcheckPage.parameters?.docs?.source}}}},"./src/img/svg/attention.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgAttention(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#attention_svg__clip0_2062_453107)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"var(--icon-exclamation-background-color)",stroke:"var(--icon-exclamation-border-color)",d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-exclamation-color)",d:"M9 6v3M9 12h.008"}))))}},"./src/img/svg/cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#cog_svg__clip0_93_844425)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 15.51a6.51 6.51 0 1 0 0-13.019 6.51 6.51 0 0 0 0 13.019"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 10.627a1.628 1.628 0 1 0 0-3.255 1.628 1.628 0 0 0 0 3.255M9.83.862V2.49M9.83 17.137V15.51M13.899 16.046l-.814-1.407M9.016 7.592 5.76 1.953M16.876 13.069l-1.407-.814M2.783 4.932l1.408.813M11.457 9h6.51M1.693 9H3.32M16.876 4.932l-1.407.813M2.783 13.069l1.408-.814M13.899 1.953l-.814 1.408M9.016 10.407l-3.255 5.64"}))))}},"./src/img/svg/heart.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHeart(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#heart_svg__clip0_93_734678)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.497 9.333c.993-.973 2-2.14 2-3.666A3.667 3.667 0 0 0 11.83 2c-1.173 0-2 .333-3 1.333-1-1-1.827-1.333-3-1.333a3.667 3.667 0 0 0-3.667 3.667c0 1.533 1 2.7 2 3.666L8.83 14z"}))))}},"./src/img/svg/help.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHelp(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#help_svg__clip0_93_844469)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M6.818 6.75a2.25 2.25 0 0 1 4.372.75c0 1.5-2.25 2.25-2.25 2.25M9 12.75h.008"}))))}},"./src/img/svg/logout.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLogout(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.75 15.75h-3a1.5 1.5 0 0 1-1.5-1.5V3.75a1.5 1.5 0 0 1 1.5-1.5h3M12 12.75 15.75 9 12 5.25M15.75 9h-9"})))}},"./src/img/svg/profile.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,_path3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgProfile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.75 13.5a1.5 1.5 0 0 0-1.5-1.5h-4.5a1.5 1.5 0 0 0-1.5 1.5"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.25 3H3.75a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V4.5a1.5 1.5 0 0 0-1.5-1.5"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M6 1.5V3M12 1.5V3"})))}},"./src/img/svg/settings.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSettings(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M24.5 4.667h-8.167M11.667 4.667H3.5M24.5 14H14M9.333 14H3.5M24.5 23.333h-5.833M14 23.333H3.5M16.333 2.333V7M9.333 11.667v4.667M18.667 21v4.667"})))}},"./src/img/svg/users.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUsers(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none",viewBox:"0 0 18 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.741 14.338V12.89a2.77 2.77 0 0 0-.826-2.04 2.82 2.82 0 0 0-2.04-.825H4.248a2.825 2.825 0 0 0-2.723 2.865v1.448M7.143 7.26a2.815 2.815 0 1 0-2.815-2.814 2.825 2.825 0 0 0 2.815 2.815M16.994 14.338V12.89a2.85 2.85 0 0 0-.592-1.724 2.8 2.8 0 0 0-1.52-1.02M12.068 1.724a2.74 2.74 0 0 1 1.52 1.02 2.804 2.804 0 0 1 0 3.446 2.74 2.74 0 0 1-1.52 1.02"})))}},"./node_modules/debounce-promise/dist/index.js":module=>{module.exports=function debounce(fn){var wait=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},lastCallAt=void 0,deferred=void 0,timer=void 0,pendingArgs=[];return function debounced(){var currentWait=function getWait(wait){return"function"==typeof wait?wait():wait}(wait),currentTime=(new Date).getTime(),isCold=!lastCallAt||currentTime-lastCallAt>currentWait;lastCallAt=currentTime;for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(isCold&&options.leading)return options.accumulate?Promise.resolve(fn.call(this,[args])).then((function(result){return result[0]})):Promise.resolve(fn.call.apply(fn,[this].concat(args)));if(deferred?clearTimeout(timer):deferred=function defer(){var deferred={};return deferred.promise=new Promise((function(resolve,reject){deferred.resolve=resolve,deferred.reject=reject})),deferred}(),pendingArgs.push(args),timer=setTimeout(flush.bind(this),currentWait),options.accumulate){var argsIndex=pendingArgs.length-1;return deferred.promise.then((function(results){return results[argsIndex]}))}return deferred.promise};function flush(){var thisDeferred=deferred;clearTimeout(timer),Promise.resolve(options.accumulate?fn.call(this,pendingArgs):fn.apply(this,pendingArgs[pendingArgs.length-1])).then(thisDeferred.resolve,thisDeferred.reject),pendingArgs=[],deferred=null}}},"./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js");class ManageAnnouncements extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){this.props.announcementContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.announcementContext.announcements.map((({key,Announcement,AnnouncementProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Announcement,{key,onClose:()=>this.close(key),...AnnouncementProps}))),this.props.children)}}ManageAnnouncements.propTypes={announcementContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__.w2)(ManageAnnouncements);ManageAnnouncements.__docgenInfo={description:"This component acts as an anchor for the different project announcements.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th announcement",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th announcement"}],displayName:"ManageAnnouncements",props:{announcementContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Avatar/UserAvatar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Avatar_UserAvatar});var _circle,_path,_circle2,react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const user_default=function SvgUserDefault(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:42,height:42,fill:"none",viewBox:"0 0 42 42"},props),_circle||(_circle=react.createElement("circle",{id:"background",cx:21,cy:21,r:21,fill:"var(--Avatar-Avatar-background)"})),_path||(_path=react.createElement("path",{fill:"var(--Avatar-Avatar)",d:"M27.184 26.54H14.852a7.36 7.36 0 0 0-5.362 2.2 7.4 7.4 0 0 0-2.216 5.36v1.145a19.66 19.66 0 0 0 13.672 5.522 19.66 19.66 0 0 0 13.673-5.522V34.1a7.38 7.38 0 0 0-2.199-5.362 7.38 7.38 0 0 0-5.236-2.198"})),_circle2||(_circle2=react.createElement("circle",{cx:21,cy:15.5,r:7.5,fill:"var(--Avatar-Avatar)"})))};var attention=__webpack_require__("./src/img/svg/attention.svg");const DEFAULT_AVATAR_URL_REGEXP=/img\/avatar\/user(_medium)?\.png$/;class UserAvatar extends react.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{error:!1,isLoading:!0}}bindCallbacks(){this.handleError=this.handleError.bind(this),this.handleLoaded=this.handleLoaded.bind(this)}get avatarUrl(){return this.props?.user?.profile?.avatar?.url?.medium}propsHasUrl(){return Boolean(this.avatarUrl)}propsUrlHasProtocol(){return this.avatarUrl.startsWith("https://")||this.avatarUrl.startsWith("http://")}formatUrl(url){return`${this.props.baseUrl}/${url}`}isDefaultAvatarUrlFromApi(){return DEFAULT_AVATAR_URL_REGEXP.test(this.avatarUrl)}getAvatarSrc(){return this.propsHasUrl()?this.propsUrlHasProtocol()?this.avatarUrl:this.formatUrl(this.avatarUrl):null}handleError(){console.error(`Could not load avatar image url: ${this.getAvatarSrc()}`),this.setState({error:!0})}handleLoaded(){this.setState({isLoading:!1})}getAltText(){const user=this.props?.user;return user?.first_name&&user?.last_name?this.props.t("Avatar of user {{first_name}} {{last_name}}.",{firstname:user.first_name,lastname:user.last_name}):"..."}render(){const srcAvatar=this.getAvatarSrc(),shouldDisplayDefaultAvatar=this.state.error||!this.props.user||this.isDefaultAvatarUrlFromApi()||!srcAvatar;return react.createElement("div",{className:`${this.props.className}`},react.createElement("div",{className:"default-avatar"},(shouldDisplayDefaultAvatar||this.state.isLoading)&&react.createElement(user_default,null),!shouldDisplayDefaultAvatar&&react.createElement("img",{src:srcAvatar,className:this.state.isLoading?"is-loading":"",onError:this.handleError,onLoad:this.handleLoaded,alt:this.getAltText()})),this.props.attentionRequired&&react.createElement(attention.A,{className:"attention-required"}))}}UserAvatar.defaultProps={className:"avatar user-avatar"},UserAvatar.propTypes={baseUrl:prop_types_default().string,user:prop_types_default().object,attentionRequired:prop_types_default().bool,className:prop_types_default().string,t:prop_types_default().func};const Avatar_UserAvatar=(0,es.CI)("common")(UserAvatar);UserAvatar.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {*}",modifiers:[],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"avatarUrl",docblock:"Returns the current avatar URL from the props\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current avatar URL from the props"},{name:"propsHasUrl",docblock:"Return true if the user from props contains a valid profile with avatar url properties\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the user from props contains a valid profile with avatar url properties"},{name:"propsUrlHasProtocol",docblock:"Check if the url has a protocol like http or https?\n@todo only check https for now\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the url has a protocol like http or https?"},{name:"formatUrl",docblock:"Format the avatar url to point on the site url.\n@param {string} url The relative url\n@returns {string}",modifiers:[],params:[{name:"url",description:"The relative url",type:{name:"string"},optional:!1}],returns:{type:{name:"string"}},description:"Format the avatar url to point on the site url."},{name:"isDefaultAvatarUrlFromApi",docblock:"Returns true if the given URL matches a default avatar from the API\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the given URL matches a default avatar from the API"},{name:"getAvatarSrc",docblock:"Get the user avatar url. If the user has no avatar defined, return the default one.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user avatar url. If the user has no avatar defined, return the default one."},{name:"handleError",docblock:"Handle error while loading the user avatar image.\nBy instance when the image is not present on the server.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle error while loading the user avatar image.\nBy instance when the image is not present on the server."},{name:"handleLoaded",docblock:"Handle loaded image event.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle loaded image event."},{name:"getAltText",docblock:"Get the user avatar image alternative text.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user avatar image alternative text."}],displayName:"UserAvatar",props:{className:{defaultValue:{value:'"avatar user-avatar"',computed:!1},description:"",type:{name:"string"},required:!1},baseUrl:{description:"",type:{name:"string"},required:!1},user:{description:"",type:{name:"object"},required:!1},attentionRequired:{description:"",type:{name:"bool"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js");class ManageContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.createRefs(),this.bindCallback()}bindCallback(){this.handleHide=this.handleHide.bind(this)}createRefs(){this.elementRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleHide(index){this.props.contextualMenuContext.hide(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.elementRef},this.props.contextualMenuContext.contextualMenus.map(((contextualMenu,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(contextualMenu.ContextualMenuComponent,{key:index,hide:()=>this.handleHide(index),...contextualMenu.componentProps}))))}}ManageContextualMenu.propTypes={contextualMenuContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__.t6)(ManageContextualMenu);ManageContextualMenu.__docgenInfo={description:"This component acts as an anchor for the different project contextual menus.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleHide",docblock:"Hide the contextual menu\n@param {int} index The contextual menu to close",modifiers:[],params:[{name:"index",description:"The contextual menu to close",type:{name:"int"},optional:!1}],returns:null,description:"Hide the contextual menu"}],displayName:"ManageContextualMenu",props:{contextualMenuContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageDialogs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){const dialog=this.props.dialogContext.dialogs.find((({key})=>key===index));dialog?.DialogProps?.onClose&&dialog.DialogProps.onClose(),this.props.dialogContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.dialogContext.dialogs.map((({key,Dialog,DialogProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Dialog,{key,...DialogProps,onClose:()=>this.close(key)}))),this.props.children)}}ManageDialogs.propTypes={dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__.z9)(ManageDialogs);ManageDialogs.__docgenInfo={description:"This component acts as an anchor for the different project dialogs.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th dialog",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th dialog"}],displayName:"ManageDialogs",props:{dialogContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Fingerprint/Fingerprint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Fingerprint extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fingerprint"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fingerprint-line"},this.props.fingerprint?.substring(0,20)?.replace(/.{4}/g,"$& ")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"fingerprint-line"},this.props.fingerprint?.substring(20)?.replace(/.{4}/g,"$& ")))}}Fingerprint.propTypes={fingerprint:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired};const __WEBPACK_DEFAULT_EXPORT__=Fingerprint;Fingerprint.__docgenInfo={description:"",methods:[],displayName:"Fingerprint",props:{fingerprint:{description:"",type:{name:"string"},required:!0}}}},"./src/react-extension/components/Common/Footer/Footer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/heart.svg"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js");class Footer extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://www.passbolt.com/docs/hosting/faq/why-I-see-unsafe-mode-banner/"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const versions=[],serverVersion=this.props.context.siteSettings.version;return serverVersion&&versions.push(`${this.props.t("Server")} ${serverVersion}`),this.props.context.extensionVersion&&versions.push(`${this.props.t("Client")} ${this.props.context.extensionVersion}`),versions.join(" / ")}get isUnsafeMode(){if(!this.props.context.siteSettings)return!1;const debug=this.props.context.siteSettings.debug,isHttpMode=this.props.context.siteSettings.url.startsWith("http://");return debug||isHttpMode}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("footer",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Unsafe mode"))),this.termsUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Terms"))),this.privacyUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Privacy"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Credits"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{message:this.versions,direction:"left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))),!this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null)))))}}Footer.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(Footer));Footer.__docgenInfo={description:"The application footer",methods:[{name:"privacyUrl",docblock:"Returns the terms link url",modifiers:["get"],params:[],returns:null,description:"Returns the terms link url"},{name:"creditsUrl",docblock:"Returns the credits link url",modifiers:["get"],params:[],returns:null,description:"Returns the credits link url"},{name:"unsafeUrl",docblock:"Returns the unsafe url.",modifiers:["get"],params:[],returns:null,description:"Returns the unsafe url."},{name:"termsUrl",docblock:"Returns the privacy link url",modifiers:["get"],params:[],returns:null,description:"Returns the privacy link url"},{name:"versions",docblock:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION",modifiers:["get"],params:[],returns:null,description:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION"},{name:"isUnsafeMode",docblock:"Returns true if the application is in an unsafe mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the application is in an unsafe mode"}],displayName:"Footer",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormSubmitButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let name="button primary form";return this.props.warning?name+=" warning":this.props.attention&&(name+=" attention"),this.props.disabled&&(name+=" disabled"),this.props.processing&&(name+=" processing"),this.props.big&&(name+=" big"),this.props.medium&&(name+=" medium"),this.props.fullWidth&&(name+=" full-width"),name}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:this.getClassName(),disabled:this.props.disabled},this.props.value||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Save"),this.props.processing&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))}}FormSubmitButton.defaultProps={warning:!1,attention:!1},FormSubmitButton.propTypes={processing:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().string]),warning:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,attention:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,big:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,medium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,fullWidth:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FormSubmitButton);FormSubmitButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"getClassName",docblock:"Get the input button classname\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the input button classname"}],displayName:"FormSubmitButton",props:{warning:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},attention:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},processing:{description:"",type:{name:"bool"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},big:{description:"",type:{name:"bool"},required:!1},medium:{description:"",type:{name:"bool"},required:!1},fullWidth:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,K:()=>WORKSPACE_ENUM});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/settings.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/users.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/cog.svg"),_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/help.svg");const WORKSPACE_ENUM={RESOURCE:"RESOURCE",ORGANISATION_SETTINGS:"ORGANISATION_SETTINGS",USER_AND_GROUPS:"USER_AND_GROUPS",USER_PROFILE:"USER_PROFILE"};class WorkspaceSwitcher extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){return this.props.isUserAdmin||this.props.isUserWorkspaceVisible?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"workspace-switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__.A,{className:"button-transparent switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"cog"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__.A,{direction:"left",className:"menu-switcher"},this.props.isUserAdmin&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.ORGANISATION_SETTINGS?"active":""),onClick:this.props.navigationContext.onGoToAdministrationRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Organisation Settings")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.USER_AND_GROUPS?"active":""),onClick:this.props.navigationContext.onGoToUsersRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Manage Users & Groups")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.props.navigationContext.onGoToHelpRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Help"))))))):null}}WorkspaceSwitcher.propTypes={isUserAdmin:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,isUserWorkspaceVisible:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,currentWorkspace:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_8__.qN)(WorkspaceSwitcher);WorkspaceSwitcher.__docgenInfo={description:"",methods:[],displayName:"WorkspaceSwitcher",props:{isUserAdmin:{description:"",type:{name:"bool"},required:!1},isUserWorkspaceVisible:{description:"",type:{name:"bool"},required:!1},currentWorkspace:{description:"",type:{name:"string"},required:!1},navigationContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/profile.svg"),_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/logout.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/close.svg"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/attention.svg"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayUserBadgeMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}getDefaultState(){return{open:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleToggleMenuClick=this.handleToggleMenuClick.bind(this),this.handleProfileClick=this.handleProfileClick.bind(this),this.handleSignOutClick=this.handleSignOutClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),this.props.context.siteSettings.canIUse("mfaPolicies")&&this.props.mfaContext.checkMfaChoiceRequired()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.userBadgeMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleDocumentClickEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentContextualMenuEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentDragStartEvent(){this.closeUserBadgeMenu()}closeUserBadgeMenu(){this.setState({open:!1})}getUserFullName(){return this.props.user&&this.props.user.profile?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:"..."}getUserUsername(){return this.props.user&&this.props.user.username?`${this.props.user.username}`:"..."}handleToggleMenuClick(e){e.preventDefault();const open=!this.state.open;this.setState({open})}handleProfileClick(){this.props.navigationContext.onGoToUserSettingsProfileRequested(),this.closeUserBadgeMenu()}async handleSignOutClick(){try{await this.props.context.onLogoutRequested()}catch(error){this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_13__.A,{error})}finally{this.closeUserBadgeMenu()}}get attentionRequired(){return this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()||this.props.mfaContext.isMfaChoiceRequired()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"profile-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"user profile dropdown",ref:this.userBadgeMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"avatar-with-name button avatar-button "+(this.state.open?"open":""),onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{user:this.props.user,baseUrl:this.props.baseUrl,attentionRequired:this.attentionRequired})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown-content left visible"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button button-transparent user-profile-close",role:"button",onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"svg-icon close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},"Close")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{user:this.props.user,baseUrl:this.props.baseUrl}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"informations"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},this.getUserFullName()),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"email"},this.getUserUsername())),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"manage-account"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary",onClick:this.handleProfileClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_8__.A,null)," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Manage account"),this.attentionRequired&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"attention-required"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border sign-out",onClick:this.handleSignOutClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_9__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Sign out")))))}}DisplayUserBadgeMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,baseUrl:prop_types__WEBPACK_IMPORTED_MODULE_14___default().string,user:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__.x6)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__.qN)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_12__.z9)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_3__.Le)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_6__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserBadgeMenu)))))));DisplayUserBadgeMenu.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"closeUserBadgeMenu",docblock:"Close the user badge menu",modifiers:[],params:[],returns:null,description:"Close the user badge menu"},{name:"getUserFullName",docblock:"Get the user full name\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user full name"},{name:"getUserUsername",docblock:"Get the user username\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user username"},{name:"handleToggleMenuClick",docblock:"Handle click on menu (toggle open state)\n@param {Event} e\n@return {void}",modifiers:[],params:[{name:"e",type:{name:"Event"},optional:!1}],returns:{type:{name:"void"}},description:"Handle click on menu (toggle open state)"},{name:"handleProfileClick",docblock:"Whenever the user wants to navigate to the users settings workspace profile section.",modifiers:[],params:[],returns:null,description:"Whenever the user wants to navigate to the users settings workspace profile section."},{name:"handleSignOutClick",docblock:"Handles the click on Sign out button\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handles the click on Sign out button"},{name:"attentionRequired",docblock:"Returns true if the account recovery needs to be configured.\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the account recovery needs to be configured."}],displayName:"DisplayUserBadgeMenu",props:{context:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},baseUrl:{description:"",type:{name:"string"},required:!1},user:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/shared/models/entity/abstract/entityV2Collection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entityValidationError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),_entityCollection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityCollection.js"),_collectionValidationError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/abstract/collectionValidationError.js"),_entityCollectionError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/abstract/entityCollectionError.js"),_entitySchema__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js");class EntityV2Collection extends _entityCollection__WEBPACK_IMPORTED_MODULE_1__.A{static _cachedSchema={};get entityClass(){throw new Error("The collection class should declare the entity class that is handled.")}constructor(dtos=[],options={}){super(dtos,options);(options?.validate??!0)&&this.validateSchema(),this.pushMany(this._props,{...options,clone:!1}),this._props=null}validateSchema(){this._props=_entitySchema__WEBPACK_IMPORTED_MODULE_4__.A.validate(this.constructor.name,this._props,this.cachedSchema)}get cachedSchema(){return this.constructor._cachedSchema[this.constructor.name]||(this.constructor._cachedSchema[this.constructor.name]=this.constructor.getSchema()),this.constructor._cachedSchema[this.constructor.name]}static getSchema(){throw new Error("The collection class should declare its schema.")}buildOrCloneEntity(data,entityOptions={}){if(!data||"object"!=typeof data)throw new TypeError(`${this.entityClass.name}::buildOrCloneEntity expects "data" to be an object.`);return data instanceof this.entityClass&&(data=data.toDto(this.entityClass?.ALL_CONTAIN_OPTIONS)),new this.entityClass(data,entityOptions)}validateBuildRules(item,options={}){}validate(options={}){try{this.validateItems(options)}catch(error){if(!(error instanceof _collectionValidationError__WEBPACK_IMPORTED_MODULE_2__.A))throw error;return error}return null}validateItems(options={}){if(0===this.length)return null;const collectionValidationError=new _collectionValidationError__WEBPACK_IMPORTED_MODULE_2__.A;if(this.items.forEach(((entity,index)=>{const errors=entity.validate(options);errors&&collectionValidationError.addItemValidationError(index,errors)})),collectionValidationError.hasErrors())throw collectionValidationError}push(data,entityOptions={},options={}){const entity=this.buildOrCloneEntity(data,entityOptions);this.validateBuildRules(entity,options?.validateBuildRules),this._items.push(entity),options?.onItemPushed?.(entity)}pushOrReplace(data,entityOptions={},options={}){const replacePropertyName=options?.replacePropertyName||"id",foundIndex=this.items.findIndex((entity=>entity[replacePropertyName]===data[replacePropertyName]));if(-1!==foundIndex){this.items.splice(foundIndex,1);const entity=this.buildOrCloneEntity(data,entityOptions);this.validateBuildRules(entity,options?.validateBuildRules),this.items.splice(foundIndex,0,entity)}else this.push(data,entityOptions,options)}pushMany(data,entityOptions={},options={}){if(!Array.isArray(data))throw new TypeError(`${this.constructor.name} pushMany expects "data" to be an array.`);data.forEach(((itemDto,index)=>{try{this.push(itemDto,entityOptions,options)}catch(error){this.handlePushItemError(index,error,entityOptions)}}))}handlePushItemError(index,error,entityOptions){if(!(error instanceof _entityValidationError__WEBPACK_IMPORTED_MODULE_0__.A||error instanceof _collectionValidationError__WEBPACK_IMPORTED_MODULE_2__.A||error instanceof _entityCollectionError__WEBPACK_IMPORTED_MODULE_3__.A))throw error;if(!entityOptions?.ignoreInvalidEntity){const collectionValidationError=new _collectionValidationError__WEBPACK_IMPORTED_MODULE_2__.A;throw collectionValidationError.addItemValidationError(index,error),collectionValidationError}console.debug(`${this.entityClass.name}::pushMany ignore item (${index}) due to validation error ${JSON.stringify(error?.details)}`)}}const __WEBPACK_DEFAULT_EXPORT__=EntityV2Collection},"./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class MetadataKeysSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["allow_usage_of_personal_keys","zero_knowledge_key_share"],properties:{allow_usage_of_personal_keys:{type:"boolean"},zero_knowledge_key_share:{type:"boolean"}}}}static createFromDefault(data={}){return new MetadataKeysSettingsEntity({allow_usage_of_personal_keys:!0,zero_knowledge_key_share:!1,...data})}get allowUsageOfPersonalKeys(){return this._props.allow_usage_of_personal_keys}get zeroKnowledgeKeyShare(){return this._props.zero_knowledge_key_share}}const __WEBPACK_DEFAULT_EXPORT__=MetadataKeysSettingsEntity},"./src/shared/models/entity/rbac/rbacEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>rbacEntity});var entity=__webpack_require__("./src/shared/models/entity/abstract/entity.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js");class ActionEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(ActionEntity.ENTITY_NAME,dto,ActionEntity.getSchema()),options)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"Action"}}const actionEntity=ActionEntity;class UiActionEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(UiActionEntity.ENTITY_NAME,dto,UiActionEntity.getSchema()),options)}static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255}}}}get id(){return this._props.id}get name(){return this._props.name}static get ENTITY_NAME(){return"UiAction"}}const uiActionEntity=UiActionEntity;var controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js");class RbacEntity extends entity.A{constructor(dto,options={}){super(entitySchema.A.validate(RbacEntity.ENTITY_NAME,dto,RbacEntity.getSchema()),options),this._props.action&&(this._action=new actionEntity(this._props.action,{clone:!1})),delete this._props.action,this._props.ui_action&&(this._ui_action=new uiActionEntity(this._props.ui_action,{clone:!1})),delete this._props.ui_action}static getSchema(){return{type:"object",required:["id","role_id","foreign_model","foreign_id","control_function"],properties:{id:{type:"string",format:"uuid"},role_id:{type:"string",format:"uuid"},foreign_model:{type:"string",enum:[RbacEntity.FOREIGN_MODEL_ACTION,RbacEntity.FOREIGN_MODEL_UI_ACTION]},foreign_id:{type:"string",format:"uuid"},control_function:{type:"string",enum:[controlFunctionEnumeration.HK.ALLOW,controlFunctionEnumeration.HK.DENY,controlFunctionEnumeration.HK.ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP]},action:actionEntity.getSchema(),ui_action:uiActionEntity.getSchema()}}}toDto(contain){const result=Object.assign({},this._props);return contain?(this._action&&contain.action&&(result.action=this._action.toDto()),this._ui_action&&contain.ui_action&&(result.ui_action=this._ui_action.toDto()),result):result}toUpdateDto(){return{id:this.id,control_function:this.controlFunction}}toJSON(){return this.toDto(RbacEntity.ALL_CONTAIN_OPTIONS)}get id(){return this._props.id}get roleId(){return this._props.role_id}get foreignModel(){return this._props.foreign_model}get foreignId(){return this._props.foreign_id}get controlFunction(){return this._props.control_function}set controlFunction(controlFunction){entitySchema.A.validateProp("control_function",controlFunction,RbacEntity.getSchema().properties.control_function),this._props.control_function=controlFunction}get action(){return this._action||null}get uiAction(){return this._ui_action||null}static get ENTITY_NAME(){return"Rbac"}static get ALL_CONTAIN_OPTIONS(){return{action:!0,ui_action:!0}}static get FOREIGN_MODEL_ACTION(){return"Action"}static get FOREIGN_MODEL_UI_ACTION(){return"UiAction"}}const rbacEntity=RbacEntity},"./src/shared/models/entity/rbac/rbacsCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _rbacEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/rbac/rbacEntity.js"),_abstract_entityCollection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityCollection.js"),_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),_role_roleEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class RbacsCollection extends _abstract_entityCollection__WEBPACK_IMPORTED_MODULE_1__.A{constructor(collectionDto,excludeInvalid=!1){super(_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_2__.A.validate(RbacsCollection.ENTITY_NAME,collectionDto,RbacsCollection.getSchema())),this._props.forEach((dto=>{try{this._items.push(new _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A(dto))}catch(e){if(!excludeInvalid)throw e}})),this._props=null}static getSchema(){return{type:"array",items:_rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A.getSchema()}}get rbacs(){return this._items}toBulkUpdateDto(){return this.items.map((rbac=>rbac.toUpdateDto()))}findRbacByRoleAndUiActionName(role,name){if(!(role instanceof _role_roleEntity__WEBPACK_IMPORTED_MODULE_3__.A))throw new Error("The role parameter should be a role entity.");if("string"!=typeof name&&!(name instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((rbac=>rbac.roleId===role.id&&rbac.uiAction?.name===name))}findRbacByActionName(name){if("string"!=typeof name&&!(name instanceof String))throw new Error("The name parameter should be a valid string.");return this.rbacs.find((rbac=>rbac.uiAction?.name===name))}push(dto){if(!dto||"object"!=typeof dto)throw new TypeError("The function expect an object as parameter");dto instanceof _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A&&(dto=dto.toDto(_rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A.ALL_CONTAIN_OPTIONS));const entity=new _rbacEntity__WEBPACK_IMPORTED_MODULE_0__.A(dto);super.push(entity)}addOrReplace(rbac){const index=this.items.findIndex((existingRbac=>existingRbac.id===rbac.id));index>-1?this._items[index]=rbac:this.push(rbac)}remove(rbac){const length=this.items.length;let i=0;for(;i<length;i++){if(this.items[i].id===rbac.id)return void this._items.splice(i,1)}}static get ENTITY_NAME(){return"Rbacs"}static get RULE_UNIQUE_ID(){return"unique_id"}}const __WEBPACK_DEFAULT_EXPORT__=RbacsCollection},"./src/shared/models/entity/role/roleEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class RoleEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",enum:[RoleEntity.ROLE_ADMIN,RoleEntity.ROLE_USER,RoleEntity.ROLE_GUEST,RoleEntity.ROLE_ROOT]},description:{type:"string",maxLength:255},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get name(){return this._props.name}get description(){return this._props.description||null}get created(){return this._props.created||null}get modified(){return this._props.modified||null}isAdmin(){return this.name===RoleEntity.ROLE_ADMIN}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_ROOT(){return"root"}}const __WEBPACK_DEFAULT_EXPORT__=RoleEntity},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}}}]);