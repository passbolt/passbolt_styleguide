/* dropdown button */
.dropdown {
    float: left;
    position: relative;
    margin-right: .8rem;

    button, .button {
        &.open {
            z-index: 4;
            background: var(--Primary-button-Primary-button-menu-background);
            border-radius: var(--Button-border-radius) var(--Button-border-radius) 0 0;
            box-shadow: inset .1rem 0 0 0 var(--Action-button-Action-button-border), inset -.1rem 0 0 0 var(--Action-button-Action-button-border), inset 0 .1rem 0 0 var(--Action-button-Action-button-border);
            color: var(--Text-and-icons-Main-text);

            svg {
                --icon-color: var(--Text-and-icons-Icons);
                --icon-background-color: var(--Workspace-Workspace-background);
            }
        }
    }

    /* dropdown content */
    .dropdown-content {
        float: left;
        position: absolute;
        top: calc(100% - .1rem);
        z-index: 3;
        display: none;
        border: 1px solid var(--Action-button-Action-button-border);
        box-sizing: border-box;
        background: var(--Primary-button-Primary-button-menu-background);
        padding: .8rem 0 .8rem 0;
        box-shadow: var(--Menu-drop-shadow-Menu-drop-shadow-X) var(--Menu-drop-shadow-Menu-drop-shadow-Y) var(--Menu-drop-shadow-Menu-drop-shadow-blur) 0 var(--Menu-drop-shadow-Menu-drop-shadow, rgba(0, 0, 0, 0.10));
        border-radius: var(--Menu-radius);
        font-size: 1.5rem;
        line-height: 2rem;
        width: max-content;
        min-width: calc(100% + 3.2rem);

        &.visible {
            display: block;
        }

        &.left {
            right: 0;
            border-radius: var(--Menu-radius) 0 var(--Menu-radius) var(--Menu-radius);
        }

        &.right {
            left: 0;
            border-radius: 0 var(--Menu-radius) var(--Menu-radius) var(--Menu-radius);
        }

        &.over {
            right: -.1rem;
            top: -.4rem;
            z-index: 10;
            padding: 0;
            box-shadow: none;
            border: none;

            &:before {
                content: "";
                position: absolute;
                width: 100%;
                border-radius: var(--Workspace-selection-button-radius);
                // 4.1rem is the height of a single dropdown item in this context
                top: 4.1rem;
                height: calc(100% - 4.1rem);
                box-shadow: var(--Menu-drop-shadow-Menu-drop-shadow-X) var(--Menu-drop-shadow-Menu-drop-shadow-Y) var(--Menu-drop-shadow-Menu-drop-shadow-blur) 0 var(--Menu-drop-shadow-Menu-drop-shadow);
            }

            button.no-border {
                display: flex;
                justify-content: flex-end;
                padding: 1rem var(--Workspace-selection-button-padding);
                gap: 1.6rem;
            }

            li {
                position: relative;
                background: var(--Workspace-Workspace-button-background);
                border-left: .1rem solid var(--Action-button-Action-button-border);
                border-right: .1rem solid var(--Action-button-Action-button-border);

                &:first-child {
                    border-radius: var(--Workspace-selection-button-radius) var(--Workspace-selection-button-radius) 0 0;
                    border-top: .1rem solid var(--Action-button-Action-button-border);

                    button {
                        border-radius: var(--Workspace-selection-button-radius) var(--Workspace-selection-button-radius) 0 0;
                    }
                }

                &:last-child {
                    border-radius: 0 0 var(--Workspace-selection-button-radius) var(--Workspace-selection-button-radius);
                    border-bottom: .1rem solid var(--Action-button-Action-button-border);

                    button {
                        border-radius: 0 0 var(--Workspace-selection-button-radius) var(--Workspace-selection-button-radius);
                    }
                }
            }
        }


        // Separator of contextual menu item
        .separator-after {
            border-bottom: 1px solid var(--Workspace-Dividers);
            margin-bottom: .4rem;
            button {
                margin-bottom: .4rem;
            }
        }

        // Dropdown menu item
        button.no-border {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            align-self: stretch;
            background: none;
            border: none;
            padding: .8rem 1.6rem;
            float: inherit;
            margin-right: inherit;
            width: 100%;
            border-radius: 0;
            box-shadow: none;

            // Dropdown menu item hover and focus
            &:hover, &:focus, &:focus-visible {
                background: var(--Sections-Filter-selected);
            }

            // Dropdown menu item pressed
            &:active {
              box-shadow: inset 0 -0.1rem 0 0 var(--States-Active-Highlight), inset 0 .1rem 0 0 var(--States-Active-Shadow);
            }
        }

        .checkbox {
          padding: .8rem 1.6rem;
          margin: 0;

          // Dropdown menu item hover
          &:hover {
            background: var(--Sections-Filter-selected);
          }
        }

        .radio {
          padding: .8rem 1.6rem;
          margin: 0;

          // Dropdown menu item hover
          &:hover {
            background: var(--Sections-Filter-selected);
          }
        }
    }
}