/*! For license information please see 829.2eaaa702.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[829],{"./src/react-extension/components/User/DeleteUser/DeleteUserWithConflicts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_LoadingContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/LoadingContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Select_Select__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js");class DeleteUserWithConflicts extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props,context){super(props,context),this.initializeProperties(),this.state=this.getDefaultState(),this.initEventHandlers()}initializeProperties(){this.groupsErrors=this.getGroupsErrors(),this.groupsGroupsUsersOptions=this.getGroupsGroupsUsersOptionsMap(),this.foldersErrors=this.getFoldersErrors(),this.resourcesErrors=this.getResourcesErrors(),this.acosPermissionsOptions=this.getAcosPermissionsOptionsMap()}getDefaultState(){return{processing:!1,owners:this.populateDefaultOwners(),managers:this.populateDefaultManagers()}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleOnChangeOwner=this.handleOnChangeOwner.bind(this),this.handleOnChangeManager=this.handleOnChangeManager.bind(this)}getGroupsErrors(){const errors=this.props.context.deleteUserWithConflictsDialogProps.errors;return(errors.groups&&errors.groups.sole_manager||[]).sort(((groupA,groupB)=>groupA.name.localeCompare(groupB.name)))}getFoldersErrors(){const errors=this.props.context.deleteUserWithConflictsDialogProps.errors;return(errors.folders&&errors.folders.sole_owner||[]).sort(((folderA,folderB)=>folderA.name.localeCompare(folderB.name)))}getResourcesErrors(){const errors=this.props.context.deleteUserWithConflictsDialogProps.errors;return(errors.resources&&errors.resources.sole_owner||[]).sort(((resourcesA,resourcesB)=>resourcesA.metadata.name.localeCompare(resourcesB.metadata.name)))}getGroupsGroupsUsersOptionsMap(){return this.groupsErrors.reduce(((groupsGroupsUsersOptions,groupError)=>Object.assign(groupsGroupsUsersOptions,{[groupError.id]:this.getGroupGroupsUsersOptions(groupError)})),{})}getGroupGroupsUsersOptions(groupError){let groupGroupsUsersOptions=groupError.groups_users;return groupGroupsUsersOptions=this.filterOutUserToDeleteFromGroupsUsers(groupGroupsUsersOptions),groupGroupsUsersOptions=this.decorateGroupsUsersWithUserEntity(groupGroupsUsersOptions),groupGroupsUsersOptions=this.sortGroupsUsersAlphabeticallyByUserFullName(groupGroupsUsersOptions),groupGroupsUsersOptions}filterOutUserToDeleteFromGroupsUsers(groupsUsers){return groupsUsers.filter((groupUser=>groupUser.user_id!==this.userToDelete.id))}decorateGroupsUsersWithUserEntity(groupsUsers){return groupsUsers.forEach((groupUser=>groupUser.user=this.getUser(groupUser.user_id))),groupsUsers}sortGroupsUsersAlphabeticallyByUserFullName(groupsUsers){return groupsUsers.sort(((groupUserA,groupUserB)=>this.getUserFullName(groupUserA.user).localeCompare(this.getUserFullName(groupUserB.user))))}getAcosPermissionsOptionsMap(){const acoPermissionsOptionsMap={};return this.resourcesErrors.forEach((resourceError=>{acoPermissionsOptionsMap[resourceError.id]=this.getAcoPermissionsOptions(resourceError)})),this.foldersErrors.forEach((folderError=>{acoPermissionsOptionsMap[folderError.id]=this.getAcoPermissionsOptions(folderError)})),acoPermissionsOptionsMap}getAcoPermissionsOptions(acoError){let acoPermissionsOptions=acoError.permissions;return acoPermissionsOptions=this.filterOutUserToDeleteFromPermissions(acoPermissionsOptions),acoPermissionsOptions=this.decoratePermissionWithAcoEntity(acoPermissionsOptions),acoPermissionsOptions=this.sortPermissionsAlphabeticallyByAcoName(acoPermissionsOptions),acoPermissionsOptions}filterOutUserToDeleteFromPermissions(permissions){return permissions.filter((permission=>permission.aro_foreign_key!==this.userToDelete.id))}decoratePermissionWithAcoEntity(permissions){return permissions.forEach((permission=>{"Group"===permission.aro?permission.group=this.getGroup(permission.aro_foreign_key):permission.user=this.getUser(permission.aro_foreign_key)})),permissions}sortPermissionsAlphabeticallyByAcoName(permissions){return permissions.sort(((permissionA,permissionB)=>{const permissionAAcoName="Group"===permissionA.aro?permissionA.group.name:this.getUserFullName(permissionA.user),permissionBAcoName="Group"===permissionB.aro?permissionB.group.name:this.getUserFullName(permissionB.user);return permissionAAcoName.localeCompare(permissionBAcoName)}))}getUser(id){return this.props.context.users.find((user=>user.id===id))}getGroup(id){return this.props.context.groups.find((group=>group.id===id))}getUserFullName(user){return`${user.profile.first_name} ${user.profile.last_name}`}async handleFormSubmit(event){event.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}handleOnChangeOwner(event,id){const permissionId=event.target.value,owners=this.state.owners;Object.assign(owners,{[id]:permissionId}),this.setState({owners})}handleOnChangeManager(event,groupId){const permissionId=event.target.value,managers=this.state.managers;Object.assign(managers,{[groupId]:permissionId}),this.setState({managers})}createPermissionOwnersTransfer(){if(null!=this.state.owners){const owners=[];for(const[key,value]of Object.entries(this.state.owners))owners.push({id:value,aco_foreign_key:key});return owners}return null}createPermissionManagersTransfer(){if(null!==this.state.managers){const managers=[];for(const[key,value]of Object.entries(this.state.managers))managers.push({id:value,group_id:key});return managers}return null}createUserDeleteTransfer(){const result={};return(this.hasResourcesConflict()||this.hasFolderConflict())&&(result.owners=this.createPermissionOwnersTransfer()),this.hasGroupsConflict()&&(result.managers=this.createPermissionManagersTransfer()),result}async delete(){this.setState({processing:!0});try{const userDeleteTransfer=this.createUserDeleteTransfer();this.props.loadingContext.add(),await this.props.context.port.request("passbolt.users.delete",this.userToDelete.id,userDeleteTransfer),this.props.loadingContext.remove(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been deleted successfully")),this.props.onClose(),this.props.context.setContext({deleteUserWithConflictsDialogProps:null})}catch(error){this.props.loadingContext.remove(),"UserAbortsOperationError"===error.name||(console.error(error),this.handleError(error)),this.setState({processing:!1})}}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_4__.A,errorDialogProps)}populateDefaultOwners(){const owners={};return this.hasResourcesConflict()&&this.resourcesErrors.forEach((resourceError=>{const resourceDefaultOwner=this.acosPermissionsOptions[resourceError.id][0];resourceDefaultOwner&&(owners[resourceError.id]=resourceDefaultOwner.id)})),this.hasFolderConflict()&&this.foldersErrors.forEach((folderError=>{const folderDefaultOwner=this.acosPermissionsOptions[folderError.id][0];folderDefaultOwner&&(owners[folderError.id]=folderDefaultOwner.id)})),owners}populateDefaultManagers(){return this.groupsErrors.reduce(((groupsDefaultManagers,groupError)=>{const groupDefaultManager=this.groupsGroupsUsersOptions[groupError.id][0];return Object.assign(groupsDefaultManagers,{[groupError.id]:groupDefaultManager.id})}),{})}get userToDelete(){return this.props.context.deleteUserWithConflictsDialogProps.user}hasFolderConflict(){return this.foldersErrors&&this.foldersErrors.length>0}hasResourcesConflict(){return this.resourcesErrors&&this.resourcesErrors.length>0}hasGroupsConflict(){return this.groupsErrors&&this.groupsErrors.length>0}getAcoPermissionsList(id){const getLabel=permission=>"User"===permission.aro&&this.getUserOptionLabel(permission.user)||"Group"===permission.aro&&permission.group.name;return this.acosPermissionsOptions[id]?.map((permission=>({value:permission.id,label:getLabel(permission)})))||[]}getGroupUsersList(id){return this.groupsGroupsUsersOptions[id]?.map((groupUser=>({value:groupUser.id,label:this.getUserOptionLabel(groupUser.user)})))||[]}getUserOptionLabel(user){return`${user.profile.first_name} ${user.profile.last_name} (${user.username})`}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{title:this.translate("You cannot delete this user!"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-user-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content intro"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"You are about to delete the user ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",{className:"dialog-variable"},{user:this.getUserFullName(this.userToDelete)}),".")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"This user is the sole owner of some content. You need to transfer the ownership to others to continue.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ownership-transfer no-margin"},this.hasFolderConflict()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Folders")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"ownership-transfer-items"},this.foldersErrors.map((folderError=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:folderError.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"transfer_folder_owner"},folderError.name," (",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Folder"),") ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"new owner"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_10__.A,{className:"form-element",value:this.state.owners[folderError.id],items:this.getAcoPermissionsList(folderError.id),onChange:event=>this.handleOnChangeOwner(event,folderError.id)}))))))),this.hasResourcesConflict()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Resources")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"ownership-transfer-items"},this.resourcesErrors.map((resourceError=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:resourceError.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"transfer_resource_owner"},resourceError.metadata.name," (",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Resource"),") ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"new owner"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_10__.A,{className:"form-element",value:this.state.owners[resourceError.id],items:this.getAcoPermissionsList(resourceError.id),onChange:event=>this.handleOnChangeOwner(event,resourceError.id)}))))))),this.hasGroupsConflict()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Groups")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"ownership-transfer-items"},this.groupsErrors.map((groupError=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:groupError.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input required "+(this.state.processing?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"transfer_group_manager"},groupError.name," (",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Group"),") ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"new manager"),":"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_10__.A,{className:"form-element",value:this.state.managers[groupError.id],items:this.getGroupUsersList(groupError.id),onChange:event=>this.handleOnChangeManager(event,groupError.id)}))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}DeleteUserWithConflicts.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,loadingContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_LoadingContext__WEBPACK_IMPORTED_MODULE_8__.$A)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(DeleteUserWithConflicts)))));DeleteUserWithConflicts.__docgenInfo={description:"This component allows user to delete a user with conflict to reassign ownership of folders, resources and groups",methods:[{name:"initializeProperties",docblock:null,modifiers:[],params:[],returns:null},{name:"getDefaultState",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"getGroupsErrors",docblock:"Get the groups errors if any\n@returns {array} The list of groups errors\n- The list is sorted alphabetically by group name",modifiers:[],params:[],returns:{description:"The list of groups errors\n- The list is sorted alphabetically by group name",type:{name:"array"}},description:"Get the groups errors if any"},{name:"getFoldersErrors",docblock:"Get the folders errors if any\n@returns {array} The list of folders errors\n- The list is sorted alphabetically by folder name",modifiers:[],params:[],returns:{description:"The list of folders errors\n- The list is sorted alphabetically by folder name",type:{name:"array"}},description:"Get the folders errors if any"},{name:"getResourcesErrors",docblock:"Get the resources errors if any\n@returns {array} The list of resources errors\n- The list is sorted alphabetically by resource name",modifiers:[],params:[],returns:{description:"The list of resources errors\n- The list is sorted alphabetically by resource name",type:{name:"array"}},description:"Get the resources errors if any"},{name:"getGroupsGroupsUsersOptionsMap",docblock:"Get a map of groups users options that can potentially be elevated as group manager for each group.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get a map of groups users options that can potentially be elevated as group manager for each group."},{name:"getGroupGroupsUsersOptions",docblock:"Get the groups users options that can potentially be elevated as group manager for the given group error.\n@param {object} groupError\n@returns {array} An array of groups users\n- The groups users options are sorted alphabetically by associated user full name.\n- The group user associated to the user we want to delete is removed from this list.\n- The associated user is attached to each group user.",modifiers:[],params:[{name:"groupError",type:{name:"object"},optional:!1}],returns:{description:"An array of groups users\n- The groups users options are sorted alphabetically by associated user full name.\n- The group user associated to the user we want to delete is removed from this list.\n- The associated user is attached to each group user.",type:{name:"array"}},description:"Get the groups users options that can potentially be elevated as group manager for the given group error."},{name:"filterOutUserToDeleteFromGroupsUsers",docblock:"Filter out the user to delete from the list of groups users.\n@param {array} groupsUsers\n@returns {array}",modifiers:[],params:[{name:"groupsUsers",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Filter out the user to delete from the list of groups users."},{name:"decorateGroupsUsersWithUserEntity",docblock:"Decorate a list of groups users with their associated user.\n@param {array} groupsUsers\n@returns {array}",modifiers:[],params:[{name:"groupsUsers",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Decorate a list of groups users with their associated user."},{name:"sortGroupsUsersAlphabeticallyByUserFullName",docblock:"Sort a list of groups users by their\n@param {array} groupsUsers\n@returns {array}",modifiers:[],params:[{name:"groupsUsers",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Sort a list of groups users by their"},{name:"getAcosPermissionsOptionsMap",docblock:"Get a map of permissions options that can potentially be elevated as owner for each aco (resources/groups).\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get a map of permissions options that can potentially be elevated as owner for each aco (resources/groups)."},{name:"getAcoPermissionsOptions",docblock:"Get the permissions options that can potentially be elevated as owner for the given aco error (resource/group).\n@param {object} acoError\n@returns {array} An array of permissions\n- The permissions options are sorted alphabetically by associated user full name or group.\n- The permission associated to the user we want to delete is removed from this list.\n- The permission associated user or group is attached to each permission.",modifiers:[],params:[{name:"acoError",type:{name:"object"},optional:!1}],returns:{description:"An array of permissions\n- The permissions options are sorted alphabetically by associated user full name or group.\n- The permission associated to the user we want to delete is removed from this list.\n- The permission associated user or group is attached to each permission.",type:{name:"array"}},description:"Get the permissions options that can potentially be elevated as owner for the given aco error (resource/group)."},{name:"filterOutUserToDeleteFromPermissions",docblock:"Filter out the user to delete from the list of permissions.\n@param {array} permissions\n@returns {array}",modifiers:[],params:[{name:"permissions",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Filter out the user to delete from the list of permissions."},{name:"decoratePermissionWithAcoEntity",docblock:"Decorate a list of permissions with their associated user or group.\n@param {array} permissions\n@returns {array}",modifiers:[],params:[{name:"permissions",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Decorate a list of permissions with their associated user or group."},{name:"sortPermissionsAlphabeticallyByAcoName",docblock:"Sort a list of permissions by their aco name (fullname for user, name for group)\n@param {array} permissions\n@returns {array}",modifiers:[],params:[{name:"permissions",type:{name:"array"},optional:!1}],returns:{type:{name:"array"}},description:"Sort a list of permissions by their aco name (fullname for user, name for group)"},{name:"getUser",docblock:"Get a user by id\n@param {string} id\n@returns {object}",modifiers:[],params:[{name:"id",type:{name:"string"},optional:!1}],returns:{type:{name:"object"}},description:"Get a user by id"},{name:"getGroup",docblock:"Get a group by id\n@param {string} id\n@returns {object}",modifiers:[],params:[{name:"id",type:{name:"string"},optional:!1}],returns:{type:{name:"object"}},description:"Get a group by id"},{name:"getUserFullName",docblock:"Get a user full name\n@param {object} user\n@returns {string}",modifiers:[],params:[{name:"user",type:{name:"object"},optional:!1}],returns:{type:{name:"string"}},description:"Get a user full name"},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@return {Promise}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise"}},description:"Handle form submit event."},{name:"handleCloseClick",docblock:"Handle close button click.",modifiers:[],params:[],returns:null,description:"Handle close button click."},{name:"handleOnChangeOwner",docblock:"Handle onChange owner select event\n@param event\n@param id the id of the folder or resource",modifiers:[],params:[{name:"event",optional:!1},{name:"id",description:"the id of the folder or resource",optional:!1}],returns:null,description:"Handle onChange owner select event"},{name:"handleOnChangeManager",docblock:"Handle onChange manager select event\n@param event\n@param groupId the id of the group",modifiers:[],params:[{name:"event",optional:!1},{name:"groupId",description:"the id of the group",optional:!1}],returns:null,description:"Handle onChange manager select event"},{name:"createPermissionOwnersTransfer",docblock:"create the permission owners for folder and resource transfer to send it as format expected\n@returns {[{id: id of the permission, aco_foreign_key: id of the folder or resource}]}",modifiers:[],params:[],returns:null,description:"create the permission owners for folder and resource transfer to send it as format expected"},{name:"createPermissionManagersTransfer",docblock:"create the permission managers for groups transfer to send it as format expected\n@returns {[{id: id of the permission group user, group_id: id of the group}]}",modifiers:[],params:[],returns:null,description:"create the permission managers for groups transfer to send it as format expected"},{name:"createUserDeleteTransfer",docblock:"create the user delete transfer permission\n@returns {owners, managers}",modifiers:[],params:[],returns:null,description:"create the user delete transfer permission"},{name:"delete",docblock:"Save the changes.",modifiers:["async"],params:[],returns:null,description:"Save the changes."},{name:"handleError",docblock:null,modifiers:[],params:[{name:"error",optional:!1,type:null}],returns:null},{name:"populateDefaultOwners",docblock:"populate default owner of folders and resources\n@returns { folderId: permissionId,... , resourceId: permissionId,... }",modifiers:[],params:[],returns:null,description:"populate default owner of folders and resources"},{name:"populateDefaultManagers",docblock:"populate default managers of groups\n@returns { groupId: permissionId,... }",modifiers:[],params:[],returns:null,description:"populate default managers of groups"},{name:"userToDelete",docblock:"Get the user to delete\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user to delete"},{name:"hasFolderConflict",docblock:"has folders conflict\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has folders conflict"},{name:"hasResourcesConflict",docblock:"has resources conflict\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has resources conflict"},{name:"hasGroupsConflict",docblock:"has groups conflict\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has groups conflict"},{name:"getAcoPermissionsList",docblock:"Get aco permission\n@param id\n@returns {*}",modifiers:[],params:[{name:"id",optional:!1}],returns:{type:{name:"mixed"}},description:"Get aco permission"},{name:"getGroupUsersList",docblock:"Get the users\n@param id\n@returns {*}",modifiers:[],params:[{name:"id",optional:!1}],returns:{type:{name:"mixed"}},description:"Get the users"},{name:"getUserOptionLabel",docblock:"Get the user label displayed as option\n@param {object} user",modifiers:[],params:[{name:"user",type:{name:"object"},optional:!1}],returns:null,description:"Get the user label displayed as option"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DeleteUserWithConflicts",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},loadingContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}}}]);