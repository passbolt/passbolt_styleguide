/*! For license information please see 6891.709124f9.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[6891],{"./src/react-extension/components/Resource/ResourceForm/AddResourcePassword.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/components/Password/Password.js"),_img_svg_dice_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/dice.svg"),_shared_components_PasswordComplexity_PasswordComplexity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/components/PasswordComplexity/PasswordComplexity.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/caret_right.svg"),_Common_Tab_Tabs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Tab/Tabs.js"),_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js"),_shared_components_GeneratePassword_ConfigurePasswordGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePasswordGenerator.js"),_shared_components_GeneratePassword_ConfigurePassphraseGenerator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePassphraseGenerator.js"),_contexts_ResourcePasswordGeneratorContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/contexts/ResourcePasswordGeneratorContext.js"),_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGenerator.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");class AddResourcePassword extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{passwordEntropy:null,displayPasswordGenerator:!1,generatorSettings:null}}componentDidMount(){this.setState({generatorSettings:this.props.resourcePasswordGeneratorContext.getSettings()})}bindCallbacks(){this.handleDisplayPasswordGeneratorClick=this.handleDisplayPasswordGeneratorClick.bind(this),this.handlePassphraseGeneratorConfigurationChanged=this.handlePassphraseGeneratorConfigurationChanged.bind(this),this.handleGeneratorTypeChanged=this.handleGeneratorTypeChanged.bind(this),this.handlePasswordGeneratorConfigurationChanged=this.handlePasswordGeneratorConfigurationChanged.bind(this),this.handleGeneratePasswordClick=this.handleGeneratePasswordClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleGeneratorConfigurationChanged(generatorSettings){const generatedPassword=this.generatePassword(generatorSettings);this.setState({generatorSettings}),this.handleInputChange({target:{name:"secret.password",value:generatedPassword}})}generatePassword(generatorConfiguration){const password=_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_12__.M.generate(generatorConfiguration),passwordEntropy=password.length>0?_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_12__.M.entropy(password):null;return this.setState({passwordEntropy}),password}handleDisplayPasswordGeneratorClick(){this.setState({displayPasswordGenerator:!this.state.displayPasswordGenerator})}handleGeneratorTypeChanged(generatorType){const generatorSettings=JSON.parse(JSON.stringify(this.state.generatorSettings));generatorSettings.default_generator=generatorType,this.handleGeneratorConfigurationChanged(generatorSettings)}handlePassphraseGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.passphrase_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handlePasswordGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.password_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handleGeneratePasswordClick(){const generatedPassword=this.generatePassword(this.state.generatorSettings);this.handleInputChange({target:{name:"secret.password",value:generatedPassword}})}get canUsePasswordGenerator(){return this.props.context.siteSettings.canIUse("passwordGenerator")}get translate(){return this.props.t}handleInputChange(event){this.props.onChange&&this.props.onChange(event)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Password"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-fields"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-uri"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"URI")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"resource-uri",name:"metadata.uris.0",maxLength:"1024",type:"text",autoComplete:"off",placeholder:this.translate("URI"),value:this.props.resource?.metadata?.uris?.[0],onChange:this.handleInputChange})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-username"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Username")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"resource-username",name:"metadata.username",type:"text",className:"fluid",maxLength:"255",autoComplete:"off",placeholder:this.translate("Username"),value:this.props.resource?.metadata?.username,onChange:this.handleInputChange})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-password-wrapper input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-password"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Password")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-button-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_2__.A,{id:"resource-password",name:"secret.password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:this.props.resource?.secret?.password,onChange:this.handleInputChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"password-generate button-icon",onClick:this.handleGeneratePasswordClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_dice_svg__WEBPACK_IMPORTED_MODULE_3__.A,null))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_PasswordComplexity_PasswordComplexity__WEBPACK_IMPORTED_MODULE_4__.A,{entropy:this.state.passwordEntropy}))),this.canUsePasswordGenerator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"additional-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"section-header no-border",onClick:this.handleDisplayPasswordGeneratorClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Advanced password generation")),this.state.displayPasswordGenerator?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__.A,null)),this.state.displayPasswordGenerator&&this.state.generatorSettings?.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tabs__WEBPACK_IMPORTED_MODULE_7__.A,{activeTabName:this.state.generatorSettings.default_generator},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__.A,{key:"password",name:this.props.t("password"),type:"password",onClick:()=>this.handleGeneratorTypeChanged("password")},"password"===this.state.generatorSettings.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_GeneratePassword_ConfigurePasswordGenerator__WEBPACK_IMPORTED_MODULE_9__.A,{configuration:this.state.generatorSettings.password_generator_settings,onConfigurationChanged:this.handlePasswordGeneratorConfigurationChanged})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__.A,{key:"passphrase",name:this.props.t("passphrase"),type:"passphrase",onClick:()=>this.handleGeneratorTypeChanged("passphrase")},"passphrase"===this.state.generatorSettings.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_GeneratePassword_ConfigurePassphraseGenerator__WEBPACK_IMPORTED_MODULE_10__.A,{configuration:this.state.generatorSettings.passphrase_generator_settings,onConfigurationChanged:this.handlePassphraseGeneratorConfigurationChanged}))))))}}AddResourcePassword.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,resourcePasswordGeneratorContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,resource:prop_types__WEBPACK_IMPORTED_MODULE_14___default().object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_14___default().func,t:prop_types__WEBPACK_IMPORTED_MODULE_14___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_13__.L)((0,_contexts_ResourcePasswordGeneratorContext__WEBPACK_IMPORTED_MODULE_11__.Yv)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(AddResourcePassword)));AddResourcePassword.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleGeneratorConfigurationChanged",docblock:"Handle when the generator configuration has changed\n@param {Object} generatorSettings The generator configuration",modifiers:[],params:[{name:"generatorSettings",description:"The generator configuration",type:{name:"Object"},optional:!1}],returns:null,description:"Handle when the generator configuration has changed"},{name:"generatePassword",docblock:"Generate the password\n@param {object} generatorConfiguration the configuration to be sued to generate a new password",modifiers:[],params:[{name:"generatorConfiguration",description:"the configuration to be sued to generate a new password",type:{name:"object"},optional:!1}],returns:null,description:"Generate the password"},{name:"handleDisplayPasswordGeneratorClick",docblock:"Handles the click on the display secrets button.",modifiers:[],params:[],returns:null,description:"Handles the click on the display secrets button."},{name:"handleGeneratorTypeChanged",docblock:"Handle when the secret generator type is changed.\n@param {string} generatorType",modifiers:[],params:[{name:"generatorType",type:{name:"string"},optional:!1}],returns:null,description:"Handle when the secret generator type is changed."},{name:"handlePassphraseGeneratorConfigurationChanged",docblock:"Handle when the passphrase generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the passphrase generator configuration has changed"},{name:"handlePasswordGeneratorConfigurationChanged",docblock:"Handle when the password generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the password generator configuration has changed"},{name:"handleGeneratePasswordClick",docblock:"Handle when the generate password has been clicked",modifiers:[],params:[],returns:null,description:"Handle when the generate password has been clicked"},{name:"canUsePasswordGenerator",docblock:"Returns true if the logged in user can use the password generator capability.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the logged in user can use the password generator capability."},{name:"translate",docblock:"Get the translation function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translation function"},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."}],displayName:"AddResourcePassword",props:{context:{description:"",type:{name:"any"},required:!1},resourcePasswordGeneratorContext:{description:"",type:{name:"any"},required:!1},resource:{description:"",type:{name:"object"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/shared/models/entity/resource/resourceFormEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>resourceFormEntity});var entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class ResourceMetadataEntity extends entityV2.A{static getSchema(){return{type:"object",required:["name","resource_type_id"],properties:{object_type:{type:"string",enum:["PASSBOLT_RESOURCE_METADATA"]},resource_type_id:{type:"string",format:"uuid"},name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024}},description:{type:"string",maxLength:1e4,nullable:!0}}}}get objectType(){return this._props.object_type}get name(){return this._props.name}get username(){return this._props.username}get description(){return this._props.description||null}get resourceTypeId(){return this._props.resource_type_id}get uris(){return this._props.uris||[]}static get ENTITY_NAME(){return"ResourceMetadataEntity"}static get METADATA_OBJECT_TYPE(){return"PASSBOLT_RESOURCE_METADATA"}static get URI_MAX_LENGTH(){return 1024}}const resourceMetadataEntity=ResourceMetadataEntity;var secretDataEntity=__webpack_require__("./src/shared/models/entity/secretData/secretDataEntity.js");class SecretDataV4DefaultEntity extends secretDataEntity.A{constructor(dto={},options={}){super(dto,options)}static getSchema(){return{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}}static createFromDefault(data={},options){return new SecretDataV4DefaultEntity({password:"",...data},options)}get password(){return this._props.password}get description(){return this._props.description}}const secretDataV4DefaultEntity=SecretDataV4DefaultEntity;class SecretDataV5DefaultEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["object_type","password"],properties:{...secretDataEntity.A.getSchema().properties,password:{type:"string",maxLength:4096,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0}}}}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:""};return new SecretDataV5DefaultEntity({...defaultData,...data},options)}get password(){return this._props.password}get description(){return this._props.description}}const secretDataV5DefaultEntity=SecretDataV5DefaultEntity;var totpEntity=__webpack_require__("./src/shared/models/entity/totp/totpEntity.js");class SecretDataV5DefaultTotpEntity extends secretDataV5DefaultEntity{static getSchema(){return{type:"object",required:["object_type","password","totp"],properties:{...secretDataV5DefaultEntity.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:"",totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV5DefaultTotpEntity({...defaultData,...data},options)}toDto(){return{...this._props,totp:this.totp.toDto()}}get totp(){return this._totp}}const secretDataV5DefaultTotpEntity=SecretDataV5DefaultTotpEntity;class SecretDataV5StandaloneTotpEntity extends secretDataEntity.A{constructor(dto,options={}){super(dto,options),this._props.totp&&(this._totp=new totpEntity.A(this._props.totp,{...options,clone:!1}),delete this._props.totp)}static getSchema(){return{type:"object",required:["object_type","totp"],properties:{...secretDataEntity.A.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV5StandaloneTotpEntity({...defaultData,...data},options)}toDto(){return{...this._props,totp:this.totp.toDto()}}get totp(){return this._totp}}const secretDataV5StandaloneTotpEntity=SecretDataV5StandaloneTotpEntity;class SecretDataV5PasswordStringEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["object_type","password"],properties:{...secretDataEntity.A.getSchema().properties,password:{type:"string",maxLength:4096,nullable:!0}}}}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:""};return new SecretDataV5PasswordStringEntity({...defaultData,...data},options)}get password(){return this._props.password}}const secretDataV5PasswordStringEntity=SecretDataV5PasswordStringEntity;class SecretDataV4DefaultTotpEntity extends secretDataV4DefaultEntity{constructor(dto,options={}){super(dto,options),this._props.totp&&(this._totp=new totpEntity.A(this._props.totp,{...options,clone:!1}),delete this._props.totp)}static getSchema(){return{type:"object",required:["password","totp"],properties:{...secretDataV4DefaultEntity.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={password:"",totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV4DefaultTotpEntity({...defaultData,...data},options)}toDto(){return{...this._props,totp:this.totp.toDto()}}get totp(){return this._totp}}const secretDataV4DefaultTotpEntity=SecretDataV4DefaultTotpEntity;class SecretDataV4StandaloneTotpEntity extends secretDataEntity.A{constructor(dto,options={}){super(dto,options),this._props.totp&&(this._totp=new totpEntity.A(this._props.totp,{...options,clone:!1}),delete this._props.totp)}static getSchema(){return{type:"object",required:["totp"],properties:{totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV4StandaloneTotpEntity({...defaultData,...data},options)}toDto(){return{...this._props,totp:this.totp.toDto()}}get totp(){return this._totp}}const secretDataV4StandaloneTotpEntity=SecretDataV4StandaloneTotpEntity;class secretDataV4PasswordStringEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096}}}}static createFromDefault(data={},options){return new secretDataV4PasswordStringEntity({password:"",...data},options)}get password(){return this._props.password}}const secretData_secretDataV4PasswordStringEntity=secretDataV4PasswordStringEntity;var resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypeSchemasDefinition=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),assertString=__webpack_require__("./node_modules/validator/es/lib/util/assertString.js"),ResourceEditCreateFormEnumerationTypes=__webpack_require__("./src/shared/models/resource/ResourceEditCreateFormEnumerationTypes.js");class ResourceFormEntity extends entityV2.A{constructor(dtos={},options={}){super(dtos,options)}static get associations(){return{metadata:resourceMetadataEntity,secret:secretDataEntity.A}}static getSchema(){return{type:"object",required:["metadata","resource_type_id","secret"],properties:{id:{type:"string",format:"uuid"},resource_type_id:{type:"string",format:"uuid"},folder_parent_id:{type:"string",format:"uuid",nullable:!0},metadata:resourceMetadataEntity.getSchema(),secret:{anyOf:[secretDataV5DefaultEntity.getSchema(),secretDataV5DefaultTotpEntity.getSchema(),secretDataV5StandaloneTotpEntity.getSchema(),secretDataV5PasswordStringEntity.getSchema(),secretDataV4DefaultEntity.getSchema(),secretDataV4DefaultTotpEntity.getSchema(),secretDataV4StandaloneTotpEntity.getSchema(),secretData_secretDataV4PasswordStringEntity.getSchema()]}}}}createAssociations(options={}){if(this._props.resource_type_id&&options.resourceTypes instanceof resourceTypesCollection.A){this.resourceTypes=options.resourceTypes;const secretEntityClass=this.getSecretEntityClassByResourceType(this._props.resource_type_id);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this._secret=secretEntityClass.createFromDefault(this._props.secret,options),delete this._props.secret}super.createAssociations(options)}getSecretEntityClassByResourceType(resourceTypeId){switch(this.resourceTypes.getFirstById(resourceTypeId).slug){case resourceTypeSchemasDefinition.gG:return secretDataV5DefaultEntity;case resourceTypeSchemasDefinition.a5:return secretDataV5DefaultTotpEntity;case resourceTypeSchemasDefinition.uQ:return secretDataV5StandaloneTotpEntity;case resourceTypeSchemasDefinition.Eh:return secretDataV5PasswordStringEntity;case resourceTypeSchemasDefinition.Bo:return secretDataV4DefaultEntity;case resourceTypeSchemasDefinition.fl:return secretDataV4DefaultTotpEntity;case resourceTypeSchemasDefinition.KY:return secretDataV4StandaloneTotpEntity;case resourceTypeSchemasDefinition._w:return secretData_secretDataV4PasswordStringEntity;default:return null}}addSecret(secret,value,options){if((0,assertString.A)(secret),!Object.values(ResourceEditCreateFormEnumerationTypes.D).includes(secret))return;const currentResourceType=this.resourceTypes.getFirstById(this.resourceTypeId),mutateResourceTypeSlug=resourceTypeSchemasDefinition.g$[currentResourceType?.slug]?.[secret];if(mutateResourceTypeSlug){const resourceType=this.resourceTypes.getFirstBySlug(mutateResourceTypeSlug),secretEntityClass=this.getSecretEntityClassByResourceType(resourceType.id);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this.set("secret",new secretEntityClass(this.secret.toDto(),{validate:!1})),currentResourceType.isV4()&&currentResourceType.isPasswordString()&&(this.set("secret.description",this.metadata?.description||"",options),this.set("metadata.description","",options)),this.set("resource_type_id",resourceType.id)}this.set(secret,value,options)}get resourceTypeId(){return this._props.resource_type_id}get metadata(){return this._metadata}get secret(){return this._secret}toDto(){const result=Object.assign({},this._props);return this._metadata&&(result.metadata=this.metadata.toDto()),this._secret&&(result.secret=this.secret.toDto()),result}}const resourceFormEntity=ResourceFormEntity},"./src/shared/models/entity/secretData/secretDataEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,h:()=>SECRET_DATA_OBJECT_TYPE});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SECRET_DATA_OBJECT_TYPE="PASSBOLT_SECRET_DATA";class SecretDataEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:[],properties:{object_type:{type:"string",enum:[SECRET_DATA_OBJECT_TYPE]}}}}get objectType(){return this._props.object_type}}const __WEBPACK_DEFAULT_EXPORT__=SecretDataEntity}}]);