/*! For license information please see react-extension-components-Administration-DisplayRbacAdministration-DisplayRbacAdministration-test-stories.d11d94bc.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[113],{"./src/img/svg/caret_down.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCaretDown(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:10,height:8,fill:"none",viewBox:"0 0 10 8"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 2 4 4 4-4"})))}},"./src/img/svg/file_text.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgFileText(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2v4a2 2 0 0 0 2 2h4M10 9H8M16 13H8M16 17H8"})))}},"./src/react-extension/components/Administration/DisplayRbacAdministration/DisplayRbacAdministration.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayRbacAdministration_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),DisplayRbacAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayRbacAdministration/DisplayRbacAdministration.js"),ApiAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ApiAppContext.test.data.js"),AdministrationWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.test.data.js"),ActionFeedbackContext_test_data=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.test.data.js"),rbacsCollection=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.js"),rolesCollection=__webpack_require__("./src/shared/models/entity/role/rolesCollection.js"),rolesCollection_test_data=__webpack_require__("./src/shared/models/entity/role/rolesCollection.test.data.js"),rbacsCollection_test_data=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.test.data.js");function defaultAdministrationRbacContext(context={}){return{rbacs:null,roles:null,rbacsUpdated:new rbacsCollection.A([]),setRbacs:jest.fn(),isProcessing:jest.fn(),setRbacsUpdated:jest.fn(),updateRbacControlFunction:jest.fn(),clearContext:jest.fn(),save:jest.fn(),hasSettingsChanges:jest.fn(),...context}}function populatedAdministrationRbacContext(context={}){return defaultAdministrationRbacContext({rbacs:new rbacsCollection.A((0,rbacsCollection_test_data.rB)()),roles:new rolesCollection.A(rolesCollection_test_data.R),...context})}var PassboltResponseEntity=__webpack_require__("./src/shared/models/entity/apiService/PassboltResponseEntity.js");class DefaultRoleApiService{findAll(){return new PassboltResponseEntity.A({header:{},body:rolesCollection_test_data.R})}}class DefaultRbacApiService{findAll(){return rbacsCollection_test_data.Ex}}function propsWithPopulatedRbacContext(props={}){return function DisplayRbacAdministration_test_data_defaultProps(props={}){return{context:(0,ApiAppContext_test_data.s)(),adminRbacContext:defaultAdministrationRbacContext(),administrationWorkspaceContext:(0,AdministrationWorkspaceContext_test_data.M)(),actionFeedbackContext:(0,ActionFeedbackContext_test_data.M)(),RoleApiService:DefaultRoleApiService,RbacApiService:DefaultRbacApiService,...props}}({adminRbacContext:populatedAdministrationRbacContext(),...props})}var AdministrationRbacContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationRbacContext/AdministrationRbacContext.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),TranslationProvider=__webpack_require__("./src/react-extension/components/Common/Internationalisation/TranslationProvider.js"),DisplayAdministrationWorkspaceBreadcrumb=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationWorkspaceBreadcrumb/DisplayAdministrationWorkspaceBreadcrumb.js");const DisplayRbacAdministration_test_stories={title:"Components/Administration/DisplayRbacAdministration",component:DisplayRbacAdministration.A,decorators:[(Story,{args})=>react.createElement(react_router.MemoryRouter,{initialEntries:["/app/administration"]},react.createElement(TranslationProvider.A,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},react.createElement(AdministrationRbacContext.ji.Provider,{value:args.adminRbacContext},react.createElement("div",{id:"container",className:"page administration"},react.createElement("div",{id:"app",className:"app",style:{margin:"-1rem"}},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel left"},react.createElement("div",{className:"sidebar-content"},react.createElement("div",{className:"top-bar-left-navigation"},react.createElement("div",{className:"navigation"})),react.createElement("div",{className:"sidebar-content-left"}))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"}),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(DisplayAdministrationWorkspaceBreadcrumb.A,null)),react.createElement("div",{className:"main-page"},react.createElement(Story,args))),react.createElement("div",{className:"help-panel"},react.createElement("div",{className:"sidebar-help"},react.createElement("div",{id:"administration-help-panel"})))))))))))]},Initial={args:propsWithPopulatedRbacContext(),parameters:{css:"api_main"}},__namedExportsOrder=["Initial"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:"{\n  args: propsWithPopulatedRbacContext(),\n  parameters: parameters\n}",...Initial.parameters?.docs?.source}}}},"./src/react-extension/contexts/ActionFeedbackContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>ActionFeedbackContextProvider,b_:()=>ActionFeedbackContext,ot:()=>withActionFeedback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const ActionFeedbackContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({feedbacks:[],displaySuccess:()=>{},displayWarning:()=>{},displayError:()=>{},remove:()=>{}});class ActionFeedbackContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{feedbacks:[],displaySuccess:this.displaySuccess.bind(this),displayWarning:this.displayWarning.bind(this),displayError:this.displayError.bind(this),remove:this.remove.bind(this)}}displaySuccess(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),type:"success",message:feedbackToAdd}]})}displayWarning(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),type:"warning",message:feedbackToAdd}]})}displayError(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),type:"error",message:feedbackToAdd}]})}remove(feedbackToRemove){this.setState({feedbacks:this.state.feedbacks.filter(feedback=>feedbackToRemove.id!==feedback.id)})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Provider,{value:this.state},this.props.children)}}function withActionFeedback(WrappedComponent){return class WithActionFeedback extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Consumer,null,actionFeedbackContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{actionFeedbackContext,...this.props}))}}}ActionFeedbackContextProvider.displayName="ActionFeedbackContextProvider",ActionFeedbackContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},ActionFeedbackContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"displaySuccess",docblock:"Display the feedback in a success mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a success mode"},{name:"displayWarning",docblock:"Display the feedback in a warning mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a warning mode"},{name:"displayError",docblock:"Display the feedback in a error mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a error mode"},{name:"remove",docblock:"Remove the feedback\n@param feedbackToRemove A feedback",modifiers:[],params:[{name:"feedbackToRemove",description:"A feedback",optional:!1}],returns:null,description:"Remove the feedback"}],displayName:"ActionFeedbackContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ActionFeedbackContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultActionFeedbackContext(data={}){const defaultContext={displaySuccess:jest.fn(),displayError:jest.fn(),remove:jest.fn()};return Object.assign(defaultContext,data)}__webpack_require__.d(__webpack_exports__,{M:()=>defaultActionFeedbackContext})},"./src/react-extension/contexts/ApiAppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>defaultAppContext});var _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),_shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/apiClient/apiClientOptions.js"),_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js");function defaultAppContext(appContext={}){const userSettings=new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__.A(_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_5__.A),siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.A(_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__.A),defaultAppContext1={locale:"en-UK",onRefreshLocaleRequested:jest.fn(),userSettings,siteSettings,trustedDomain:"https://localhost:6006",loggedInUser:{id:userSettings.id,username:"user@passbolt.com",role:{name:"admin"}},port:new _test_mock_MockPort__WEBPACK_IMPORTED_MODULE_3__.A,setContext:jest.fn(),baseUrl:"https://localhost:6006",getApiClientOptions:()=>(new _shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_2__.k).setBaseUrl("https://localhost:6006")};return Object.assign(defaultAppContext1,appContext)}},"./src/shared/lib/Error/PassboltApiFetchError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class PassboltApiFetchError extends Error{constructor(message,data){super(message),this.name="PassboltApiFetchError",this.data=data||{}}}const __WEBPACK_DEFAULT_EXPORT__=PassboltApiFetchError},"./src/shared/lib/Error/PassboltServiceUnavailableError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class PassboltServiceUnavailableError extends Error{constructor(message){super(message=message||"The service is unavailable"),this.name="PassboltServiceUnavailableError"}}const __WEBPACK_DEFAULT_EXPORT__=PassboltServiceUnavailableError},"./src/shared/lib/apiClient/apiClient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>ApiClient});var PassboltApiFetchError=__webpack_require__("./src/shared/lib/Error/PassboltApiFetchError.js");class PassboltBadResponseError extends Error{constructor(){super("An internal error occurred. The server response could not be parsed. Please contact your administrator."),this.name="PassboltBadResponseError"}}const Error_PassboltBadResponseError=PassboltBadResponseError;var PassboltServiceUnavailableError=__webpack_require__("./src/shared/lib/Error/PassboltServiceUnavailableError.js");const SUPPORTED_METHODS=["GET","POST","PUT","DELETE"];class ApiClient{constructor(options){if(this.options=options,!this.options.getBaseUrl())throw new TypeError("ApiClient constructor error: baseUrl is required.");if(!this.options.getResourceName())throw new TypeError("ApiClient constructor error: resourceName is required.");try{let rawBaseUrl=this.options.getBaseUrl().toString();rawBaseUrl.endsWith("/")&&(rawBaseUrl=rawBaseUrl.slice(0,-1));let resourceName=this.options.getResourceName();resourceName.startsWith("/")&&(resourceName=resourceName.slice(1)),resourceName.endsWith("/")&&(resourceName=resourceName.slice(0,-1)),this.baseUrl=`${rawBaseUrl}/${resourceName}`,this.baseUrl=new URL(this.baseUrl)}catch(error){throw new TypeError("ApiClient constructor error: b.",{cause:error})}this.apiVersion="api-version=v2"}getDefaultHeaders(){return{Accept:"application/json","content-type":"application/json"}}async buildFetchOptions(){const optionHeaders=await this.options.getHeaders();return{credentials:"include",headers:{...this.getDefaultHeaders(),...optionHeaders}}}async get(id,urlOptions){this.assertValidId(id);const url=this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});return this.fetchAndHandleResponse("GET",url)}async delete(id,body,urlOptions,dryRun){let url;this.assertValidId(id),void 0===dryRun&&(dryRun=!1),url=dryRun?this.buildUrl(`${this.baseUrl}/${id}/dry-run`,urlOptions||{}):this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});let bodyString=null;return body&&(bodyString=this.buildBody(body)),this.fetchAndHandleResponse("DELETE",url,bodyString)}async findAll(urlOptions){const url=this.buildUrl(this.baseUrl.toString(),urlOptions||{});return this.fetchAndHandleResponse("GET",url)}async create(body,urlOptions){const url=this.buildUrl(this.baseUrl.toString(),urlOptions||{}),bodyString=this.buildBody(body);return this.fetchAndHandleResponse("POST",url,bodyString)}async update(id,body,urlOptions,dryRun){let url;this.assertValidId(id),void 0===dryRun&&(dryRun=!1),url=dryRun?this.buildUrl(`${this.baseUrl}/${id}/dry-run`,urlOptions||{}):this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});let bodyString=null;return body&&(bodyString=this.buildBody(body)),this.fetchAndHandleResponse("PUT",url,bodyString)}async updateAll(body,urlOptions={}){const url=this.buildUrl(this.baseUrl.toString(),urlOptions),bodyString=body?this.buildBody(body):null;return this.fetchAndHandleResponse("PUT",url,bodyString)}assertValidId(id){if(!id)throw new TypeError("ApiClient.assertValidId error: id cannot be empty");if("string"!=typeof id)throw new TypeError("ApiClient.assertValidId error: id should be a string")}assertMethod(method){if("string"!=typeof method)throw new TypeError("ApiClient.assertValidMethod method should be a string.");if(SUPPORTED_METHODS.indexOf(method.toUpperCase())<0)throw new TypeError(`ApiClient.assertValidMethod error: method ${method} is not supported.`)}assertUrl(url){if(!url)throw new TypeError("ApliClient.assertUrl error: url is required.");if(!(url instanceof URL))throw new TypeError("ApliClient.assertUrl error: url should be a valid URL object.");if("https:"!==url.protocol&&"http:"!==url.protocol)throw new TypeError("ApliClient.assertUrl error: url protocol should only be https or http.")}assertBody(body){if(!(body instanceof FormData)&&"string"!=typeof body)throw new TypeError("ApiClient.assertBody error: body should be a string or a FormData.")}buildBody(body){return JSON.stringify(body)}buildUrl(url,urlOptions){if("string"!=typeof url)throw new TypeError("ApiClient.buildUrl error: url should be a string.");const urlObj=new URL(`${url}.json?${this.apiVersion}`);urlOptions=urlOptions||{};for(const[key,value]of Object.entries(urlOptions)){if("string"!=typeof key)throw new TypeError("ApiClient.buildUrl error: urlOptions key should be a string.");if("string"==typeof value)urlObj.searchParams.append(key,value);else{if(!Array.isArray(value))throw new TypeError("ApiClient.buildUrl error: urlOptions value should be a string or array.");value.forEach(v=>{urlObj.searchParams.append(key,v)})}}return urlObj}async sendRequest(method,url,body,options){this.assertUrl(url),this.assertMethod(method),body&&this.assertBody(body);const fetchStrategy="undefined"!=typeof customApiClientFetch?customApiClientFetch:fetch,fetchOptions={...await this.buildFetchOptions(),...options};fetchOptions.method=method,body&&(fetchOptions.body=body);try{return await fetchStrategy(url.toString(),fetchOptions)}catch(error){throw console.error(error),navigator.onLine?new PassboltServiceUnavailableError.A("Unable to reach the server, an unexpected error occurred"):new PassboltServiceUnavailableError.A("Unable to reach the server, you are not connected to the network")}}async fetchAndHandleResponse(method,url,body,options){const response=await this.sendRequest(method,url,body,options);return this.parseResponseJson(response)}async parseResponseJson(response){let responseJson;try{responseJson=await response.json()}catch(error){throw console.debug(response.url.toString(),error),new Error_PassboltBadResponseError(error,response)}if(!response.ok){const message=responseJson.header.message;throw new PassboltApiFetchError.A(message,{code:response.status,body:responseJson.body})}return responseJson}}},"./src/shared/lib/apiClient/apiClientOptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ApiClientOptions});class ApiClientOptions{setBaseUrl(baseUrl){if(!baseUrl)throw new TypeError("ApiClientOption baseUrl is required.");if("string"==typeof baseUrl)try{this.baseUrl=new URL(baseUrl)}catch(error){throw new TypeError("ApiClientOption baseUrl is invalid.",{cause:error})}else{if(!(baseUrl instanceof URL))throw new TypeError("ApiClientOptions baseurl should be a string or URL");this.baseUrl=baseUrl}return this}setResourceName(resourceName){if(!resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName is required.");if("string"!=typeof resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName should be a valid string.");return this.resourceName=resourceName,this}getBaseUrl(){return this.baseUrl}getResourceName(){return this.resourceName}async getHeaders(){const csrfToken=await this.getCsrfToken();if(csrfToken)return{"X-CSRF-Token":csrfToken}}async getCsrfToken(){if("undefined"==typeof browser||void 0===browser.cookies){const csrfToken=document?.cookie?.split("; ")?.find(row=>row.startsWith("csrfToken"))?.split("=");return csrfToken&&2===csrfToken.length?csrfToken[1]:null}const stringUrl=this.baseUrl.toString(),url="/"===stringUrl.slice(-1)?stringUrl:`${stringUrl}/`,csrfCookie=await browser.cookies.get({name:"csrfToken",url});return csrfCookie?.value||null}}},"./src/shared/models/entity/apiService/PassboltResponseEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>apiService_PassboltResponseEntity});var entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),PassboltResponsePaginationHeaderEntity=__webpack_require__("./src/shared/models/entity/apiService/PassboltResponsePaginationHeaderEntity.js");class PassboltResponseHeaderEntity extends entityV2.A{constructor(dto,options={}){super(dto,options),this._props.pagination&&(this._pagination=new PassboltResponsePaginationHeaderEntity.A(this._props.pagination,options),delete this._props.pagination)}static getSchema(){return{type:"object",required:[],properties:{pagination:{type:"object"}}}}get pagination(){return this._pagination||null}toDto(){const result=Object.assign({},this._props);return this._pagination&&(result.pagination=this._pagination.toDto()),result}}const apiService_PassboltResponseHeaderEntity=PassboltResponseHeaderEntity;class PassboltResponseEntity extends entityV2.A{constructor(dto,options={}){super(dto,options),this._props.header&&(this._header=new apiService_PassboltResponseHeaderEntity(this._props.header,options),delete this._props.header)}static getSchema(){return{type:"object",required:["header","body"],properties:{header:{type:"object"},body:{anyOf:[{type:"string"},{type:"object"}],nullable:!0}}}}get header(){return this._header}get body(){return this._props.body}}const apiService_PassboltResponseEntity=PassboltResponseEntity},"./src/shared/models/entity/apiService/PassboltResponsePaginationHeaderEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class PassboltResponsePaginationHeaderEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["count","limit","page"],properties:{count:{type:"integer",minimum:0},limit:{type:"integer",minimum:0,nullable:!0},page:{type:"integer",minimum:0}}}}get count(){return this._props.count}get limit(){return this._props.limit}get page(){return this._props.page}get pageCount(){const count=parseInt(this._props.count,10),limit=parseInt(this._props.limit,10);return Math.ceil(count/limit)}}const __WEBPACK_DEFAULT_EXPORT__=PassboltResponsePaginationHeaderEntity},"./src/shared/models/entity/rbac/rbacsCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ex:()=>defaultSettingsRbacsCollectionData,rB:()=>settingsRbacsCollectionData});var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),rbacEntity=__webpack_require__("./src/shared/models/entity/rbac/rbacEntity.js");const actionEntity_test_data_defaultActionData=(data={})=>{const defaultData={id:(0,v4.A)(),name:"Resources.add"};return Object.assign(defaultData,data)};var uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");const uiActionEntity_test_data_defaultUiActionData=(data={})=>({id:(0,v4.A)(),name:uiActionEnumeration.e.TAGS_USE,...data});var controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js"),roleEntity_test_data=__webpack_require__("./src/shared/models/entity/role/roleEntity.test.data.js");const defaultRbacData=(data={})=>{const defaultData={id:(0,v4.A)(),role_id:roleEntity_test_data.ol,foreign_model:rbacEntity.A.FOREIGN_MODEL_ACTION,foreign_id:(0,v4.A)(),control_function:controlFunctionEnumeration.HK.ALLOW,...data};return Object.assign(defaultData,data)},defaultRbacWithActionData=(data={})=>{const foreignId=data?.foreign_id||data?.action?.id||(0,v4.A)(),defaultData={foreign_model:rbacEntity.A.FOREIGN_MODEL_ACTION,action:actionEntity_test_data_defaultActionData({id:foreignId}),...data,foreign_id:foreignId};return defaultRbacData(defaultData)},defaultRbacWithUiActionData=(data={})=>{const foreignId=data?.foreign_id||data?.ui_action?.id||(0,v4.A)(),defaultData={foreign_model:rbacEntity.A.FOREIGN_MODEL_UI_ACTION,ui_action:uiActionEntity_test_data_defaultUiActionData({id:foreignId}),...data,foreign_id:foreignId};return defaultRbacData(defaultData)},denyRbacWithUiActionData=(data={})=>{const defaultData={control_function:controlFunctionEnumeration.HK.DENY,...data};return defaultRbacWithUiActionData(defaultData)},denyRbacWithActionData=(data={})=>{const defaultData={control_function:controlFunctionEnumeration.HK.DENY,...data};return defaultRbacWithActionData(defaultData)};var actionEnumeration=__webpack_require__("./src/shared/services/rbacs/actionEnumeration.js");const defaultSettingsRbacsCollectionData=[defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_EXPORT})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_IMPORT})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.TAGS_USE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.FOLDERS_USE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_SEE_ACTIVITIES})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_SEE_COMMENTS})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SECRETS_PREVIEW})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SECRETS_COPY})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SHARE_VIEW_LIST})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.USERS_VIEW_WORKSPACE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.MOBILE_TRANSFER})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.DESKTOP_TRANSFER})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SHARE_FOLDER})}),defaultRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.GROUPS_ADD})}),defaultRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.ACCOUNT_RECOVERY_REQUEST_VIEW})}),defaultRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.ACCOUNT_RECOVERY_RESPONSE_CREATE})})],settingsRbacsCollectionData=()=>[defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_EXPORT})}),denyRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_IMPORT})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.TAGS_USE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.FOLDERS_USE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_SEE_ACTIVITIES})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.RESOURCES_SEE_COMMENTS})}),denyRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SECRETS_PREVIEW})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SECRETS_COPY})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SHARE_VIEW_LIST})}),denyRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.USERS_VIEW_WORKSPACE})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.MOBILE_TRANSFER})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.DESKTOP_TRANSFER})}),defaultRbacWithUiActionData({ui_action:uiActionEntity_test_data_defaultUiActionData({name:uiActionEnumeration.e.SHARE_FOLDER})}),denyRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.GROUPS_ADD})}),denyRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.ACCOUNT_RECOVERY_REQUEST_VIEW})}),denyRbacWithActionData({action:actionEntity_test_data_defaultActionData({name:actionEnumeration.o.ACCOUNT_RECOVERY_RESPONSE_CREATE})})]},"./src/shared/models/entity/role/rolesCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _roleEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/role/roleEntity.js"),_abstract_entityV2Collection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityV2Collection.js");class RolesCollection extends _abstract_entityV2Collection__WEBPACK_IMPORTED_MODULE_1__.A{get entityClass(){return _roleEntity__WEBPACK_IMPORTED_MODULE_0__.A}constructor(dtos=[],options={}){super(dtos,options)}static getSchema(){return{type:"array",items:_roleEntity__WEBPACK_IMPORTED_MODULE_0__.A.getSchema(),maxItems:7}}validateBuildRules(item,options={}){this.assertNotExist("id",item._props.id,{haystackSet:options?.uniqueIdsSetCache}),this.assertNotExist("name",item._props.name,{haystackSet:options?.uniqueNamesSetCache})}pushMany(data,entityOptions={},options={}){const uniqueIdsSetCache=new Set(this.extract("id")),uniqueNamesSetCache=new Set(this.extract("name"));options={onItemPushed:item=>{uniqueIdsSetCache.add(item._props.id),uniqueNamesSetCache.add(item._props.name)},validateBuildRules:{...options?.validateBuildRules,uniqueIdsSetCache,uniqueNamesSetCache},...options},super.pushMany(data,entityOptions,options)}filterByCustomRole(){this.filterByCallback(role=>!role.isAReservedRole())}filterOutGuestRole(){this.filterByCallback(role=>!role.isGuest())}getById(id){return this._items.find(role=>role.id===id)||null}static get ENTITY_NAME(){return"Roles"}}const __WEBPACK_DEFAULT_EXPORT__=RolesCollection},"./src/shared/models/entity/role/rolesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>rolesCollectionDto});var _roleEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/role/roleEntity.test.data.js");const rolesCollectionDto=[(0,_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Dm)(),(0,_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.bd)(),(0,_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.j0)(),(0,_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.qm)()]},"./src/shared/services/api/abstract/abstractService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _lib_apiClient_apiClient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/apiClient/apiClient.js"),validator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/validator/index.js"),validator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);const __WEBPACK_DEFAULT_EXPORT__=class AbstractService{constructor(apiClientOptions,resourceName){apiClientOptions.setResourceName(resourceName),this.apiClient=new _lib_apiClient_apiClient__WEBPACK_IMPORTED_MODULE_0__.O(apiClientOptions)}formatContainOptions(contain,supportedOptions){const result={};for(const item in contain){if("string"!=typeof item){const details=JSON.stringify(contain);throw new TypeError(`Invalid contain ${details}, items should be a string.`)}supportedOptions.includes(item)&&(result[`contain[${item}]`]=contain[item]?"1":"0")}return result}formatFilterOptions(filter,supportedOptions){const result={};for(const item in filter)if(Object.prototype.hasOwnProperty.call(filter,item)&&supportedOptions.includes(item))if("boolean"==typeof filter[item])result[`filter[${item}]`]=filter[item]?"1":"0";else if("string"==typeof filter[item])result[`filter[${item}]`]=filter[item];else{if(!Array.isArray(filter[item]))throw new TypeError("Service error. Filter option should be an array or a string.");result[`filter[${item}][]`]=filter[item]}return result}formatOrderOptions(orders,supportedOrders){const result={};for(const order in orders)supportedOrders.includes(order)&&(result["order[]"]=order);return result}assertValidId(id){if(!id||"string"!=typeof id||!validator__WEBPACK_IMPORTED_MODULE_1___default().isUUID(id))throw new TypeError(`Service error. The id '${id}' is not a valid uuid.`)}assertNonEmptyData(data){if(!data)throw new TypeError("Service error. Data cannot be empty.")}}},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}}}]);