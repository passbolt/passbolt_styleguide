/*! For license information please see react-extension-components-UserSetting-DisplayUserSettingsWorkspace-DisplayUserSettingsWorkspace-test-stories.c365addb.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[9754],{"./src/react-extension/components/UserSetting/DisplayUserSettingsWorkspace/DisplayUserSettingsWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UserProfile:()=>UserProfile,__namedExportsOrder:()=>__namedExportsOrder,accountRecovery:()=>accountRecovery,ceVersion:()=>ceVersion,changePassphrase:()=>changePassphrase,default:()=>DisplayUserSettingsWorkspace_test_stories,desktop:()=>desktop,gpgKeyInformation:()=>gpgKeyInformation,mobile:()=>mobile,mobileCanceled:()=>mobileCanceled,mobileError:()=>mobileError,proVersion:()=>proVersion,securityToken:()=>securityToken,theme:()=>theme});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),NavigateIntoUserSettingsWorkspace=__webpack_require__("./src/react-extension/components/UserSetting/NavigateIntoUserSettingsWorkspace/NavigateIntoUserSettingsWorkspace.js"),DisplayUserProfile=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserProfile/DisplayUserProfile.js"),DisplayUserTheme=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserTheme/DisplayUserTheme.js"),DisplayUserSettingsWorkspaceBreadcrumb=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserSettingsWorkspaceBreadcrumb/DisplayUserSettingsWorkspaceBreadcrumb.js"),DisplayUserGpgInformation=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserGpgInformation/DisplayUserGpgInformation.js"),ChangeUserSecurityToken=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserSecurityToken/ChangeUserSecurityToken.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),browser=__webpack_require__("./node_modules/qrcode/lib/browser.js");var es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),UserSettingsContext=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js");class ShowErrorDetails extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{showErrorDetails:!1}}bindHandlers(){this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this)}get errorData(){if(!this.props.error)return"No data available.";let msg="";return msg+="Message \n----------------------\n",msg+=this.props.error.message,msg+="\n\n",this.props.error.data&&(msg+="Data \n----------------------\n",msg+=JSON.stringify(this.props.error.data),msg+="\n\n"),msg+="Stack \n----------------------\n",msg+=this.props.error.stack,msg}handleErrorDetailsToggle(){this.toggleErrorDetails()}toggleErrorDetails(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get message(){return this.props.error.message||"No message."}render(){return react.createElement("div",{className:"accordion error-details"},react.createElement("div",{className:"accordion-header"},react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleErrorDetailsToggle},react.createElement(Icon.A,{baseline:!0,name:this.state.showErrorDetails?"caret-down":"caret-right"}),react.createElement(es.x6,null,"Error details"))),this.state.showErrorDetails&&react.createElement("div",{className:"accordion-content"},react.createElement("div",{className:"input text"},react.createElement("label",{htmlFor:"show-error-details",className:"visuallyhidden"},this.props.error.message),react.createElement("textarea",{id:"show-error-details",defaultValue:`${this.errorData}`,readOnly:!0}))))}}ShowErrorDetails.propTypes={error:prop_types_default().object};const ShowErrorDetails_ShowErrorDetails=(0,es.CI)("common")(ShowErrorDetails);ShowErrorDetails.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"errorData",docblock:"Get error data\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get error data"},{name:"handleErrorDetailsToggle",docblock:"Handle the toggle display of error details",modifiers:[],params:[],returns:null,description:"Handle the toggle display of error details"},{name:"toggleErrorDetails",docblock:"Toggle the display of the error details",modifiers:[],params:[],returns:null,description:"Toggle the display of the error details"},{name:"message",docblock:"Get the error main message\n@returns {String|string} return default if string is empty",modifiers:["get"],params:[],returns:{description:"return default if string is empty",type:{name:"union",elements:[{name:"String"},{name:"string"}]}},description:"Get the error main message"}],displayName:"ShowErrorDetails",props:{error:{description:"",type:{name:"object"},required:!1}}};var AnimatedFeedback=__webpack_require__("./src/shared/components/Icons/AnimatedFeedback.js");class MobileTransferIcon extends react.Component{render(){return react.createElement("span",{className:"svg-icon mobile-transfer"},react.createElement("svg",{width:"304",height:"250",viewBox:"0 0 304 250",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("g",{clipPath:"url(#clip0_1573_970258)"},react.createElement("path",{d:"M176.131 148.383L178.446 143.014H0.681641V148.192C0.681641 153.31 4.8455 157.474 9.96332 157.474H179.708L176.131 148.384V148.383Z",fill:"black"}),react.createElement("path",{d:"M209.986 0.416504H34.0147C26.9447 0.416504 21.1929 6.16835 21.1929 13.2384V140.171H180.453L183.097 138.736L175.671 126.717L176.212 118.699C176.381 116.211 177.444 113.87 179.207 112.108C180.934 110.381 183.185 109.361 185.531 109.14L178.642 101.617C175.676 98.186 175.62 93.1567 178.508 89.6607C180.786 86.902 184.438 85.7254 187.856 86.5644V37.704C187.856 32.5743 192.03 28.4002 197.16 28.4002H222.808V13.2398C222.808 6.16982 217.056 0.417978 209.986 0.417978V0.416504Z",fill:"black"}),react.createElement("path",{d:"M129.893 39.2993H124.632V57.7152H129.893V39.2993Z",fill:"white"}),react.createElement("path",{d:"M114.107 39.2993H119.37V44.5616V68.2399H100.952V62.979H114.107V39.2993Z",fill:"white"}),react.createElement("path",{d:"M108.846 39.2993H90.4302V57.7152H108.846V39.2993Z",fill:"white"}),react.createElement("path",{d:"M108.846 84.0269H90.4302V102.443H108.846V84.0269Z",fill:"white"}),react.createElement("path",{d:"M108.846 78.7645H90.4302V62.979H95.691V73.5022H108.846V78.7645Z",fill:"white"}),react.createElement("path",{d:"M135.155 102.441H114.107L114.108 97.179H129.894V84.0254H135.155V102.441Z",fill:"white"}),react.createElement("path",{d:"M153.572 89.2877H145.679V97.1804H153.572V102.443H140.417V84.0269H153.572V89.2877Z",fill:"white"}),react.createElement("path",{d:"M153.572 78.763H135.155V68.2399H129.894V78.763H119.371V84.0254H124.633V89.2862H114.108V73.5007H124.633V62.9775H140.419V73.5007H153.572V78.763Z",fill:"white"}),react.createElement("path",{d:"M153.572 62.979H145.679V68.2413H153.572V62.979Z",fill:"white"}),react.createElement("path",{d:"M153.572 39.2993H135.155V57.7152H153.572V39.2993Z",fill:"white"}),react.createElement("path",{d:"M148.311 44.5615H140.418V52.4543H148.311V44.5615Z",fill:"black"}),react.createElement("path",{d:"M103.584 89.2876H95.6909V97.1803H103.584V89.2876Z",fill:"black"}),react.createElement("path",{d:"M103.584 44.5615H95.6909V52.4543H103.584V44.5615Z",fill:"black"}),react.createElement("path",{d:"M302.537 248.442L284.761 197.945V148.697L274.417 115.186L268.298 108.338L265.682 99.4283C264.942 96.9055 262.361 95.3956 259.8 95.9869C257.956 96.413 256.514 97.8491 256.082 99.6922L255.455 102.364V115.186L259.41 123.345L262.531 140.981L255.455 135.234",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M243.965 248.442L241.343 230.29L204.042 176.79",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M187.33 131.04L191.075 126.322V113.478L189.696 112.812C186.949 111.485 183.664 112.04 181.507 114.196C180.28 115.423 179.54 117.052 179.423 118.782L178.95 125.797L187.33 139.362",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M191.075 91.1982L187.847 89.681C185.405 88.7845 182.664 89.5247 181.009 91.5299C179.105 93.836 179.142 97.1786 181.097 99.4404L191.075 110.334",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M186.421 155.68L192.974 150.699L194.633 146.777C195.388 144.992 195.116 142.936 193.92 141.409C192.315 139.356 189.462 138.765 187.172 140.008L181.964 142.834L179.605 148.308L183.537 158.3L191.075 163.804",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M249.286 31.4058H197.244C193.836 31.4058 191.075 34.1674 191.075 37.5749V139.538C192.17 139.825 193.179 140.461 193.92 141.409C195.116 142.936 195.389 144.992 194.633 146.777L192.974 150.699L191.075 152.143V170.621C191.075 174.028 193.836 176.79 197.244 176.79H249.286C252.694 176.79 255.455 174.028 255.455 170.621V37.5749C255.455 34.1674 252.694 31.4058 249.286 31.4058V31.4058Z",fill:"black"}),react.createElement("path",{d:"M249.286 31.4058H197.244C193.836 31.4058 191.075 34.1674 191.075 37.5749V139.538C192.17 139.825 193.179 140.461 193.92 141.409C195.116 142.936 195.389 144.992 194.633 146.777L192.974 150.699L191.075 152.143V170.621C191.075 174.028 193.836 176.79 197.244 176.79H249.286C252.694 176.79 255.455 174.028 255.455 170.621V37.5749C255.455 34.1674 252.694 31.4058 249.286 31.4058V31.4058Z",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"}),react.createElement("path",{d:"M186.421 155.68L192.974 150.699L194.633 146.777C195.388 144.992 195.116 142.936 193.92 141.409C192.315 139.356 189.462 138.765 187.172 140.008L181.964 142.834L179.605 148.308L183.537 158.3",stroke:"var(--icon-color)",strokeWidth:"2.92532",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M204.351 61.8384H214.787V72.2746H204.351V61.8384ZM211.806 69.2932V64.8212H207.334V69.2932H211.806Z",fill:"white"}),react.createElement("path",{d:"M229.695 61.8384H240.131V72.2746H229.695V61.8384ZM237.15 69.2932V64.8212H232.678V69.2932H237.15Z",fill:"white"}),react.createElement("path",{d:"M204.351 87.1831H214.787V97.6193H204.351V87.1831ZM211.806 94.6365V90.1645H207.334V94.6365H211.806Z",fill:"white"}),react.createElement("path",{d:"M217.769 94.6365H226.714V87.1831H229.695V97.6193H217.769V94.6379V94.6365Z",fill:"white"}),react.createElement("path",{d:"M232.678 87.1826H240.132V90.164H235.66V94.636H240.132V97.6173H232.678V87.1812V87.1826Z",fill:"white"}),react.createElement("path",{d:"M204.351 75.2559H207.332V81.2186H214.786V84.1999H204.35V75.2544L204.351 75.2559Z",fill:"white"}),react.createElement("path",{d:"M217.769 81.2186H223.733V75.2559H232.678V81.2186H240.132V84.1999H229.695V78.2372H226.714V84.1999H220.751V87.1812H223.733V90.1626H217.769V81.2171V81.2186Z",fill:"white"}),react.createElement("path",{d:"M235.66 75.2559V78.2372H240.132V75.2559H235.66Z",fill:"white"}),react.createElement("path",{d:"M223.733 61.8384V72.2746H226.714V61.8384H223.733Z",fill:"white"}),react.createElement("path",{d:"M210.314 75.2559H217.769V61.8384H220.75V64.8197V78.2372H210.314V75.2559Z",fill:"white"}),react.createElement("path",{d:"M197.931 70.5114V58.3427C197.931 56.4009 199.505 54.8262 201.447 54.8262H213.616",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M230.866 54.8262H243.034C244.976 54.8262 246.551 56.4009 246.551 58.3427V70.5114",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M246.552 88.9448V101.113C246.552 103.055 244.977 104.63 243.035 104.63H230.867",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M213.616 104.632H201.447C199.505 104.632 197.931 103.057 197.931 101.115V88.9468",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10",strokeLinecap:"round"}),react.createElement("path",{d:"M178.446 143.013H0.681641V148.191C0.681641 153.309 4.8455 157.473 9.96332 157.473H179.708",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"}),react.createElement("path",{d:"M222.808 28.3992V13.2403C222.808 6.1703 217.056 0.418457 209.986 0.418457H34.0147C26.9447 0.418457 21.1929 6.1703 21.1929 13.2403V140.172H180.453",stroke:"white",strokeWidth:"0.836015",strokeMiterlimit:"10"})),react.createElement("defs",null,react.createElement("clipPath",{id:"clip0_1573_970258"},react.createElement("rect",{width:"303.736",height:"249.905",fill:"white",transform:"translate(0.26416)"})))))}}const Icons_MobileTransferIcon=MobileTransferIcon;MobileTransferIcon.__docgenInfo={description:"",methods:[],displayName:"MobileTransferIcon"};var file_text=__webpack_require__("./src/img/svg/file_text.svg"),portals=__webpack_require__("./src/shared/utils/portals.js");const TransferToMobileSteps={HTTPS_REQUIRED:"https required",START:"start",IN_PROGRESS:"in progress",COMPLETE:"complete",CANCEL:"cancel",ERROR:"error"};class TransferToMobile extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.timeout=void 0,this.request=0,this.bindHandlers()}get defaultState(){return{step:this.isRunningUnderHttps?TransferToMobileSteps.START:TransferToMobileSteps.HTTPS_REQUIRED,page:0,processing:!1,qrCodes:void 0,debug:!0,error:void 0,showErrorDetails:!1,transferDto:void 0}}get user(){return this.context.loggedInUser}get translate(){return this.props.t}get domain(){return this.context.userSettings.getTrustedDomain()}bindHandlers(){this.handleClickStart=this.handleClickStart.bind(this),this.handleClickCancel=this.handleClickCancel.bind(this),this.handleClickDone=this.handleClickDone.bind(this)}async handleClickStart(){try{await this.toggleProcessing(),await this.createTransfer(),await this.toggleProcessing()}catch(error){return"UserAbortsOperationError"===error.name?this.handleTransferCancel():this.handleTransferError(error)}}async buildFirstQrCode(transferDto,totalPages,hash){if(!transferDto)throw new Error(this.translate("Server response is empty."));if(transferDto.total_pages!==totalPages||transferDto.hash!==hash){const error=new Error(this.translate("Server response does not match initial request."));throw error.data={transferDto,totalPages,hash},error}if(!transferDto.authentication_token||!transferDto.authentication_token.token)throw new Error(this.translate("Authentication token is missing from server response."));const str=this.getTransferMetadataDataAsString(transferDto),slices=this.stringToSlices(str,0);if(!slices||0===slices.length)throw new Error(this.translate("Sorry, it is not possible to proceed. The first QR code is empty."));if(slices.length>1)throw new Error(this.translate("Sorry, it is not possible to proceed. The first QR code is too big."));return await this.getQrCode(slices[0])}getTransferMetadataDataAsString(transferDto){return JSON.stringify({transfer_id:transferDto.id,user_id:this.user.id,domain:this.domain,total_pages:transferDto.total_pages,hash:transferDto.hash,authentication_token:transferDto.authentication_token.token})}async getTransferDataAsString(){const fingerprint=await this.getFingerprint(),privateKey=await this.getPrivateKey();return JSON.stringify({user_id:this.user.id,fingerprint,armored_key:privateKey})}async getTransferHash(message){return await async function sha512(message){if(!message||"string"!=typeof message)throw new Error("SHA-512 require a non empty string.");const msgUint8=(new TextEncoder).encode(message),hashBuffer=await crypto.subtle.digest("SHA-512",msgUint8);return Array.from(new Uint8Array(hashBuffer)).map((b=>b.toString(16).padStart(2,"0"))).join("")}(message)}async buildQrCodes(rawData){const slices=this.stringToSlices(rawData,1),qrCodes=[];for(let i=0;i<slices.length;i++){const qrCode=await this.getQrCode(slices[i]);qrCodes.push(qrCode)}return qrCodes}stringToSlices(data,startPage){const slices=[],sliceNeeded=Math.ceil(data.length/1462);if(sliceNeeded>255)throw new Error("Cannot transfer the data, the private key is too big.");void 0===startPage&&(startPage=0);for(let i=0;i<sliceNeeded;i++){const pageCounter=startPage+i,version=1..toString(16),page=pageCounter.toString(16).padStart(2,"0"),uint8Header=new Uint8ClampedArray([version.charCodeAt(0),page.charCodeAt(0),page.charCodeAt(1)]),start=0===i?0:1462*i;let end=0===i?1462:1462*(i+1);end=end>data.length?data.length:end;const slicedData=data.slice(start,end),uint8Data=this.str2bytes(slicedData);slices[i]=Uint8ClampedArray.from([...uint8Header,...uint8Data])}return slices}str2bytes(str){const buffer=new Uint8ClampedArray(str.length);for(let i=0,strLen=str.length;i<strLen;i++)buffer[i]=str.charCodeAt(i);return buffer}async getQrCode(content){try{const data=(new TextDecoder).decode(content);return await browser.toDataURL([{data,mode:"byte"}],{version:27,errorCorrectionLevel:"L",type:"image/jpeg",quality:1,margin:4})}catch(error){this.handleError(error)}}async getPrivateKey(){return await this.context.port.request("passbolt.keyring.get-private-key")}async getFingerprint(){const key=await this.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id);if(!key||!key.fingerprint)throw new Error("The user fingerprint is not set.");return key.fingerprint}async createTransfer(){const rawString=await this.getTransferDataAsString(),hash=await this.getTransferHash(rawString),qrCodes=await this.buildQrCodes(rawString),totalPages=qrCodes.length+1;try{const data={total_pages:totalPages,hash},transferDto=await this.context.port.request("passbolt.mobile.transfer.create",data),firstQrCode=await this.buildFirstQrCode(transferDto,totalPages,hash);qrCodes.unshift(firstQrCode),this.setState({qrCodes,step:"in progress",page:0,transferDto},(()=>{this.setInterval()}))}catch(error){this.handleError(error)}}async getUpdatedTransfer(){let transferDto;try{this.request=1,transferDto=await this.context.port.request("passbolt.mobile.transfer.get",this.state.transferDto.id),this.request=0}catch(error){return void await this.handleTransferError(error)}if(transferDto)switch(transferDto.status){case TransferToMobileSteps.START:break;case TransferToMobileSteps.IN_PROGRESS:transferDto.current_page!==this.state.page&&await this.handleTransferUpdated(transferDto);break;case TransferToMobileSteps.COMPLETE:await this.handleTransferComplete();break;case TransferToMobileSteps.ERROR:await this.handleTransferError();break;case TransferToMobileSteps.CANCEL:await this.handleTransferCancelled();break;default:await this.handleTransferError(new Error("Unsupported status"))}}async handleTransferUpdated(transferDto){this.setState({transferDto,step:TransferToMobileSteps.IN_PROGRESS,page:transferDto.current_page})}async handleTransferCancel(){await this.toggleProcessing(),this.clearInterval();try{if(this.state.transferDto&&this.state.transferDto!==TransferToMobileSteps.CANCEL){const transferDto={id:this.state.transferDto.id,status:TransferToMobileSteps.CANCEL};await this.context.port.request("passbolt.mobile.transfer.update",transferDto)}}catch(error){console.error(error)}this.setState(this.defaultState)}async handleTransferCancelled(){this.clearInterval();const cancelState=this.defaultState;cancelState.step=TransferToMobileSteps.CANCEL,this.setState(cancelState)}async handleTransferComplete(){this.clearInterval();const completeState=this.defaultState;completeState.step=TransferToMobileSteps.COMPLETE,this.setState(completeState)}async handleTransferError(error){if(this.clearInterval(),!error){const msg=this.translate("The transfer was cancelled because the other client returned an error.");error=new Error(msg)}this.handleError(error)}componentWillUnmount(){this.clearInterval()}setInterval(){this.timeout=window.setInterval((()=>{0===this.request&&this.getUpdatedTransfer()}),333)}clearInterval(){this.timeout&&(window.clearInterval(this.timeout),this.timeout=null),this.request=0}async handleClickCancel(){this.handleTransferCancel()}async handleClickDone(){this.clearInterval(),this.setState(this.defaultState)}async toggleProcessing(){const prev=this.state.processing;return new Promise((resolve=>{this.setState({processing:!prev},resolve())}))}handleError(error){console.error(error),this.setState({step:TransferToMobileSteps.ERROR,error})}getCurrentQrCodeSrc(){return void 0===this.state.qrCodes[this.state.page]?"":this.state.qrCodes[this.state.page]}highlightIfCurrentStep(reactDomElement,targetStep){return this.state.step===targetStep?react.createElement("strong",null,reactDomElement):reactDomElement}get isRunningUnderHttps(){const trustedDomain=this.props.context.userSettings.getTrustedDomain();return"https:"===new URL(trustedDomain).protocol}render(){const processingClassName=this.state.processing?"processing":"";return react.createElement(react.Fragment,null,react.createElement("div",{className:"main-column profile-mobile-transfer"},this.state.step===TransferToMobileSteps.START&&react.createElement("div",{className:"profile main-content mobile-transfer-step-start"},react.createElement("h3",null,react.createElement(es.x6,null,"Welcome to the mobile app setup")),react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Download the mobile app")),react.createElement("p",null,react.createElement(es.x6,null,"Passbolt is available on AppStore & PlayStore")),react.createElement("div",{className:"stores"},react.createElement("a",{className:"app-store",href:"https://apps.apple.com/lv/app/passbolt-password-manager/id1569629432",target:"_blank",rel:"noopener noreferrer"}),react.createElement("a",{className:"play-store",href:"https://play.google.com/store/apps/details?id=com.passbolt.mobile.android",target:"_blank",rel:"noopener noreferrer"})),react.createElement("h4",null,react.createElement(es.x6,null,"Transfer your account key")),react.createElement("div",{className:"transfer-account"},react.createElement(Icons_MobileTransferIcon,null),react.createElement("div",{className:"transfer-account-description"},react.createElement("p",null,react.createElement(es.x6,null,"Click start once the mobile application is installed and opened on your phone and you are ready to scan QR codes."))))),this.state.step===TransferToMobileSteps.IN_PROGRESS&&react.createElement("div",{className:"profile main-content mobile-transfer-step-in-progress"},react.createElement("h3",null,react.createElement(es.x6,null,"Transfer in progress...")),react.createElement("img",{id:"qr-canvas",style:{width:"325px",height:"325px"},src:this.getCurrentQrCodeSrc()})),this.state.step===TransferToMobileSteps.COMPLETE&&react.createElement("div",{className:"profile main-content mobile-transfer-step-complete"},react.createElement("h3",null,react.createElement(es.x6,null,"Transfer complete!")),react.createElement("div",{className:"feedback-card"},react.createElement(AnimatedFeedback.A,{name:"success"}),react.createElement("div",{className:"additional-information"},react.createElement("p",null,react.createElement(es.x6,null,"You are now ready to continue the setup on your phone.")," ",react.createElement(es.x6,null,"You can restart this process if you want to configure another phone."))))),this.state.step===TransferToMobileSteps.CANCEL&&react.createElement("div",{className:"profile main-content mobile-transfer-step-error"},react.createElement("h3",null,react.createElement(es.x6,null,"The operation was cancelled.")),react.createElement("div",{className:"feedback-card"},react.createElement(AnimatedFeedback.A,{name:"error"}),react.createElement("div",{className:"additional-information"},react.createElement("p",null,react.createElement(es.x6,null,"If there was an issue during the transfer, either the operation was cancelled on the mobile side, or the authentication token expired.")," ",react.createElement(es.x6,null,"Please try again later or contact your administrator."))))),this.state.step===TransferToMobileSteps.ERROR&&react.createElement("div",{className:"profile main-content mobile-transfer-step-error"},react.createElement("h3",null,react.createElement(es.x6,null,"Oops, something went wrong")),react.createElement("div",{className:"feedback-card"},react.createElement(AnimatedFeedback.A,{name:"error"}),react.createElement("div",{className:"additional-information"},react.createElement("p",null,react.createElement(es.x6,null,"There was an issue during the transfer. Please try again later or contact your administrator.")))),react.createElement(ShowErrorDetails_ShowErrorDetails,{error:this.state.error})),this.state.step===TransferToMobileSteps.HTTPS_REQUIRED&&react.createElement("div",{className:"profile main-content mobile-transfer-step-https-required"},react.createElement("h3",null,react.createElement(es.x6,null,"Mobile Apps")),react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Sorry the Mobile app setup feature is only available in a secure context (HTTPS).")),react.createElement("p",null,react.createElement(es.x6,null,"Please contact your administrator to fix this issue.")))),react.createElement("div",{className:"actions-wrapper"},this.state.step===TransferToMobileSteps.START&&react.createElement("button",{type:"button",className:`button primary form ${processingClassName}`,role:"button",onClick:this.handleClickStart},react.createElement(es.x6,null,"Start")),this.state.step===TransferToMobileSteps.IN_PROGRESS&&react.createElement("button",{className:`button cancel ${processingClassName}`,type:"button",onClick:this.handleClickCancel},react.createElement(es.x6,null,"Cancel")),this.state.step===TransferToMobileSteps.COMPLETE&&react.createElement("button",{className:`button primary form ${processingClassName}`,type:"button",onClick:this.handleClickDone},react.createElement(es.x6,null,"Configure another phone")),(this.state.step===TransferToMobileSteps.CANCEL||this.state.step===TransferToMobileSteps.ERROR)&&react.createElement("button",{className:`button primary form ${processingClassName}`,type:"button",onClick:this.handleClickStart},react.createElement(es.x6,null,"Restart"))),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},[TransferToMobileSteps.START,TransferToMobileSteps.IN_PROGRESS,TransferToMobileSteps.COMPLETE].includes(this.state.step)&&react.createElement(react.Fragment,null,react.createElement("h3",null,react.createElement(es.x6,null,"Get started in 5 easy steps")),react.createElement("p",null,react.createElement(es.x6,null,"1. Install the application from the store.")),react.createElement("p",null,react.createElement(es.x6,null,"2. Open the application on your phone.")),react.createElement("p",null,this.highlightIfCurrentStep(react.createElement(es.x6,null,"3. Click start in your browser."),TransferToMobileSteps.START)),react.createElement("p",null,this.highlightIfCurrentStep(react.createElement(es.x6,null,"4. Scan the QR codes with your phone."),TransferToMobileSteps.IN_PROGRESS)),react.createElement("p",null,this.highlightIfCurrentStep(react.createElement(es.x6,null,"5. And you are done!"),TransferToMobileSteps.COMPLETE)),react.createElement("a",{className:"button",href:"https://passbolt.com/docs",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),[TransferToMobileSteps.CANCEL,TransferToMobileSteps.ERROR,TransferToMobileSteps.HTTPS_REQUIRED].includes(this.state.step)&&react.createElement(react.Fragment,null,react.createElement("h3",null,react.createElement(es.x6,null,"Need some help?")),react.createElement("p",null,react.createElement(es.x6,null,"Contact your administrator with details about what went wrong.")),react.createElement("p",null,react.createElement(es.x6,null,"Alternatively you can also get in touch with support on community forum or via the paid support channels.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Help site"))))),document.querySelector(".help-panel .sidebar-help")))}}TransferToMobile.contextType=AppContext.A,TransferToMobile.propTypes={context:prop_types_default().object,dialogContext:prop_types_default().object,userSettingsContext:prop_types_default().object,t:prop_types_default().func,i18n:prop_types_default().any};const TransferToMobile_TransferToMobile=(0,AppContext.L)((0,DialogContext.z9)((0,UserSettingsContext.tX)((0,es.CI)("common")(TransferToMobile))));TransferToMobile.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"domain",docblock:"Get current domain\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get current domain"},{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"handleClickStart",docblock:"Whenever the user wants to start the transfer",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to start the transfer"},{name:"buildFirstQrCode",docblock:"Build first QR code\n@param {object} transferDto\n@param {int} totalPages\n@param {string} hash\n@returns {Promise<string>} image data",modifiers:["async"],params:[{name:"transferDto",type:{name:"object"},optional:!1},{name:"totalPages",type:{name:"int"},optional:!1},{name:"hash",type:{name:"string"},optional:!1}],returns:{description:"image data",type:{name:"Promise",elements:[{name:"string"}]}},description:"Build first QR code"},{name:"getTransferMetadataDataAsString",docblock:"Get first QR code data\n\n@param {object} transferDto\n@returns {string}",modifiers:[],params:[{name:"transferDto",type:{name:"object"},optional:!1}],returns:{type:{name:"string"}},description:"Get first QR code data"},{name:"getTransferDataAsString",docblock:"Getter for bulk of the data to transfer\n\n@returns {Promise<string>} base64 encoded JSON string with\n{user: uuid, fingerprint: string, armored_key: openpgp secret armored key block}",modifiers:["async"],params:[],returns:{description:"base64 encoded JSON string with\n{user: uuid, fingerprint: string, armored_key: openpgp secret armored key block}",type:{name:"Promise",elements:[{name:"string"}]}},description:"Getter for bulk of the data to transfer"},{name:"getTransferHash",docblock:"Get the transfer data hash\nWill be send to the server so that the client can double check the data integrity\nat the end of the transfer process\n\n@param {string} message\n@throws {Error} if message is empty or not a string\n@returns {Promise<string>}",modifiers:["async"],params:[{name:"message",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"string"}]}},description:"Get the transfer data hash\nWill be send to the server so that the client can double check the data integrity\nat the end of the transfer process"},{name:"buildQrCodes",docblock:"Build QR codes\nGet the raw data, slices it according to desired QR code size, build QR codes as images\n@returns {Promise<[]>}",modifiers:["async"],params:[{name:"rawData",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"tuple",elements:[]}]}},description:"Build QR codes\nGet the raw data, slices it according to desired QR code size, build QR codes as images"},{name:"stringToSlices",docblock:"String to slice\n\n@param {string} data\n@param {int} startPage\n@returns {array} array of strings sliced to fit on the defined QR CODE size",modifiers:[],params:[{name:"data",type:{name:"string"},optional:!1},{name:"startPage",type:{name:"int"},optional:!1}],returns:{description:"array of strings sliced to fit on the defined QR CODE size",type:{name:"array"}},description:"String to slice"},{name:"str2bytes",docblock:"Convert a 8bit encoded string into Uint8ClampedArray\n@param {string} str\n@returns {Uint8ClampedArray}",modifiers:[],params:[{name:"str",type:{name:"string"},optional:!1}],returns:{type:{name:"Uint8ClampedArray"}},description:"Convert a 8bit encoded string into Uint8ClampedArray"},{name:"getQrCode",docblock:"Populates the component with data\n@param {Uint8ClampedArray} content\n@returns {Promise<string>} image data",modifiers:["async"],params:[{name:"content",type:{name:"Uint8ClampedArray"},optional:!1}],returns:{description:"image data",type:{name:"Promise",elements:[{name:"string"}]}},description:"Populates the component with data"},{name:"getPrivateKey",docblock:"Fetch the user key id",modifiers:["async"],params:[],returns:null,description:"Fetch the user key id"},{name:"getFingerprint",docblock:"Find a user gpg key\n\n@throws {Error} if fingerprint is not available\n@returns {Promise<String>} fingerprint",modifiers:["async"],params:[],returns:{description:"fingerprint",type:{name:"Promise",elements:[{name:"String"}]}},description:"Find a user gpg key"},{name:"createTransfer",docblock:"Initiate the exchange by creating a transfer entity server side\nThis will allow the clients to coordinate the transfer\n\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Initiate the exchange by creating a transfer entity server side\nThis will allow the clients to coordinate the transfer"},{name:"getUpdatedTransfer",docblock:"Get some update\n\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Get some update"},{name:"handleTransferUpdated",docblock:"Handle when the transfer was updated\nTurn pages, etc.\n\n@param transferDto\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"transferDto",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle when the transfer was updated\nTurn pages, etc."},{name:"handleTransferCancel",docblock:"Tell the server that the transfer is cancelled browser extension side\nThis allows the other client to also give up.\n\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Tell the server that the transfer is cancelled browser extension side\nThis allows the other client to also give up."},{name:"handleTransferCancelled",docblock:"Tell the server that the transfer is cancelled mobile side\n\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Tell the server that the transfer is cancelled mobile side"},{name:"handleTransferComplete",docblock:"When the transfer is over\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"When the transfer is over"},{name:"handleTransferError",docblock:"When the transfer is reporting an issue\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"error",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"When the transfer is reporting an issue"},{name:"setInterval",docblock:"Add an interval to fetch transfer update",modifiers:[],params:[],returns:null,description:"Add an interval to fetch transfer update"},{name:"clearInterval",docblock:"Remove the interval fetching the last transfer update",modifiers:[],params:[],returns:null,description:"Remove the interval fetching the last transfer update"},{name:"handleClickCancel",docblock:"What happens when the user clicks cancel\n\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"What happens when the user clicks cancel"},{name:"handleClickDone",docblock:"When the transfer is over and one wants to restart\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"When the transfer is over and one wants to restart"},{name:"toggleProcessing",docblock:"Toggle processing state\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Toggle processing state"},{name:"handleError",docblock:"Handle error to display the error info and retry\n@param {Error} error",modifiers:[],params:[{name:"error",type:{name:"Error"},optional:!1}],returns:null,description:"Handle error to display the error info and retry"},{name:"getCurrentQrCodeSrc",docblock:"Return the current QR code src (inline image)\n@returns {string|*}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"string"},{name:"mixed"}]}},description:"Return the current QR code src (inline image)"},{name:"highlightIfCurrentStep",docblock:"Surround the current reactDomElement with <strong> tags if the given step is the current one.\n@param {ReactDOM} reactDomElement\n@param {string} targetStep\n@returns {ReactDOM}",modifiers:[],params:[{name:"reactDomElement",type:{name:"ReactDOM"},optional:!1},{name:"targetStep",type:{name:"string"},optional:!1}],returns:{type:{name:"ReactDOM"}},description:"Surround the current reactDomElement with <strong> tags if the given step is the current one."},{name:"isRunningUnderHttps",docblock:"Returns true if the current URL is using the protocol HTTPS\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current URL is using the protocol HTTPS"}],displayName:"TransferToMobile",props:{context:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}};var DisplayAccountRecoveryUserSettings=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserAccountRecovery/DisplayAccountRecoveryUserSettings.js"),AccountRecoveryUserContext=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),MFAContext=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),ExportAccountToDesktop=__webpack_require__("./src/react-extension/components/UserSetting/ExportAccountToDesktop/ExportAccountToDesktop.js"),DisplayProviderList=__webpack_require__("./src/react-extension/components/MFA/DisplayProviderList/DisplayProviderList.js"),ScanTotpCode=__webpack_require__("./src/react-extension/components/MFA/TotpSetup/ScanTotpCode/ScanTotpCode.js"),TotpGetStarted=__webpack_require__("./src/react-extension/components/MFA/TotpSetup/TotpGetStarted/TotpGetStarted.js"),DisplayMfaProviderConfiguration=__webpack_require__("./src/react-extension/components/MFA/DisplayMfaProviderConfiguration/DisplayMfaProviderConfiguration.js"),YubikeySetup=__webpack_require__("./src/react-extension/components/MFA/YubikeySetup/YubikeySetup.js"),DuoGetStarted=__webpack_require__("./src/react-extension/components/MFA/DuoSetup/DuoGetStarted.js");class OrchestrateMfaSettings extends react.Component{async componentDidMount(){await this.props.mfaContext.findMfaSettings(),await this.initInitialView()}async initInitialView(){const provider=this.props.match.params.provider;provider?(this.props.mfaContext.setProvider(provider),this.props.mfaContext.navigate(MFAContext.hx.VIEWCONFIGURATION)):await this.props.mfaContext.goToProviderList()}render(){switch(this.props.mfaContext.state){case MFAContext.hx.OVERVIEW:return react.createElement(DisplayProviderList.A,null);case MFAContext.hx.TOTPOVERVIEW:return react.createElement(TotpGetStarted.A,null);case MFAContext.hx.SCANTOTPCODE:return react.createElement(ScanTotpCode.A,null);case MFAContext.hx.SETUPYUBIKEY:return react.createElement(YubikeySetup.A,null);case MFAContext.hx.SETUPDUO:return react.createElement(DuoGetStarted.A,null);case MFAContext.hx.VIEWCONFIGURATION:return react.createElement(DisplayMfaProviderConfiguration.A,null)}}}OrchestrateMfaSettings.propTypes={t:prop_types_default().func,context:prop_types_default().any.isRequired,match:prop_types_default().object,mfaContext:prop_types_default().any.isRequired};const OrchestrateMfaSettings_OrchestrateMfaSettings=(0,AppContext.L)((0,MFAContext.dg)((0,react_router.withRouter)((0,es.CI)("common")(OrchestrateMfaSettings))));OrchestrateMfaSettings.__docgenInfo={description:"The component orchestrates the mfa settings flow.",methods:[{name:"initInitialView",docblock:null,modifiers:["async"],params:[],returns:null}],displayName:"OrchestrateMfaSettings",props:{t:{description:"",type:{name:"func"},required:!1},context:{description:"",type:{name:"any"},required:!0},match:{description:"",type:{name:"object"},required:!1},mfaContext:{description:"",type:{name:"any"},required:!0}}};var RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),arrow_left=__webpack_require__("./src/img/svg/arrow_left.svg"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),DisplayUserProfileHelp=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserProfile/DisplayUserProfileHelp.js"),Footer=__webpack_require__("./src/react-extension/components/Common/Footer/Footer.js"),DisplayUserGpgInformationHelp=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserGpgInformation/DisplayUserGpgInformationHelp.js"),DisplayChangePassphraseIntroduction=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/DisplayChangePassphraseIntroduction.js"),LoadingSpinner=__webpack_require__("./src/react-extension/components/Common/Loading/LoadingSpinner/LoadingSpinner.js"),ConfirmPassphrase=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/ConfirmPassphrase.js"),DownloadRecoveryKit=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/DownloadRecoveryKit.js"),EnterNewPassphrase=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/EnterNewPassphrase.js");class ChangeUserPassphrase extends react.Component{componentDidMount(){this.initializePassphrase()}initializePassphrase(){this.userSettingsContext.onIntroductionPassphraseRequested()}get userSettingsContext(){return this.props.userSettingsContext}render(){switch(this.userSettingsContext.state){case UserSettingsContext.T6.PASSPHRASE_INTRODUCTION:return react.createElement(DisplayChangePassphraseIntroduction.A,null);case UserSettingsContext.T6.PASSPHRASE_TO_PROVIDE_REQUESTED:return react.createElement(ConfirmPassphrase.A,null);case UserSettingsContext.T6.PASSPHRASE_TO_PROVIDE_CHECKED:return react.createElement(EnterNewPassphrase.A,null);case UserSettingsContext.T6.PASSPHRASE_UPDATED:return react.createElement(DownloadRecoveryKit.A,null);default:return react.createElement(LoadingSpinner.A,null)}}}ChangeUserPassphrase.propTypes={userSettingsContext:prop_types_default().object};const ChangeUserPassphrase_ChangeUserPassphrase=(0,UserSettingsContext.tX)(ChangeUserPassphrase);ChangeUserPassphrase.__docgenInfo={description:"The component orchestrates the setup authentication process",methods:[{name:"initializePassphrase",docblock:"Initialize the authentication setup process",modifiers:[],params:[],returns:null,description:"Initialize the authentication setup process"},{name:"userSettingsContext",docblock:"Get user settings context\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get user settings context"}],displayName:"ChangeUserPassphrase",props:{userSettingsContext:{description:"",type:{name:"object"},required:!1}}};var DisplayChangePassphraseIntroductionHelp=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/DisplayChangePassphraseIntroductionHelp.js"),ConfirmPassphraseHelp=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/ConfirmPassphraseHelp.js"),EnterNewPassphraseHelp=__webpack_require__("./src/react-extension/components/UserSetting/ChangeUserPassphrase/EnterNewPassphraseHelp.js");class ChangeUserPassphraseHelp extends react.Component{get userSettingsContext(){return this.props.userSettingsContext}render(){switch(this.userSettingsContext.state){case UserSettingsContext.T6.PASSPHRASE_INTRODUCTION:return react.createElement(DisplayChangePassphraseIntroductionHelp.A,null);case UserSettingsContext.T6.PASSPHRASE_TO_PROVIDE_REQUESTED:return react.createElement(ConfirmPassphraseHelp.A,null);case UserSettingsContext.T6.PASSPHRASE_TO_PROVIDE_CHECKED:return react.createElement(EnterNewPassphraseHelp.A,null);case UserSettingsContext.T6.PASSPHRASE_UPDATED:return react.createElement(DisplayChangePassphraseIntroductionHelp.A,null);default:return react.createElement(LoadingSpinner.A,null)}}}ChangeUserPassphraseHelp.propTypes={userSettingsContext:prop_types_default().object};const ChangeUserPassphrase_ChangeUserPassphraseHelp=(0,UserSettingsContext.tX)(ChangeUserPassphraseHelp);ChangeUserPassphraseHelp.__docgenInfo={description:"The component orchestrates the setup authentication process",methods:[{name:"userSettingsContext",docblock:"Get user settings context\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get user settings context"}],displayName:"ChangeUserPassphraseHelp",props:{userSettingsContext:{description:"",type:{name:"object"},required:!1}}};var DisplayAccountRecoveryUserSettingsHelp=__webpack_require__("./src/react-extension/components/UserSetting/DisplayUserAccountRecovery/DisplayAccountRecoveryUserSettingsHelp.js");class DisplayUserSecurityTokenHelp_DisplayUserGpgInformationHelp extends react.Component{render(){return react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Why is this token needed?")),react.createElement("p",null,react.createElement(es.x6,null,"This security token will be displayed when your passphrase is requested, so you can verify quickly the form is coming from passbolt.")," ",react.createElement(es.x6,null,"This will help protect you from ",react.createElement("a",{href:"https://en.wikipedia.org/wiki/Phishing",target:"_blank",rel:"noopener noreferrer"},"phishing attacks"),".")))}}DisplayUserSecurityTokenHelp_DisplayUserGpgInformationHelp.propTypes={t:prop_types_default().func};const DisplayUserSecurityTokenHelp=(0,es.CI)("common")(DisplayUserSecurityTokenHelp_DisplayUserGpgInformationHelp);DisplayUserSecurityTokenHelp_DisplayUserGpgInformationHelp.__docgenInfo={description:"This component displays the user security token help",methods:[],displayName:"DisplayUserGpgInformationHelp",props:{t:{description:"",type:{name:"func"},required:!1}}};class ExportAccountToDesktopHelp extends react.Component{render(){return react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Get started in 5 easy steps")),react.createElement("p",null,react.createElement(es.x6,null,"1. Click download the account kit.")),react.createElement("p",null,react.createElement(es.x6,null,"2. Install the application from the store.")),react.createElement("p",null,react.createElement(es.x6,null,"3. Open the application.")),react.createElement("p",null,react.createElement(es.x6,null,"4. Upload the account kit on the desktop app.")),react.createElement("p",null,react.createElement(es.x6,null,"5. And you are done!")),react.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/user/quickstart/desktop/windows-app/",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation"))))}}ExportAccountToDesktopHelp.propTypes={t:prop_types_default().func};const ExportAccountToDesktop_ExportAccountToDesktopHelp=(0,es.CI)("common")(ExportAccountToDesktopHelp);ExportAccountToDesktopHelp.__docgenInfo={description:"This component displays the desktop account export help",methods:[],displayName:"ExportAccountToDesktopHelp",props:{t:{description:"",type:{name:"func"},required:!1}}};class DisplayMfaSettingsHelp extends react.Component{isDuo(){return this.props.mfaContext.provider===MFAContext.bb.DUO}isTotp(){return this.props.mfaContext.provider===MFAContext.bb.TOTP}isDefault(){return!this.isDuo()&&!this.isTotp()}render(){return react.createElement(react.Fragment,null,this.isDefault()&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"What is multi-factor authentication?")),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"Multi-factor authentication (MFA) is a method of confirming a user's identity that requires presenting two or more pieces of evidence (or factor).")),react.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),this.isDuo()&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Requirements")),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"To proceed, you need to install the Duo mobile application or to have a device to authenticate which is supported by Duo. For the list of supported devices, see: "),react.createElement("a",{href:"https://duo.com/product/multi-factor-authentication-mfa/authentication-methods",target:"_blank",rel:"noopener noreferrer"},"Duo authentication methods"),"."),react.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),this.isTotp()&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Requirements")),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"To proceed you need to install an application that supports Time Based One Time Passwords (TOTP) on your phone or tablet such as: "),react.createElement("a",{href:"https://freeotp.github.io/",target:"_blank",rel:"noopener noreferrer"},"Google Authenticator")," ",react.createElement(es.x6,null,"or")," ",react.createElement("a",{href:"https://support.google.com/accounts/answ",target:"_blank",rel:"noopener noreferrer"},"FreeOTP"),"."),react.createElement("a",{className:"button",href:"https://help.passbolt.com/start",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))))}}DisplayMfaSettingsHelp.propTypes={context:prop_types_default().object,mfaContext:prop_types_default().object};const DisplayMfaSettingsHelp_DisplayMfaSettingsHelp=(0,MFAContext.dg)((0,es.CI)("common")(DisplayMfaSettingsHelp));DisplayMfaSettingsHelp.__docgenInfo={description:"",methods:[{name:"isDuo",docblock:null,modifiers:[],params:[],returns:null},{name:"isTotp",docblock:null,modifiers:[],params:[],returns:null},{name:"isDefault",docblock:null,modifiers:[],params:[],returns:null}],displayName:"DisplayMfaSettingsHelp",props:{context:{description:"",type:{name:"object"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1}}};var WorkspaceSwitcher=__webpack_require__("./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js"),roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class DisplayUserSettingsWorkspace extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleGoBack=this.handleGoBack.bind(this)}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get canIUseMobileTransferCapability(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.MOBILE_TRANSFER)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}get canIUseDesktopExportCapability(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.DESKTOP_TRANSFER)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("desktop")}get canIUseAccountRecoveryCapability(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.PROFIL_ACCOUNT_RECOVERY)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountRecovery")}get isMfaChoiceRequired(){return this.props.mfaContext.isMfaChoiceRequired()}get isUserAdmin(){const loggedInUser=this.props.context.loggedInUser;return loggedInUser?.role?.name===roleEntity.A.ROLE_ADMIN}get isUserWorkspaceVisible(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.USERS_VIEW_WORKSPACE)}handleGoBack(){this.props.navigationContext.onGoToPasswordsRequested()}render(){const{path}=this.props.match;return react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel left"},react.createElement("div",{className:"sidebar-content"},react.createElement("div",{className:"top-bar-left-navigation"},react.createElement("div",{className:"navigation"},react.createElement("button",{type:"button",className:"button-transparent back",onClick:this.handleGoBack},react.createElement(arrow_left.A,null)),react.createElement("span",{className:"title my-profile"},react.createElement(es.x6,null,"My Profile")))),react.createElement("div",{className:"sidebar-content-left"},react.createElement(NavigateIntoUserSettingsWorkspace.A,{hasPendingMfaChoice:this.isMfaChoiceRequired,hasPendingAccountRecoveryChoice:this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()})))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"},react.createElement("div",{className:"header-right"},react.createElement(WorkspaceSwitcher.A,{isUserAdmin:this.isUserAdmin,isUserWorkspaceVisible:this.isUserWorkspaceVisible,currentWorkspace:WorkspaceSwitcher.K.USER_PROFILE}),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser}))),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(DisplayUserSettingsWorkspaceBreadcrumb.A,null)),react.createElement("div",{className:"main-page"},react.createElement(react_router.Route,{path:`${path}/profile`,component:DisplayUserProfile.A}),react.createElement(react_router.Route,{path:`${path}/passphrase`,component:ChangeUserPassphrase_ChangeUserPassphrase}),react.createElement(react_router.Route,{path:`${path}/security-token`,component:ChangeUserSecurityToken.A}),this.canIUseThemeCapability&&react.createElement(react_router.Route,{path:`${path}/theme`,component:DisplayUserTheme.A}),this.canIUseMobileTransferCapability&&react.createElement(react_router.Route,{path:`${path}/mobile`,component:TransferToMobile_TransferToMobile}),this.canIUseDesktopExportCapability&&react.createElement(react_router.Route,{path:`${path}/desktop`,component:ExportAccountToDesktop.A}),this.canIUseAccountRecoveryCapability&&react.createElement(react_router.Route,{path:`${path}/account-recovery`,component:DisplayAccountRecoveryUserSettings.A}),react.createElement(react_router.Route,{path:[`${path}/mfa/:provider`,`${path}/mfa`],component:OrchestrateMfaSettings_OrchestrateMfaSettings}),react.createElement(react_router.Route,{path:`${path}/keys`,component:DisplayUserGpgInformation.A}))),react.createElement(react_router.Switch,null,react.createElement(react_router.Route,{path:`${path}/theme`}),react.createElement(react_router.Route,null,react.createElement("div",{className:"help-panel"},react.createElement("div",{className:"sidebar-help"},react.createElement(react_router.Route,{path:`${path}/profile`,component:DisplayUserProfileHelp.A}),react.createElement(react_router.Route,{path:`${path}/keys`,component:DisplayUserGpgInformationHelp.A}),react.createElement(react_router.Route,{path:`${path}/passphrase`,component:ChangeUserPassphrase_ChangeUserPassphraseHelp}),react.createElement(react_router.Route,{path:`${path}/security-token`,component:DisplayUserSecurityTokenHelp}),react.createElement(react_router.Route,{path:`${path}/desktop`,component:ExportAccountToDesktop_ExportAccountToDesktopHelp}),this.canIUseAccountRecoveryCapability&&react.createElement(react_router.Route,{path:`${path}/account-recovery`,component:DisplayAccountRecoveryUserSettingsHelp.A}),react.createElement(react_router.Route,{path:[`${path}/mfa/:provider`,`${path}/mfa`],component:DisplayMfaSettingsHelp_DisplayMfaSettingsHelp})),react.createElement(Footer.A,null)))))))}}DisplayUserSettingsWorkspace.propTypes={context:prop_types_default().any,match:prop_types_default().any,accountRecoveryContext:prop_types_default().object,mfaContext:prop_types_default().object,rbacContext:prop_types_default().any,navigationContext:prop_types_default().any,t:prop_types_default().func};const DisplayUserSettingsWorkspace_DisplayUserSettingsWorkspace=(0,react_router.withRouter)((0,AppContext.L)((0,RbacContext.x6)((0,AccountRecoveryUserContext.Le)((0,MFAContext.dg)((0,NavigationContext.qN)((0,es.CI)("common")(DisplayUserSettingsWorkspace)))))));DisplayUserSettingsWorkspace.__docgenInfo={description:"This component is a container for all the user settings workspace features",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"canIUseThemeCapability",docblock:"Can the user access the theme capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the theme capability."},{name:"canIUseMobileTransferCapability",docblock:"Can the user access the mobile transfer capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the mobile transfer capability."},{name:"canIUseDesktopExportCapability",docblock:"Can the user access the desktop export capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the desktop export capability."},{name:"canIUseAccountRecoveryCapability",docblock:"Can the user access the account recovery capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the account recovery capability."},{name:"isMfaChoiceRequired",docblock:"Return if user has to define mfa.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Return if user has to define mfa."},{name:"isUserAdmin",docblock:"Returns true if the current user is an admin.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user is an admin."},{name:"isUserWorkspaceVisible",docblock:"Returns true if the current user is an admin.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user is an admin."},{name:"handleGoBack",docblock:"Handle go back to resource workspace",modifiers:[],params:[],returns:null,description:"Handle go back to resource workspace"}],displayName:"DisplayUserSettingsWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},match:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var UserPassphrasePoliciesContext=__webpack_require__("./src/react-extension/contexts/UserPassphrasePoliciesContext.js"),ManageAnnouncements=__webpack_require__("./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js"),TranslationProvider=__webpack_require__("./src/react-extension/components/Common/Internationalisation/TranslationProvider.js"),ExtAppContext=__webpack_require__("./src/react-extension/contexts/ExtAppContext.js"),ExtAppAccountRecoveryUserService=__webpack_require__("./src/shared/services/api/accountRecovery/ExtAppAccountRecoveryUserService.js"),PasswordPoliciesContext=__webpack_require__("./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),AnnouncementContext=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js"),ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),LoadingContext=__webpack_require__("./src/react-extension/contexts/LoadingContext.js"),ProgressContext=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),DisplayActionFeedbacks=__webpack_require__("./src/react-extension/components/Common/ActionFeedback/DisplayActionFeedbacks.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),mockPort=__webpack_require__("./test/mocks/mockPort.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js");const DisplayUserSettingsWorkspace_test_stories={title:"Workspaces/Profile",component:DisplayUserSettingsWorkspace_DisplayUserSettingsWorkspace,decorators:[(Story,{args})=>react.createElement(react_router.MemoryRouter,{initialEntries:[args.initialEntries||"/app/settings"]},react.createElement(TranslationProvider.A,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},react.createElement(ExtAppContext.A,{storage:args.storage,port:args.port},react.createElement(RbacContext.Ay,null,react.createElement(AccountRecoveryUserContext.Ay,{accountRecoveryUserService:new ExtAppAccountRecoveryUserService.A(args.port)},react.createElement(PasswordPoliciesContext.Ay,null,react.createElement(MFAContext.Ay,null,react.createElement(WorkflowContext.Ay,null,react.createElement(ActionFeedbackContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(AnnouncementContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(LoadingContext.Ay,null,react.createElement(ProgressContext.Ay,null,react.createElement(DisplayActionFeedbacks.A,null),react.createElement(react_router.Route,{path:"/app/settings"},react.createElement(UserSettingsContext.Ay,null,react.createElement(UserPassphrasePoliciesContext.Ay,null,react.createElement(ManageDialogs.A,null),react.createElement(ManageAnnouncements.A,null),react.createElement("div",{id:"container",className:"page settings"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000",style:{margin:"-1rem"}},react.createElement(Story,args))))))))))))))))))))],parameters:{docs:{description:{component:"UserSettingsWorkspace stories"}}}},storage=(0,mockStorage.A)(),port=(0,mockPort.A)(storage),proVersion={args:{port,storage}},ceStorage=(0,mockStorage.A)(),cePort=(0,mockPort.A)(ceStorage);cePort.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B));const ceVersion={args:{port:cePort,storage:ceStorage}},UserProfile={args:{port,storage,initialEntries:"/app/settings/profile"}},gpgKeyInformation={args:{port,storage,initialEntries:"/app/settings/keys"}},changePassphrase={args:{port,storage,initialEntries:"/app/settings/passphrase"}},accountRecovery={args:{port,storage,initialEntries:"/app/settings/account-recovery"}},securityToken={args:{port,storage,initialEntries:"/app/settings/security-token"}},theme={args:{port,storage,initialEntries:"/app/settings/theme"}},transfertToMobileStorage=(0,mockStorage.A)(),_passbolt_data=transfertToMobileStorage.local.get(["_passbolt_data"])._passbolt_data;_passbolt_data.config["user.settings.trustedDomain"]="https://storybook.passbolt.com",transfertToMobileStorage.local.set({_passbolt_data});const mobile={args:{port,storage:transfertToMobileStorage,initialEntries:"/app/settings/mobile"}},transferToMobilePortWithOperationError=(0,mockPort.A)(transfertToMobileStorage),error=new Error("Something went wrong!");error.data="Additionnal data error",transferToMobilePortWithOperationError.addRequestListener("passbolt.mobile.transfer.get",(()=>{throw error}));const mobileError={args:{port:transferToMobilePortWithOperationError,storage:transfertToMobileStorage,initialEntries:"/app/settings/mobile"}},transferToMobilePortWithOperationCanceled=(0,mockPort.A)(transfertToMobileStorage);transferToMobilePortWithOperationCanceled.addRequestListener("passbolt.mobile.transfer.get",(()=>({status:"cancel"})));const mobileCanceled={args:{port:transferToMobilePortWithOperationCanceled,storage:transfertToMobileStorage,initialEntries:"/app/settings/mobile"}},desktop={args:{port,storage,initialEntries:"/app/settings/desktop"}},__namedExportsOrder=["proVersion","ceVersion","UserProfile","gpgKeyInformation","changePassphrase","accountRecovery","securityToken","theme","mobile","mobileError","mobileCanceled","desktop"];proVersion.parameters={...proVersion.parameters,docs:{...proVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: port,\n    storage: storage\n  }\n}",...proVersion.parameters?.docs?.source}}},ceVersion.parameters={...ceVersion.parameters,docs:{...ceVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: cePort,\n    storage: ceStorage\n  }\n}",...ceVersion.parameters?.docs?.source}}},UserProfile.parameters={...UserProfile.parameters,docs:{...UserProfile.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/profile"\n  }\n}',...UserProfile.parameters?.docs?.source}}},gpgKeyInformation.parameters={...gpgKeyInformation.parameters,docs:{...gpgKeyInformation.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/keys"\n  }\n}',...gpgKeyInformation.parameters?.docs?.source}}},changePassphrase.parameters={...changePassphrase.parameters,docs:{...changePassphrase.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/passphrase"\n  }\n}',...changePassphrase.parameters?.docs?.source}}},accountRecovery.parameters={...accountRecovery.parameters,docs:{...accountRecovery.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/account-recovery"\n  }\n}',...accountRecovery.parameters?.docs?.source}}},securityToken.parameters={...securityToken.parameters,docs:{...securityToken.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/security-token"\n  }\n}',...securityToken.parameters?.docs?.source}}},theme.parameters={...theme.parameters,docs:{...theme.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/theme"\n  }\n}',...theme.parameters?.docs?.source}}},mobile.parameters={...mobile.parameters,docs:{...mobile.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: transfertToMobileStorage,\n    initialEntries: "/app/settings/mobile"\n  }\n}',...mobile.parameters?.docs?.source}}},mobileError.parameters={...mobileError.parameters,docs:{...mobileError.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: transferToMobilePortWithOperationError,\n    storage: transfertToMobileStorage,\n    initialEntries: "/app/settings/mobile"\n  }\n}',...mobileError.parameters?.docs?.source}}},mobileCanceled.parameters={...mobileCanceled.parameters,docs:{...mobileCanceled.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: transferToMobilePortWithOperationCanceled,\n    storage: transfertToMobileStorage,\n    initialEntries: "/app/settings/mobile"\n  }\n}',...mobileCanceled.parameters?.docs?.source}}},desktop.parameters={...desktop.parameters,docs:{...desktop.parameters?.docs,source:{originalSource:'{\n  args: {\n    port: port,\n    storage: storage,\n    initialEntries: "/app/settings/desktop"\n  }\n}',...desktop.parameters?.docs?.source}}}},"./src/img/svg/arrow_left.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgArrowLeft(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 14.25 3.75 9 9 3.75M14.25 9H3.75"})))}},"./src/img/svg/download_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDownloadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 13.5V9M6.75 11.25 9 13.5l2.25-2.25"})))}},"./src/img/svg/file_text.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgFileText(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2v4a2 2 0 0 0 2 2h4M10 9H8M16 13H8M16 17H8"})))}},"./src/img/svg/info.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgInfo(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:18,fill:"none",viewBox:"0 0 17 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.5 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15M8.5 12V9M8.5 6h.008"})))}},"./src/img/svg/success.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSuccess(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 128 128"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"success-circle",r:62.5,fill:"none",strokeDasharray:392.7,strokeDashoffset:392.7,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,transform:"rotate(-90 64 0)"})),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{id:"success-check",fill:"none",strokeDasharray:65.24,strokeDashoffset:65.24,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M87.062 46.703 55.351 78.415 40.936 64"})))}},"./src/img/svg/upload_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUploadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 9v4.5M11.25 11.25 9 9l-2.25 2.25"})))}},"./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js");class ManageAnnouncements extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){this.props.announcementContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.announcementContext.announcements.map((({key,Announcement,AnnouncementProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Announcement,{key,onClose:()=>this.close(key),...AnnouncementProps}))),this.props.children)}}ManageAnnouncements.propTypes={announcementContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__.w2)(ManageAnnouncements);ManageAnnouncements.__docgenInfo={description:"This component acts as an anchor for the different project announcements.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th announcement",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th announcement"}],displayName:"ManageAnnouncements",props:{announcementContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/ActionFeedback/DisplayActionFeedbacks.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ActionFeedback_DisplayActionFeedbacks});var react=__webpack_require__("./node_modules/react/index.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class ShareActionFeedback extends react.Component{static get DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS(){return 500}constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{shouldRender:!0,isPersisted:!1,timeoutId:null}}componentDidMount(){this.displayWithTimer(this.props.displayTimeInMs)}componentDidUpdate(previousProps){const hasFeedbackChanged=previousProps&&previousProps.feedback.id!==this.props.feedback.id,hasDisplayTimeChanged=previousProps&&this.props.displayTimeInMs&&previousProps.displayTimeInMs!==this.props.displayTimeInMs;hasFeedbackChanged?(this.setState({shouldRender:!0}),this.displayWithTimer(this.props.displayTimeInMs)):hasDisplayTimeChanged&&this.updateTimer(this.props.displayTimeInMs)}componentWillUnmount(){this.state.timeoutId&&clearTimeout(this.state.timeoutId)}bindCallbacks(){this.persist=this.persist.bind(this),this.displayWithTimer=this.displayWithTimer.bind(this),this.close=this.close.bind(this)}displayWithTimer(displayTimeInMs){this.state.timeoutId&&clearTimeout(this.state.timeoutId);const timeoutId=setTimeout(this.close,displayTimeInMs),time=Date.now();this.setState({timeoutId,time})}updateTimer(displayTimeInMs){const newTime=displayTimeInMs-(Date.now()-this.state.time);newTime>0?this.displayWithTimer(newTime):(clearTimeout(this.state.timeoutId),this.close())}persist(){this.state.timeoutId&&!this.state.isPersisted&&(clearTimeout(this.state.timeoutId),this.setState({isPersisted:!0}))}close(){this.setState({shouldRender:!1}),setTimeout(this.props.onClose,ShareActionFeedback.DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS)}render(){return react.createElement("div",{className:"notification",onMouseOver:this.persist,onMouseLeave:this.displayWithTimer,onClick:this.close},react.createElement("div",{className:`message animated ${this.state.shouldRender?"fadeInUp":"fadeOutUp"} ${this.props.feedback.type}`},react.createElement("span",{className:"content"},react.createElement("strong",null,"success"===this.props.feedback.type&&react.createElement(react.Fragment,null,react.createElement(es.x6,null,"Success"),": "),"error"===this.props.feedback.type&&react.createElement(react.Fragment,null,react.createElement(es.x6,null,"Error"),": "),"warning"===this.props.feedback.type&&react.createElement(react.Fragment,null,react.createElement(es.x6,null,"Warning"),": ")),this.props.feedback.message)))}}ShareActionFeedback.propTypes={feedback:prop_types_default().object,onClose:prop_types_default().func,displayTimeInMs:prop_types_default().number};const ActionFeedback_ShareActionFeedback=(0,es.CI)("common")(ShareActionFeedback);ShareActionFeedback.__docgenInfo={description:"Child component that displays a single action feedback",methods:[{name:"DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS",docblock:"Default time to wait before closing a feedback in ms",modifiers:["static","get"],params:[],returns:null,description:"Default time to wait before closing a feedback in ms"},{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindCallbacks",docblock:"Bind the component method callback",modifiers:[],params:[],returns:null,description:"Bind the component method callback"},{name:"displayWithTimer",docblock:"Display the feedback for a while and then disappear\n@param {number} displayTimeInMs The time to display the feedback",modifiers:[],params:[{name:"displayTimeInMs",description:"The time to display the feedback",type:{name:"number"},optional:!1}],returns:null,description:"Display the feedback for a while and then disappear"},{name:"updateTimer",docblock:"Update the timer of the currently displayed feedback.\n@param {number} displayTimeInMs The new time",modifiers:[],params:[{name:"displayTimeInMs",description:"The new time",type:{name:"number"},optional:!1}],returns:null,description:"Update the timer of the currently displayed feedback."},{name:"persist",docblock:"Persist the display of the feedback",modifiers:[],params:[],returns:null,description:"Persist the display of the feedback"},{name:"close",docblock:"Close the feedback",modifiers:[],params:[],returns:null,description:"Close the feedback"}],displayName:"ShareActionFeedback",props:{feedback:{description:"",type:{name:"object"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},displayTimeInMs:{description:"",type:{name:"number"},required:!1}}};class DisplayActionFeedbacks extends react.Component{constructor(props){super(props),this.bindCallbacks()}static get DEFAULT_DISPLAY_TIME_IN_MS(){return 5e3}static get DEFAULT_DISPLAY_MIN_TIME_IN_MS(){return 1200}bindCallbacks(){this.close=this.close.bind(this)}get feedbackToDisplay(){return this.props.actionFeedbackContext.feedbacks[0]}get length(){return this.props.actionFeedbackContext.feedbacks.length}get hasFeedbacks(){return this.length>0}async close(feedback){await this.props.actionFeedbackContext.remove(feedback)}render(){const displayTimeInMs=this.length>1?DisplayActionFeedbacks.DEFAULT_DISPLAY_MIN_TIME_IN_MS:DisplayActionFeedbacks.DEFAULT_DISPLAY_TIME_IN_MS;return react.createElement(react.Fragment,null,this.hasFeedbacks&&react.createElement("div",{className:"notification-container"},react.createElement(ActionFeedback_ShareActionFeedback,{feedback:this.feedbackToDisplay,onClose:()=>this.close(this.feedbackToDisplay),displayTimeInMs})))}}DisplayActionFeedbacks.propTypes={actionFeedbackContext:prop_types_default().any};const ActionFeedback_DisplayActionFeedbacks=(0,ActionFeedbackContext.ot)(DisplayActionFeedbacks);DisplayActionFeedbacks.__docgenInfo={description:"This component displays the list of actions feedbacks using the action feedback context.\nIt displays one at a time (the oldest one) and displays the next one when the user / system closes the current one",methods:[{name:"DEFAULT_DISPLAY_TIME_IN_MS",docblock:"Default display time in ms",modifiers:["static","get"],params:[],returns:null,description:"Default display time in ms"},{name:"DEFAULT_DISPLAY_MIN_TIME_IN_MS",docblock:"Default minimum display time in ms",modifiers:["static","get"],params:[],returns:null,description:"Default minimum display time in ms"},{name:"bindCallbacks",docblock:"Bind component method callbacks",modifiers:[],params:[],returns:null,description:"Bind component method callbacks"},{name:"feedbackToDisplay",docblock:"Returns the feedback to displau",modifiers:["get"],params:[],returns:null,description:"Returns the feedback to displau"},{name:"length",docblock:"Returns the length of the feedbacks list.\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Returns the length of the feedbacks list."},{name:"hasFeedbacks",docblock:"Returns true there's at least one feedback to display",modifiers:["get"],params:[],returns:null,description:"Returns true there's at least one feedback to display"},{name:"close",docblock:"Closes a feedback message",modifiers:["async"],params:[{name:"feedback",optional:!1}],returns:null,description:"Closes a feedback message"}],displayName:"DisplayActionFeedbacks",props:{actionFeedbackContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Internationalisation/TranslationProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),i18next_http_backend__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/i18next-http-backend/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");class TranslationProvider extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{ready:!1}}async componentDidMount(){await i18next__WEBPACK_IMPORTED_MODULE_0__.Ay.use(react_i18next__WEBPACK_IMPORTED_MODULE_1__.r9).use(i18next_http_backend__WEBPACK_IMPORTED_MODULE_2__.A).init({lng:this.locale,load:"currentOnly",interpolation:{escapeValue:!1},react:{useSuspense:!1},backend:{loadPath:this.props.loadingPath||"/locales/{{lng}}/{{ns}}.json"},supportedLngs:this.supportedLocales,fallbackLng:!1,ns:["common"],defaultNS:"common",keySeparator:!1,nsSeparator:!1,debug:!1}),this.setState({ready:!0})}get supportedLocales(){return this.props.context.siteSettings?.supportedLocales?this.props.context.siteSettings?.supportedLocales.map((supportedLocale=>supportedLocale.locale)):[this.locale]}get locale(){return this.props.context.locale}async componentDidUpdate(prevProps){await this.handleLocaleChange(prevProps.context.locale)}async handleLocaleChange(previousLocale){this.locale!==previousLocale&&await i18next__WEBPACK_IMPORTED_MODULE_0__.Ay.changeLanguage(this.locale)}get isReady(){return this.state.ready}render(){return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,this.isReady&&this.props.children)}}TranslationProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,loadingPath:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)(TranslationProvider);TranslationProvider.__docgenInfo={description:"This component set up the translation process",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"supportedLocales",docblock:"Get supported locales.\n@returns {string[]}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Get supported locales."},{name:"locale",docblock:"Get the locale\n@type {string}",modifiers:["get"],params:[],returns:null,description:"Get the locale"},{name:"handleLocaleChange",docblock:"Check if the locale has changed and update\n@param previousLocale",modifiers:["async"],params:[{name:"previousLocale",optional:!1}],returns:null,description:"Check if the locale has changed and update"},{name:"isReady",docblock:"Returns true when the component can be rendered",modifiers:["get"],params:[],returns:null,description:"Returns true when the component can be rendered"}],displayName:"TranslationProvider",props:{context:{description:"",type:{name:"any"},required:!1},loadingPath:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Loading/LoadingSpinner/LoadingSpinner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/spinner.svg");class LoadingSpinner extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"login-processing"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,this.props.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__.A,null)))}}LoadingSpinner.propTypes={title:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().string])},LoadingSpinner.defaultProps={title:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Please wait...")};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(LoadingSpinner);LoadingSpinner.__docgenInfo={description:"This component displays a waiting loading spinner",methods:[],displayName:"LoadingSpinner",props:{title:{defaultValue:{value:"<Trans>Please wait...</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1}}}},"./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Breadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border inline ellipsis",onClick:this.props.onClick},this.props.name)}}Breadcrumb.propTypes={name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=Breadcrumb;Breadcrumb.__docgenInfo={description:"",methods:[],displayName:"Breadcrumb",props:{name:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Breadcrumbs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){let index=0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"breadcrumbs"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"menu"},this.props.items&&this.props.items.map((breadcrumb=>(index++,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:index},breadcrumb))))),this.props.children)}}Breadcrumbs.propTypes={items:prop_types__WEBPACK_IMPORTED_MODULE_1___default().array,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=Breadcrumbs;Breadcrumbs.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{items:{description:"",type:{name:"array"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/spinner.svg");class DisplayProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.infiniteTimerUpdateIntervalId=null,this.state=this.defaultState}get defaultState(){return{infiniteTimer:0}}componentDidMount(){this.startInfiniteTimerUpdateProgress()}startInfiniteTimerUpdateProgress(){this.isInfiniteProgressMode()&&(this.infiniteTimerUpdateIntervalId=setInterval((()=>{const infiniteTimer=this.state.infiniteTimer+2;this.setState({infiniteTimer})}),500))}componentDidUpdate(){!this.isInfiniteProgressMode()&&this.infiniteTimerUpdateIntervalId&&this.resetInterval()}componentWillUnmount(){this.resetInterval()}isInfiniteProgressMode(){return!this.props.progressContext.progressDialogProps.goals}resetInterval(){this.infiniteTimerUpdateIntervalId&&(clearInterval(this.infiniteTimerUpdateIntervalId),this.infiniteTimerUpdateIntervalId=null)}calculateProgress(){return this.props.progressContext.progressDialogProps?.goals>0?this.calculateGoalsProgress():this.calculateInfiniteProgress()}calculateInfiniteProgress(){return 100-100/Math.pow(1.1,this.state.infiniteTimer)}calculateGoalsProgress(){const completed=this.props.progressContext.progressDialogProps.completed||0;let progress=Math.round(100*completed/this.props.progressContext.progressDialogProps.goals);return progress>100&&(progress=100),progress}render(){const progress=this.calculateProgress(),progressBarStyle={width:`${progress}%`};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-wrapper progress-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"dialog-title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.props.progressContext.progressDialogProps.title||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Take a deep breath and enjoy being in the present moment...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-bar-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress "+(100===progress?"completed":""),style:progressBarStyle})),!this.isInfiniteProgressMode()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-step-label"},this.props.progressContext.progressDialogProps.message||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-percent"},progress,"%")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:"disabled processing"},"Submit",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__.A,null))))))}}DisplayProgress.propTypes={progressContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__.E0)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayProgress));DisplayProgress.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the component default state"},{name:"startInfiniteTimerUpdateProgress",docblock:"Start the infinite timer update.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Start the infinite timer update."},{name:"isInfiniteProgressMode",docblock:"Check if the component should display an infinite progress bar.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component should display an infinite progress bar."},{name:"resetInterval",docblock:"Reset interval",modifiers:[],params:[],returns:null,description:"Reset interval"},{name:"calculateProgress",docblock:"Calculate the progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress"},{name:"calculateInfiniteProgress",docblock:"Calculate the infinite progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the infinite progress"},{name:"calculateGoalsProgress",docblock:"Calculate the progress based on the goals\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress based on the goals"}],displayName:"DisplayProgress",props:{progressContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/MFA/DisplayMfaProviderConfiguration/DisplayMfaProviderConfiguration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_DisplayProviderList_MfaProviders_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/MFA/DisplayProviderList/MfaProviders.data.js"),luxon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_img_svg_success_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/success.svg");class DisplayMfaProviderConfiguration extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks(),this.state=this.defaultState}formatDate(date){return luxon__WEBPACK_IMPORTED_MODULE_5__.c9.fromJSDate(new Date(date)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_5__.c9.DATETIME_FULL)}async componentDidMount(){const verification=await this.props.context.port.request("passbolt.mfa-setup.verify-provider",{provider:this.props.mfaContext.provider}),formatedDate=this.formatDate(verification?.verified);this.setState({verifiedDate:formatedDate})}get defaultState(){return{verifiedDate:null}}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleDeleteClick=this.handleDeleteClick.bind(this)}getProvider(){return _DisplayProviderList_MfaProviders_data__WEBPACK_IMPORTED_MODULE_4__.A.find((mfaProvider=>mfaProvider.id===this.props.mfaContext.provider))}handleCancelClick(){this.props.mfaContext.goToProviderList()}async handleDeleteClick(){await this.props.mfaContext.removeProvider(),this.props.mfaContext.goToProviderList()}get isProcessing(){return this.props.mfaContext.isProcessing()}get title(){return this.props.t(this.getProvider().configuration.title)}get description(){return this.props.t(this.getProvider().configuration.description)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column mfa-configuration"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"feedback-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"illustration icon-feedback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"success"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_success_svg__WEBPACK_IMPORTED_MODULE_6__.A,null))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"additional-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.description),this.state.verifiedDate&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"created date"},this.state.verifiedDate))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button cancel secondary",onClick:this.handleCancelClick,disabled:this.isProcessing},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Manage providers")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary form",type:"button",onClick:this.handleDeleteClick,disabled:this.isProcessing},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Turn off")))))}}DisplayMfaProviderConfiguration.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_2__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayMfaProviderConfiguration)));DisplayMfaProviderConfiguration.__docgenInfo={description:"This component will display the configuration for the mfa provider",methods:[{name:"formatDate",docblock:"Format date\n@param {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"date",description:"The date to format",type:{name:"string"},optional:!1}],returns:{type:{name:"string"}},description:"Format date"},{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"getProvider",docblock:"Return the provider",modifiers:[],params:[],returns:null,description:"Return the provider"},{name:"handleCancelClick",docblock:"handle the cancelation when setup the provider",modifiers:[],params:[],returns:null,description:"handle the cancelation when setup the provider"},{name:"handleDeleteClick",docblock:"handle the remove mfa provider click",modifiers:["async"],params:[],returns:null,description:"handle the remove mfa provider click"},{name:"isProcessing",docblock:"Check to disable button and input when context is processing an action",modifiers:["get"],params:[],returns:null,description:"Check to disable button and input when context is processing an action"},{name:"title",docblock:"Return the title for the provider",modifiers:["get"],params:[],returns:null,description:"Return the title for the provider"},{name:"description",docblock:"Return the description for the provider",modifiers:["get"],params:[],returns:null,description:"Return the description for the provider"}],displayName:"DisplayMfaProviderConfiguration",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/MFA/DisplayProviderList/DisplayProviderList.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_MfaProviders_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/MFA/DisplayProviderList/MfaProviders.data.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js");class DisplayProviderList extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleProviderClick=this.handleProviderClick.bind(this)}async componentDidMount(){await this.getMfaSettings()}async getMfaSettings(){await this.props.mfaContext.findMfaSettings()}get isRunningUnderHttps(){const trustedDomain=this.props.context.userSettings.getTrustedDomain();return"https:"===new URL(trustedDomain).protocol}get organisationMfaProviders(){const providers=this.props.mfaContext.getMfaOrganisationSettings();return this.canUseDuoProvider||delete providers.duo,providers}get userMfaSettings(){const settings=this.props.mfaContext.getMfaUserSettings();return this.canUseDuoProvider||delete settings.duo,settings}getProvider(provider){return _MfaProviders_data__WEBPACK_IMPORTED_MODULE_4__.A.find((mfaProvider=>mfaProvider.id===provider))}get isProcessing(){return this.props.mfaContext.isProcessing()}get canUseDuoProvider(){return this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_6__.e.DUO_CONFIGURATION)}handleProviderClick(provider){const mfaUserSettings=this.props.mfaContext.getMfaUserSettings();if(this.props.mfaContext.setProvider(provider),mfaUserSettings[provider])this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.hx.VIEWCONFIGURATION);else switch(provider){case _contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.bb.TOTP:this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.hx.TOTPOVERVIEW);break;case _contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.bb.DUO:this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.hx.SETUPDUO);break;case _contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.bb.YUBIKEY:this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.hx.SETUPYUBIKEY)}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"mfa-provider-list main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"mfa-setup main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Multi factor authentication")),!this.isProcessing&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!this.isRunningUnderHttps&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Sorry the multi factor authentication feature is only available in a secure context (HTTPS).")),this.isRunningUnderHttps&&!this.props.mfaContext.hasMfaOrganisationSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Sorry no multi factor authentication is enabled for this organization.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Please contact your administrator to enable multi-factor authentication."))),this.isRunningUnderHttps&&this.props.mfaContext.hasMfaOrganisationSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Please select a provider")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"mfa-providers"},this.organisationMfaProviders.totp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"totp"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("totp")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"provider-img"},this.getProvider("totp").icon),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"provider-name"},this.getProvider("totp").name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.totp}`},this.userMfaSettings.totp?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enabled"):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Disabled"))),this.organisationMfaProviders.duo&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"duo"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("duo")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"provider-img"},this.getProvider("duo").icon),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"provider-name"},this.getProvider("duo").name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.duo}`},this.userMfaSettings.duo?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enabled"):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Disabled"))),this.organisationMfaProviders.yubikey&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"yubikey"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"#",onClick:()=>this.handleProviderClick("yubikey")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"provider-img"},this.getProvider("yubikey").icon),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"provider-name"},this.getProvider("yubikey").name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`mfa-provider-status ${this.userMfaSettings.yubikey}`},this.userMfaSettings.yubikey?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enabled"):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Disabled"))))))))}}DisplayProviderList.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_3__.dg)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__.x6)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_7__.qN)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayProviderList)))));DisplayProviderList.__docgenInfo={description:"This component will display the Mfa provider enabled/disabled and allowed",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"getMfaSettings",docblock:"retrieve the mfa policies and settings",modifiers:["async"],params:[],returns:null,description:"retrieve the mfa policies and settings"},{name:"isRunningUnderHttps",docblock:"Returns true if the current URL is using the protocol HTTPS\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current URL is using the protocol HTTPS"},{name:"organisationMfaProviders",docblock:"Return the allowed providers by organization",modifiers:["get"],params:[],returns:null,description:"Return the allowed providers by organization"},{name:"userMfaSettings",docblock:"Return the mfa settings from the user",modifiers:["get"],params:[],returns:null,description:"Return the mfa settings from the user"},{name:"getProvider",docblock:"Return the provider\n@param {string} provider",modifiers:[],params:[{name:"provider",type:{name:"string"},optional:!1}],returns:null,description:"Return the provider"},{name:"isProcessing",docblock:"Returns true if the component must be in a processing mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a processing mode"},{name:"canUseDuoProvider",docblock:"Can the user confige a dup provider.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user confige a dup provider."},{name:"handleProviderClick",docblock:"handle provider click\n@param {string} provider",modifiers:[],params:[{name:"provider",type:{name:"string"},optional:!1}],returns:null,description:"handle provider click"}],displayName:"DisplayProviderList",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/MFA/TotpSetup/ScanTotpCode/ScanTotpCode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),qrcode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/qrcode/lib/browser.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/MFAContext.js");class ScanTotpCode extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}get defaultState(){return{qrCode:null,toptCode:"",uri:"",isSubmitted:!1,error:{isRequired:!1,invalidCode:!1}}}async componentDidMount(){this.focusOnOtpInput(),await this.getQrCode()}createInputRef(){this.otpInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}focusOnOtpInput(){this.otpInputRef.current.focus()}getIssuer(){const domain=this.props.context.userSettings.getTrustedDomain(),parsedUrl=new URL(domain);let issuer=parsedUrl.hostname+parsedUrl.pathname;return issuer=issuer.replace(":",""),issuer=issuer.replace(/\/$/,""),issuer}async getQrCodeUri(){const uri=await this.props.context.port.request("passbolt.mfa-setup.get-totp-code");return this.setState({uri}),uri}handleInputChange(event){const toptCode=event.target.value;""!==this.state.toptCode&&this.setError("isRequired",!1),this.setState({toptCode})}async handleSubmit(event){event.preventDefault();try{this.setState({isSubmitted:!0}),""===this.state.toptCode?this.setError("isRequired",!0):(await this.props.mfaContext.validateTotpCode(this.state.uri,this.state.toptCode),this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_4__.hx.VIEWCONFIGURATION),await this.props.mfaContext.findMfaSettings())}catch(error){this.setError("invalidCode",!0)}}setError(key,value){const error=Object.assign({},this.state.error,{[key]:value});this.setState({error})}handleCancelClick(){this.props.mfaContext.goToProviderList()}async getQrCode(){const totpUri=await this.getQrCodeUri(),qrCode=await qrcode__WEBPACK_IMPORTED_MODULE_2__.toDataURL([{data:totpUri,mode:"byte"}],{type:"image/jpeg",quality:1});this.setState({qrCode})}hasAllInputDisabled(){return this.props.mfaContext.isProcessing()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column mfa-setup totp-scan-code"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content totp-setup"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Time based One Time Password (TOTP)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Scan this bar code")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"totp-setup-form"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"qrcode"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{id:"qr-canvas",src:this.state.qrCode})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-verify"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text required"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"totp"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"One Time Password (OTP)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",name:"totp",placeholder:"123456",autoComplete:"off",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.otpInputRef}),this.state.error.isRequired&&this.state.isSubmitted&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"code-required error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"A OTP code is required.")),this.state.error.invalidCode&&this.state.isSubmitted&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"invalid-code error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"This OTP is not valid."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"helptext"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enter the six digit number as presented on your phone or tablet."))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button cancel secondary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancelClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Cancel"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary form",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Validate")))))}}ScanTotpCode.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object,port:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_4__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ScanTotpCode)));ScanTotpCode.__docgenInfo={description:"This component will display scan for the totp setup",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"createInputRef",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"focusOnOtpInput",docblock:"Put the focus on the otp input",modifiers:[],params:[],returns:null,description:"Put the focus on the otp input"},{name:"getIssuer",docblock:"Return Issuer\nThe domain name without http(s):// and trailing /\n@returns {string} return the issuer",modifiers:[],params:[],returns:{description:"return the issuer",type:{name:"string"}},description:"Return Issuer\nThe domain name without http(s):// and trailing /"},{name:"getQrCodeUri",docblock:"Get totp uri from bext\n@returns the totp code",modifiers:["async"],params:[],returns:{description:"the totp code"},description:"Get totp uri from bext"},{name:"handleInputChange",docblock:"Handle change of generic form input.\n@param {object} event",modifiers:[],params:[{name:"event",type:{name:"object"},optional:!1}],returns:null,description:"Handle change of generic form input."},{name:"handleSubmit",docblock:"handle the valdation click\n@param event A form submit event",modifiers:["async"],params:[{name:"event",description:"A form submit event",optional:!1}],returns:null,description:"handle the valdation click"},{name:"setError",docblock:"set an error to object",modifiers:[],params:[{name:"key",optional:!1},{name:"value",optional:!1}],returns:null,description:"set an error to object"},{name:"handleCancelClick",docblock:"handle the cancelation when setup the provider",modifiers:[],params:[],returns:null,description:"handle the cancelation when setup the provider"},{name:"getQrCode",docblock:"Populates the component with data\n@param {Uint8ClampedArray} content\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Populates the component with data"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"}],displayName:"ScanTotpCode",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},port:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/MFA/YubikeySetup/YubikeySetup.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");class YubikeySetup extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks(),this.state=this.defaultState,this.createInputRef()}get defaultState(){return{yubikeyCode:"",isSubmitted:!1,error:{isRequired:!1,invalidCode:!1}}}componentDidMount(){this.focusOnOtpInput()}bindCallbacks(){this.handleCancelClick=this.handleCancelClick.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}createInputRef(){this.otpInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}focusOnOtpInput(){this.otpInputRef.current.focus()}setError(key,value){const error=Object.assign({},this.state.error,{[key]:value});this.setState({error})}handleInputChange(event){const yubikeyCode=event.target.value;""!==this.state.yubikeyCode&&this.setError("isRequired",!1),this.setState({yubikeyCode})}async handleSubmit(event){event.preventDefault();try{this.setState({isSubmitted:!0}),""===this.state.yubikeyCode?this.setError("isRequired",!0):(await this.props.mfaContext.validateYubikeyCode(this.state.yubikeyCode),this.props.mfaContext.navigate(_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_2__.hx.VIEWCONFIGURATION),await this.props.mfaContext.findMfaSettings())}catch(error){this.setError("invalidCode",!0)}}handleCancelClick(){this.props.mfaContext.goToProviderList()}hasAllInputDisabled(){return this.props.mfaContext.isProcessing()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column mfa-setup"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content yubikey-setup"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,"Yubikey One Time Password"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input required"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"yubikey"},"Yubikey OTP"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"password",name:"yubikey",autoComplete:"off",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.otpInputRef}),this.state.error.isRequired&&this.state.isSubmitted&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"code-required error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"A OTP code is required.")),this.state.error.invalidCode&&this.state.isSubmitted&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"invalid-code error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"This OTP is not valid."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"helptext"},"Plug in the yubikey and put your finger on it.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button cancel secondary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancelClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Cancel"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary form",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Validate")))))}}YubikeySetup.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_2__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(YubikeySetup)));YubikeySetup.__docgenInfo={description:"This component will display the yubikey setup",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createInputRef",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"focusOnOtpInput",docblock:"Put the focus on the otp input",modifiers:[],params:[],returns:null,description:"Put the focus on the otp input"},{name:"setError",docblock:"set an error to object",modifiers:[],params:[{name:"key",optional:!1},{name:"value",optional:!1}],returns:null,description:"set an error to object"},{name:"handleInputChange",docblock:"Handle change of generic form input.\n@param {object} event",modifiers:[],params:[{name:"event",type:{name:"object"},optional:!1}],returns:null,description:"Handle change of generic form input."},{name:"handleSubmit",docblock:"handle the valdation click\n@param event A form submit event",modifiers:["async"],params:[{name:"event",description:"A form submit event",optional:!1}],returns:null,description:"handle the valdation click"},{name:"handleCancelClick",docblock:"handle the cancelation when setup the provider",modifiers:[],params:[],returns:null,description:"handle the cancelation when setup the provider"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"}],displayName:"YubikeySetup",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/ConfirmPassphrase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/components/Password/Password.js");class ConfirmPassphrase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,passphrase:"",passphraseError:null}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}createInputRef(){this.passphraseInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){this.focusOnPassphrase()}focusOnPassphrase(){this.passphraseInputRef.current.focus()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}async handleSubmit(event){event.preventDefault(),this.state.processing||(await this.toggleProcessing(),await this.checkPassphrase())}async checkPassphrase(){this.props.userSettingsContext.onCheckProvidePassphraseRequested(this.state.passphrase).catch(this.onCheckFailure.bind(this))}onCheckFailure(error){if(this.toggleProcessing(),"InvalidMasterPasswordError"===error.name)this.setState({passphraseError:this.translate("The passphrase is invalid.")});else{const ErrorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__.A,ErrorDialogProps),console.error(error)}}handleCancel(){this.props.userSettingsContext.onGoToIntroductionPassphraseRequested()}IsValidPassphrase(){return""!==this.state.passphrase.trim()}hasAllInputDisabled(){return this.state.processing}mustBeDisabled(){return this.hasAllInputDisabled()||!this.IsValidPassphrase()}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"profile-passphrase",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Please enter your passphrase to continue")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"enter-passphrase"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input-password-wrapper input required ${this.state.passphraseError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"passphrase-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Passphrase")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_7__.A,{id:"passphrase-input",autoComplete:"off",name:"passphrase",placeholder:this.translate("Passphrase"),inputRef:this.passphraseInputRef,value:this.state.passphrase,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),preview:!0,securityToken:this.props.context.userSettings.getSecurityToken()}),this.state.passphraseError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"error-message"},this.state.passphraseError),!this.state.passphraseError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"help-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"You need to enter your current passphrase.")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button cancel secondary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleCancel},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_2__.A,{disabled:this.mustBeDisabled(),processing:this.state.processing,value:this.translate("Verify")})))}}ConfirmPassphrase.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_6__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__.tX)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(ConfirmPassphrase))));ConfirmPassphrase.__docgenInfo={description:"This component displays the user confirm passphrase information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createInputRef",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"focusOnPassphrase",docblock:"Put the focus on the passphrase input",modifiers:[],params:[],returns:null,description:"Put the focus on the passphrase input"},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:["async"],params:[],returns:null,description:"Toggle the processing mode"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleSubmit",docblock:"Whenever the user submits the passphrase\n@param event A form submit event",modifiers:["async"],params:[{name:"event",description:"A form submit event",optional:!1}],returns:null,description:"Whenever the user submits the passphrase"},{name:"checkPassphrase",docblock:"Check the passphrase",modifiers:["async"],params:[],returns:null,description:"Check the passphrase"},{name:"onCheckFailure",docblock:"Whenever the gpg key import failed\n@param error The error",modifiers:[],params:[{name:"error",description:"The error",optional:!1}],returns:null,description:"Whenever the gpg key import failed"},{name:"handleCancel",docblock:"Cancel action and go back to the introduction passphrase",modifiers:[],params:[],returns:null,description:"Cancel action and go back to the introduction passphrase"},{name:"IsValidPassphrase",docblock:"Is valid passphrase.\nPassphrase has to be valid\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is valid passphrase.\nPassphrase has to be valid"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:[],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ConfirmPassphrase",props:{context:{description:"",type:{name:"any"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/ConfirmPassphraseHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class ConfirmPassphraseHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"What if I forgot my passphrase?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Unfortunately you need your passphrase in order to continue. If you forgot it, please contact your administrator.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/user/settings/browser/account-recovery-setup/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Learn more"))))}}const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ConfirmPassphraseHelp);ConfirmPassphraseHelp.__docgenInfo={description:"This component displays the user confirm passphrase information help",methods:[],displayName:"ConfirmPassphraseHelp"}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/DisplayChangePassphraseIntroduction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayChangePassphraseIntroduction extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1,understandPassphrase:!1,understandPassphraseError:null}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}async toggleProcessing(){await this.setState({processing:!this.state.processing})}handleInputChange(event){const target=event.target,value="checkbox"===target.type?target.checked:target.value,name=target.name;this.setState({[name]:value})}handleSubmit(event){event.preventDefault(),this.startUpdatePassphrase()}async startUpdatePassphrase(){if(!this.state.processing){if(await this.toggleProcessing(),await this.validateUnderstandPassphrase(),this.hasValidationError())return void await this.toggleProcessing();this.props.userSettingsContext.onProvidePassphraseRequested()}}async validateUnderstandPassphrase(){const understandPassphraseError=!this.state.understandPassphrase;return this.setState({understandPassphraseError})}hasValidationError(){return this.state.understandPassphraseError}hasAllInputDisabled(){return this.state.processing}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"profile-passphrase",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Before getting started...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-management-bg"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The passphrase is stored on your device and never sent server side.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Changing your passphrase will only change it locally.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you have multiple browsers configured, the passphrase will need to be changed in all places individually.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox "+(this.state.understandPassphraseError?"error":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"passphrase-update-understand",type:"checkbox",checked:this.state.understandPassphrase,disabled:this.hasAllInputDisabled(),name:"understandPassphrase",onChange:this.handleInputChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"passphrase-update-understand"}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Ok, I understand what I need to do."))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary form submit",type:"submit",disabled:this.hasAllInputDisabled()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Start"))))}}DisplayChangePassphraseIntroduction.propTypes={userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__.tX)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayChangePassphraseIntroduction));DisplayChangePassphraseIntroduction.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:["async"],params:[],returns:null,description:"Toggle the processing mode"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleSubmit",docblock:"Whenever the user submits the passphrase\n@param event A form submit event",modifiers:[],params:[{name:"event",description:"A form submit event",optional:!1}],returns:null,description:"Whenever the user submits the passphrase"},{name:"startUpdatePassphrase",docblock:"Start update passphrase process",modifiers:["async"],params:[],returns:null,description:"Start update passphrase process"},{name:"validateUnderstandPassphrase",docblock:"Validate the understand passphrase checkbox.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the understand passphrase checkbox."},{name:"hasValidationError",docblock:"Return true if the form has some validation error\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the form has some validation error"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"}],displayName:"DisplayChangePassphraseIntroduction",props:{userSettingsContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/DisplayChangePassphraseIntroductionHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayChangePassphraseIntroductionHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"What is the role of the passphrase?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"The passphrase is used to encrypt your secret key, which is required to decrypt your secrets, such as the passwords.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Without the private key and the passphrase it is not possible to decrypt!")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://help.passbolt.com/tech/auth.html",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Learn more"))))}}const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayChangePassphraseIntroductionHelp);DisplayChangePassphraseIntroductionHelp.__docgenInfo={description:"This component displays the user profile information help",methods:[],displayName:"DisplayChangePassphraseIntroductionHelp"}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/DownloadRecoveryKit.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_components_Icons_AnimatedFeedback__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/components/Icons/AnimatedFeedback.js");class DownloadRecoveryKit extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleDownloadBackup=this.handleDownloadBackup.bind(this)}handleDownloadBackup(){this.download()}async download(){await this.props.userSettingsContext.onDownloadRecoveryKitRequested()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column recovery-kit"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The passphrase was updated!")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"feedback-card"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_AnimatedFeedback__WEBPACK_IMPORTED_MODULE_3__.A,{name:"success"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"additional-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Your passphrase has been changed. Make sure you keep a backup of your secret key encrypted with this new passphrase.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Keep this backup in a safe place, you will need it in case of emergency."))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"message warning"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,"Warning"),": This recovery kit replace the old one.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"You will need this recovery kit later to access your account (for example on a new device).")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button primary form",onClick:this.handleDownloadBackup},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Download backup"))))}}DownloadRecoveryKit.propTypes={userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__.tX)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DownloadRecoveryKit));DownloadRecoveryKit.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDownloadBackup",docblock:"Whenever the user wants to download the recovery kit again",modifiers:[],params:[],returns:null,description:"Whenever the user wants to download the recovery kit again"},{name:"download",docblock:"Download the recovery kit",modifiers:["async"],params:[],returns:null,description:"Download the recovery kit"}],displayName:"DownloadRecoveryKit",props:{userSettingsContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/EnterNewPassphrase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/components/Password/Password.js"),_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGenerator.js"),_shared_services_api_secrets_pownedService__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/services/api/secrets/pownedService.js"),_shared_components_PasswordComplexityWithGoal_PasswordComplexityWithGoal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/components/PasswordComplexityWithGoal/PasswordComplexityWithGoal.js"),_contexts_UserPassphrasePoliciesContext__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/contexts/UserPassphrasePoliciesContext.js");class EnterNewPassphrase extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers(),this.createReferences()}get defaultState(){return{passphrase:"",passphraseEntropy:null,actions:{processing:!1}}}get areActionsAllowed(){return!this.isProcessing}get isValid(){const validation={notInDictionary:!this.state.passphraseInDictionnary,enoughEntropy:this.isMinimumRequiredEntropyReached(this.state.passphraseEntropy)};return Object.values(validation).every((value=>value))}get mustBeDisabled(){return!this.isValid||this.isProcessing}get isProcessing(){return this.state.actions.processing}bindEventHandlers(){this.handlePassphraseChange=this.handlePassphraseChange.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.passphraseInput=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}async componentDidMount(){await this.props.userPassphrasePoliciesContext.findSettings(),this.focusOnPassphrase(),this.initPwnedPasswordService()}focusOnPassphrase(){this.passphraseInput.current?.focus()}initPwnedPasswordService(){this.props.userPassphrasePoliciesContext.getSettings().external_dictionary_check&&(this.pownedService=new _shared_services_api_secrets_pownedService__WEBPACK_IMPORTED_MODULE_11__.A(this.props.context.port))}handlePassphraseChange(event){const newState={passphrase:event.target.value,passphraseEntropy:null,passphraseInDictionnary:!1};if(!newState.passphrase.length)return newState.passphraseInDictionnary=!1,void this.setState(newState);newState.passphraseEntropy=_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_8__.M.entropy(newState.passphrase),this.setState(newState)}async handleSubmit(event){if(event.preventDefault(),this.toggleProcessing(),!this.isValid)return void this.toggleProcessing();await this.evaluatePassphraseIsInDictionary(this.state.passphrase)||await this.generateGpgKey(),this.toggleProcessing()}async evaluatePassphraseIsInDictionary(passphrase){if(!this.pownedService)return!1;const passphraseInDictionnary=(await this.pownedService.evaluateSecret(passphrase)).inDictionary;return this.setState({passphraseInDictionnary}),passphraseInDictionnary}async generateGpgKey(){try{await this.props.userSettingsContext.onUpdatePassphraseRequested(this.state.passphrase)}catch(e){this.onGpgKeyGeneratedFailure(e)}}onGpgKeyGeneratedFailure(error){this.toggleProcessing(),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__.A,{error})}handleCancel(){this.props.userSettingsContext.onGoToIntroductionPassphraseRequested()}toggleProcessing(){const actions={...this.state.actions,processing:!this.state.actions.processing};this.setState({actions})}toggleObfuscate(){this.setState({isObfuscated:!this.state.isObfuscated})}isMinimumRequiredEntropyReached(passphraseEntropy){return passphraseEntropy&&passphraseEntropy>=this.props.userPassphrasePoliciesContext.getSettings().entropy_minimum}render(){const userPassphrasePolicies=this.props.userPassphrasePoliciesContext.getSettings();if(!userPassphrasePolicies)return null;const passphraseEntropy=this.state.passphraseInDictionnary?0:this.state.passphraseEntropy;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"profile-passphrase",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Please enter a new passphrase")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"enter-passphrase"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-password-wrapper input required"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_7__.A,{id:"passphrase-input",autoComplete:"off",inputRef:this.passphraseInput,value:this.state.passphrase,preview:!0,securityToken:this.props.context.userSettings.getSecurityToken(),onChange:this.handlePassphraseChange,disabled:!this.areActionsAllowed}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_PasswordComplexityWithGoal_PasswordComplexityWithGoal__WEBPACK_IMPORTED_MODULE_9__.A,{entropy:passphraseEntropy,targetEntropy:userPassphrasePolicies.entropy_minimum}),this.state.passphraseInDictionnary&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"invalid-passphrase error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"The passphrase is part of an exposed data breach.")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button cancel secondary",type:"button",disabled:!this.areActionsAllowed,onClick:this.handleCancel},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_2__.A,{disabled:this.mustBeDisabled,processing:this.isProcessing,value:this.props.t("Update")})))}}EnterNewPassphrase.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,userPassphrasePoliciesContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object.isRequired,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_6__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_1__.tX)((0,_contexts_UserPassphrasePoliciesContext__WEBPACK_IMPORTED_MODULE_10__.mk)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(EnterNewPassphrase)))));EnterNewPassphrase.__docgenInfo={description:"This component displays the user choose passphrase information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"areActionsAllowed",docblock:"Returns true if the user can perform actions on the component",modifiers:["get"],params:[],returns:null,description:"Returns true if the user can perform actions on the component"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"isProcessing",docblock:"Returns true if the component must be in a processing mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a processing mode"},{name:"bindEventHandlers",docblock:"Bind the event handlers",modifiers:[],params:[],returns:null,description:"Bind the event handlers"},{name:"createReferences",docblock:"Create component element references",modifiers:[],params:[],returns:null,description:"Create component element references"},{name:"focusOnPassphrase",docblock:"Put the focus on the passphrase input",modifiers:[],params:[],returns:null,description:"Put the focus on the passphrase input"},{name:"initPwnedPasswordService",docblock:"Initialize the pwned password service",modifiers:[],params:[],returns:null,description:"Initialize the pwned password service"},{name:"handlePassphraseChange",docblock:"Whenever the passphrase change\n@param event The input event",modifiers:[],params:[{name:"event",description:"The input event",optional:!1}],returns:null,description:"Whenever the passphrase change"},{name:"handleSubmit",docblock:"Whenever the user submits the passphrase\n@param event A form submit event",modifiers:["async"],params:[{name:"event",description:"A form submit event",optional:!1}],returns:null,description:"Whenever the user submits the passphrase"},{name:"evaluatePassphraseIsInDictionary",docblock:"Evaluate if the passphrase is in dictionary\n@param {string} passphrase the passphrase to evaluate\n@return {Promise<void>}",modifiers:["async"],params:[{name:"passphrase",description:"the passphrase to evaluate",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Evaluate if the passphrase is in dictionary"},{name:"generateGpgKey",docblock:"Generate the Gpg key\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Generate the Gpg key"},{name:"onGpgKeyGeneratedFailure",docblock:"Whenever the gpg key generation failed\n@param error The error",modifiers:[],params:[{name:"error",description:"The error",optional:!1}],returns:null,description:"Whenever the gpg key generation failed"},{name:"handleCancel",docblock:"Cancel action and go back to the introduction passphrase",modifiers:[],params:[],returns:null,description:"Cancel action and go back to the introduction passphrase"},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:[],params:[],returns:null,description:"Toggle the processing mode"},{name:"toggleObfuscate",docblock:"Toggle the obfuscate mode of the passphrase view",modifiers:[],params:[],returns:null,description:"Toggle the obfuscate mode of the passphrase view"},{name:"isMinimumRequiredEntropyReached",docblock:"Returns true if the given entropy is greater or equal to the minimum required entropy.\n@param {number} passphraseEntropy\n@returns {boolean}",modifiers:[],params:[{name:"passphraseEntropy",type:{name:"number"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the given entropy is greater or equal to the minimum required entropy."}],displayName:"EnterNewPassphrase",props:{context:{description:"",type:{name:"any"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},userPassphrasePoliciesContext:{description:"",type:{name:"object"},required:!0},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/ChangeUserPassphrase/EnterNewPassphraseHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class EnterNewPassphraseHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Tips for choosing a good passphrase")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Make sure your passphrase is hard to guess but also that is long enough. For example you can use your favorite lyric from a song, grab the first couple of characters from the words in your favorite line.")))}}const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(EnterNewPassphraseHelp);EnterNewPassphraseHelp.__docgenInfo={description:"This component displays the user choose passphrase information help",methods:[],displayName:"EnterNewPassphraseHelp"}},"./src/react-extension/components/UserSetting/ChangeUserSecurityToken/ChangeUserSecurityToken.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_color__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-color/es/index.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_shared_lib_Secret_SecretComplexity__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/lib/Secret/SecretComplexity.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_assertions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/utils/assertions.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/info.svg");class ChangeUserSecurityToken extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers(),this.createReferences()}componentDidMount(){this.getSecurityTokenFromLoggedInUser()}get defaultState(){return{background:"",code:"",actions:{processing:!1},hasBeenValidated:!1,errors:{emptyCode:!1,lengthCode:!1,invalidRegex:!1}}}getSecurityTokenFromLoggedInUser(){const background=this.props.context.userSettings.getSecurityToken().backgroundColor,code=this.props.context.userSettings.getSecurityToken().code;this.setState({background,code})}get defaultColors(){return["#f44336","#9c27b0","#3f51b5","#03a9f4","#009688","#8bc34a","#ffeb3b","#ff9800","#795548","#607d8b","#000000","#f6f6f6"]}get textColor(){const c=this.state.background.substr(1).match(/(\S{2})/g);return(299*parseInt(c[0],16)+587*parseInt(c[1],16)+114*parseInt(c[2],16))/1e3>125?"#000000":"#ffffff"}get securityTokenStyle(){return this.state.background?{backgroundColor:this.state.background,color:this.textColor}:void 0}get areActionsAllowed(){return!this.state.actions.processing}get isValid(){return Object.values(this.state.errors).every((value=>!value))}get isProcessing(){return this.state.actions.processing}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleSelectColor=this.handleSelectColor.bind(this),this.handleRandomize=this.handleRandomize.bind(this),this.handleChangeCode=this.handleChangeCode.bind(this)}createReferences(){this.tokenCodeInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}async handleSubmit(event){event.preventDefault(),await this.validate(),this.isValid&&(await this.toggleProcessing(),await this.save())}async handleSelectColor(color){this.areActionsAllowed&&(await this.selectColor(color),this.state.hasBeenValidated&&await this.validate())}handleRandomize(){this.randomizeCode(),this.randomizeColor()}async handleChangeCode(event){const code=event.target.value;await this.selectCode(code),this.state.hasBeenValidated&&await this.validate()}async save(){const securityTokenDto={color:this.state.background,textcolor:this.textColor,code:this.state.code};try{await this.props.userSettingsContext.onUpdateSecurityTokenRequested(securityTokenDto),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The security token has been updated successfully")),await this.toggleProcessing()}catch(error){await this.onSaveFailure(error)}}async onSaveFailure(error){await this.toggleProcessing();const ErrorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_2__.A,ErrorDialogProps)}async selectColor(color){color.hex!==this.state.background&&await this.setState({background:color.hex})}async selectCode(code){await this.setState({code})}async randomizeCode(){const code=_shared_lib_Secret_SecretComplexity__WEBPACK_IMPORTED_MODULE_7__.A.generate(3,["uppercase"]);await this.selectCode(code),this.state.hasBeenValidated&&await this.validate()}async randomizeColor(){let color;do{const number=parseInt(_shared_lib_Secret_SecretComplexity__WEBPACK_IMPORTED_MODULE_7__.A.generate(3,["digit"]))%this.defaultColors.length;color={hex:this.defaultColors[number]}}while(color.hex===this.state.background);await this.selectColor(color)}async validate(){const{code}=this.state,emptyCode=""===code.trim();if(emptyCode)return void await this.setState({hasBeenValidated:!0,errors:{emptyCode}});const lengthCode=3!==code.trim().length;if(lengthCode)return void await this.setState({hasBeenValidated:!0,errors:{lengthCode}});const invalidRegex=!(0,_shared_utils_assertions__WEBPACK_IMPORTED_MODULE_9__.sF)(code.trim());invalidRegex?await this.setState({hasBeenValidated:!0,errors:{invalidRegex}}):await this.setState({hasBeenValidated:!0,errors:{}})}async toggleProcessing(){await this.setState({actions:{processing:!this.state.actions.processing}})}get hasErrors(){return this.state.errors&&(this.state.errors.emptyCode||this.state.errors.lengthCode||this.state.errors.invalidRegex)}render(){const processingClassName=this.isProcessing?"processing":"";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column profile-choose-security-token"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Update the Security Token")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input-security-token input required ${this.hasErrors?"error":""} ${this.areActionsAllowed?"":"disabled"}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"label-required-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"security-token-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Security token")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_10__.A,{message:this.props.t("Only alphanumeric, dash and underscore characters are accepted.")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"baseline svg-icon"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"security-token-text",ref:this.tokenCodeInputRef,type:"text","aria-required":!0,className:"input text required",name:"text",maxLength:"3",style:this.securityTokenStyle,value:this.state.code,onChange:this.handleChangeCode,disabled:!this.areActionsAllowed}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"hidden",id:"security-token-background-color",name:"security-token-background-color"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"hidden",id:"security-token-text-color",name:"security-token-text-color"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_color__WEBPACK_IMPORTED_MODULE_1__.z0,{color:this.state.background,onChange:this.handleSelectColor,width:240,circleSize:24,circleSpacing:16,colors:this.defaultColors}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"randomize-button-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"randomize-button link "+(this.isProcessing?"disabled":""),disabled:this.isProcessing,onClick:this.handleRandomize},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Randomize")))),this.state.hasBeenValidated&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},this.state.errors.emptyCode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"empty-code error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"The security token code should not be empty.")),this.state.errors.lengthCode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"not-good-length-code error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"The security token code should be 3 characters long.")),this.state.errors.invalidRegex&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"not-good-regex-code error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"The security token code should contains only alphanumeric, dash and underscore characters.")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:`button primary form ${processingClassName}`,type:"submit",disabled:this.isProcessing,onClick:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Save"))))}}ChangeUserSecurityToken.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__.ot)((0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_5__.tX)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(ChangeUserSecurityToken)))));ChangeUserSecurityToken.__docgenInfo={description:"This component displays the user choose security token information",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"getSecurityTokenFromLoggedInUser",docblock:"Get the security token from the logged in user",modifiers:[],params:[],returns:null,description:"Get the security token from the logged in user"},{name:"defaultColors",docblock:"Returns the default set of colors",modifiers:["get"],params:[],returns:null,description:"Returns the default set of colors"},{name:"textColor",docblock:"Returns the default set of colors text",modifiers:["get"],params:[],returns:null,description:"Returns the default set of colors text"},{name:"securityTokenStyle",docblock:"Returns the security token CSS style\n@returns {undefined|{backgroundColor: *, color: (string)}}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[]}},description:"Returns the security token CSS style"},{name:"areActionsAllowed",docblock:"Returns true if the user can perform actions on the component",modifiers:["get"],params:[],returns:null,description:"Returns true if the user can perform actions on the component"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"isProcessing",docblock:"Returns true if the component must be in a processing mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a processing mode"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"createReferences",docblock:"Creates the references",modifiers:[],params:[],returns:null,description:"Creates the references"},{name:"handleSubmit",docblock:"Whenever the users submits his security token choice\n@param event Dom event",modifiers:["async"],params:[{name:"event",description:"Dom event",optional:!1}],returns:null,description:"Whenever the users submits his security token choice"},{name:"handleSelectColor",docblock:"Whenever a new color has been selected",modifiers:["async"],params:[{name:"color",optional:!1}],returns:null,description:"Whenever a new color has been selected"},{name:"handleRandomize",docblock:"Whenever the user wants to randomize the token code and color",modifiers:[],params:[],returns:null,description:"Whenever the user wants to randomize the token code and color"},{name:"handleChangeCode",docblock:"Whenever the user changes the token code\n@param event An input event",modifiers:["async"],params:[{name:"event",description:"An input event",optional:!1}],returns:null,description:"Whenever the user changes the token code"},{name:"save",docblock:"Saves the security token",modifiers:["async"],params:[],returns:null,description:"Saves the security token"},{name:"onSaveFailure",docblock:"Whenever the gpg key generation failed\n@param error The error",modifiers:["async"],params:[{name:"error",description:"The error",optional:!1}],returns:null,description:"Whenever the gpg key generation failed"},{name:"selectColor",docblock:"Select a token color\n@param color A color",modifiers:["async"],params:[{name:"color",description:"A color",optional:!1}],returns:null,description:"Select a token color"},{name:"selectCode",docblock:"Select a token code\n@param code A code",modifiers:["async"],params:[{name:"code",description:"A code",optional:!1}],returns:null,description:"Select a token code"},{name:"randomizeCode",docblock:"Randomize a token code",modifiers:["async"],params:[],returns:null,description:"Randomize a token code"},{name:"randomizeColor",docblock:"Randomize a color",modifiers:["async"],params:[],returns:null,description:"Randomize a color"},{name:"validate",docblock:"Validate the security token data",modifiers:["async"],params:[],returns:null,description:"Validate the security token data"},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:["async"],params:[],returns:null,description:"Toggle the processing mode"},{name:"hasErrors",docblock:"Check if there are errors\n@return {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Check if there are errors"}],displayName:"ChangeUserSecurityToken",props:{context:{description:"",type:{name:"object"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserAccountRecovery/DisplayAccountRecoveryUserSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayUserAccountRecovery_DisplayAccountRecoveryUserSettings});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),AccountRecoveryUserContext=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ManageAccountRecoveryUserSettings=__webpack_require__("./src/react-extension/components/AccountRecovery/ManageAccountRecoveryUserSettings/ManageAccountRecoveryUserSettings.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js");class HandleAccountRecoveryUserSettingsRoute extends react.Component{async componentDidMount(){await this.handleRoute()}async handleRoute(){if(this.props.accountRecoveryContext.getPolicy()===AccountRecoveryUserContext.On.POLICY_DISABLED)return void this.redirectToSettingsPage();if(this.props.accountRecoveryContext.getUserAccountRecoverySubscriptionStatus()===AccountRecoveryUserContext.On.STATUS_APPROVED)return this.showAlreadyEnrolledFeedback(),void this.redirectToSettingsPage();this.props.dialogContext.open(ManageAccountRecoveryUserSettings.A,{organizationPolicy:this.props.accountRecoveryContext.getOrganizationPolicy()})}async showAlreadyEnrolledFeedback(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("You already enrolled to the account recovery program"))}redirectToSettingsPage(){this.props.history.push("/app/settings/account-recovery")}render(){return null}}HandleAccountRecoveryUserSettingsRoute.propTypes={dialogContext:prop_types_default().object,accountRecoveryContext:prop_types_default().object,history:prop_types_default().object,actionFeedbackContext:prop_types_default().any,t:prop_types_default().func};const HandleAccountRecoveryUserSettingsRoute_HandleAccountRecoveryUserSettingsRoute=(0,react_router.withRouter)((0,DialogContext.z9)((0,AccountRecoveryUserContext.Le)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(HandleAccountRecoveryUserSettingsRoute)))));HandleAccountRecoveryUserSettingsRoute.__docgenInfo={description:"",methods:[{name:"handleRoute",docblock:"Handle the review account recovery request route.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the review account recovery request route."},{name:"showAlreadyEnrolledFeedback",docblock:"Notify the user that the enrollment has been done already.",modifiers:["async"],params:[],returns:null,description:"Notify the user that the enrollment has been done already."},{name:"redirectToSettingsPage",docblock:"Redirect to the account recovery user settings page.",modifiers:[],params:[],returns:null,description:"Redirect to the account recovery user settings page."}],displayName:"HandleAccountRecoveryUserSettingsRoute",props:{dialogContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js"),TooltipPortal=__webpack_require__("./src/react-extension/components/Common/Tooltip/TooltipPortal.js"),Fingerprint=__webpack_require__("./src/react-extension/components/Common/Fingerprint/Fingerprint.js");class DisplayAccountRecoveryUserSettings extends react.Component{constructor(props){super(props),this.bindCallbacks()}async componentDidMount(){await this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handleReviewClick=this.handleReviewClick.bind(this)}hasNotApprovedStatus(){return"approved"!==this.props.accountRecoveryContext.status}formatFingerprint(fingerprint){return fingerprint?fingerprint.toUpperCase().replace(/.{4}(?=.)/g,"$& "):""}isStatusApproved(){return"approved"===this.props.accountRecoveryContext.status}handleReviewClick(){this.props.dialogContext.open(ManageAccountRecoveryUserSettings.A,{organizationPolicy:this.props.accountRecoveryContext.getOrganizationPolicy()})}get requestor(){return this.props.accountRecoveryContext.getRequestor()}get requestorRole(){return this.props.context.roles.find((role=>role.id===this.requestor.role_id)).name}get requestorName(){return react.createElement(react.Fragment,null,this.requestor.profile.first_name," ",this.requestor.profile.last_name," (",this.requestor.username,")")}get requestorFingerprint(){const requestor=this.requestor;return requestor&&requestor.gpgkey.fingerprint}get requestedDate(){return this.props.accountRecoveryContext.getRequestedDate()}get isAccountRecoveryFeatureEnabled(){return"disabled"!==this.policy}get policy(){return this.props.accountRecoveryContext.getPolicy()}get isReady(){return this.props.accountRecoveryContext.isReady()}get translate(){return this.props.t}render(){const requestorStatus=(0,userUtils.CD)(this.requestor);return react.createElement(react.Fragment,null,this.props.context.loggedInUser&&this.props.accountRecoveryContext.getOrganizationPolicy()&&react.createElement(react_router.Route,{exact:!0,path:"/app/settings/account-recovery/edit",component:HandleAccountRecoveryUserSettingsRoute_HandleAccountRecoveryUserSettingsRoute}),react.createElement("div",{className:"main-column account-recovery-profile"},react.createElement("div",{className:"main-content"},this.isReady&&this.isAccountRecoveryFeatureEnabled&&react.createElement(react.Fragment,null,react.createElement("h3",null,react.createElement(es.x6,null,"Account Recovery")),react.createElement("p",null,react.createElement(es.x6,null,"It is possible to share securely your recovery kit with the administrator.")," ",react.createElement(es.x6,null,"They will be able to help you in case you lose it.")," ",react.createElement(es.x6,null,"Otherwise, you may lose access to your data.")),react.createElement("div",{className:"account-recovery-status"},react.createElement("div",{className:"account-recovery-review"},react.createElement("p",{className:"status-wrapper"},react.createElement("span",{className:"title"},react.createElement(es.x6,null,"Status")),":",react.createElement("span",{className:`account-recovery-hints ${this.props.accountRecoveryContext.status}`}),react.createElement("span",{className:"status"},this.props.accountRecoveryContext.status))),this.hasNotApprovedStatus()&&react.createElement("ul",null,react.createElement("li",{className:"usercard-detailed-col-2"},react.createElement("div",{className:"content-wrapper"},react.createElement("div",{className:"content"},react.createElement("div",null,react.createElement(TooltipPortal.A,{message:react.createElement(Fingerprint.A,{fingerprint:this.requestorFingerprint})},react.createElement("span",{className:"name-with-tooltip"},this.requestorName)),react.createElement("span",{className:"name"},react.createElement(es.x6,null,"requested this operation"))),react.createElement("div",{className:"subinfo light"},react.createElement("span",{className:"dateTimeAgo"},(0,dateUtils.kD)(this.requestedDate,this.props.t,this.props.context.locale)),react.createElement("span",{className:"chips-group"},react.createElement("span",{className:`chips user-status ${requestorStatus}`},this.props.t(requestorStatus)),react.createElement("span",{className:`chips user-role ${this.requestorRole}`},this.requestorRole))))),react.createElement(UserAvatar.A,{user:this.requestor,baseUrl:this.props.context.userSettings.getTrustedDomain()}))))),this.isReady&&!this.isAccountRecoveryFeatureEnabled&&react.createElement(react.Fragment,null,react.createElement("h3",null,react.createElement(es.x6,null,"Account Recovery")),react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Sorry the account recovery feature is not enabled for this organization.")),react.createElement("p",null,react.createElement(es.x6,null,"Please contact your administrator to enable the account recovery feature."))))),react.createElement("div",{className:"actions-wrapper"},this.hasNotApprovedStatus()&&!this.isStatusApproved()&&react.createElement("button",{type:"button",className:"button primary form",onClick:this.handleReviewClick},react.createElement(es.x6,null,"Review"))))}}DisplayAccountRecoveryUserSettings.propTypes={context:prop_types_default().any,accountRecoveryContext:prop_types_default().any,date:prop_types_default().string,t:prop_types_default().func,dialogContext:prop_types_default().object};const DisplayUserAccountRecovery_DisplayAccountRecoveryUserSettings=(0,AppContext.L)((0,AccountRecoveryUserContext.Le)((0,DialogContext.z9)((0,es.CI)("common")(DisplayAccountRecoveryUserSettings))));DisplayAccountRecoveryUserSettings.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"hasNotApprovedStatus",docblock:"Is the account recovery approved?\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the account recovery approved?"},{name:"formatFingerprint",docblock:"get fingerprint\n@param fingerprint\n@returns string",modifiers:[],params:[{name:"fingerprint",optional:!1}],returns:{description:"string"},description:"get fingerprint"},{name:"isStatusApproved",docblock:"Returns true if user has rejected the account recovery policy\n@return {bool}",modifiers:[],params:[],returns:{type:{name:"bool"}},description:"Returns true if user has rejected the account recovery policy"},{name:"handleReviewClick",docblock:"Handle user clicking on review click.",modifiers:[],params:[],returns:null,description:"Handle user clicking on review click."},{name:"requestor",docblock:"Get the user requesting the current user to subscribe to the account recovery program.\n@returns {object|void}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"},{name:"void"}]}},description:"Get the user requesting the current user to subscribe to the account recovery program."},{name:"requestorRole",docblock:"Get the user role who initiated the account recovery request.\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user role who initiated the account recovery request."},{name:"requestorName",docblock:"Get the user name requesting the current user to subscribe to the account recovery program.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the user name requesting the current user to subscribe to the account recovery program."},{name:"requestorFingerprint",docblock:"Get the user requesting the current user to subscribe to the account recovery program.\n@returns {string|void}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"string"},{name:"void"}]}},description:"Get the user requesting the current user to subscribe to the account recovery program."},{name:"requestedDate",docblock:"Get the time at when the setup of the account recovery user setting policy has been requested.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the time at when the setup of the account recovery user setting policy has been requested."},{name:"isAccountRecoveryFeatureEnabled",docblock:"Returns true if the account recovery feature is not disabled\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the account recovery feature is not disabled"},{name:"policy",docblock:"Return the organization policy type.\n@returns {string|void}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"string"},{name:"void"}]}},description:"Return the organization policy type."},{name:"isReady",docblock:"Returns true when the data is fully loaded.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data is fully loaded."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayAccountRecoveryUserSettings",props:{context:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"any"},required:!1},date:{description:"",type:{name:"string"},required:!1},t:{description:"",type:{name:"func"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserAccountRecovery/DisplayAccountRecoveryUserSettingsHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/file_text.svg");class DisplayAccountRecoveryUserSettingsHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about account recovery, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://help.passbolt.com/faq/start/account-recovery/subscribe",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation"))))}}const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayAccountRecoveryUserSettingsHelp);DisplayAccountRecoveryUserSettingsHelp.__docgenInfo={description:"",methods:[],displayName:"DisplayAccountRecoveryUserSettingsHelp"}},"./src/react-extension/components/UserSetting/DisplayUserGpgInformation/DisplayUserGpgInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),luxon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_Common_Select_Select__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),_Common_Fingerprint_Fingerprint__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Fingerprint/Fingerprint.js"),_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/img/svg/download_file.svg");class DisplayUserGpgInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleDownloadPublicKey=this.handleDownloadPublicKey.bind(this),this.handleDownloadPrivateKey=this.handleDownloadPrivateKey.bind(this)}async componentDidMount(){await this.populate()}async componentDidUpdate(){await this.populateIfNeeded()}get defaultState(){return{gpgKeyInfo:null}}get user(){return this.props.context.loggedInUser}async populate(){if(this.user){const gpgKeyInfo=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo})}}async populateIfNeeded(){const mustPopulate=this.user&&!this.state.gpgKeyInfo,canVoid=this.user&&this.state.gpgKeyInfo;if(mustPopulate){const gpgKeyInfo=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo})}else canVoid&&(this.populateIfNeeded=()=>{})}async fetchGpgkeyInfo(){const gpgkeyInfo=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),keyId=gpgkeyInfo.key_id,type=this.gpgkeyType[gpgkeyInfo.algorithm],uIds=gpgkeyInfo.user_ids,created=this.formatDate(gpgkeyInfo.created);let expires;expires=null===gpgkeyInfo.expires?"n/a":"Infinity"===gpgkeyInfo.expires?this.translate("Never"):this.formatDate(gpgkeyInfo.expires);return{keyId,type,uIds,created,expires,fingerprint:gpgkeyInfo.fingerprint,length:gpgkeyInfo.length}}get gpgkeyType(){return{rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"}}formatDate(data){try{return luxon__WEBPACK_IMPORTED_MODULE_3__.c9.fromJSDate(new Date(data)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_3__.c9.DATETIME_FULL)}catch(error){return""}}get gpgKeyInfo(){return this.state.gpgKeyInfo||{}}get fingerprint(){let fingerprint=this.gpgKeyInfo.fingerprint;return fingerprint&&(fingerprint=fingerprint.toUpperCase().replace(/.{4}(?=.)/g,"$& "),fingerprint=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,fingerprint.substr(0,24),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),fingerprint.substr(25))),fingerprint}get uId(){const uId=this.gpgKeyInfo.uIds&&this.gpgKeyInfo.uIds[0];return uId?`${uId.name} <${uId.email}>`:""}async handleDownloadPublicKey(){await this.props.context.port.request("passbolt.keyring.download-my-public-key")}async handleDownloadPrivateKey(){await this.props.context.port.request("passbolt.keyring.download-my-private-key")}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column key-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Information for public and secret key")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",{className:"table-info",id:"privkeyinfo"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Key Id")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"keyId"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_4__.A,{message:this.translate("sorry you can only have one key set at the moment"),direction:"top"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_5__.A,{className:"inline",id:"keyId",value:this.gpgKeyInfo.keyId,items:[{value:this.gpgKeyInfo.keyId,label:this.gpgKeyInfo.keyId}],disabled:!0})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Uid")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"uid"},this.uId)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Fingerprint")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"fingerprint"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Fingerprint_Fingerprint__WEBPACK_IMPORTED_MODULE_6__.A,{fingerprint:this.gpgKeyInfo.fingerprint}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"created"},this.gpgKeyInfo.created)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Expires")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"expires"},this.gpgKeyInfo.expires)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Key length")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"length"},this.gpgKeyInfo.length)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Algorithm")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"algorithm"},this.gpgKeyInfo.type)))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"left-actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button secondary",onClick:this.handleDownloadPublicKey},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_7__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Public"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button secondary",onClick:this.handleDownloadPrivateKey},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_7__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Private"))))))}}DisplayUserGpgInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUserGpgInformation));DisplayUserGpgInformation.__docgenInfo={description:"This component displays the user GPG information",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"populate",docblock:"Populates the component with data",modifiers:["async"],params:[],returns:null,description:"Populates the component with data"},{name:"populateIfNeeded",docblock:"Populates the component with data in case the logged in user has not been populated",modifiers:["async"],params:[],returns:null,description:"Populates the component with data in case the logged in user has not been populated"},{name:"fetchGpgkeyInfo",docblock:"Fetch the user key id",modifiers:["async"],params:[],returns:null,description:"Fetch the user key id"},{name:"gpgkeyType",docblock:"Get the list of gpgkey types associated to their algorithms.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the list of gpgkey types associated to their algorithms."},{name:"formatDate",docblock:"Format a date.\n@string {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"data",optional:!1}],returns:{type:{name:"string"}},description:"Format a date."},{name:"gpgKeyInfo",docblock:"Get the gpg keyinfo\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the gpg keyinfo"},{name:"fingerprint",docblock:"Get fingerprint\n@returns {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Get fingerprint"},{name:"uId",docblock:"Get the first uID of the GPG key\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the first uID of the GPG key"},{name:"handleDownloadPublicKey",docblock:"Whenever the user wants to download his public key",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to download his public key"},{name:"handleDownloadPrivateKey",docblock:"Whenever the user wants to download his private key",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to download his private key"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGpgInformation",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserGpgInformation/DisplayUserGpgInformationHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);class DisplayUserGpgInformationHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}async componentDidMount(){await this.populate()}async componentDidUpdate(){await this.populateIfNeeded()}get defaultState(){return{gpgKeyInfo:null}}get user(){return this.props.context.loggedInUser}async populate(){if(this.user){const gpgKeyInfo=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo})}}async populateIfNeeded(){const mustPopulate=this.user&&!this.state.gpgKeyInfo,canVoid=this.user&&this.state.gpgKeyInfo;if(mustPopulate){const gpgKeyInfo=await this.fetchGpgkeyInfo();await this.setState({gpgKeyInfo})}else canVoid&&(this.populateIfNeeded=()=>{})}async fetchGpgkeyInfo(){return{armoredKey:(await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id)).armored_key}}get gpgKeyInfo(){return this.state.gpgKeyInfo||{}}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Public key block")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input textarea gpgkey",rel:"publicKey"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{defaultValue:this.gpgKeyInfo.armoredKey,className:"fluid code",readOnly:!0})))}}DisplayUserGpgInformationHelp.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUserGpgInformationHelp));DisplayUserGpgInformationHelp.__docgenInfo={description:"This component displays the user GPG information help",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"populate",docblock:"Populates the component with data",modifiers:["async"],params:[],returns:null,description:"Populates the component with data"},{name:"populateIfNeeded",docblock:"Populates the component with data in case the logged in user has not been populated",modifiers:["async"],params:[],returns:null,description:"Populates the component with data in case the logged in user has not been populated"},{name:"fetchGpgkeyInfo",docblock:"Fetch the user key id",modifiers:["async"],params:[],returns:null,description:"Fetch the user key id"},{name:"gpgKeyInfo",docblock:"Get the gpg keyinfo\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the gpg keyinfo"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGpgInformationHelp",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserProfile/DisplayUserProfile.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/UserSettingsContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/utils/dateUtils.js"),_EditUserProfile_EditUserProfile__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/UserSetting/EditUserProfile/EditUserProfile.js");class DisplayUserProfile extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}get user(){return this.props.context.loggedInUser}bindHandlers(){this.handleEdit=this.handleEdit.bind(this)}get userLocaleLabel(){const locale=(this.props.context.siteSettings.supportedLocales||[]).find((supportedLocale=>supportedLocale.locale===this.props.context.locale));return locale?locale.label:"N/A"}get translate(){return this.props.t}get canIUseLocale(){return this.props.context.siteSettings.canIUse("locale")}handleEdit(){this.props.dialogContext.open(_EditUserProfile_EditUserProfile__WEBPACK_IMPORTED_MODULE_6__.A)}render(){return this.user&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"profile main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Profile")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",{className:"table-info detailed-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Name")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},`${this.user.profile.first_name} ${this.user.profile.last_name}`)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"email"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Email")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},this.user.username)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"role"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},this.user.role.name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.user.modified,this.props.t,this.props.context.locale))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"created"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.user.created,this.props.t,this.props.context.locale))))),this.canIUseLocale&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Internationalisation")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",{className:"table-info profile"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{className:"locale"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Language")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"value"},this.userLocaleLabel))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary form",type:"button",onClick:this.handleEdit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Edit")))))}}DisplayUserProfile.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,userSettingsContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,i18n:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__.z9)((0,_contexts_UserSettingsContext__WEBPACK_IMPORTED_MODULE_4__.tX)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(DisplayUserProfile))));DisplayUserProfile.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"userLocaleLabel",docblock:"Get the locale label.",modifiers:["get"],params:[],returns:null,description:"Get the locale label."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"canIUseLocale",docblock:"Can I use the locale plugin.\n@type {boolean}",modifiers:["get"],params:[],returns:null,description:"Can I use the locale plugin."},{name:"handleEdit",docblock:"Whenever the user wants to edit his profile",modifiers:[],params:[],returns:null,description:"Whenever the user wants to edit his profile"}],displayName:"DisplayUserProfile",props:{context:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},userSettingsContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserProfile/DisplayUserProfileHelp.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_UploadUserProfileAvatar_UploadUserProfileAvatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/UserSetting/UploadUserProfileAvatar/UploadUserProfileAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/upload_file.svg");class DisplayUserProfileHelp extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}get user(){return this.props.context.loggedInUser}bindHandlers(){this.handleUploadPicture=this.handleUploadPicture.bind(this)}handleUploadPicture(){this.props.dialogContext.open(_UploadUserProfileAvatar_UploadUserProfileAvatar__WEBPACK_IMPORTED_MODULE_4__.A)}get translate(){return this.props.t}get canIUseUploadAvatarCapability(){return this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_7__.e.AVATAR_UPLOAD)}render(){return this.user&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section profile"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Avatar")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"avatar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:this.props.context.loggedInUser,baseUrl:this.props.context.userSettings.getTrustedDomain(),className:""}))),this.canIUseUploadAvatarCapability&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"upload-avatar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button edit-avatar-action",title:this.translate("Upload a new avatar picture"),type:"button",onClick:this.handleUploadPicture},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"help-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Upload a new avatar picture")))))}}DisplayUserProfileHelp.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,i18n:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_6__.x6)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserProfileHelp))));DisplayUserProfileHelp.__docgenInfo={description:"This component displays the user profile help",methods:[{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"handleUploadPicture",docblock:"Whenever the user wants to upload a new profile's picture",modifiers:[],params:[],returns:null,description:"Whenever the user wants to upload a new profile's picture"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"canIUseUploadAvatarCapability",docblock:"Can the user access upload a new avatar capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access upload a new avatar capability."}],displayName:"DisplayUserProfileHelp",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/UserSetting/DisplayUserSettingsWorkspaceBreadcrumb/DisplayUserSettingsWorkspaceBreadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayUserSettingsWorkspaceBreadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get items(){return[react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{key:"bread-1",name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{key:"bread-2",name:this.loggedInUserName,onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{key:"bread-3",name:this.getLastBreadcrumbItemName,onClick:this.onLastBreadcrumbClick.bind(this)})]}get loggedInUserName(){const user=this.props.context.loggedInUser;return user?`${user.profile.first_name} ${user.profile.last_name}`:""}get getLastBreadcrumbItemName(){const names={profile:this.translate("Profile"),passphrase:this.translate("Passphrase"),"security-token":this.translate("Security token"),theme:this.translate("Theme"),mfa:this.translate("Multi Factor Authentication"),duo:this.translate("Multi Factor Authentication"),keys:this.translate("Keys inspector"),mobile:this.translate("Mobile transfer"),"account-recovery":this.translate("Account Recovery"),"smtp-settings":this.translate("Email server"),desktop:this.translate("Desktop app setup")};return names[Object.keys(names).find((pathSuffix=>this.props.location.pathname.endsWith(pathSuffix)))]}async onLastBreadcrumbClick(){const pathname=this.props.location.pathname;this.props.history.push({pathname})}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.A,{items:this.items})}}DisplayUserSettingsWorkspaceBreadcrumb.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,location:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.withRouter)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__.qN)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserSettingsWorkspaceBreadcrumb))));DisplayUserSettingsWorkspaceBreadcrumb.__docgenInfo={description:"The component displays a navigation breadcrumb given the applied users filter",methods:[{name:"items",docblock:"Returns the breadcrumb items for the given filter\n@return {array<JSX.Element>}",modifiers:["get"],params:[],returns:{type:{name:"array",elements:[{name:"JSX.Element"}]}},description:"Returns the breadcrumb items for the given filter"},{name:"loggedInUserName",docblock:"Get the logged in user full name.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the logged in user full name."},{name:"getLastBreadcrumbItemName",docblock:"Returns the current item name given the current location",modifiers:["get"],params:[],returns:null,description:"Returns the current item name given the current location"},{name:"onLastBreadcrumbClick",docblock:"Whenever the user click on the last breadcrumb\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user click on the last breadcrumb"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserSettingsWorkspaceBreadcrumb",props:{context:{description:"",type:{name:"any"},required:!1},location:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/ExportAccountToDesktop/ExportAccountToDesktop.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class ExportAccountToDesktop extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleDownloadAccount=this.handleDownloadAccount.bind(this)}async handleDownloadAccount(){try{await this.props.context.port.request("passbolt.desktop.export-account"),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The account kit has been downloaded successfully."))}catch(error){if("UserAbortsOperationError"!==error.name)return this.handleError(error)}}async handleError(error){await this.props.actionFeedbackContext.displayError(error.message)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-column profile-desktop-export"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content desktop-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Welcome to the desktop app setup")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:"no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Download the desktop app")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Passbolt is available on the Windows store.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"windows-store",href:"https://apps.microsoft.com/detail/passbolt/9PFXS2WVKVPB",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"160",height:"56",viewBox:"0 0 160 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#clip0_94_20105)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M159.592 0.410278H0.425781V55.2598H159.592V0.410278Z",fill:"black"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M0.833333 0.802676H159.167V54.8495H0.833333V0.802676ZM0 55.6522H160V0H0V55.6522Z",fill:"#D2D2D2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M28.5742 12.2363H13.0557V27.1839H28.5742V12.2363Z",fill:"#F25022"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M45.7036 12.2363H30.1851V27.1839H45.7036V12.2363Z",fill:"#7FBA00"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M28.5742 28.7179H13.0557V43.6655H28.5742V28.7179Z",fill:"#00A4EF"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M45.7036 28.7179H30.1851V43.6655H45.7036V28.7179Z",fill:"#FFB900"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M75.6113 29.0747C75.6113 28.6287 75.778 28.272 76.1113 27.9688C76.4447 27.6655 76.8336 27.5228 77.2965 27.5228C77.778 27.5228 78.1854 27.6834 78.5002 27.9866C78.815 28.2898 78.9817 28.6644 78.9817 29.0747C78.9817 29.5028 78.815 29.8773 78.4817 30.1627C78.1484 30.466 77.7595 30.6087 77.278 30.6087C76.7965 30.6087 76.4076 30.466 76.0743 30.1627C75.778 29.8595 75.6113 29.5028 75.6113 29.0747ZM78.6669 43.6655H75.9076V32.3389H78.6669V43.6655Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M87.0743 41.7212C87.4817 41.7212 87.9447 41.632 88.4447 41.4537C88.9447 41.2753 89.3891 41.0256 89.815 40.7223V43.2017C89.3706 43.4514 88.8706 43.6298 88.315 43.7547C87.7595 43.8795 87.1298 43.9509 86.4632 43.9509C84.741 43.9509 83.3336 43.4158 82.241 42.3634C81.1484 41.311 80.6113 39.9553 80.6113 38.3322C80.6113 36.5128 81.1669 35.0144 82.278 33.8372C83.3891 32.6599 84.9447 32.0713 86.9817 32.0713C87.5002 32.0713 88.0187 32.1426 88.5558 32.2675C89.0928 32.3924 89.5002 32.5529 89.815 32.7134V35.2642C89.3891 34.9609 88.9447 34.729 88.5002 34.5685C88.0558 34.408 87.5928 34.3188 87.1298 34.3188C86.0373 34.3188 85.1669 34.6577 84.4817 35.3355C83.815 36.0133 83.4817 36.9409 83.4817 38.1003C83.4817 39.2419 83.7965 40.1337 84.4447 40.7759C85.0928 41.418 85.9632 41.7212 87.0743 41.7212Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M97.6855 32.1605C97.9077 32.1605 98.1114 32.1784 98.278 32.1962C98.4447 32.2319 98.6114 32.2675 98.7225 32.3032V34.9966C98.5743 34.8896 98.3706 34.8004 98.0929 34.7112C97.8151 34.6221 97.4818 34.5685 97.0743 34.5685C96.3892 34.5685 95.8151 34.8361 95.3521 35.3891C94.8892 35.942 94.6484 36.7804 94.6484 37.9398V43.6655H91.8892V32.3389H94.6484V34.1226H94.6855C94.9447 33.4983 95.3151 33.0167 95.8336 32.6778C96.3521 32.3389 96.9632 32.1605 97.6855 32.1605Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M98.8706 38.1716C98.8706 36.2987 99.4262 34.8182 100.519 33.7123C101.611 32.6242 103.148 32.0713 105.093 32.0713C106.926 32.0713 108.371 32.6064 109.408 33.6588C110.445 34.7112 110.963 36.1382 110.963 37.9219C110.963 39.7591 110.408 41.2218 109.315 42.3099C108.222 43.3979 106.722 43.9331 104.834 43.9331C103.019 43.9331 101.556 43.4158 100.5 42.3812C99.4076 41.3645 98.8706 39.9553 98.8706 38.1716ZM101.759 38.0824C101.759 39.2597 102.037 40.1694 102.593 40.7937C103.148 41.418 103.945 41.7212 104.982 41.7212C105.982 41.7212 106.759 41.418 107.278 40.7937C107.797 40.1694 108.074 39.2419 108.074 38.0111C108.074 36.7982 107.797 35.8706 107.259 35.2463C106.722 34.622 105.945 34.3188 104.963 34.3188C103.945 34.3188 103.167 34.6398 102.593 35.2998C102.037 35.9598 101.759 36.8695 101.759 38.0824Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M115.074 35.3177C115.074 35.6923 115.204 35.9955 115.445 36.2095C115.704 36.4236 116.259 36.6912 117.111 37.0301C118.222 37.4582 119 37.9398 119.445 38.4749C119.889 39.01 120.111 39.6521 120.111 40.4013C120.111 41.4715 119.685 42.3277 118.833 42.9699C117.982 43.612 116.833 43.9331 115.389 43.9331C114.907 43.9331 114.37 43.8796 113.778 43.7547C113.185 43.6477 112.685 43.4871 112.278 43.3266V40.7045C112.778 41.0434 113.315 41.311 113.907 41.5072C114.482 41.7034 115.019 41.8104 115.482 41.8104C116.111 41.8104 116.574 41.7212 116.87 41.5607C117.167 41.4002 117.315 41.1148 117.315 40.7045C117.315 40.3299 117.167 40.0267 116.852 39.777C116.537 39.5273 115.963 39.224 115.093 38.903C114.074 38.4927 113.352 38.0289 112.926 37.5117C112.5 36.9944 112.278 36.3344 112.278 35.5496C112.278 34.5328 112.704 33.6945 113.537 33.0345C114.37 32.3745 115.463 32.0535 116.815 32.0535C117.222 32.0535 117.685 32.0891 118.204 32.1783C118.722 32.2675 119.148 32.3745 119.482 32.5172V35.0501C119.111 34.8182 118.685 34.622 118.204 34.4437C117.722 34.2831 117.222 34.1939 116.759 34.1939C116.241 34.1939 115.815 34.301 115.537 34.4972C115.222 34.6934 115.074 34.9788 115.074 35.3177Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M121.333 38.1716C121.333 36.2987 121.889 34.8182 122.982 33.7123C124.074 32.6242 125.611 32.0713 127.556 32.0713C129.389 32.0713 130.833 32.6064 131.871 33.6588C132.908 34.7112 133.426 36.1382 133.426 37.9219C133.426 39.7591 132.871 41.2218 131.778 42.3099C130.685 43.3979 129.185 43.9331 127.296 43.9331C125.482 43.9331 124.019 43.4158 122.963 42.3812C121.871 41.3645 121.333 39.9553 121.333 38.1716ZM124.204 38.0824C124.204 39.2597 124.482 40.1694 125.037 40.7937C125.593 41.418 126.389 41.7212 127.426 41.7212C128.426 41.7212 129.204 41.418 129.722 40.7937C130.241 40.1694 130.519 39.2419 130.519 38.0111C130.519 36.7982 130.241 35.8706 129.704 35.2463C129.167 34.622 128.389 34.3188 127.408 34.3188C126.389 34.3188 125.611 34.6398 125.037 35.2998C124.482 35.9598 124.204 36.8695 124.204 38.0824Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M142.556 34.5328V40.3477C142.556 41.5607 142.852 42.4525 143.426 43.059C144 43.6655 144.889 43.9509 146.056 43.9509C146.445 43.9509 146.852 43.9152 147.26 43.826C147.667 43.7368 147.963 43.6655 148.13 43.5584V41.3466C147.963 41.4536 147.76 41.5428 147.537 41.6142C147.315 41.6855 147.111 41.7212 146.963 41.7212C146.408 41.7212 145.982 41.5785 145.723 41.2931C145.463 41.0077 145.334 40.5083 145.334 39.8126V34.515H148.149V32.3388H145.352V28.9854L142.574 29.8059V32.3567H138.445V30.9832C138.445 30.3054 138.593 29.7881 138.908 29.4314C139.223 29.0746 139.667 28.9141 140.241 28.9141C140.537 28.9141 140.797 28.9497 141.037 29.0211C141.26 29.0924 141.426 29.1638 141.519 29.2173V26.9163C141.315 26.845 141.093 26.8093 140.834 26.7736C140.574 26.7379 140.278 26.7201 139.945 26.7201C138.686 26.7201 137.649 27.0947 136.852 27.8617C136.056 28.6287 135.649 29.5919 135.649 30.787V32.3567H133.686V34.5328H135.649V43.6833H138.445V34.5328H142.556Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M73.2407 27.8617V43.6655H70.3889V31.2864H70.3518L65.2592 43.6655H63.3703L58.1481 31.2864H58.1111V43.6655H55.4814V27.8617H59.5555L64.2777 39.5808H64.3518L69.3333 27.8617H73.2407Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M62.9631 21.0301C61.9816 21.5652 60.8705 21.8328 59.6298 21.8328C58.6853 21.8328 57.852 21.6366 57.1113 21.2263C56.389 20.8339 55.815 20.2631 55.4261 19.5318C55.0372 18.8005 54.8335 17.9799 54.8335 17.0702C54.8335 16.107 55.0557 15.233 55.4816 14.4838C55.9076 13.7347 56.5187 13.1282 57.315 12.7001C58.1113 12.272 59.0002 12.058 60.0002 12.058C60.5002 12.058 61.0002 12.1115 61.5002 12.2007C62.0002 12.2899 62.4076 12.4147 62.7224 12.5574V13.9844C61.9816 13.5028 61.0372 13.2709 59.889 13.2709C59.2039 13.2709 58.5928 13.4315 58.0372 13.7525C57.4816 14.0736 57.0557 14.5195 56.7594 15.0725C56.4631 15.6433 56.315 16.2854 56.315 16.9989C56.315 18.1226 56.6298 19.0145 57.2409 19.6745C57.852 20.3345 58.7039 20.6555 59.7779 20.6555C60.4631 20.6555 61.0742 20.5307 61.5928 20.2631V17.8194H59.5002V16.6422H62.9631V21.0301Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M70.9444 18.6577H66.0925C66.111 19.3355 66.3332 19.8528 66.7036 20.2274C67.0925 20.5841 67.5925 20.7803 68.2221 20.7803C69.0555 20.7803 69.7777 20.5484 70.4073 20.0847V21.2262C70.1295 21.4046 69.7777 21.5652 69.3518 21.6722C68.9258 21.7792 68.4814 21.8327 68.0369 21.8327C66.9814 21.8327 66.1481 21.5295 65.574 20.923C64.9999 20.3165 64.7036 19.4604 64.7036 18.3544C64.7036 17.6766 64.8518 17.0523 65.1295 16.5172C65.4073 15.9643 65.8147 15.5362 66.3147 15.2329C66.8147 14.9297 67.3888 14.7692 67.9999 14.7692C68.9073 14.7692 69.6295 15.0546 70.1481 15.6254C70.6666 16.1961 70.9258 16.981 70.9258 17.9977V18.6577H70.9444ZM69.5925 17.641C69.5925 17.0523 69.4444 16.6064 69.1666 16.3032C68.8888 15.9999 68.4999 15.8394 67.9814 15.8394C67.5184 15.8394 67.111 15.9999 66.7592 16.321C66.4073 16.6421 66.2036 17.088 66.0925 17.641H69.5925Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M76.204 21.6008C76.0744 21.6721 75.9078 21.7257 75.667 21.7613C75.4448 21.797 75.2411 21.8148 75.0559 21.8148C73.7596 21.8148 73.1115 21.1192 73.1115 19.7457V15.9999H71.9263V14.9297H73.1115V13.3243L74.4633 12.9141V14.9118H76.1855V15.9821H74.4633V19.5138C74.4633 19.9598 74.5374 20.2808 74.6855 20.4592C74.8337 20.6376 75.0929 20.7268 75.4818 20.7268C75.7411 20.7268 75.9818 20.6554 76.1855 20.5127V21.6008H76.204Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M82.9073 12.5395C82.9073 12.7536 82.8332 12.9319 82.6666 13.0925C82.4999 13.253 82.2962 13.3243 82.0555 13.3243C81.8147 13.3243 81.611 13.253 81.4444 13.0925C81.2777 12.9498 81.2036 12.7536 81.2036 12.5217C81.2036 12.2898 81.2962 12.0936 81.4629 11.9509C81.6295 11.8082 81.8332 11.719 82.0555 11.719C82.2777 11.719 82.4814 11.7903 82.6481 11.9509C82.8332 12.1293 82.9073 12.3076 82.9073 12.5395ZM82.7221 21.6722H81.3703V14.9297H82.7221V21.6722Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M88.5927 21.6008C88.4631 21.6721 88.2964 21.7257 88.0557 21.7613C87.8335 21.797 87.6298 21.8148 87.4446 21.8148C86.1483 21.8148 85.5001 21.1192 85.5001 19.7457V15.9999H84.3149V14.9297H85.5001V13.3243L86.852 12.9141V14.9118H88.5742V15.9821H86.852V19.5138C86.852 19.9598 86.9261 20.2808 87.0742 20.4592C87.2224 20.6376 87.4816 20.7268 87.8705 20.7268C88.1298 20.7268 88.3705 20.6554 88.5742 20.5127V21.6008H88.5927Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M97.4445 12.7893C97.2223 12.6822 96.9816 12.6109 96.7038 12.6109C95.9445 12.6109 95.5741 13.0568 95.5741 13.9487V14.9119H97.1667V15.9821H95.5741V21.6544H94.2223V16H93.0371V14.9297H94.2223V13.8952C94.2223 13.1817 94.426 12.6109 94.8519 12.1828C95.2779 11.7547 95.8519 11.5406 96.5927 11.5406C96.963 11.5406 97.2408 11.5763 97.463 11.6655V12.7893H97.4445Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M102.426 16.2318C102.352 16.1783 102.204 16.1248 102.019 16.0713C101.833 16.0356 101.667 15.9999 101.537 15.9999C101.056 15.9999 100.667 16.214 100.371 16.6242C100.074 17.0345 99.9261 17.5696 99.9261 18.2296V21.6721H98.5742V14.9297H99.9261V16.2853H99.9631C100.111 15.8215 100.352 15.4648 100.667 15.1972C100.982 14.9297 101.352 14.8048 101.759 14.8048C102.037 14.8048 102.259 14.8405 102.408 14.894V16.2318H102.426Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M110.148 18.2653C110.148 19.3533 109.815 20.2274 109.167 20.8695C108.519 21.5116 107.648 21.8327 106.574 21.8327C105.519 21.8327 104.667 21.5116 104.037 20.8873C103.408 20.263 103.093 19.4247 103.093 18.3723C103.093 17.2485 103.426 16.3745 104.074 15.7324C104.722 15.0902 105.611 14.7692 106.741 14.7692C107.796 14.7692 108.63 15.0724 109.222 15.6967C109.852 16.321 110.148 17.1772 110.148 18.2653ZM108.759 18.3009C108.759 17.4983 108.574 16.8918 108.222 16.4815C107.852 16.0713 107.352 15.8572 106.685 15.8572C106.019 15.8572 105.482 16.0713 105.093 16.5172C104.704 16.9453 104.519 17.5696 104.519 18.3544C104.519 19.1215 104.704 19.7101 105.093 20.1382C105.482 20.5663 106 20.7803 106.685 20.7803C107.371 20.7803 107.889 20.5663 108.241 20.156C108.574 19.7101 108.759 19.1036 108.759 18.3009Z",fill:"white"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M122.241 21.6722H120.889V17.8372C120.889 17.1415 120.778 16.6421 120.556 16.321C120.333 15.9999 119.945 15.8573 119.407 15.8573C118.963 15.8573 118.574 16.0535 118.278 16.4459C117.963 16.8383 117.815 17.3199 117.815 17.855V21.6722H116.463V17.7123C116.463 16.4816 115.963 15.8573 114.982 15.8573C114.519 15.8573 114.13 16.0535 113.833 16.428C113.537 16.8026 113.389 17.2842 113.389 17.8729V21.69H112.037V14.9297H113.389V15.9821H113.407C113.907 15.1616 114.648 14.7692 115.593 14.7692C116.037 14.7692 116.445 14.894 116.815 15.1259C117.167 15.3578 117.426 15.6967 117.593 16.1248C117.87 15.661 118.185 15.3221 118.574 15.0903C118.963 14.8762 119.407 14.7513 119.926 14.7513C121.463 14.7513 122.222 15.661 122.222 17.4983V21.6722H122.241Z",fill:"white"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("clipPath",{id:"clip0_94_20105"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("rect",{width:"160",height:"55.6522",fill:"white"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Transfer your account kit")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"An account kit is required to transfer your profile and private key to the desktop app.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"download-account-kit",className:"button primary form",role:"button",onClick:this.handleDownloadAccount},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Download your account kit"))))}}ExportAccountToDesktop.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(ExportAccountToDesktop)));ExportAccountToDesktop.__docgenInfo={description:"This component displays the user profile information",methods:[{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"handleDownloadAccount",docblock:"handle the download account kit click event",modifiers:["async"],params:[],returns:null,description:"handle the download account kit click event"},{name:"handleError",docblock:"handle error to display the error dialog\n@param error",modifiers:["async"],params:[{name:"error",optional:!1}],returns:null,description:"handle error to display the error dialog"}],displayName:"ExportAccountToDesktop",props:{context:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserSetting/NavigateIntoUserSettingsWorkspace/NavigateIntoUserSettingsWorkspace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/attention.svg");class NavigateIntoUserSettingsWorkspace extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get isMfaEnabled(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get canIUseMobileCapability(){return this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_5__.e.MOBILE_TRANSFER)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}get canIUseDesktopCapability(){return this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_5__.e.DESKTOP_TRANSFER)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("desktop")}get canIUseAccountRecoveryCapability(){return this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_5__.e.PROFIL_ACCOUNT_RECOVERY)&&this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountRecovery")}render(){const isSelected=pathSuffix=>this.props.location.pathname.endsWith(pathSuffix);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary navigation-profile"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("profile")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Profile"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("keys")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsKeysRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Keys inspector"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("passphrase")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsPassphraseRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Passphrase"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("security-token")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsSecurityTokenRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Security token"))))))),this.canIUseThemeCapability&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("theme")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsThemeRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Theme"))))))),this.isMfaEnabled&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("mfa")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsMfaRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Multi Factor Authentication")),this.props.hasPendingMfaChoice&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"attention-required"})))))),this.canIUseAccountRecoveryCapability&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("account-recovery")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsAccountRecoveryRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Account Recovery")),this.props.hasPendingAccountRecoveryChoice&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"attention-required"})))))),this.canIUseMobileCapability&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"navigation-item-mobile-setup"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("mobile")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsMobileRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Mobile setup"))))))),this.canIUseDesktopCapability&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"navigation-item-desktop-setup"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(isSelected("desktop")?"selected":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.props.navigationContext.onGoToUserSettingsDesktopRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Desktop app setup")))))))))}}NavigateIntoUserSettingsWorkspace.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,history:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,location:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,hasPendingAccountRecoveryChoice:prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool,hasPendingMfaChoice:prop_types__WEBPACK_IMPORTED_MODULE_7___default().bool,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_4__.x6)((0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.withRouter)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_2__.qN)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(NavigateIntoUserSettingsWorkspace)))));NavigateIntoUserSettingsWorkspace.__docgenInfo={description:"This component allows to navigate throught the differents sections of the user settings workspace",methods:[{name:"isMfaEnabled",docblock:"Returns true if the use has the MFA capability",modifiers:["get"],params:[],returns:null,description:"Returns true if the use has the MFA capability"},{name:"canIUseThemeCapability",docblock:"Can the user access the theme capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the theme capability."},{name:"canIUseMobileCapability",docblock:"Can the user access the mobile capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the mobile capability."},{name:"canIUseDesktopCapability",docblock:"Can the user access the desktop capability.\n@returns {bool}",modifiers:["get"],params:[],returns:{type:{name:"bool"}},description:"Can the user access the desktop capability."},{name:"canIUseAccountRecoveryCapability",docblock:"Can the user access the account recovery feature.\n@return {bool} true if the plugin is enabled and if an admin enabled the feature.",modifiers:["get"],params:[],returns:{description:"true if the plugin is enabled and if an admin enabled the feature.",type:{name:"bool"}},description:"Can the user access the account recovery feature."}],displayName:"NavigateIntoUserSettingsWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},location:{description:"",type:{name:"object"},required:!1},hasPendingAccountRecoveryChoice:{description:"",type:{name:"bool"},required:!1},hasPendingMfaChoice:{description:"",type:{name:"bool"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/AnnouncementContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>AnnouncementContextProvider,w2:()=>withAnnouncement});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const AnnouncementContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({announcements:[],show:()=>{},close:()=>{}});class AnnouncementContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(Announcement,AnnouncementProps)=>{const announcementKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({announcements:[...this.state.announcements,{key:announcementKey,Announcement,AnnouncementProps}]}),announcementKey},close:async announcementKey=>await this.setState({announcements:this.state.announcements.filter((announcement=>announcementKey!==announcement.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Provider,{value:this.state},this.props.children)}}function withAnnouncement(WrappedComponent){return class WithAnnouncement extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Consumer,null,(announcementContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{announcementContext,...this.props})))}}}AnnouncementContextProvider.displayName="AnnouncementContextProvider",AnnouncementContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},AnnouncementContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"AnnouncementContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ContextualMenuContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>ContextualMenuContextProvider,t6:()=>withContextualMenu,wp:()=>ContextualMenuContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const ContextualMenuContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({ContextualMenu:null,show:()=>{},hide:()=>{}});class ContextualMenuContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{contextualMenus:[],show:(ContextualMenuComponent,componentProps)=>this.setState({contextualMenus:[...this.state.contextualMenus,{ContextualMenuComponent,componentProps}]}),hide:index=>this.setState({contextualMenus:this.state.contextualMenus.filter(((_,contextualMenuIndex)=>contextualMenuIndex!==index))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Provider,{value:this.state},this.props.children)}}function withContextualMenu(WrappedComponent){return class WithContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Consumer,null,(contextualMenuContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{contextualMenuContext,...this.props})))}}}ContextualMenuContextProvider.displayName="ContextualMenuContextProvider",ContextualMenuContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},ContextualMenuContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"ContextualMenuContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ProgressContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,E0:()=>withProgress});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js"),_DialogContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/DialogContext.js");const ProgressContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({progressDialogProps:null,dialogIndex:null,open:()=>{},updateMessage:()=>{},updateGoals:()=>{},close:()=>{}});class ProgressContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks(),this.state=this.defaultState}get defaultState(){return{progressDialogProps:null,dialogIndex:null,open:this.open,updateMessage:this.updateMessage,updateGoals:this.updateGoals,close:this.close}}bindCallbacks(){this.open=this.open.bind(this),this.updateGoals=this.updateGoals.bind(this),this.updateMessage=this.updateMessage.bind(this),this.close=this.close.bind(this)}open(title,goals,message){const progressDialogProps={title,goals,message};this.setState({progressDialogProps});const dialogIndex=this.props.dialogContext.open(_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_1__.A);this.setState({dialogIndex})}updateMessage(message,completed=!1){const progressDialogProps={...this.state.progressDialogProps,message:message||this.state.progressDialogProps.message,completed};this.setState({progressDialogProps})}async updateGoals(goals){const progressDialogProps={...this.state.progressDialogProps,goals};this.setState({progressDialogProps})}async close(){this.props.dialogContext.close(this.state.dialogIndex);this.setState({progressDialogProps:{},dialogIndex:null})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Provider,{value:this.state},this.props.children)}}ProgressContextProvider.displayName="ProgressContextProvider",ProgressContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_DialogContext__WEBPACK_IMPORTED_MODULE_2__.z9)(ProgressContextProvider);function withProgress(WrappedComponent){return class WithProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Consumer,null,(progressContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{progressContext,...this.props})))}}}ProgressContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"open",docblock:"Open the progress dialog\n@param {string} title The title\n@param {integer} goals The goals\n@param {string} message The message",modifiers:[],params:[{name:"title",description:"The title",type:{name:"string"},optional:!1},{name:"goals",description:"The goals",type:{name:"integer"},optional:!1},{name:"message",description:"The message",type:{name:"string"},optional:!1}],returns:null,description:"Open the progress dialog"},{name:"updateMessage",docblock:"Update the progress dialog message.\n@param {string} message The message\n@param {boolean} completed The progress is completed.",modifiers:[],params:[{name:"message",description:"The message",type:{name:"string"},optional:!1},{name:"completed",description:"The progress is completed.",type:{name:"boolean"},optional:!0}],returns:null,description:"Update the progress dialog message."},{name:"updateGoals",docblock:"Upate the progress dialog goals.\n@param {integer} goals the goals",modifiers:["async"],params:[{name:"goals",description:"the goals",type:{name:"integer"},optional:!1}],returns:null,description:"Upate the progress dialog goals."},{name:"close",docblock:"Close the progress dialog.",modifiers:["async"],params:[],returns:null,description:"Close the progress dialog."}],displayName:"ProgressContextProvider",props:{children:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/UserPassphrasePoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,mk:()=>withUserPassphrasePolicies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");const UserPassphrasePoliciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({getSettings:()=>{},findSettings:()=>{}});class UserPassphrasePoliciesContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{settings:null,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this)}}async findSettings(){const settings=await this.props.context.port.request("passbolt.user-passphrase-policies.find");this.setState({settings})}getSettings(){return this.state.settings}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UserPassphrasePoliciesContext.Provider,{value:this.state},this.props.children)}}UserPassphrasePoliciesContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(UserPassphrasePoliciesContextProvider));function withUserPassphrasePolicies(WrappedComponent){return class WithAdminUserPassphrasePolicies extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UserPassphrasePoliciesContext.Consumer,null,(userPassphrasePoliciesContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{userPassphrasePoliciesContext,...this.props})))}}}UserPassphrasePoliciesContextProvider.__docgenInfo={description:"The User passphrase Policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findSettings",docblock:"Find the User Passphrase Policies\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the User Passphrase Policies"},{name:"getSettings",docblock:"Get the User Passphrase Policies\n@return {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get the User Passphrase Policies"}],displayName:"UserPassphrasePoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/WorkflowContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AV:()=>withWorkflow,Ay:()=>WorkflowContextProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const WorkflowContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({workflows:[],start:()=>{},stop:()=>{}});class WorkflowContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{workflows:[],start:(Workflow,workflowProps)=>{const workflowKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({workflows:[...this.state.workflows,{key:workflowKey,Workflow,workflowProps}]}),workflowKey},stop:async workflowKey=>await this.setState({workflows:this.state.workflows.filter((workflow=>workflowKey!==workflow.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WorkflowContext.Provider,{value:this.state},this.props.children)}}function withWorkflow(WrappedComponent){return class WithWorkflow extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WorkflowContext.Consumer,null,(workflowContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{workflowContext,...this.props})))}}}WorkflowContextProvider.displayName="WorkflowContextProvider",WorkflowContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},WorkflowContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"WorkflowContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/components/Icons/AnimatedFeedback.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Icons_AnimatedFeedback});var _path,_path2,_path3,react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),success=__webpack_require__("./src/img/svg/success.svg");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const warning=function SvgWarning(props){return react.createElement("svg",_extends({shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 128 128"},props),_path||(_path=react.createElement("path",{id:"warning-dot",fill:"none",strokeDasharray:23.42,strokeDashoffset:23.42,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M64.038 46.76v23.413"})),_path2||(_path2=react.createElement("path",{id:"warning-bar",fill:"none",strokeDasharray:.09,strokeDashoffset:.09,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M64.038 93.585h.088"})),_path3||(_path3=react.createElement("path",{id:"warning-triangle",fill:"none",strokeDasharray:364.98,strokeDashoffset:364.98,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M53.954 16.685 4.412 99.459a11.66 11.66 0 0 0-1.167 8.872 11.66 11.66 0 0 0 5.464 7.087 10.97 10.97 0 0 0 5.7 1.578h99.17a11.67 11.67 0 0 0 8.253-3.508 11.68 11.68 0 0 0 3.323-8.329 11 11 0 0 0-1.579-5.7L74.033 16.685A11.66 11.66 0 0 0 57.9 12.739a12.1 12.1 0 0 0-3.946 3.946"})))};var _circle,error_exclamation_path,error_exclamation_path2;function error_exclamation_extends(){return error_exclamation_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},error_exclamation_extends.apply(null,arguments)}const error_exclamation=function SvgErrorExclamation(props){return react.createElement("svg",error_exclamation_extends({shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 128 128"},props),_circle||(_circle=react.createElement("circle",{id:"attention-circle",r:62.5,fill:"none",strokeDasharray:392.7,strokeDashoffset:392.7,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,transform:"rotate(-90 64 0)"})),error_exclamation_path||(error_exclamation_path=react.createElement("path",{id:"attention-dot",fill:"none",strokeDasharray:23.42,strokeDashoffset:23.42,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M63.956 40.588V64",transform:"rotate(180 63.956 52.294)"})),error_exclamation_path2||(error_exclamation_path2=react.createElement("path",{id:"attention-bar",fill:"none",strokeDasharray:.09,strokeDashoffset:.09,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M63.956 87.412h.088"})))};var fail_circle,fail_path,fail_path2;function fail_extends(){return fail_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fail_extends.apply(null,arguments)}const fail=function SvgFail(props){return react.createElement("svg",fail_extends({shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 128 128"},props),fail_circle||(fail_circle=react.createElement("circle",{id:"error-circle",r:62.5,fill:"none",strokeDasharray:392.7,strokeDashoffset:392.7,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,transform:"rotate(-90 64 0)"})),fail_path||(fail_path=react.createElement("path",{id:"error-stroke-1",fill:"none",strokeDasharray:37.96,strokeDashoffset:37.96,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"m50.58 50.58 26.84 26.84",transform:"rotate(180 64 64)"})),fail_path2||(fail_path2=react.createElement("path",{id:"error-stroke-2",fill:"none",strokeDasharray:37.96,strokeDashoffset:37.96,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:7,d:"M77.42 50.58 50.58 77.42"})))},animatedIconsSVG={success:react.createElement(success.A,null),warning:react.createElement(warning,null),attention:react.createElement(error_exclamation,null),error:react.createElement(fail,null)};class AnimatedFeedback extends react.Component{get animatedIconSVG(){return animatedIconsSVG[this.props.name]}render(){return react.createElement("div",{className:"illustration icon-feedback"},react.createElement("div",{className:this.props.name},this.animatedIconSVG))}}AnimatedFeedback.defaultProps={},AnimatedFeedback.propTypes={name:prop_types_default().string};const Icons_AnimatedFeedback=AnimatedFeedback;AnimatedFeedback.__docgenInfo={description:"",methods:[{name:"animatedIconSVG",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"AnimatedFeedback",props:{name:{description:"",type:{name:"string"},required:!1}}}},"./src/shared/components/PasswordComplexityWithGoal/PasswordComplexityWithGoal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js"),_react_extension_components_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/components/Icons/Icon.js");class PasswordComplexityWithGoal extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{static getRelativeEntropyPosition(entropyValue){return 100-99/(1+Math.pow(entropyValue/90,3))}formatEntropy(entropy){return(entropy=entropy||0).toFixed(1)}get relativeTargetEntropyRatio(){return PasswordComplexityWithGoal.getRelativeEntropyPosition(this.props.targetEntropy)}get targetEntropyPositionStyle(){return{left:`calc(${this.relativeTargetEntropyRatio}% - 0.6rem`}}get colorClassName(){if(!this.hasEntropy())return"";return this.props.entropy>=this.props.targetEntropy?"reached":this.props.isMinimumEntropyRequired?"required":"recommended"}get targetTooltipMessage(){return this.props.isMinimumEntropyRequired?this.props.t("Minimal requirement"):this.props.t("Minimal recommendation")}get currentEntropyTooltipMessage(){const currentEntropy=this.formatEntropy(this.props.entropy),targettedEntropy=this.formatEntropy(this.props.targetEntropy);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Entropy: ",{currentEntropy}," / ",{targettedEntropy}," bits")}get passwordStrengthLabel(){if(!(this.hasEntropy()||this.hasError()))return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Quality");const strength=_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.CH.strength(this.props.entropy);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,strength.label)}getProgresseBarStyle(entropy){return{width:`${PasswordComplexityWithGoal.getRelativeEntropyPosition(entropy)}%`}}hasEntropy(){return null!==this.props.entropy&&void 0!==this.props.entropy}hasError(){return this.props.error}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-complexity with-goal"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"complexity-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{message:this.currentEntropyTooltipMessage},this.passwordStrengthLabel," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"info-circle"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar background"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:`progress-bar target ${this.colorClassName}`,style:this.hasEntropy()?this.getProgresseBarStyle(this.props.targetEntropy):null}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:`progress-bar foreground ${this.colorClassName}`,style:this.hasEntropy()?this.getProgresseBarStyle(this.props.entropy):null}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:`target-entropy ${this.colorClassName}`,style:this.targetEntropyPositionStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{message:this.targetTooltipMessage},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"tooltip-anchor"})))))}}PasswordComplexityWithGoal.defaultProps={isMinimumEntropyRequired:!0},PasswordComplexityWithGoal.propTypes={targetEntropy:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number.isRequired,isMinimumEntropyRequired:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool.isRequired,entropy:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(PasswordComplexityWithGoal);PasswordComplexityWithGoal.__docgenInfo={description:"This component represents a password complexity with the strength and a goal, an entropy and a bar",methods:[{name:"getRelativeEntropyPosition",docblock:"Return a percentage value matching the position of the given entropy compared to the full value possible.\n@param {number} entropyValue\n@returns {number}",modifiers:["static"],params:[{name:"entropyValue",type:{name:"number"},optional:!1}],returns:{type:{name:"number"}},description:"Return a percentage value matching the position of the given entropy compared to the full value possible."},{name:"formatEntropy",docblock:"Get a formatted entropy value to display.\n@param {number} entropy\n@returns {number}",modifiers:[],params:[{name:"entropy",type:{name:"number"},optional:!1}],returns:{type:{name:"number"}},description:"Get a formatted entropy value to display."},{name:"relativeTargetEntropyRatio",docblock:"Get the representative percentage of the targetted entropy compared to the full available entropy\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Get the representative percentage of the targetted entropy compared to the full available entropy"},{name:"targetEntropyPositionStyle",docblock:"Get the dynamic style of the target entropy cursors.\n@return {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get the dynamic style of the target entropy cursors."},{name:"colorClassName",docblock:"Get the class to set on the different markers.\n@returns {'reached' | 'required' | 'recommended' | ''}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[]}},description:"Get the class to set on the different markers."},{name:"targetTooltipMessage",docblock:"Get the translated message for the target tooltip\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the translated message for the target tooltip"},{name:"currentEntropyTooltipMessage",docblock:"Get the message for the current entropy tooltip\n@returns {JSX}",modifiers:["get"],params:[],returns:{type:{name:"JSX"}},description:"Get the message for the current entropy tooltip"},{name:"passwordStrengthLabel",docblock:"Get the password strength label to display based on the actual entropy or error state.\n@returns {JSX};",modifiers:["get"],params:[],returns:{description:";",type:{name:"JSX"}},description:"Get the password strength label to display based on the actual entropy or error state."},{name:"getProgresseBarStyle",docblock:"Get the dynamic part style of the entropy progression bar.\n@param {number} entropy\n@returns {object}",modifiers:[],params:[{name:"entropy",type:{name:"number"},optional:!1}],returns:{type:{name:"object"}},description:"Get the dynamic part style of the entropy progression bar."},{name:"hasEntropy",docblock:"Has entropy\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has entropy"},{name:"hasError",docblock:"Has error\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has error"}],displayName:"PasswordComplexityWithGoal",props:{isMinimumEntropyRequired:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},targetEntropy:{description:"",type:{name:"number"},required:!0},entropy:{description:"",type:{name:"number"},required:!1},error:{description:"",type:{name:"bool"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,WJ:()=>withPasswordPolicies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const PasswordPoliciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({policies:null,getPolicies:()=>{},findPolicies:()=>{},shouldRunDictionaryCheck:()=>{}});class PasswordPoliciesContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{policies:null,getPolicies:this.getPolicies.bind(this),findPolicies:this.findPolicies.bind(this),shouldRunDictionaryCheck:this.shouldRunDictionaryCheck.bind(this)}}async findPolicies(){if(null!==this.getPolicies())return;const policies=await this.props.context.port.request("passbolt.password-policies.get");this.setState({policies})}getPolicies(){return this.state.policies}shouldRunDictionaryCheck(){return Boolean(this.state.policies?.external_dictionary_check)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Provider,{value:this.state},this.props.children)}}PasswordPoliciesContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(PasswordPoliciesContextProvider);function withPasswordPolicies(WrappedComponent){return class WithPasswordPolicies extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Consumer,null,(passwordPoliciesContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{passwordPoliciesContext,...this.props})))}}}PasswordPoliciesContextProvider.__docgenInfo={description:"The Password policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicies",docblock:"Find the password policies settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the password policies settings"},{name:"getPolicies",docblock:"Returns the policies for password setting.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policies for password setting."},{name:"shouldRunDictionaryCheck",docblock:"Returns true if the password policies allows external dictionary checks\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the password policies allows external dictionary checks"}],displayName:"PasswordPoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/Rbac/RbacContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{eu:()=>RbacContext,Ay:()=>Rbac_RbacContext,x6:()=>withRbac});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js"),denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js");class GetControlFunctionService{static getByRbac(rbac){const controlFunction=controlFunctionEnumeration.HJ[rbac.controlFunction];return controlFunction||(console.warn(`Could not find control function for the given rbac entity (${rbac.id})`),denyControlFunction.A)}static getDefaultForAdminAndUiAction(uiActionName){return controlFunctionEnumeration.Y9[uiActionName]||allowControlFunction.A}static getDefaultForUserAndUiAction(uiActionName){return controlFunctionEnumeration.uy[uiActionName]||allowControlFunction.A}}var roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class CanUse{static canRoleUseUiAction(user,rbacs,actionName){if(window.chrome?.webview){const rbac=rbacs.findRbacByActionName(actionName);return this.getByRbacOrDefault(rbac,actionName,user)}const role=new roleEntity.A(user.role);if(role.isAdmin()){return GetControlFunctionService.getDefaultForAdminAndUiAction(actionName).execute()}const rbac=rbacs.findRbacByRoleAndUiActionName(role,actionName);return this.getByRbacOrDefault(rbac,actionName,user)}static getByRbacOrDefault(rbac,actionName,user){if(rbac){return GetControlFunctionService.getByRbac(rbac).execute(user)}return GetControlFunctionService.getDefaultForUserAndUiAction(actionName).execute()}}const RbacContext=react.createContext({canIUseUiAction:()=>{}});class RbacContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{canIUseUiAction:this.canIUseUiAction.bind(this)}}canIUseUiAction(actionName){return CanUse.canRoleUseUiAction(this.props.context.loggedInUser,this.props.context.rbacs,actionName)}render(){return react.createElement(RbacContext.Provider,{value:this.state},this.props.children)}}RbacContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any};const Rbac_RbacContext=(0,AppContext.L)(RbacContextProvider);function withRbac(WrappedComponent){return class WithRbac extends react.Component{render(){return react.createElement(RbacContext.Consumer,null,(rbacContext=>react.createElement(WrappedComponent,{rbacContext,...this.props})))}}}RbacContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"canIUseUiAction",docblock:"Check if the user can use the given ui action.\n@param {string} actionName The name of the UI action to check for.\n@return {boolean}",modifiers:[],params:[{name:"actionName",description:"The name of the UI action to check for.",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Check if the user can use the given ui action."}],displayName:"RbacContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/lib/Error/ExternalServiceError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class ExternalServiceError extends Error{constructor(message){super(message=message||"An error occurred when requesting the external service."),this.name="ExternalServiceError"}}const __WEBPACK_DEFAULT_EXPORT__=ExternalServiceError},"./src/shared/lib/Error/ExternalServiceUnavailableError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class ExternalServiceUnavailableError extends Error{constructor(message){super(message=message||"The external service is unavailable"),this.name="ExternalServiceUnavailableError"}}const __WEBPACK_DEFAULT_EXPORT__=ExternalServiceUnavailableError},"./src/shared/lib/Secret/SecretComplexity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SecretComplexity});var SecretGeneratorComplexity=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js"),sha=__webpack_require__("./node_modules/jssha/dist/sha.mjs"),ExternalServiceUnavailableError=__webpack_require__("./src/shared/lib/Error/ExternalServiceUnavailableError.js"),ExternalServiceError=__webpack_require__("./src/shared/lib/Error/ExternalServiceError.js");class PwnedPasswords{static async pwnedPasswords(password){if("string"!=typeof password){const err=new Error("Input password must be a string.");return Promise.reject(err)}const shaObj=new sha.A("SHA-1","TEXT");shaObj.update(password);const hashedPassword=shaObj.getHash("HEX"),hashedPasswordPrefix=hashedPassword.substr(0,5),hashedPasswordSuffix=hashedPassword.substr(5),url="https://api.pwnedpasswords.com/range/"+hashedPasswordPrefix;let response;try{response=await fetch(url)}catch(e){throw new ExternalServiceUnavailableError.A("pwnedpasswords API service is not available")}if(200!==response.status)throw new ExternalServiceError.A(`Failed to request pwnedpasswords API: ${response.status}`);return(await response.text()).split("\n").map((line=>line.split(":"))).filter((filtered=>filtered[0].toLowerCase()===hashedPasswordSuffix)).map((mapped=>Number(mapped[1]))).shift()||0}}const STRENGTH=[{id:"not_available",label:"n/a",strength:0},{id:"very-weak",label:"very weak",strength:1},{id:"weak",label:"weak",strength:60},{id:"fair",label:"fair",strength:80},{id:"strong",label:"strong",strength:112},{id:"very-strong",label:"very strong",strength:128}],MASKS={alpha:{size:26,data:"abcdefghijklmnopqrstuvwxyz",pattern:/[a-z]/},uppercase:{size:26,data:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",pattern:/[A-Z]/},digit:{size:10,data:"0123456789",pattern:/[0-9]/},special:{size:32,data:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",pattern:/[!"#$%&\'\(\)*+,\-./:;<=>?@\[\\\]^_`{|}~]/}};class SecretComplexity{static randomRange(min,max){const arr=new Uint32Array(1);window.crypto.getRandomValues(arr);const random=arr[0]/4294967296;return Math.floor(random*(max-min+1))+min}static getStrength(txt){txt=txt||"";const entropy=SecretGeneratorComplexity.CH.entropyPassword(txt);return STRENGTH.reduce(((accumulator,item)=>accumulator?item.strength>accumulator.strength&&entropy>=item.strength?item:accumulator:item))}static generate(length,masks){let secret="",mask=[];length=length||18,masks=masks||["alpha","uppercase","digit","special"];for(const i in masks)mask=[...mask,...MASKS[masks[i]].data];let j=0;const expectedEntropy=SecretGeneratorComplexity.CH.calculEntropy(length,mask.length);do{secret="";for(let i=0;i<length;i++)secret+=mask[this.randomRange(0,mask.length-1)]}while(SecretGeneratorComplexity.CH.entropyPassword(secret)<expectedEntropy&&j++<10);return secret}static async ispwned(password){return await PwnedPasswords.pwnedPasswords(password)>0}}},"./src/shared/models/entity/abstract/entityCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityCollectionError.js"),_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class EntityCollection{constructor(dtos=[],options={}){const clone=options?.clone??!0;this._items=[],clone&&(dtos=JSON.parse(JSON.stringify(dtos))),this._props=dtos}toDto(){return JSON.parse(JSON.stringify(this._items))}toJSON(){return this.toDto()}get items(){return this._items}get length(){return this._items.length}[Symbol.iterator](){let i=0;return{next:()=>i<this._items.length?{value:this._items[i++],done:!1}:{done:!0}}}getAll(propName,search){if("string"!=typeof propName)throw new TypeError("EntityCollection excludeAll expects propName to be string.");if("string"!=typeof search)throw new TypeError("EntityCollection excludeAll expects search to be string.");return this._items.filter((item=>Object.prototype.hasOwnProperty.call(item._props,propName)&&item._props[propName]===search))}getFirst(propName,search){if("string"!=typeof propName||"string"!=typeof search)throw new TypeError("EntityCollection getFirst by expect propName and search to be strings");const found=this.getAll(propName,search);if(found&&found.length)return found[0]}extract(propName){if("string"!=typeof propName)throw new TypeError("EntityCollection extract expects propName to be a string.");return this._items.reduce(((accumulator,item)=>(void 0!==item._props[propName]&&accumulator.push(item._props[propName]),accumulator)),[])}push(item){return this._items.push(item),this._items.length}unshift(item){return this._items.unshift(item),this._items.length}filterByPropertyValueIn(propName,needles,excludeUndefined=!0){if("string"!=typeof propName)throw new TypeError("EntityCollection filterByPropertyValueIn expects propName to be a string.");if(!Array.isArray(needles))throw new TypeError("EntityCollection filterByPropertyValueIn expects needles to be an array.");this.filterByCallback((item=>{const isPropertyDefined=Object.prototype.hasOwnProperty.call(item._props,propName);return!(excludeUndefined&&!isPropertyDefined||isPropertyDefined&&!needles.includes(item._props[propName]))}))}filterByCallback(callback){if("function"!=typeof callback)throw new TypeError("EntityCollection filterByCallback expects callback to be a function.");for(let currentIndex=this._items.length-1;currentIndex>=0;currentIndex--)callback(this._items[currentIndex])||this._items.splice(currentIndex,1)}assertUniqueByProperty(propName,message){const ruleId=`unique_${propName}`,propValues=this.extract(propName),uniqueElements=new Set;message=message||`The collection should only contain items with unique values for the property: ${propName}.`,propValues.forEach(((propValue,index)=>{if(uniqueElements.add(propValue),index!==uniqueElements.size-1)throw new _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__.A(index,ruleId,message)}))}assertNotExist(propName,propValue,options={}){if(void 0===propValue)return;let haystackSet=options?.haystackSet;if(!haystackSet){const propValues=this.extract(propName);haystackSet=new Set(propValues)}if(haystackSet.has(propValue)){const error=new _entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A,message=options?.message||`The collection already includes an element that has a property (${propName}) with an identical value.`;throw error.addError(propName,"unique",message),error}}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollection},"./src/shared/models/entity/abstract/entityCollectionError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class EntityCollectionError extends Error{constructor(position,rule,message){if(super(message=message||"Entity collection error."),"number"!=typeof position)throw new TypeError("EntityCollectionError requires a valid position");if(!rule||"string"!=typeof rule)throw new TypeError("EntityCollectionError requires a valid rule");if(!message||"string"!=typeof message)throw new TypeError("EntityCollectionError requires a valid message");this.position=position,this.rule=rule}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollectionError},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,LP:()=>RESOURCE_TYPE_VERSION_5,Sr:()=>RESOURCE_TYPE_VERSION_4});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");const RESOURCE_TYPE_VERSION_4="v4",RESOURCE_TYPE_VERSION_5="v5";class MetadataTypesSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["default_resource_types","default_folder_type","default_tag_type","default_comment_type","allow_creation_of_v5_resources","allow_creation_of_v5_folders","allow_creation_of_v5_tags","allow_creation_of_v5_comments","allow_creation_of_v4_resources","allow_creation_of_v4_folders","allow_creation_of_v4_tags","allow_creation_of_v4_comments","allow_v4_v5_upgrade","allow_v5_v4_downgrade"],properties:{default_resource_types:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_folder_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_tag_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_comment_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},allow_creation_of_v5_resources:{type:"boolean"},allow_creation_of_v5_folders:{type:"boolean"},allow_creation_of_v5_tags:{type:"boolean"},allow_creation_of_v5_comments:{type:"boolean"},allow_creation_of_v4_resources:{type:"boolean"},allow_creation_of_v4_folders:{type:"boolean"},allow_creation_of_v4_tags:{type:"boolean"},allow_creation_of_v4_comments:{type:"boolean"},allow_v4_v5_upgrade:{type:"boolean"},allow_v5_v4_downgrade:{type:"boolean"}}}}static createFromV4Default(){return new MetadataTypesSettingsEntity({default_resource_types:RESOURCE_TYPE_VERSION_4,default_folder_type:RESOURCE_TYPE_VERSION_4,default_tag_type:RESOURCE_TYPE_VERSION_4,default_comment_type:RESOURCE_TYPE_VERSION_4,allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1})}static createFromDefault(data={}){return new MetadataTypesSettingsEntity({...{default_resource_types:RESOURCE_TYPE_VERSION_4,default_folder_type:RESOURCE_TYPE_VERSION_4,default_tag_type:RESOURCE_TYPE_VERSION_4,default_comment_type:RESOURCE_TYPE_VERSION_4,allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},...data})}validateBuildRules(){let error;if(this.isDefaultResourceTypeV4&&!this.allowCreationOfV4Resources){error=error||new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A;const message="Allow creation of v4 resources should be true when default resources is v4";error.addError("allow_creation_of_v4_resources","is_default",message),error.addError("default_resource_types","allow_create_v4",message)}else if(this.isDefaultResourceTypeV5&&!this.allowCreationOfV5Resources){error=error||new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A;const message="Allow creation of v5 resources should be true when default resources is v5";error.addError("allow_creation_of_v5_resources","is_default",message),error.addError("default_resource_types","allow_create_v5",message)}if(error)throw error}get defaultResourceTypes(){return this._props.default_resource_types}get allowCreationOfV5Resources(){return this._props.allow_creation_of_v5_resources}get allowCreationOfV4Resources(){return this._props.allow_creation_of_v4_resources}get allowCreationOfV5Folders(){return this._props.allow_creation_of_v5_folders}get allowCreationOfV4Folders(){return this._props.allow_creation_of_v4_folders}get allowCreationOfV5Tags(){return this._props.allow_creation_of_v5_tags}get allowCreationOfV4Tags(){return this._props.allow_creation_of_v4_tags}get allowCreationOfV5Comments(){return this._props.allow_creation_of_v5_comments}get allowCreationOfV4Comments(){return this._props.allow_creation_of_v4_comments}get isDefaultResourceTypeV5(){return this._props.default_resource_types===RESOURCE_TYPE_VERSION_5}get isDefaultResourceTypeV4(){return this._props.default_resource_types===RESOURCE_TYPE_VERSION_4}get allowV5V4Downgrade(){return this._props.allow_v5_v4_downgrade}get allowV4V5Upgrade(){return this._props.allow_v4_v5_upgrade}}const __WEBPACK_DEFAULT_EXPORT__=MetadataTypesSettingsEntity},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_5:()=>defaultMetadataTypesSettingsV6Dto,nB:()=>defaultMetadataTypesSettingsV50FreshDto,qh:()=>defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto,uc:()=>defaultMetadataTypesSettingsV4Dto});const defaultMetadataTypesSettingsV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV6Dto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v5",default_tag_type:"v5",default_comment_type:"v5",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!0,allow_creation_of_v5_tags:!0,allow_creation_of_v5_comments:!0,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!1,allow_creation_of_v4_tags:!1,allow_creation_of_v4_comments:!1,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50FreshDto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!0,allow_v5_v4_downgrade:!0},data)},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto,XB:()=>resourceTypesV4CollectionDto,Yd:()=>resourceTypesV5CollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)()],resourceTypesV4CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)()],resourceTypesV5CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)()]},"./src/shared/services/api/accountRecovery/ExtAppAccountRecoveryUserService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ExtAppAccountRecoveryUserService});class ExtAppAccountRecoveryUserService{constructor(port){this.port=port}async getOrganizationAccountRecoverySettings(){return await this.port.request("passbolt.account-recovery.get-organization-policy")}}},"./src/shared/services/rbacs/controlFunctionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HJ:()=>controlFunctionResolutions,HK:()=>controlFunctions,Y9:()=>defaultAdminUiActionControlResolution,uy:()=>defaultUserUiActionControlResolution});var allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js"),ControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowIfGroupManagerInOneGroupFunction extends ControlFunction.A{static execute(user){return user.groups_users.some((group=>group.is_admin))}}var denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");const controlFunctions={ALLOW:"Allow",DENY:"Deny",ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP:"AllowIfGroupManagerInOneGroup"},controlFunctionResolutions={[controlFunctions.ALLOW]:allowControlFunction.A,[controlFunctions.DENY]:denyControlFunction.A,[controlFunctions.ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP]:AllowIfGroupManagerInOneGroupFunction},defaultAdminUiActionControlResolution={[uiActionEnumeration.e.FOLDERS_USE]:controlFunctionResolutions[controlFunctions.ALLOW]},defaultUserUiActionControlResolution={[uiActionEnumeration.e.ADMINSTRATION_VIEW_WORKSPACE]:controlFunctionResolutions[controlFunctions.DENY]}},"./src/shared/services/rbacs/controlFunctions/ControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ControlFunction});class ControlFunction{}},"./src/shared/services/rbacs/controlFunctions/allowControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AllowControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!0}}},"./src/shared/services/rbacs/controlFunctions/denyControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DenyControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class DenyControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!1}}},"./src/shared/services/rbacs/uiActionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>uiActions});const uiActions={FOLDERS_USE:"Folders.use",RESOURCES_IMPORT:"Resources.import",RESOURCES_EXPORT:"Resources.export",RESOURCES_SEE_ACTIVITIES:"Resources.seeActivities",RESOURCES_SEE_COMMENTS:"Resources.seeComments",SECRETS_PREVIEW:"Secrets.preview",SECRETS_COPY:"Secrets.copy",SHARE_VIEW_LIST:"Share.viewList",TAGS_USE:"Tags.use",USERS_VIEW_WORKSPACE:"Users.viewWorkspace",MOBILE_TRANSFER:"Mobile.transfer",DESKTOP_TRANSFER:"Desktop.transfer",PROFIL_ACCOUNT_RECOVERY:"Profil.accountRecovery",ADMINSTRATION_VIEW_WORKSPACE:"Administration.viewWorkspace",DUO_CONFIGURATION:"Duo.configuration",AVATAR_UPLOAD:"Avatar.upload",SHARE_FOLDER:"Folders.share"}},"./src/shared/utils/assertions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B9:()=>isValidEmail,Ew:()=>isValidUuid,sF:()=>isValidSecurityToken});var xregexp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/xregexp/lib/index.js"),xregexp__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(xregexp__WEBPACK_IMPORTED_MODULE_0__);const UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[0-5][a-fA-F0-9]{3}-[089aAbB][a-fA-F0-9]{3}-[a-fA-F0-9]{12}$/,SECURITY_TOKEN__REGEXP=/^[a-zA-Z0-9-_]{3}$/,isValidEmail=data=>new(xregexp__WEBPACK_IMPORTED_MODULE_0___default())("^[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})$").test(data),isValidUuid=data=>new(xregexp__WEBPACK_IMPORTED_MODULE_0___default())(UUID_REGEXP).test(data),isValidSecurityToken=data=>new(xregexp__WEBPACK_IMPORTED_MODULE_0___default())(SECURITY_TOKEN__REGEXP).test(data)},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}}}]);