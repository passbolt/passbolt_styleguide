/*! For license information please see react-extension-components-Resource-CreateResource-CreateResource-test-stories.ee547a66.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[2494],{"./src/react-extension/components/Resource/CreateResource/CreateResource.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PasswordInDictionary:()=>PasswordInDictionary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CreateResource_test_stories});var react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),Tooltip=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),DialogWrapper=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),FormSubmitButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),FormCancelButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),GenerateResourcePassword=__webpack_require__("./src/react-extension/components/ResourcePassword/GenerateResourcePassword/GenerateResourcePassword.js"),SecretGenerator=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGenerator.js"),ResourcePasswordGeneratorContext=__webpack_require__("./src/react-extension/contexts/ResourcePasswordGeneratorContext.js"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),PasswordComplexity=__webpack_require__("./src/shared/components/PasswordComplexity/PasswordComplexity.js"),pownedService=__webpack_require__("./src/shared/services/api/secrets/pownedService.js"),PasswordPoliciesContext=__webpack_require__("./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js"),HandleTotpWorkflow=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflow.js"),HandleTotpWorkflowMode=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflowMode.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),Totp=__webpack_require__("./src/shared/components/Totp/Totp.js"),PasswordExpirySettingsContext=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js"),ConfirmCreateEdit=__webpack_require__("./src/react-extension/components/Resource/ConfirmCreateEdit/ConfirmCreateEdit.js"),SecretGeneratorComplexity=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js"),ResourcePasswordDescriptionViewModel=__webpack_require__("./src/shared/models/resource/ResourcePasswordDescriptionViewModel.js"),ResourcePasswordStringViewModel=__webpack_require__("./src/shared/models/resource/ResourcePasswordStringViewModel.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),ResourceViewModel=__webpack_require__("./src/shared/models/resource/ResourceViewModel.js"),ResourceTypesLocalStorageContext=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypeEntity=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.js"),resourceTypeSchemasDefinition=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),ResourceViewModelFactory=__webpack_require__("./src/shared/models/resource/ResourceViewModelFactory.js"),edit=__webpack_require__("./src/img/svg/edit.svg"),svg_delete=__webpack_require__("./src/img/svg/delete.svg"),dice=__webpack_require__("./src/img/svg/dice.svg"),settings=__webpack_require__("./src/img/svg/settings.svg"),lock=__webpack_require__("./src/img/svg/lock.svg"),unlock=__webpack_require__("./src/img/svg/unlock.svg");class CreateResource extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.initEventHandlers(),this.createInputRef()}get defaultState(){return{resourceViewModel:null,errors:new entityValidationError.A,hasAlreadyBeenValidated:!1,isPasswordDictionaryCheckRequested:!0,isPasswordDictionaryCheckServiceAvailable:!0,passwordInDictionary:!1,passwordEntropy:null,generatorSettings:null,processing:!1}}initEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleGeneratePasswordButtonClick=this.handleGeneratePasswordButtonClick.bind(this),this.handleDescriptionToggle=this.handleDescriptionToggle.bind(this),this.handleOpenGenerator=this.handleOpenGenerator.bind(this),this.handleLastGeneratedPasswordChanged=this.handleLastGeneratedPasswordChanged.bind(this),this.handleTotpClick=this.handleTotpClick.bind(this),this.applyTotp=this.applyTotp.bind(this),this.handleDeleteTotpClick=this.handleDeleteTotpClick.bind(this),this.save=this.save.bind(this),this.rejectCreationConfirmation=this.rejectCreationConfirmation.bind(this)}createInputRef(){this.nameInputRef=react.createRef(),this.passwordInputRef=react.createRef()}async componentDidMount(){this.initResourceViewModel(),await Promise.all([this.props.passwordPoliciesContext.findPolicies(),this.props.passwordExpiryContext.findSettings()]),this.initPwnedPasswordService(),this.initPasswordGeneratorConfiguration()}componentDidUpdate(prevProps){this.handleLastGeneratedPasswordChanged(prevProps.resourcePasswordGeneratorContext.lastGeneratedPassword)}initResourceViewModel(){const dto={folder_parent_id:this.props.folderParentId,resource_type_id:this.props.resourceType.id},expiryDate=this.getResourceExpirationDate();void 0!==expiryDate&&(dto.expired=expiryDate);const resourceViewModel=ResourceViewModelFactory.A.createFromResourceTypeAndResourceViewModelDto(this.props.resourceType,dto);this.setState({resourceViewModel})}initPwnedPasswordService(){const isPasswordDictionaryCheckRequested=this.props.passwordPoliciesContext.shouldRunDictionaryCheck();isPasswordDictionaryCheckRequested&&(this.pownedService=new pownedService.A(this.props.context.port)),this.setState({isPasswordDictionaryCheckRequested})}initPasswordGeneratorConfiguration(){this.setState({generatorSettings:this.props.resourcePasswordGeneratorContext.getSettings()})}handleLastGeneratedPasswordChanged(previousLastGeneratedPassword){const lastGeneratedPassword=this.props.resourcePasswordGeneratorContext.lastGeneratedPassword;if(!lastGeneratedPassword)return;if(!(previousLastGeneratedPassword!==this.props.resourcePasswordGeneratorContext.consumeLastGeneratedPassword()))return;const passwordEntropy=SecretGenerator.M.entropy(lastGeneratedPassword),generatorSettings=this.props.resourcePasswordGeneratorContext.getSettings(),resourceViewModel=this.state.resourceViewModel.cloneWithMutation("password",lastGeneratedPassword);this.setState({resourceViewModel,generatorSettings,passwordEntropy,passwordInDictionary:!1})}async handleFormSubmit(event){if(event.preventDefault(),this.state.processing)return;this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing();const validationErrors=this.validate();if(validationErrors.hasErrors())return await this.toggleProcessing(),void this.focusFirstFieldError(validationErrors);this.isMinimumRequiredEntropyReached()?await this.isPasswordInDictionary()?this.handlePasswordInDictionary():await this.save():this.handlePasswordMinimumEntropyNotReached()}handlePasswordMinimumEntropyNotReached(){const confirmCreationDialog={operation:ConfirmCreateEdit.OL.CREATE,rule:ConfirmCreateEdit.BJ.MINIMUM_ENTROPY,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectCreationConfirmation};this.props.dialogContext.open(ConfirmCreateEdit.Ay,confirmCreationDialog)}handlePasswordInDictionary(){this.setState({passwordInDictionary:!0});const confirmCreationDialog={operation:ConfirmCreateEdit.OL.CREATE,rule:ConfirmCreateEdit.BJ.IN_DICTIONARY,resourceName:this.state.resourceViewModel.name,onConfirm:this.save,onReject:this.rejectCreationConfirmation};this.props.dialogContext.open(ConfirmCreateEdit.Ay,confirmCreationDialog)}async rejectCreationConfirmation(){await this.toggleProcessing(),this.passwordInputRef.current.focus()}async save(){try{const createdResource=await this.createResource();await this.handleSaveSuccess(createdResource)}catch(error){await this.toggleProcessing(),this.handleSaveError(error)}}async toggleProcessing(){const prev=this.state.processing;return new Promise((resolve=>{this.setState({processing:!prev},resolve())}))}validate(){const errors=this.state.resourceViewModel.validate(ResourceViewModel.A.CREATE_MODE);return this.setState({errors}),errors}isMinimumRequiredEntropyReached(){return this.state.passwordEntropy&&this.state.passwordEntropy>=SecretGeneratorComplexity.JP.WEAK}async isPasswordInDictionary(){if(!this.state.isPasswordDictionaryCheckRequested||!this.state.isPasswordDictionaryCheckServiceAvailable)return!1;const{isPwnedServiceAvailable,inDictionary}=await this.pownedService.evaluateSecret(this.state.resourceViewModel.password);return isPwnedServiceAvailable?inDictionary:(this.setState({isPasswordDictionaryCheckServiceAvailable:!1}),!1)}createResource(){const resourceDto=this.state.resourceViewModel.toResourceDto(),secretDto=this.state.resourceViewModel.toSecretDto();return this.props.context.port.request("passbolt.resources.create",resourceDto,secretDto)}getResourceExpirationDate(){if(!this.props.passwordExpiryContext.isFeatureEnabled())return;const passwordExpirySettings=this.props.passwordExpiryContext.getSettings();return passwordExpirySettings?.automatic_update?null==passwordExpirySettings.default_expiry_period?null:luxon.c9.utc().plus({days:passwordExpirySettings.default_expiry_period}).toISO():void 0}async handleSaveSuccess(createdResource){await this.props.actionFeedbackContext.displaySuccess(this.translate("The password has been added successfully")),this.props.history.push(`/app/passwords/view/${createdResource.id}`),this.handleClose()}handleSaveError(error){"UserAbortsOperationError"!==error.name&&(console.error(error),this.handleError(error))}handleError(error){this.props.dialogContext.open(NotifyError.A,{error})}focusFirstFieldError(validationErrors){validationErrors.hasError("name")?this.nameInputRef.current.focus():validationErrors.hasError("password")&&this.passwordInputRef.current.focus()}handleInputChange(event){const target=event.target,name=target.name,value=target.value||null,newState={resourceViewModel:this.state.resourceViewModel.cloneWithMutation(name,value)};"password"===name&&(newState.passwordInDictionary=!1,newState.passwordEntropy=value?.length?SecretGenerator.M.entropy(value):null),this.state.hasAlreadyBeenValidated&&(newState.errors=newState.resourceViewModel.validate()),this.setState(newState)}isFieldMaxSizeReached(fieldName){const schema=this.state.resourceViewModel.constructor.getSchema();return void 0!==schema.properties[fieldName]?.maxLength&&this.state.resourceViewModel[fieldName]?.length>=schema.properties[fieldName].maxLength}handleGeneratePasswordButtonClick(){if(this.state.processing)return;const password=SecretGenerator.M.generate(this.state.generatorSettings),passwordEntropy=SecretGenerator.M.entropy(password),resourceViewModel=this.state.resourceViewModel.cloneWithMutation("password",password);this.setState({resourceViewModel,passwordError:"",passwordInDictionary:!1,passwordEntropy})}handleOpenGenerator(){this.props.dialogContext.open(GenerateResourcePassword.A)}handleTotpClick(){const totp=this.state.resourceViewModel.totp,mode=totp?HandleTotpWorkflowMode._.EDIT_TOTP:HandleTotpWorkflowMode._.ADD_TOTP,onApply=this.applyTotp;this.props.workflowContext.start(HandleTotpWorkflow.A,{mode,totp,onApply})}handleDeleteTotpClick(){const dto={...this.state.resourceViewModel,resource_type_id:this.props.resourceType.id},resourceViewModel=ResourceViewModelFactory.A.createFromResourceTypeAndResourceViewModelDto(this.props.resourceType,dto);this.setState({resourceViewModel})}applyTotp(totp){let resourceType;this.props.resourceType.isV5()?resourceType=this.props.resourceTypes.getFirstBySlug(resourceTypeSchemasDefinition.a5):this.props.resourceType.isV4()&&(resourceType=this.props.resourceTypes.getFirstBySlug(resourceTypeSchemasDefinition.fl));const dto={...this.state.resourceViewModel,resource_type_id:resourceType.id,totp},resourceViewModel=ResourceViewModelFactory.A.createFromResourceTypeAndResourceViewModelDto(resourceType,dto);this.setState({resourceViewModel})}async handleClose(){await this.props.resourcePasswordGeneratorContext.resetSecretGeneratorSettings(),this.props.onClose()}handleDescriptionToggle(){const resourceViewModel=this.state.resourceViewModel;if(!resourceViewModel.canToggleDescription())return;const newResourceViewModelType=resourceViewModel.isDescriptionUnencrypted()?ResourcePasswordDescriptionViewModel.A:ResourcePasswordStringViewModel.A,resourceType=this.props.resourceTypes.getFirstBySlug(newResourceViewModelType.resourceTypeSlug),newResourceViewModel=new newResourceViewModelType({...this.state.resourceViewModel,resource_type_id:resourceType.id});this.setState({resourceViewModel:newResourceViewModel})}get canUsePasswordGenerator(){return this.props.context.siteSettings.canIUse("passwordGenerator")}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get hasTotp(){return Boolean(this.state.resourceViewModel.totp)}get translate(){return this.props.t}render(){if(!(null!==this.state.resourceViewModel))return null;const isNameError=this.state.errors.hasError("name","required"),isPasswordError=this.state.errors.hasError("password","required"),isMaxLengthNameWarning=this.isFieldMaxSizeReached("name"),isMaxLengthUriWarning=this.isFieldMaxSizeReached("uri"),isMaxLengthUsernameWarning=this.isFieldMaxSizeReached("username"),isMaxLengthPasswordWarning=this.isFieldMaxSizeReached("password"),isMaxLengthDescriptionWarning=this.isFieldMaxSizeReached("description"),resourceViewModel=this.state.resourceViewModel,passwordEntropy=this.state.passwordInDictionary?0:this.state.passwordEntropy;return react.createElement(DialogWrapper.A,{title:this.translate("Create a password"),className:"create-password-dialog",disabled:this.state.processing,onClose:this.handleClose},react.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react.createElement("div",{className:"form-content"},react.createElement("div",{className:`input text required ${isNameError?"error":""} ${this.state.processing?"disabled":""}`},react.createElement("label",{htmlFor:"create-password-form-name"},react.createElement(es.x6,null,"Name"),isMaxLengthNameWarning&&react.createElement(Icon.A,{name:"exclamation"})),react.createElement("input",{id:"create-password-form-name",name:"name",type:"text",value:resourceViewModel.name||"",onChange:this.handleInputChange,disabled:this.state.processing,ref:this.nameInputRef,className:"required fluid",maxLength:"255",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),isNameError&&react.createElement("div",{className:"name error-message"},react.createElement(es.x6,null,"A name is required.")),isMaxLengthNameWarning&&react.createElement("div",{className:"name warning-message"},react.createElement("strong",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),react.createElement("div",{className:"input text "+(this.state.processing?"disabled":"")},react.createElement("label",{htmlFor:"create-password-form-uri"},react.createElement(es.x6,null,"URI"),isMaxLengthUriWarning&&react.createElement(Icon.A,{name:"exclamation"})),react.createElement("input",{id:"create-password-form-uri",name:"uri",className:"fluid",maxLength:"1024",type:"text",autoComplete:"off",value:resourceViewModel.uri||"",onChange:this.handleInputChange,placeholder:this.translate("URI"),disabled:this.state.processing}),isMaxLengthUriWarning&&react.createElement("div",{className:"uri warning-message"},react.createElement("strong",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),react.createElement("div",{className:"input text "+(this.state.processing?"disabled":"")},react.createElement("label",{htmlFor:"create-password-form-username"},react.createElement(es.x6,null,"Username"),isMaxLengthUsernameWarning&&react.createElement(Icon.A,{name:"exclamation"})),react.createElement("input",{id:"create-password-form-username",name:"username",type:"text",className:"fluid",maxLength:"255",autoComplete:"off",value:resourceViewModel.username||"",onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.state.processing}),isMaxLengthUsernameWarning&&react.createElement("div",{className:"username warning-message"},react.createElement("strong",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),react.createElement("div",{className:`input-password-wrapper input required ${isPasswordError?"error":""} ${this.state.processing?"disabled":""}`},react.createElement("label",{htmlFor:"create-password-form-password"},react.createElement(es.x6,null,"Password"),isMaxLengthPasswordWarning&&react.createElement(Icon.A,{name:"exclamation"})),react.createElement("div",{className:"password-button-inline"},react.createElement(Password.A,{id:"create-password-form-password",name:"password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:resourceViewModel.password||"",onChange:this.handleInputChange,disabled:this.state.processing,inputRef:this.passwordInputRef}),react.createElement("button",{type:"button",onClick:this.handleGeneratePasswordButtonClick,className:"password-generate button-icon "+(this.state.processing?"disabled":"")},react.createElement(dice.A,null),react.createElement("span",{className:"visually-hidden"},react.createElement(es.x6,null,"Generate"))),this.canUsePasswordGenerator&&react.createElement("button",{type:"button",onClick:this.handleOpenGenerator,className:"password-generator button-icon "+(this.state.processing?"disabled":"")},react.createElement(settings.A,null),react.createElement("span",{className:"visually-hidden"},react.createElement(es.x6,null,"Open generator")))),react.createElement(PasswordComplexity.A,{entropy:passwordEntropy,error:isPasswordError}),isPasswordError&&react.createElement("div",{className:"password error-message"},react.createElement(es.x6,null,"A password is required.")),isMaxLengthPasswordWarning&&react.createElement("div",{className:"password warning-message"},react.createElement("strong",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),react.createElement("div",{className:"input textarea "+(this.state.processing?"disabled":"")},react.createElement("label",{htmlFor:"create-password-form-description"},react.createElement(es.x6,null,"Description"),isMaxLengthDescriptionWarning&&react.createElement(Icon.A,{name:"exclamation"}),react.createElement("button",{type:"button",onClick:this.handleDescriptionToggle,className:"button-transparent inline lock-toggle"},resourceViewModel.isDescriptionUnencrypted()?react.createElement(Tooltip.A,{message:this.translate("Do not store sensitive data or click here to enable encryption for the description field.")},react.createElement(unlock.A,null)):react.createElement(Tooltip.A,{message:this.translate("The description content will be encrypted.")},react.createElement(lock.A,null)))),react.createElement("textarea",{id:"create-password-form-description",name:"description",maxLength:"10000",placeholder:this.translate("Add a description"),value:resourceViewModel.description||"",disabled:this.state.processing,onChange:this.handleInputChange}),isMaxLengthDescriptionWarning&&react.createElement("div",{className:"description warning-message"},react.createElement("strong",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"this is the maximum size for this field, make sure your data was not truncated"))),this.canUseTotp&&!this.hasTotp&&react.createElement("div",{className:"input input-totp-wrapper"},react.createElement("button",{type:"button",className:"add-totp link no-border link-icon",onClick:this.handleTotpClick,disabled:this.state.processing},react.createElement(Icon.A,{name:"plus-circle"}),react.createElement("span",{className:"link-label"},react.createElement(es.x6,null,"Add TOTP")))),this.canUseTotp&&this.hasTotp&&react.createElement("div",{className:"input input-totp-wrapper "+(this.state.processing?"disabled":"")},react.createElement("label",{htmlFor:"create-password-form-totp"},react.createElement(es.x6,null,"TOTP")),react.createElement("div",{className:"input-wrapper-inline totp"},react.createElement(Totp.A,{totp:resourceViewModel.totp}),react.createElement("button",{type:"button",className:"edit-totp button-icon",onClick:this.handleTotpClick,disabled:this.state.processing},react.createElement(edit.A,null)),react.createElement("button",{type:"button",className:"delete-totp button-icon",onClick:this.handleDeleteTotpClick,disabled:this.state.processing},react.createElement(svg_delete.A,null))))),react.createElement("div",{className:"submit-wrapper clearfix"},react.createElement(FormCancelButton.A,{disabled:this.state.processing,onClick:this.handleClose}),react.createElement(FormSubmitButton.A,{value:this.translate("Create"),disabled:this.state.processing,processing:this.state.processing}))))}}CreateResource.propTypes={context:prop_types_default().any,history:prop_types_default().object,folderParentId:prop_types_default().string,onClose:prop_types_default().func,resourcePasswordGeneratorContext:prop_types_default().any,passwordExpiryContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,dialogContext:prop_types_default().any,resourceTypes:prop_types_default().instanceOf(resourceTypesCollection.A),resourceType:prop_types_default().instanceOf(resourceTypeEntity.Ay),t:prop_types_default().func,passwordPoliciesContext:prop_types_default().object,workflowContext:prop_types_default().any};const CreateResource_CreateResource=(0,react_router.withRouter)((0,AppContext.L)((0,PasswordPoliciesContext.WJ)((0,ResourceTypesLocalStorageContext.KH)((0,PasswordExpirySettingsContext.f4)((0,ActionFeedbackContext.ot)((0,ResourcePasswordGeneratorContext.Yv)((0,DialogContext.z9)((0,WorkflowContext.AV)((0,es.CI)("common")(CreateResource))))))))));CreateResource.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"createInputRef",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"initResourceViewModel",docblock:"Initialize the resource view model",modifiers:[],params:[],returns:null,description:"Initialize the resource view model"},{name:"initPwnedPasswordService",docblock:"Initialize the pwned password service",modifiers:[],params:[],returns:null,description:"Initialize the pwned password service"},{name:"initPasswordGeneratorConfiguration",docblock:"Initialize the password generator configuration",modifiers:[],params:[],returns:null,description:"Initialize the password generator configuration"},{name:"handleLastGeneratedPasswordChanged",docblock:"Whenever a new password has been generated through the generator\n@param previousLastGeneratedPassword The previous last generated password value",modifiers:[],params:[{name:"previousLastGeneratedPassword",description:"The previous last generated password value",optional:!1}],returns:null,description:"Whenever a new password has been generated through the generator"},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle form submit event."},{name:"handlePasswordMinimumEntropyNotReached",docblock:"Request password not reaching minimum entropy creation confirmation.",modifiers:[],params:[],returns:null,description:"Request password not reaching minimum entropy creation confirmation."},{name:"handlePasswordInDictionary",docblock:"Request password in dictionary creation confirmation.",modifiers:[],params:[],returns:null,description:"Request password in dictionary creation confirmation."},{name:"rejectCreationConfirmation",docblock:"Reject the creation confirmation.",modifiers:["async"],params:[],returns:null,description:"Reject the creation confirmation."},{name:"save",docblock:"Save the resource\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Save the resource"},{name:"toggleProcessing",docblock:"Toggle processing state when validating / saving\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Toggle processing state when validating / saving"},{name:"validate",docblock:"Validate the form.\n@returns {EntityValidationError}",modifiers:[],params:[],returns:{type:{name:"EntityValidationError"}},description:"Validate the form."},{name:"isMinimumRequiredEntropyReached",docblock:"Returns true if the given entropy is greater or equal to the minimum required entropy.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the given entropy is greater or equal to the minimum required entropy."},{name:"isPasswordInDictionary",docblock:"Check if the password is part of a dictionary.\n@returns {Promise<boolean>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"boolean"}]}},description:"Check if the password is part of a dictionary."},{name:"createResource",docblock:"Create the resource\n@returns {Promise<Object>} returns the newly created resource",modifiers:[],params:[],returns:{description:"returns the newly created resource",type:{name:"Promise",elements:[{name:"Object"}]}},description:"Create the resource"},{name:"getResourceExpirationDate",docblock:"Get the expiration date on the given resource according to the password expiry settings.\nThe value is set to `undefined` if the feature is not activated,\notherwise it is set to `null` if the expiration date must be unset\nor else a `DateTime` at when the expiration should occur.\n@returns {DateTime|null|undefined}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"DateTime"}]}},description:"Get the expiration date on the given resource according to the password expiry settings.\nThe value is set to `undefined` if the feature is not activated,\notherwise it is set to `null` if the expiration date must be unset\nor else a `DateTime` at when the expiration should occur."},{name:"handleSaveSuccess",docblock:"Handle save operation success.\n@param {object} createdResource\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"createdResource",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:[],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"handleError",docblock:"Handle any unexpected errors.\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Handle any unexpected errors."},{name:"focusFirstFieldError",docblock:"Focus the first field of the form which is in error state.\n@param {EntityValidationError} validationErrors",modifiers:[],params:[{name:"validationErrors",type:{name:"EntityValidationError"},optional:!1}],returns:null,description:"Focus the first field of the form which is in error state."},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"isFieldMaxSizeReached",docblock:"Returns true if the `maxLength` property of the given field has been reached.\n@param {string} fieldName\n@returns {boolean}",modifiers:[],params:[{name:"fieldName",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the `maxLength` property of the given field has been reached."},{name:"handleGeneratePasswordButtonClick",docblock:"Handle generate password button click.",modifiers:[],params:[],returns:null,description:"Handle generate password button click."},{name:"handleOpenGenerator",docblock:"Whenever the user wants to open the password generator",modifiers:[],params:[],returns:null,description:"Whenever the user wants to open the password generator"},{name:"handleTotpClick",docblock:"Handle click on totp button",modifiers:[],params:[],returns:null,description:"Handle click on totp button"},{name:"handleDeleteTotpClick",docblock:"Handle delete totp",modifiers:[],params:[],returns:null,description:"Handle delete totp"},{name:"applyTotp",docblock:"Apply the totp\n@param {object} totp",modifiers:[],params:[{name:"totp",type:{name:"object"},optional:!1}],returns:null,description:"Apply the totp"},{name:"handleClose",docblock:"Handle close\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle close"},{name:"handleDescriptionToggle",docblock:"Switch to toggle description field encryption",modifiers:[],params:[],returns:null,description:"Switch to toggle description field encryption"},{name:"canUsePasswordGenerator",docblock:"Returns true if the logged in user can use the password generator capability.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the logged in user can use the password generator capability."},{name:"canUseTotp",docblock:"Returns true if the logged in user can use the totp capability.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the logged in user can use the totp capability."},{name:"hasTotp",docblock:"Has a totp\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Has a totp"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"CreateResource",props:{context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},folderParentId:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},resourcePasswordGeneratorContext:{description:"",type:{name:"any"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},resourceType:{description:"",type:{name:"instanceOf",value:"ResourceTypeEntity"},required:!1},t:{description:"",type:{name:"func"},required:!1},passwordPoliciesContext:{description:"",type:{name:"object"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1}}};var MockPort=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),Settings_userSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),Settings_siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),PasswordPoliciesContext_test_data=__webpack_require__("./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.test.data.js"),ResourcePasswordGeneratorContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourcePasswordGeneratorContext.test.data.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),WorkflowContext_test_data=__webpack_require__("./src/react-extension/contexts/WorkflowContext.test.data.js"),PasswordExpirySettingsContext_test_data=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),resourceTypeEntity_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");var ResourceWorkspaceContext=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js");const CreateResource_test_stories={title:"Components/Resource/CreateResource",component:CreateResource_CreateResource,decorators:[(Story,{args})=>react.createElement(react_router.MemoryRouter,{initialEntries:["/app/passwords"]},react.createElement("div",{style:{margin:"-1rem"}},react.createElement(ResourceWorkspaceContext.XZ.Provider,{value:args.resourceWorkspaceContext},react.createElement(Story,args))))]},mockedPort=new MockPort.A;mockedPort.addRequestListener("passbolt.resources.create",(data=>data));const PasswordInDictionary={args:{context:function defaultAppContext(appContext={}){const port=new MockPort.A,defaultAppContext1={userSettings:new UserSettings.A(Settings_userSettings.A),siteSettings:new SiteSettings.A(Settings_siteSettings.A),port,setContext:function(newContext){Object.assign(this,newContext)}};return Object.assign(defaultAppContext1,appContext)}({port:mockedPort}),...function defaultProps(data={}){const defaultData={folderParentId:null,resourcePasswordGeneratorContext:(0,ResourcePasswordGeneratorContext_test_data.N)(),passwordPoliciesContext:(0,PasswordPoliciesContext_test_data.M)(),passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),resourceType:new resourceTypeEntity.Ay((0,resourceTypeEntity_test_data.KD)()),onClose:jest.fn(),dialogContext:{open:jest.fn()},workflowContext:(0,WorkflowContext_test_data.q)()};return delete data.passwordPoliciesContext,Object.assign(defaultData,data)}()}},__namedExportsOrder=["PasswordInDictionary"];PasswordInDictionary.parameters={...PasswordInDictionary.parameters,docs:{...PasswordInDictionary.parameters?.docs,source:{originalSource:"{\n  args: {\n    context: defaultAppContext({\n      port: mockedPort\n    }),\n    ...defaultProps()\n  }\n}",...PasswordInDictionary.parameters?.docs?.source}}}},"./src/img/svg/attention.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgAttention(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#attention_svg__clip0_2062_453107)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"var(--icon-exclamation-background-color)",stroke:"var(--icon-exclamation-border-color)",d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-exclamation-color)",d:"M9 6v3M9 12h.008"}))))}},"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormCancelButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.disabled||this.props.onClick()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.props.disabled,className:"link cancel",onClick:this.handleClick},this.props.value)}}FormCancelButton.defaultProps={value:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Cancel")},FormCancelButton.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default().node),prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,prop_types__WEBPACK_IMPORTED_MODULE_2___default().string])};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(FormCancelButton);FormCancelButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleClick",docblock:"Handle cancel click\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle cancel click"}],displayName:"FormCancelButton",props:{value:{defaultValue:{value:"<Trans>Cancel</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormSubmitButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let name="button primary form";return this.props.warning?name+=" warning":this.props.attention&&(name+=" attention"),this.props.disabled&&(name+=" disabled"),this.props.processing&&(name+=" processing"),this.props.big&&(name+=" big"),this.props.medium&&(name+=" medium"),this.props.fullWidth&&(name+=" full-width"),name}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:this.getClassName(),disabled:this.props.disabled},this.props.value||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Save"),this.props.processing&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))}}FormSubmitButton.defaultProps={warning:!1,attention:!1},FormSubmitButton.propTypes={processing:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().string]),warning:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,attention:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,big:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,medium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,fullWidth:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FormSubmitButton);FormSubmitButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"getClassName",docblock:"Get the input button classname\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the input button classname"}],displayName:"FormSubmitButton",props:{warning:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},attention:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},processing:{description:"",type:{name:"bool"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},big:{description:"",type:{name:"bool"},required:!1},medium:{description:"",type:{name:"bool"},required:!1},fullWidth:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>defaultPasswordExpirySettingsContext});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js");__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");const defaultPasswordExpirySettingsContext=(data={})=>{const settings=data?.getSettings?data.getSettings():(0,_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__.Xc)(data),isFeatureEnabled=Boolean(settings?.automatic_update)||Boolean(settings?.automatic_expiry)||Boolean(settings?.policy_override),defaultExpiryDate=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.utc().plus({days:settings?.default_expiry_period}).toISO(),defaultData={findSettings:()=>{},getSettings:()=>settings,isFeatureEnabled:()=>isFeatureEnabled,getDefaultExpirationDate:()=>defaultExpiryDate};return Object.assign(defaultData,data)}},"./src/react-extension/contexts/ResourcePasswordGeneratorContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>defaultResourcePasswordGeneratorContext});var _shared_models_passwordPolicies_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/passwordPolicies/PassphraseGeneratorSettingsDto.test.data.js"),_shared_models_passwordPolicies_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordGeneratorSettingsDto.test.data.js"),_shared_models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordPoliciesDto.test.data.js");const defaultResourcePasswordGeneratorContext=(data={})=>({lastGeneratedPassword:"This is the last generated password",getSettings:()=>(0,_shared_models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__.m)({password_generator_settings:(0,_shared_models_passwordPolicies_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__._)({min_length:8,max_length:128}),passphrase_generator_settings:(0,_shared_models_passwordPolicies_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__.N)({min_words:4,max_words:40})}),onPasswordGenerated:jest.fn(),resetSecretGeneratorSettings:jest.fn(),consumeLastGeneratedPassword:()=>"This is the last generated password",...data})},"./src/react-extension/contexts/WorkflowContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultWorkflowContext(context={}){const defaultContext={workflows:[],start:jest.fn(),stop:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{q:()=>defaultWorkflowContext})},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>defaultPasswordPoliciesContext});var _models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordPoliciesDto.test.data.js");const defaultPasswordPoliciesContext=(data={})=>{const policies=data?.policies||(0,_models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__.m)();return{policies,getPolicies:jest.fn(),findPolicies:jest.fn(),shouldRunDictionaryCheck:jest.fn((()=>policies?.external_dictionary_check||!1)),...data}}},"./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Xc:()=>defaultPasswordExpirySettingsEntityDto,om:()=>overridenPasswordExpirySettingsEntityDto});const defaultPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!1,default_expiry_period:null},data),overridenPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!0,default_expiry_period:30},data)},"./src/shared/models/passwordPolicies/PassphraseGeneratorSettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>defaultPassphraseGeneratorSettingsDto});const defaultPassphraseGeneratorSettingsDto=(data={})=>({words:9,word_separator:" ",word_case:"lowercase",...data})},"./src/shared/models/passwordPolicies/PasswordGeneratorSettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>defaultPasswordGeneratorSettingsDto});const defaultPasswordGeneratorSettingsDto=(data={})=>({length:18,mask_upper:!0,mask_lower:!0,mask_digit:!0,mask_char1:!0,mask_parenthesis:!0,mask_char2:!0,mask_char3:!0,mask_char4:!0,mask_char5:!0,mask_emoji:!1,exclude_look_alike_chars:!0,...data})},"./src/shared/models/passwordPolicies/PasswordPoliciesDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>defaultPasswordPoliciesDto,n:()=>configuredPasswordPoliciesDto});var uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordGeneratorSettingsDto.test.data.js"),_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/passwordPolicies/PassphraseGeneratorSettingsDto.test.data.js");const defaultPasswordPoliciesDto=(data={})=>({default_generator:"password",external_dictionary_check:!0,password_generator_settings:(0,_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_0__._)(),passphrase_generator_settings:(0,_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__.N)(),source:"default",...data}),configuredPasswordPoliciesDto=(data={})=>defaultPasswordPoliciesDto({id:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),created:"2023-07-01T13:59:11+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),modified:"2023-08-01T13:59:11+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),...data})},"./node_modules/uuid/dist/esm-browser/stringify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});for(var _validate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js"),byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));const __WEBPACK_DEFAULT_EXPORT__=function stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.A)(uuid))throw TypeError("Stringified UUID is invalid");return uuid}},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var getRandomValues;__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v4});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js");const esm_browser_v4=function v4(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return(0,stringify.A)(rnds)}},"./node_modules/uuid/dist/esm-browser/validate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_validate});const regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const esm_browser_validate=function validate(uuid){return"string"==typeof uuid&&regex.test(uuid)}}}]);