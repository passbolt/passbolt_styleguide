/*! For license information please see react-extension-components-ResourceDetails-DisplayResourceDetails-DisplayResourcesListDetails-test-stories.02146923.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[8636],{"./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesListDetails_test_stories});__webpack_require__("./src/shared/components/Icons/ResourceIcon.test.init.js");var mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ResourceWorkspaceContext=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),DisplayResourcesListDetails=__webpack_require__("./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js");var react=__webpack_require__("./node_modules/react/index.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js");const DisplayResourcesListDetails_test_stories={title:"Components/ResourceDetails/DisplayResourcesListDetails",component:DisplayResourcesListDetails.A,decorators:[(Story,{args})=>react.createElement(react_router_dom.Kd,null,react.createElement(AppContext.A.Provider,{value:args.context},react.createElement(ResourceWorkspaceContext.XZ.Provider,{value:args.resourceWorkspaceContext},react.createElement("div",{className:"page"},react.createElement("div",{className:"app",style:{margin:"-1rem"}},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"middle-right",style:{display:"flex",justifyContent:"flex-end"}},react.createElement("div",{className:"panel aside"},react.createElement(Story,args))))))))))],parameters:{docs:{description:{component:"DisplayResourceDetails stories"}}}},storage=(0,mockStorage.A)(),port=(0,mockPort.A)(storage);port.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B)),port.addRequestListener("passbolt.secret.find-by-resource-id",(()=>({description:"This is a secure note."})));const Default={args:{...function defaultProps(data={}){const resourceWorkspaceContext=(0,ResourceWorkspaceContext_test_data.gJ)();return{...data,context:(0,ExtAppContext_test_data.bC)(data.context),resourceWorkspaceContext,resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)())}}({context:{port}}),storage}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...defaultProps({\n      context: {\n        port\n      }\n    }),\n    storage: storage\n  }\n}",...Default.parameters?.docs?.source}}}},"./src/img/svg/close.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgClose(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m12 4-8 8M4 4l8 8"})))}},"./node_modules/react-router-dom/esm/react-router-dom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kd:()=>BrowserRouter,N_:()=>Link});var react_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),history__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/history/esm/history.js"),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),tiny_invariant__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tiny-invariant/dist/esm/tiny-invariant.js"),BrowserRouter=function(_React$Component){function BrowserRouter(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).history=(0,history__WEBPACK_IMPORTED_MODULE_2__.createBrowserHistory)(_this.props),_this}return(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__.A)(BrowserRouter,_React$Component),BrowserRouter.prototype.render=function render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_3__.Router,{history:this.history,children:this.props.children})},BrowserRouter}(react__WEBPACK_IMPORTED_MODULE_0__.Component);react__WEBPACK_IMPORTED_MODULE_0__.Component;var resolveToLocation=function resolveToLocation(to,currentLocation){return"function"==typeof to?to(currentLocation):to},normalizeToLocation=function normalizeToLocation(to,currentLocation){return"string"==typeof to?(0,history__WEBPACK_IMPORTED_MODULE_2__.createLocation)(to,null,null,currentLocation):to},forwardRefShim=function forwardRefShim(C){return C},forwardRef=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef;void 0===forwardRef&&(forwardRef=forwardRefShim);var LinkAnchor=forwardRef((function(_ref,forwardedRef){var innerRef=_ref.innerRef,navigate=_ref.navigate,_onClick=_ref.onClick,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,["innerRef","navigate","onClick"]),target=rest.target,props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.A)({},rest,{onClick:function onClick(event){try{_onClick&&_onClick(event)}catch(ex){throw event.preventDefault(),ex}event.defaultPrevented||0!==event.button||target&&"_self"!==target||function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}(event)||(event.preventDefault(),navigate())}});return props.ref=forwardRefShim!==forwardRef&&forwardedRef||innerRef,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",props)}));var Link=forwardRef((function(_ref2,forwardedRef){var _ref2$component=_ref2.component,component=void 0===_ref2$component?LinkAnchor:_ref2$component,replace=_ref2.replace,to=_ref2.to,innerRef=_ref2.innerRef,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__.A)(_ref2,["component","replace","to","innerRef"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_3__.__RouterContext.Consumer,null,(function(context){context||(0,tiny_invariant__WEBPACK_IMPORTED_MODULE_6__.A)(!1);var history=context.history,location=normalizeToLocation(resolveToLocation(to,context.location),context.location),href=location?history.createHref(location):"",props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.A)({},rest,{href,navigate:function navigate(){var location=resolveToLocation(to,context.location),isDuplicateNavigation=(0,history__WEBPACK_IMPORTED_MODULE_2__.createPath)(context.location)===(0,history__WEBPACK_IMPORTED_MODULE_2__.createPath)(normalizeToLocation(location));(replace||isDuplicateNavigation?history.replace:history.push)(location)}});return forwardRefShim!==forwardRef?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react__WEBPACK_IMPORTED_MODULE_0__.createElement(component,props)}))})),forwardRefShim$1=function forwardRefShim(C){return C},forwardRef$1=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef;void 0===forwardRef$1&&(forwardRef$1=forwardRefShim$1);forwardRef$1((function(_ref,forwardedRef){var _ref$ariaCurrent=_ref["aria-current"],ariaCurrent=void 0===_ref$ariaCurrent?"page":_ref$ariaCurrent,_ref$activeClassName=_ref.activeClassName,activeClassName=void 0===_ref$activeClassName?"active":_ref$activeClassName,activeStyle=_ref.activeStyle,classNameProp=_ref.className,exact=_ref.exact,isActiveProp=_ref.isActive,locationProp=_ref.location,sensitive=_ref.sensitive,strict=_ref.strict,styleProp=_ref.style,to=_ref.to,innerRef=_ref.innerRef,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_3__.__RouterContext.Consumer,null,(function(context){context||(0,tiny_invariant__WEBPACK_IMPORTED_MODULE_6__.A)(!1);var currentLocation=locationProp||context.location,toLocation=normalizeToLocation(resolveToLocation(to,currentLocation),currentLocation),path=toLocation.pathname,escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),match=escapedPath?(0,react_router__WEBPACK_IMPORTED_MODULE_3__.matchPath)(currentLocation.pathname,{path:escapedPath,exact,sensitive,strict}):null,isActive=!!(isActiveProp?isActiveProp(match,currentLocation):match),className="function"==typeof classNameProp?classNameProp(isActive):classNameProp,style="function"==typeof styleProp?styleProp(isActive):styleProp;isActive&&(className=function joinClassnames(){for(var _len=arguments.length,classnames=new Array(_len),_key=0;_key<_len;_key++)classnames[_key]=arguments[_key];return classnames.filter((function(i){return i})).join(" ")}(className,activeClassName),style=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.A)({},style,activeStyle));var props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_5__.A)({"aria-current":isActive&&ariaCurrent||null,className,style,to:toLocation},rest);return forwardRefShim$1!==forwardRef$1?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link,props)}))}))},"./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/close.svg"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/components/Icons/ResourceIcon.js"),react_list__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-list/react-list.js"),react_list__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_list__WEBPACK_IMPORTED_MODULE_8__);class DisplayResourcesListDetails extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,error:!1,isSecretDecrypting:!1,isSecretDecrypted:!1,description:null}}bindCallbacks(){this.handleUnselectClickEvent=this.handleUnselectClickEvent.bind(this),this.renderItem=this.renderItem.bind(this)}getResourceTypeSubtitle(resource){if(!this.props.resourceTypes)return"";const resourceType=this.props.resourceTypes.getFirstById(resource.resource_type_id);switch(resourceType?.slug){case"password-string":case"v5-password-string":return this.props.t("Password");case"password-and-description":case"v5-default":return this.props.t("Password and Note");case"password-description-totp":case"v5-default-with-totp":return this.props.t("Password, Note and TOTP");case"totp":case"v5-totp-standalone":return this.props.t("TOTP");default:return this.props.t("Resource")}}handleUnselectClickEvent(resource){this.props.resourceWorkspaceContext.onResourceSelected.multiple(resource)}getPermissionSubtitle(resource){switch(resource.permission.type){case 0:return this.props.t("No access");case 1:return this.props.t("Can read");case 7:return this.props.t("Can edit");case 15:return this.props.t("Is owner")}}renderItem(index){const resource=this.props.resourceWorkspaceContext.selectedResources[index];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:resource.id,className:"sidebar-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_7__.A,{resource}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-area"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name"},resource.metadata.name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getResourceTypeSubtitle(resource)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getPermissionSubtitle(resource))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"title-link button-transparent inline",title:this.props.t("Remove this resource from the selection"),onClick:()=>this.handleUnselectClickEvent(resource)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Remove this resource from the selection")))))}render(){const count=this.props.resourceWorkspaceContext.selectedResources.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar resource multiple-resources-selected"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-title"},this.props.t(`${count} resources selected`)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_list__WEBPACK_IMPORTED_MODULE_8___default(),{itemRenderer:this.renderItem,length:count,pageSize:15,minSize:15,type:"uniform"})))}}DisplayResourcesListDetails.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_9___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_6__.A),resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_5__.KH)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(DisplayResourcesListDetails))));DisplayResourcesListDetails.__docgenInfo={description:"This component display the note section of a resource",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"getResourceTypeSubtitle",docblock:"Get the sidebar subtitle",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Get the sidebar subtitle"},{name:"handleUnselectClickEvent",docblock:"Handle when the user selects the folder parent.",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Handle when the user selects the folder parent."},{name:"getPermissionSubtitle",docblock:null,modifiers:[],params:[{name:"resource",optional:!1,type:null}],returns:null},{name:"renderItem",docblock:"Use to render a single item of the list\n@param {integer} index of the item in the source list\n@param {integer} key index of the HTML element in the ReactList\n@returns {JSX.Element}",modifiers:[],params:[{name:"index",description:"of the item in the source list",type:{name:"integer"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Use to render a single item of the list"}],displayName:"DisplayResourcesListDetails",props:{context:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/shared/components/Icons/ResourceIcon.test.init.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var _path,_path2,react=__webpack_require__("./node_modules/react/index.js"),ResourceIcon=__webpack_require__("./src/shared/components/Icons/ResourceIcon.js"),key=__webpack_require__("./src/img/svg/key.svg"),totp=__webpack_require__("./src/img/svg/totp.svg");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const password_with_totp=function SvgPasswordWithTotp(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:27,height:28,fill:"none",viewBox:"0 0 27 28"},props),_path||(_path=react.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"var(--icon-stroke-width, 1.5)",d:"M5.928 17.427a4.204 4.204 0 1 0 0-8.408 4.204 4.204 0 0 0 0 8.408M18.352.8l-9.456 9.456M16.786 6.22l2.418-2.42M19.547 27.201a5.922 5.922 0 1 0 0-11.844 5.922 5.922 0 0 0 0 11.844"})),_path2||(_path2=react.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"var(--icon-stroke-width, 1.5)",d:"M19.547 17.72v3.559l2.376 1.182M15.787 16.64v-2.612a3.772 3.772 0 0 1 7.544 0v2.612"})))};var resourceTypeEntity_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");ResourceIcon.g.resourceTypeIdIconMap={[resourceTypeEntity_test_data.Bt]:react.createElement(key.A,null),[resourceTypeEntity_test_data.s_]:react.createElement(key.A,null),[resourceTypeEntity_test_data.Av]:react.createElement(password_with_totp,null),[resourceTypeEntity_test_data.vD]:react.createElement(totp.A,null),[resourceTypeEntity_test_data.Vv]:react.createElement(key.A,null),[resourceTypeEntity_test_data.$z]:react.createElement(key.A,null),[resourceTypeEntity_test_data.J6]:react.createElement(password_with_totp,null),[resourceTypeEntity_test_data.Xq]:react.createElement(totp.A,null)}},"./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,KH:()=>withResourceTypesLocalStorage,dA:()=>ResourceTypesLocalStorageContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js");const ResourceTypesLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},resourceTypes:null,updateLocalStorage:()=>{}});class ResourceTypesLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),resourceTypes:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes.resourceTypes&&this.set(changes.resourceTypes.newValue)}set(resourceTypes){const resourceTypesCollection=new _models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_2__.A(resourceTypes);this.setState({resourceTypes:resourceTypesCollection})}get(){return null===this.state.resourceTypes?(this.loadLocalStorage(),null):this.state.resourceTypes}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get(["resourceTypes"]);storageData.resourceTypes?this.set(storageData.resourceTypes):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.resource-type.get-or-find-all"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Provider,{value:this.state},this.props.children)}}ResourceTypesLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(ResourceTypesLocalStorageContextProvider);function withResourceTypesLocalStorage(WrappedComponent){return class withResourceTypesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Consumer,null,(resourceTypesLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{resourceTypesLocalStorageContext,resourceTypes:resourceTypesLocalStorageContext.get(),...this.props})))}}}ResourceTypesLocalStorageContextProvider.__docgenInfo={description:"The resource types local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the resource types in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the resource types in the local storage."},{name:"set",docblock:"Set resourceTypes.\n@param {Array<Object>} resourceTypes The resource types to set.\n@private",modifiers:[],params:[{name:"resourceTypes",description:"The resource types to set.",type:{name:"Array",elements:[{name:"Object"}]},optional:!1}],returns:null,description:"Set resourceTypes."},{name:"get",docblock:"Get the resource types from the local storage and/or init them if not the case already.\n@returns {ResourceTypesCollection|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"ResourceTypesCollection"}]}},description:"Get the resource types from the local storage and/or init them if not the case already."},{name:"loadLocalStorage",docblock:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the resource types in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the resource types in the local storage."}],displayName:"ResourceTypesLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto,XB:()=>resourceTypesV4CollectionDto,Yd:()=>resourceTypesV5CollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)()],resourceTypesV4CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)()],resourceTypesV5CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)()]},"./src/shared/models/entity/totp/totpEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,e:()=>SUPPORTED_TOTP_ALGORITHMS});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SUPPORTED_TOTP_ALGORITHMS=["SHA1","SHA256","SHA512"],DEFAULT_ALGORITHM=SUPPORTED_TOTP_ALGORITHMS[0];class TotpEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["secret_key","period","digits","algorithm"],properties:{secret_key:{type:"string",minLength:1,pattern:/^[A-Z2-7]+=*$/,maxLength:1024},period:{type:"integer",minimum:1},digits:{type:"integer",minimum:6,maximum:8},algorithm:{type:"string",enum:SUPPORTED_TOTP_ALGORITHMS}}}}marshall(){"string"==typeof this._props.secret_key&&(this._props.secret_key=this._props.secret_key?.replace(/(\W|_|\s)/g,"").toUpperCase()),"string"==typeof this._props.algorithm&&(this._props.algorithm=this._props.algorithm?.toUpperCase()),super.marshall()}static createFromDefault(data={},options){return new TotpEntity({...{secret_key:"",period:30,digits:6,algorithm:DEFAULT_ALGORITHM},...data},options)}static createTotpFromUrl(url,options){const totp={secret_key:url.searchParams.get("secret"),algorithm:url.searchParams.get("algorithm")||DEFAULT_ALGORITHM,digits:parseInt(url.searchParams.get("digits"),10)||6,period:parseInt(url.searchParams.get("period"),10)||30};return new TotpEntity(totp,options)}get secretKey(){return this._props.secret_key}get period(){return this._props.period}get digits(){return this._props.digits}get algorithm(){return this._props.algorithm}get hasSecretKey(){return this.secretKey?.length>0}}const __WEBPACK_DEFAULT_EXPORT__=TotpEntity},"./node_modules/uuid/dist/esm-browser/v5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v5});var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js"),validate=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js");const esm_browser_parse=function parse(uuid){if(!(0,validate.A)(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}const esm_browser_v5=function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return(0,stringify.A)(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}("v5",80,(function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}))},"./node_modules/validator/es/lib/util/assertString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function assertString(input){if(!("string"==typeof input||input instanceof String)){var invalidType=_typeof(input);throw null===input?invalidType="null":"object"===invalidType&&(invalidType=input.constructor.name),new TypeError("Expected a string but received a ".concat(invalidType))}}__webpack_require__.d(__webpack_exports__,{A:()=>assertString})}}]);