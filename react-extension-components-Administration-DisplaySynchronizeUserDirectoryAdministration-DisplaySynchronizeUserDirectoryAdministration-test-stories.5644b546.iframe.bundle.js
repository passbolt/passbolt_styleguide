/*! For license information please see react-extension-components-Administration-DisplaySynchronizeUserDirectoryAdministration-DisplaySynchronizeUserDirectoryAdministration-test-stories.5644b546.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[9349],{"./src/react-extension/components/Administration/DisplaySynchronizeUserDirectoryAdministration/DisplaySynchronizeUserDirectoryAdministration.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_DisplaySynchronizeUserDirectoryAdministration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Administration/DisplaySynchronizeUserDirectoryAdministration/DisplaySynchronizeUserDirectoryAdministration.js"),_contexts_Administration_AdministrationUserDirectory_AdministrationUserDirectoryContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationUserDirectory/AdministrationUserDirectoryContext.js"),_DisplaySynchronizeUserDirectoryAdministration_test_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Administration/DisplaySynchronizeUserDirectoryAdministration/DisplaySynchronizeUserDirectoryAdministration.test.data.js"),_test_mock_MockFetch__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/test/mock/MockFetch.js"),_test_mocks_mockApiResponse__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./test/mocks/mockApiResponse.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Administration/DisplaySynchronizeUserDirectoryAdministration",component:_DisplaySynchronizeUserDirectoryAdministration__WEBPACK_IMPORTED_MODULE_1__.A,decorators:[(Story,{args})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Administration_AdministrationUserDirectory_AdministrationUserDirectoryContext__WEBPACK_IMPORTED_MODULE_2__.uA,args,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,args))],parameters:{css:"api_main"}};(new _test_mock_MockFetch__WEBPACK_IMPORTED_MODULE_4__.A).addPostFetchRequest(/directorysync\/synchronize*/,(async()=>(0,_test_mocks_mockApiResponse__WEBPACK_IMPORTED_MODULE_5__._)(_DisplaySynchronizeUserDirectoryAdministration_test_data__WEBPACK_IMPORTED_MODULE_3__.R)));const Initial={args:(0,_DisplaySynchronizeUserDirectoryAdministration_test_data__WEBPACK_IMPORTED_MODULE_3__.G)()},__namedExportsOrder=["Initial"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:"{\n  args: defaultProps()\n}",...Initial.parameters?.docs?.source}}}},"./src/react-extension/components/Administration/DisplaySynchronizeUserDirectoryAdministration/DisplaySynchronizeUserDirectoryAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_DisplayLoadingDialog_DisplayLoadingDialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Administration/DisplayLoadingDialog/DisplayLoadingDialog.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_Administration_AdministrationUserDirectory_AdministrationUserDirectoryContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationUserDirectory/AdministrationUserDirectoryContext.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/img/svg/caret_right.svg");class DisplaySynchronizeUserDirectoryAdministration extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openFullReport:!1,userDirectorySynchronizeResult:null}}bindEventHandlers(){this.handleFullReportClicked=this.handleFullReportClicked.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSynchronize=this.handleSynchronize.bind(this)}async componentDidMount(){try{const result=await this.props.adminUserDirectoryContext.synchronizeUsers();this.setState({loading:!1,userDirectorySynchronizeResult:result})}catch(error){await this.handleError(error)}}async handleError(error){console.error(error),await this.props.actionFeedbackContext.displayError(error.message),this.handleClose()}handleFullReportClicked(){this.setState({openFullReport:!this.state.openFullReport})}handleClose(){this.props.onClose()}handleSynchronize(){this.handleClose()}isLoading(){return this.state.loading}get users(){return this.state.userDirectorySynchronizeResult.users}get groups(){return this.state.userDirectorySynchronizeResult.groups}get usersSuccess(){return this.users.filter((user=>"success"===user.status))}get groupsSuccess(){return this.groups.filter((group=>"success"===group.status))}get usersWarning(){return this.users.filter((user=>"warning"===user.status))}get groupsWarning(){return this.groups.filter((group=>"warning"===group.status))}get usersError(){return this.users.filter((user=>"error"===user.status))}get groupsError(){return this.groups.filter((group=>"error"===group.status))}get usersIgnored(){return this.users.filter((user=>"ignore"===user.status))}get groupsIgnored(){return this.groups.filter((group=>"ignore"===group.status))}hasSuccessResource(){return this.usersSuccess.length>0||this.groupsSuccess.length>0}hasSuccessUserResource(){return this.usersSuccess.length>0}hasSuccessGroupResource(){return this.groupsSuccess.length>0}hasErrorOrIgnoreResource(){return this.usersError.length>0||this.groupsError.length>0||this.usersWarning.length>0||this.groupsWarning.length>0||this.usersIgnored.length>0||this.groupsIgnored.length>0}getFullReport(){let fullReport="";return fullReport=fullReport.concat(this.getUsersFullReport()),fullReport=fullReport.concat(this.getGroupsFullReport()),fullReport}getUsersFullReport(){if(!(this.usersSuccess.length>0||this.usersWarning.length>0||this.usersError.length>0||this.usersIgnored.length>0))return"";let userFullReport="";const usersHeader=`-----------------------------------------------\n${this.translate("Users")}\n-----------------------------------------------\n`;userFullReport=userFullReport.concat(usersHeader);const addMessage=user=>userFullReport=userFullReport.concat(`- ${user.message}\n`);return this.usersSuccess.length>0&&(userFullReport=userFullReport.concat(`\n${this.translate("Success:")}\n`),this.usersSuccess.map(addMessage)),this.usersWarning.length>0&&(userFullReport=userFullReport.concat(`\n${this.translate("Warning:")}\n`),this.usersWarning.map(addMessage)),this.usersError.length>0&&(userFullReport=userFullReport.concat(`\n${this.translate("Errors:")}\n`),this.usersError.map(addMessage)),this.usersIgnored.length>0&&(userFullReport=userFullReport.concat(`\n${this.translate("Ignored:")}\n`),this.usersIgnored.map(addMessage)),userFullReport.concat("\n")}getGroupsFullReport(){if(!(this.groupsSuccess.length>0||this.groupsWarning.length>0||this.groupsError.length>0||this.groupsIgnored.length>0))return"";let groupFullReport="";const groupsHeader=`-----------------------------------------------\n${this.translate("Groups")}\n-----------------------------------------------\n`;groupFullReport=groupFullReport.concat(groupsHeader);const addMessage=group=>groupFullReport=groupFullReport.concat(`- ${group.message}\n`);return this.groupsSuccess.length>0&&(groupFullReport=groupFullReport.concat(`\n${this.translate("Success:")}\n`),this.groupsSuccess.map(addMessage)),this.groupsWarning.length>0&&(groupFullReport=groupFullReport.concat(`\n${this.translate("Warning:")}\n`),this.groupsWarning.map(addMessage)),this.groupsError.length>0&&(groupFullReport=groupFullReport.concat(`\n${this.translate("Errors:")}\n`),this.groupsError.map(addMessage)),this.groupsIgnored.length>0&&(groupFullReport=groupFullReport.concat(`\n${this.translate("Ignored:")}\n`),this.groupsIgnored.map(addMessage)),groupFullReport}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,this.isLoading()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DisplayLoadingDialog_DisplayLoadingDialog__WEBPACK_IMPORTED_MODULE_2__.A,{onClose:this.handleClose,title:this.translate("Synchronize")}),!this.isLoading()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_1__.A,{className:"ldap-simulate-synchronize-dialog",title:this.translate("Synchronize report"),onClose:this.handleClose,disabled:this.isLoading()},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content",onSubmit:this.handleFormSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"The operation was successful."))),this.hasSuccessResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{id:"resources-synchronize"},this.hasSuccessUserResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.translate("{{count}} user has been synchronized.",{count:this.usersSuccess.length})),this.hasSuccessUserResource()&&this.hasSuccessGroupResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),this.hasSuccessGroupResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.translate("{{count}} group has been synchronized.",{count:this.groupsSuccess.length}))),!this.hasSuccessResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{id:"no-resources"}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"No resources have been synchronized.")," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion operation-details "+(this.state.openFullReport?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header",onClick:this.handleFullReportClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Full report")),this.state.openFullReport?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"baeline svg-icon"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_7__.A,{className:"baeline svg-icon"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{className:"full_report",readOnly:!0,value:this.getFullReport()})))),this.hasErrorOrIgnoreResource()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning message no-margin"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Some resources will not be synchronized and will require your attention, see the full report.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/docs/admin/user-provisioning/users-directory/advanced-directory-options/"}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Read the documentation"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{disabled:this.isLoading(),className:"primary button form",type:"button",onClick:this.handleClose},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Ok")))))}}DisplaySynchronizeUserDirectoryAdministration.propTypes={onClose:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,adminUserDirectoryContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_Administration_AdministrationUserDirectory_AdministrationUserDirectoryContext__WEBPACK_IMPORTED_MODULE_5__.e$)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplaySynchronizeUserDirectoryAdministration)));DisplaySynchronizeUserDirectoryAdministration.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindEventHandlers",docblock:"Bind event handlers\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind event handlers"},{name:"handleError",docblock:"Handle operation error.\n@param {object} error The returned error",modifiers:["async"],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle operation error."},{name:"handleFullReportClicked",docblock:"Handle the click on the errors",modifiers:[],params:[],returns:null,description:"Handle the click on the errors"},{name:"handleClose",docblock:"Handle close button click.\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle close button click."},{name:"handleSynchronize",docblock:"Handle synchronize button click.",modifiers:[],params:[],returns:null,description:"Handle synchronize button click."},{name:"isLoading",docblock:"Should input be disabled? True if state is loading\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading"},{name:"users",docblock:"Get users\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get users"},{name:"groups",docblock:"Get groups\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get groups"},{name:"usersSuccess",docblock:"Get users success\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get users success"},{name:"groupsSuccess",docblock:"Get groups success\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get groups success"},{name:"usersWarning",docblock:"Get users success\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get users success"},{name:"groupsWarning",docblock:"Get groups error\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get groups error"},{name:"usersError",docblock:"Get users error\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get users error"},{name:"groupsError",docblock:"Get groups error\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get groups error"},{name:"usersIgnored",docblock:"Get users ignored\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get users ignored"},{name:"groupsIgnored",docblock:"Get groups ignored\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get groups ignored"},{name:"hasSuccessResource",docblock:"Has success resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has success resource"},{name:"hasSuccessUserResource",docblock:"Has success user resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has success user resource"},{name:"hasSuccessGroupResource",docblock:"Has success resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has success resource"},{name:"hasErrorOrIgnoreResource",docblock:"Has error or ignore resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has error or ignore resource"},{name:"getFullReport",docblock:"get the full reports\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"get the full reports"},{name:"getUsersFullReport",docblock:"get the full users report\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"get the full users report"},{name:"getGroupsFullReport",docblock:"get the full groups report\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"get the full groups report"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplaySynchronizeUserDirectoryAdministration",props:{onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},adminUserDirectoryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/ApiAppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>defaultAppContext});var _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),_shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/lib/apiClient/apiClientOptions.js"),_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js");function defaultAppContext(appContext={}){const userSettings=new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_3__.A(_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__.A),siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.A(_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__.A),defaultAppContext1={locale:"en-UK",onRefreshLocaleRequested:jest.fn(),userSettings,siteSettings,trustedDomain:"https://localhost:6006",loggedInUser:{id:userSettings.id,username:"user@passbolt.com",role:{name:"admin"}},port:new _test_mock_MockPort__WEBPACK_IMPORTED_MODULE_4__.A,setContext:jest.fn(),baseUrl:"https://localhost:6006",getApiClientOptions:()=>(new _shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_5__.k).setBaseUrl("https://localhost:6006")};return Object.assign(defaultAppContext1,appContext)}},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/lib/apiClient/apiClientOptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ApiClientOptions});class ApiClientOptions{setBaseUrl(baseUrl){if(!baseUrl)throw new TypeError("ApiClientOption baseUrl is required.");if("string"==typeof baseUrl)try{this.baseUrl=new URL(baseUrl)}catch(error){throw new TypeError("ApiClientOption baseUrl is invalid.",{cause:error})}else{if(!(baseUrl instanceof URL))throw new TypeError("ApiClientOptions baseurl should be a string or URL");this.baseUrl=baseUrl}return this}setResourceName(resourceName){if(!resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName is required.");if("string"!=typeof resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName should be a valid string.");return this.resourceName=resourceName,this}getBaseUrl(){return this.baseUrl}getResourceName(){return this.resourceName}async getHeaders(){const csrfToken=await this.getCsrfToken();if(csrfToken)return{"X-CSRF-Token":csrfToken}}async getCsrfToken(){if("undefined"==typeof browser||void 0===browser.cookies){const csrfToken=document?.cookie?.split("; ")?.find((row=>row.startsWith("csrfToken")))?.split("=");return csrfToken&&2===csrfToken.length?csrfToken[1]:null}const stringUrl=this.baseUrl.toString(),url="/"===stringUrl.slice(-1)?stringUrl:`${stringUrl}/`,csrfCookie=await browser.cookies.get({name:"csrfToken",url});return csrfCookie?.value||null}}}}]);