/*! For license information please see react-extension-components-User-DisplayUserWorkspace-DisplayUserWorkspace-test-stories.e201bf88.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[490,7562],{"./src/react-extension/components/User/DisplayUserWorkspace/DisplayUserWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,ceVersion:()=>ceVersion,default:()=>DisplayUserWorkspace_test_stories,proVersion:()=>proVersion});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),DisplayUsers=__webpack_require__("./src/react-extension/components/User/DisplayUsers/DisplayUsers.js"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),svg_link=__webpack_require__("./src/img/svg/link.svg"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),AccountRecoveryUserContext=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),DisplayUserDetailsInformation=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js"),DisplayUserDetailsGroups=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js"),DisplayUserDetailsPublicKey=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DisplayUserDetailsAccountRecovery=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js"),ManagedClipboardServiceProvider=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js");class DisplayUserDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get user(){return this.props.userWorkspaceContext.details.user}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.user.id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard."))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}isAccountRecoveryEnabled(){return this.props.accountRecoveryContext.isPolicyEnabled()}hasUserIsMissingKeys(){return!(!this.isLoggedInUserAdmin()||!Boolean(this.props.context.siteSettings?.canIUse("metadata")))&&this.user.missing_metadata_key_ids?.length>0}get hasAttentionRequired(){return this.isAccountRecoveryEnabled()&&Boolean(this.user.pending_account_recovery_request)||this.hasUserIsMissingKeys()}get isUserSuspended(){return this.props.context.siteSettings.canIUse("disableUser")&&(0,userUtils.B7)(this.user)}get isUserInactive(){return!this.user.active}render(){return react.createElement("div",{className:"sidebar user"},react.createElement("div",{className:`sidebar-header ${this.isUserInactive?"inactive":""} ${this.isUserSuspended?"suspended":""}`},react.createElement("div",{className:"teaser-image"},react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl,attentionRequired:this.hasAttentionRequired})),react.createElement("div",{className:"title-area"},react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`)),react.createElement("span",{className:"subtitle"},this.user.username)),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this user"),onClick:this.handlePermalinkClick},react.createElement(svg_link.A,null),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this user"))))),react.createElement("div",{className:"sidebar-content"},react.createElement(DisplayUserDetailsInformation.A,null),this.user.active&&react.createElement(DisplayUserDetailsGroups.A,null),this.user.active&&react.createElement(DisplayUserDetailsPublicKey.A,null),this.isAccountRecoveryEnabled()&&this.user.active&&this.isLoggedInUserAdmin()&&react.createElement(DisplayUserDetailsAccountRecovery.A,null)))}}DisplayUserDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,accountRecoveryContext:prop_types_default().object,clipboardContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserDetails_DisplayUserDetails=(0,AppContext.L)((0,AccountRecoveryUserContext.Le)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,ManagedClipboardServiceProvider.nJ)((0,es.CI)("common")(DisplayUserDetails))))));DisplayUserDetails.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"isLoggedInUserAdmin",docblock:"Is the logged in user admin\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the logged in user admin"},{name:"isAccountRecoveryEnabled",docblock:"Is the account recovery enabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the account recovery enabled"},{name:"hasUserIsMissingKeys",docblock:"Check if selected or current user is missing metadata keys\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if selected or current user is missing metadata keys"},{name:"hasAttentionRequired",docblock:"Get attention required\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Get attention required"},{name:"isUserSuspended",docblock:"Returns true if the feature flag disableUser is enabled and the given user is suspended.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the feature flag disableUser is enabled and the given user is suspended."},{name:"isUserInactive",docblock:"Returns true if the given user is not active.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the given user is not active."}],displayName:"DisplayUserDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayUserWorkspaceActions=__webpack_require__("./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js"),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),FilterUsersByGroup=__webpack_require__("./src/react-extension/components/User/FilterUsersByGroups/FilterUsersByGroup.js"),FilterUsersByShortcut=__webpack_require__("./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js"),FilterUsersByText=__webpack_require__("./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js"),DisplayUserGroupDetailsInformation=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js"),GroupAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),DisplayUserGroupDetailsMembers=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js");class DisplayUserGroupDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/groups/view/${this.group.id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard."))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}render(){return react.createElement("div",{className:"sidebar group"},react.createElement("div",{className:"sidebar-header"},react.createElement("div",{className:"teaser-image"},react.createElement(GroupAvatar.A,{group:this.group})),react.createElement("div",{className:"title-area"},react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name sidebar-header-title"},this.group.name)),react.createElement("span",{className:"subtitle"},react.createElement(es.x6,null,"Group"))),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this group"),onClick:this.handlePermalinkClick},react.createElement(svg_link.A,null),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this group"))))),react.createElement("div",{className:"sidebar-content"},react.createElement(DisplayUserGroupDetailsInformation.A,null),react.createElement(DisplayUserGroupDetailsMembers.A,null)))}}DisplayUserGroupDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,clipboardContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserGroupDetails_DisplayUserGroupDetails=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,UserWorkspaceContext.zY)((0,ManagedClipboardServiceProvider.nJ)((0,es.CI)("common")(DisplayUserGroupDetails)))));DisplayUserGroupDetails.__docgenInfo={description:"This component displays the details of a users group",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"group",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayUserWorkspaceMainActions=__webpack_require__("./src/react-extension/components/User/DisplayUserWorkspaceMainActions/DisplayUserWorkspaceMainActions.js"),FilterUsersByBreadcrumb=__webpack_require__("./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js"),HandleReviewAccountRecoveryRequestWorkflow=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js");class HandleReviewAccountRecoveryRequestRoute extends react.Component{componentDidMount(){this.handleRoute()}async handleRoute(){const accountRecoveryRequestId=this.props.match.params.accountRecoveryRequestId;let accountRecoveryRequest;try{accountRecoveryRequest=await this.props.context.port.request("passbolt.account-recovery.get-request",accountRecoveryRequestId)}catch(error){return void this.handleAccountRecoveryRequestNotFound()}const user=this.props.context.users.find((user=>user.id===accountRecoveryRequest.user_id));user?(await this.props.userWorkspaceContext.onUserSelected.single(user),this.props.workflowContext.start(HandleReviewAccountRecoveryRequestWorkflow.A,{accountRecoveryRequest})):this.handleAccountRecoveryRequestUserNotFound()}handleAccountRecoveryRequestNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The account recovery request does not exist."))}handleAccountRecoveryRequestUserNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The user who requested an account recovery does not exist."))}render(){return react.createElement(react.Fragment,null)}}HandleReviewAccountRecoveryRequestRoute.propTypes={actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,history:prop_types_default().object,match:prop_types_default().object,t:prop_types_default().func,userWorkspaceContext:prop_types_default().any,workflowContext:prop_types_default().any};const HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,WorkflowContext.AV)((0,react_router.withRouter)((0,es.CI)("common")(HandleReviewAccountRecoveryRequestRoute))))));HandleReviewAccountRecoveryRequestRoute.__docgenInfo={description:"Handle the review account recovery request route.\n- Select the user in the grid.\n-Display the review account recovery request dialog.",methods:[{name:"handleRoute",docblock:"Handle the review account recovery request route.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the review account recovery request route."},{name:"handleAccountRecoveryRequestNotFound",docblock:"The account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The account recovery request cannot be found."},{name:"handleAccountRecoveryRequestUserNotFound",docblock:"The user who created the account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The user who created the account recovery request cannot be found."}],displayName:"HandleReviewAccountRecoveryRequestRoute",props:{actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},match:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1}}};var DisplayHttpError=__webpack_require__("./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js"),arrow_left=__webpack_require__("./src/img/svg/arrow_left.svg"),info=__webpack_require__("./src/img/svg/info.svg"),select_user=__webpack_require__("./src/img/svg/select_user.svg");class DisplayUserWorkspaceEmptyDetails extends react.Component{render(){return react.createElement("div",{className:"sidebar empty"},react.createElement(select_user.A,null),react.createElement("p",null,react.createElement(es.x6,null,"Select a user or a group to see the details.")))}}const DisplayUserWorkspaceEmptyDetails_DisplayUserWorkspaceEmptyDetails=(0,es.CI)("common")(DisplayUserWorkspaceEmptyDetails);DisplayUserWorkspaceEmptyDetails.__docgenInfo={description:"",methods:[],displayName:"DisplayUserWorkspaceEmptyDetails"};var Footer=__webpack_require__("./src/react-extension/components/Common/Footer/Footer.js"),DisplayUsersWorkspaceFilterBar=__webpack_require__("./src/react-extension/components/User/DisplayUsersWorkspaceFilterBar/DisplayUsersWorkspaceFilterBar.js"),dist=__webpack_require__("./node_modules/debounce-promise/dist/index.js"),dist_default=__webpack_require__.n(dist),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),WorkspaceSwitcher=__webpack_require__("./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js"),roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js");class DisplayUserWorkspace extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.createRefs(),window.addEventListener("resize",this.handleWindowResizeEventDebounced)}bindCallbacks(){this.handleGoBack=this.handleGoBack.bind(this),this.handleDetailsLockedEvent=this.handleDetailsLockedEvent.bind(this),this.handleWindowResizeEventDebounced=dist_default()(this.handleWindowResizeEvent.bind(this),50)}createRefs(){this.actionsBar=react.createRef(),this.actionsFilter=react.createRef(),this.actionsButton=react.createRef(),this.actionsSecondary=react.createRef()}componentDidMount(){this.displayOnlyButtonIconsIfButtonsOverlay()}componentDidUpdate(){this.displayOnlyButtonIconsIfButtonsOverlay()}handleWindowResizeEvent(){this.displayOnlyButtonIconsIfButtonsOverlay()}displayOnlyButtonIconsIfButtonsOverlay(){this.actionsBar.current?.classList.remove("icon-only");const offsetWidthActionBar=this.actionsBar.current?.offsetWidth,offsetActionsButton=this.actionsFilter.current?this.actionsFilter.current.offsetWidth:this.actionsButton.current?.offsetWidth,offsetActionsSecondary=this.actionsSecondary.current?.offsetWidth;offsetActionsButton+offsetActionsSecondary+22>offsetWidthActionBar&&this.actionsBar.current.classList.add("icon-only")}get shouldDisplayUserDetails(){const{details}=this.props.userWorkspaceContext;return details.user}get shouldDisplayGroupDetails(){const{details}=this.props.userWorkspaceContext;return details.group}get isAccessAllowed(){return this.props.userWorkspaceContext.isAccessAllowed()}handleGoBack(){this.props.navigationContext.onGoToPasswordsRequested()}get shouldDisplayEmptyDetails(){const{details}=this.props.userWorkspaceContext;return!details.user&&!details.group}get isUserAdmin(){const loggedInUser=this.props.context.loggedInUser;return loggedInUser?.role?.name===roleEntity.A.ROLE_ADMIN&&this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.ADMINSTRATION_VIEW_WORKSPACE)}hasDetailsLocked(){return this.props.userWorkspaceContext.details.locked}handleDetailsLockedEvent(){this.props.userWorkspaceContext.onDetailsLocked()}render(){return react.createElement(react.Fragment,null,this.props.context.users&&react.createElement(react_router.Route,{path:"/app/account-recovery/requests/review/:accountRecoveryRequestId",component:HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute}),react.createElement("div",{className:"panel main"},this.isAccessAllowed?react.createElement(react.Fragment,null,react.createElement("div",{className:"panel left"},react.createElement("div",{className:"sidebar-content"},react.createElement("div",{className:"top-bar-left-navigation"},react.createElement("div",{className:"navigation"},react.createElement("button",{type:"button",className:"button-transparent back",onClick:this.handleGoBack},react.createElement(arrow_left.A,null)),react.createElement("span",{className:"title users"},react.createElement(es.x6,null,"Users & Groups")))),react.createElement(DisplayUserWorkspaceMainActions.A,null),react.createElement("div",{className:"sidebar-content-left"},react.createElement(FilterUsersByShortcut.A,null),react.createElement(FilterUsersByGroup.A,null)))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"},react.createElement("div",{className:"header-left"},react.createElement(FilterUsersByText.A,null)),react.createElement("div",{className:"header-right"},react.createElement(WorkspaceSwitcher.A,{isUserAdmin:this.isUserAdmin,isUserWorkspaceVisible:!0,currentWorkspace:WorkspaceSwitcher.K.USER_AND_GROUPS}),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser}))),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(FilterUsersByBreadcrumb.A,null),react.createElement("div",{className:"action-bar",ref:this.actionsBar},this.props.userWorkspaceContext.selectedUsers?.length>0?react.createElement(DisplayUserWorkspaceActions.A,{actionsButtonRef:this.actionsButton}):react.createElement(DisplayUsersWorkspaceFilterBar.A,{actionsFilterRef:this.actionsFilter}),react.createElement("div",{className:"actions-secondary",ref:this.actionsSecondary},react.createElement("button",{type:"button",className:"button-toggle button-action button-action-icon info "+(this.hasDetailsLocked()?"active":""),onClick:this.handleDetailsLockedEvent},react.createElement(info.A,null),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"View detail")))))),react.createElement(DisplayUsers.A,null)),this.hasDetailsLocked()&&react.createElement("div",{className:"panel aside"},this.shouldDisplayEmptyDetails&&react.createElement(DisplayUserWorkspaceEmptyDetails_DisplayUserWorkspaceEmptyDetails,null),this.shouldDisplayUserDetails&&react.createElement(DisplayUserDetails_DisplayUserDetails,null),this.shouldDisplayGroupDetails&&react.createElement(DisplayUserGroupDetails_DisplayUserGroupDetails,null),react.createElement(Footer.A,null))))):react.createElement(DisplayHttpError.A,{errorCode:403})))}}DisplayUserWorkspace.propTypes={context:prop_types_default().any,userWorkspaceContext:prop_types_default().any,history:prop_types_default().any,rbacContext:prop_types_default().any,navigationContext:prop_types_default().any,t:prop_types_default().func};const DisplayUserWorkspace_DisplayUserWorkspace=(0,react_router.withRouter)((0,AppContext.L)((0,RbacContext.x6)((0,NavigationContext.qN)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserWorkspace))))));DisplayUserWorkspace.__docgenInfo={description:"This component is a container for all the user workspace features",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleWindowResizeEvent",docblock:"Handle window resize event",modifiers:[],params:[],returns:null,description:"Handle window resize event"},{name:"displayOnlyButtonIconsIfButtonsOverlay",docblock:"calculate the width pf buttons,\nif overlay the container, add classname to display only icons, else do nothing",modifiers:[],params:[],returns:null,description:"calculate the width pf buttons,\nif overlay the container, add classname to display only icons, else do nothing"},{name:"shouldDisplayUserDetails",docblock:"Returns true if the user details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user details must be displayed"},{name:"shouldDisplayGroupDetails",docblock:"Returns true if the group details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the group details must be displayed"},{name:"isAccessAllowed",docblock:"Returns true if current user is allowed to access the user workspace\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if current user is allowed to access the user workspace"},{name:"handleGoBack",docblock:"Handle go back to resource workspace",modifiers:[],params:[],returns:null,description:"Handle go back to resource workspace"},{name:"shouldDisplayEmptyDetails",docblock:"Returns true if there is currently if nothing is selected in the workspace.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if there is currently if nothing is selected in the workspace."},{name:"isUserAdmin",docblock:"Returns true if the current user is an admin.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user is an admin."},{name:"hasDetailsLocked",docblock:"Has lock for the detail display\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has lock for the detail display"},{name:"handleDetailsLockedEvent",docblock:"Handle view detail click event",modifiers:[],params:[],returns:null,description:"Handle view detail click event"}],displayName:"DisplayUserWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var ManageContextualMenu=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js"),ManageWorkflows=__webpack_require__("./src/react-extension/components/Common/Workflow/ManageWorkflows/ManageWorkflows.js"),ManageAnnouncements=__webpack_require__("./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js"),ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),ExtAppContext=__webpack_require__("./src/react-extension/contexts/ExtAppContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js");const DisplayUserWorkspace_test_stories={title:"Workspaces/User",component:DisplayUserWorkspace_DisplayUserWorkspace,parameters:{docs:{description:{component:"DisplayUserWorkspace stories"}}}},ExtApp=({...args})=>react.createElement(react_router.MemoryRouter,{initialEntries:["/app/users"]},react.createElement(ExtAppContext.A,{storage:args.storage,port:args.port},react.createElement(RbacContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(NavigationContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(react_router.Route,{path:["/app/account-recovery/requests/review/:accountRecoveryRequestId","/app/groups/view/:selectedGroupId","/app/groups/edit/:selectedGroupId","/app/users/view/:selectedUserId","/app/users"]},react.createElement(UserWorkspaceContext.Ay,null,react.createElement(ManageDialogs.A,null),react.createElement(ManageWorkflows.A,null),react.createElement(ManageContextualMenu.A,null),react.createElement(ManageAnnouncements.A,null),react.createElement("div",{id:"container",className:"page user"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000",style:{margin:"-1rem"}},react.createElement(DisplayUserWorkspace_DisplayUserWorkspace,null))))))))))),storage=(0,mockStorage.A)(),proVersion={args:{port:(0,mockPort.A)(storage),storage},render:ExtApp},ceStorage=(0,mockStorage.A)(),cePort=(0,mockPort.A)(ceStorage);cePort.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B));const ceVersion={args:{port:cePort,storage:ceStorage},render:ExtApp},__namedExportsOrder=["proVersion","ceVersion"];proVersion.parameters={...proVersion.parameters,docs:{...proVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: port,\n    storage: storage\n  },\n  render: ExtApp\n}",...proVersion.parameters?.docs?.source}}},ceVersion.parameters={...ceVersion.parameters,docs:{...ceVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: cePort,\n    storage: ceStorage\n  },\n  render: ExtApp\n}",...ceVersion.parameters?.docs?.source}}}},"./src/img/svg/arrow_left.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgArrowLeft(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 14.25 3.75 9 9 3.75M14.25 9H3.75"})))}},"./src/img/svg/copy.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCopy(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#copy_svg__clip0_57_467942)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M15 6H7.5A1.5 1.5 0 0 0 6 7.5V15a1.5 1.5 0 0 0 1.5 1.5H15a1.5 1.5 0 0 0 1.5-1.5V7.5A1.5 1.5 0 0 0 15 6"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M3 12c-.825 0-1.5-.675-1.5-1.5V3c0-.825.675-1.5 1.5-1.5h7.5c.825 0 1.5.675 1.5 1.5"}))))}},"./src/img/svg/home.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHome(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.803.866-7.186 5.56v8.814a1.59 1.59 0 0 0 1.592 1.592H6.62V9.759h4.458v7.107h3.411a1.56 1.56 0 0 0 1.137-.466 1.6 1.6 0 0 0 .467-1.137V6.427z"})))}},"./src/img/svg/select_user.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSelectUser(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"none",viewBox:"0 0 64 64"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M26.667 29.333c5.89 0 10.666-4.775 10.666-10.666S32.558 8 26.667 8 16 12.776 16 18.667c0 5.89 4.776 10.666 10.667 10.666M27.467 40h-8.8A10.667 10.667 0 0 0 8 50.667V56M36.491 36.083l8.87 22.176 3.77-9.536 9.536-3.77z"})))}},"./src/img/svg/triangle_alert.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgTriangleAlert(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m16.298 13.5-6-10.5a1.5 1.5 0 0 0-2.61 0l-6 10.5A1.5 1.5 0 0 0 3 15.75h12a1.5 1.5 0 0 0 1.297-2.25M9 6.75v3M9 12.75h.008"})))}},"./src/img/svg/user_cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUserCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.5 13.5a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5M6.75 8.25a3 3 0 1 0 0-6 3 3 0 0 0 0 6M7.5 11.25h-3a3 3 0 0 0-3 3v1.5M16.275 12.3l-.675-.225M11.4 10.425l-.675-.225M12.45 14.025l.225-.675M14.325 9.15l.225-.675M14.7 14.025l-.3-.75M12.6 9.225l-.3-.75M10.725 12.45l.75-.3M15.525 10.35l.75-.3"})))}},"./src/img/svg/user_x.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUserX(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15.75v-1.5a3 3 0 0 0-3-3H4.5a3 3 0 0 0-3 3v1.5M6.75 8.25a3 3 0 1 0 0-6 3 3 0 0 0 0 6M12.75 6l3.75 3.75M16.5 6l-3.75 3.75"})))}},"./src/react-extension/components/Announcement/ManageAnnouncements/ManageAnnouncements.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js");class ManageAnnouncements extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){this.props.announcementContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.announcementContext.announcements.map((({key,Announcement,AnnouncementProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Announcement,{key,onClose:()=>this.close(key),...AnnouncementProps}))),this.props.children)}}ManageAnnouncements.propTypes={announcementContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_AnnouncementContext__WEBPACK_IMPORTED_MODULE_1__.w2)(ManageAnnouncements);ManageAnnouncements.__docgenInfo={description:"This component acts as an anchor for the different project announcements.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th announcement",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th announcement"}],displayName:"ManageAnnouncements",props:{announcementContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js");class ManageContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.createRefs(),this.bindCallback()}bindCallback(){this.handleHide=this.handleHide.bind(this)}createRefs(){this.elementRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleHide(index){this.props.contextualMenuContext.hide(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.elementRef},this.props.contextualMenuContext.contextualMenus.map(((contextualMenu,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(contextualMenu.ContextualMenuComponent,{key:index,hide:()=>this.handleHide(index),...contextualMenu.componentProps}))))}}ManageContextualMenu.propTypes={contextualMenuContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__.t6)(ManageContextualMenu);ManageContextualMenu.__docgenInfo={description:"This component acts as an anchor for the different project contextual menus.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleHide",docblock:"Hide the contextual menu\n@param {int} index The contextual menu to close",modifiers:[],params:[{name:"index",description:"The contextual menu to close",type:{name:"int"},optional:!1}],returns:null,description:"Hide the contextual menu"}],displayName:"ManageContextualMenu",props:{contextualMenuContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayHttpError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get errorTitle(){return{403:this.props.t("Whoops... access is denied"),404:this.props.t("Whoops... looks like you are lost.")}[this.props.errorCode]||""}get errorDescription(){return{403:this.props.t("Access is restricted to authorized users only."),404:this.props.t("We could not find the page you are looking for.")}[this.props.errorCode]||""}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"http-error main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.props.errorCode),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,this.errorTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.errorDescription)))))}}DisplayHttpError.propTypes={errorCode:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayHttpError);DisplayHttpError.__docgenInfo={description:"This component allows to display an HTTP error page",methods:[{name:"errorTitle",docblock:"Returns the title text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the title text associated to the HTTP error code passed as props."},{name:"errorDescription",docblock:"Returns the description text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the description text associated to the HTTP error code passed as props."}],displayName:"DisplayHttpError",props:{errorCode:{description:"",type:{name:"number"},required:!0},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Navigation/Search/SearchBar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_search_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/search.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/close.svg");class SearchBar extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createReferences()}bindCallbacks(){this.handleChangeEvent=this.handleChangeEvent.bind(this),this.clearSearchInput=this.clearSearchInput.bind(this)}createReferences(){this.searchInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleChangeEvent(event){const text=event.target.value;this.props.onSearch&&this.props.onSearch(text)}clearSearchInput(){this.searchInputRef.current.focus(),this.props.onSearch("")}get placeholderLabel(){return this.props.placeholder||this.props.t("Search")}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col2 search-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input search required "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Search")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:this.searchInputRef,className:"required",type:"search",disabled:this.props.disabled,onChange:this.handleChangeEvent,placeholder:this.placeholderLabel,value:this.props.value}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search-button-wrapper"},this.props.value?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button button-transparent",name:"clear-button",type:"button",onClick:this.clearSearchInput},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Clear"))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_search_svg__WEBPACK_IMPORTED_MODULE_2__.A,{name:"search"}))))))}}SearchBar.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,onSearch:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,value:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func},SearchBar.defaultProps={disabled:!1};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(SearchBar);SearchBar.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"handleChangeEvent",docblock:"Handle search input change\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle search input change"},{name:"clearSearchInput",docblock:"Handle clearing of search text",modifiers:[],params:[],returns:null,description:"Handle clearing of search text"},{name:"placeholderLabel",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"SearchBar",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onSearch:{description:"",type:{name:"func"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},value:{description:"",type:{name:"string"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Workflow/ManageWorkflows/ManageWorkflows.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageWorkflows extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.stop=this.stop.bind(this)}async stop(index){this.props.workflowContext.stop(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.workflowContext.workflows.map((({key,Workflow,workflowProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Workflow,{key,onStop:()=>this.stop(key),...workflowProps}))),this.props.children)}}ManageWorkflows.propTypes={workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_1__.AV)(ManageWorkflows);ManageWorkflows.__docgenInfo={description:"This component acts as an anchor for the different project workflows.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"stop",docblock:"Removes the index-th workflow",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th workflow"}],displayName:"ManageWorkflows",props:{workflowContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_31__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/User/EditUser/EditUser.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUser.js"),_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUserWithConflicts.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/User/ConfirmDisableUserMFA/ConfirmDisableUserMFA.js"),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/img/svg/link.svg"),_img_svg_send_svg__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/img/svg/send.svg"),_img_svg_fingerprint_disabled_svg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/img/svg/fingerprint_disabled.svg"),_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/img/svg/buoy.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/img/svg/close.svg"),_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/img/svg/copy.svg"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_email_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/img/svg/email.svg"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/img/svg/delete.svg"),_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/img/svg/edit.svg"),_img_svg_metadata_key_svg__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/img/svg/metadata_key.svg"),_ConfirmShareMissingMetadataKeys_ConfirmShareMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/react-extension/components/User/ConfirmShareMissingMetadataKeys/ConfirmShareMissingMetadataKeys.js"),_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js");class DisplayUserWorkspaceActions extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleDisableMfaEvent=this.handleDisableMfaEvent.bind(this),this.handleCopyPermalinkEvent=this.handleCopyPermalinkEvent.bind(this),this.handleCopyEmailClickEvent=this.handleCopyEmailClickEvent.bind(this),this.handleCopyPublicKeyEvent=this.handleCopyPublicKeyEvent.bind(this),this.handleResendInviteClickEvent=this.handleResendInviteClickEvent.bind(this),this.handleReviewRecoveryRequestEvent=this.handleReviewRecoveryRequestEvent.bind(this),this.handleClearSelectionClick=this.handleClearSelectionClick.bind(this),this.handleShareMissingMetadataKeysEvent=this.handleShareMissingMetadataKeysEvent.bind(this)}get canDelete(){return this.selectedUser&&this.props.context.loggedInUser.id!==this.selectedUser.id}handleCopyPermalinkEvent(){this.copyPermalink()}async handleCopyEmailClickEvent(){await this.props.clipboardContext.copy(this.selectedUser.username,this.translate("The email address has been copied to clipboard."))}async handleCopyPublicKeyEvent(){const gpgKeyInfo=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.selectedUser.id);await this.props.clipboardContext.copy(gpgKeyInfo?.armored_key,this.translate("The public key has been copied to clipboard."))}handleResendInviteClickEvent(){this.resendInvite()}handleEditClickEvent(){const editUserDialogProps={id:this.selectedUser.id};this.props.context.setContext({editUserDialogProps}),this.props.dialogContext.open(_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_3__.A)}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.users.delete-dry-run",this.selectedUser.id),this.displayDeleteUserDialog()}catch(error){"DeleteDryRunError"===error.name?this.displayDeleteUserWithConflictsDialog(error.errors):this.handleError(error)}}displayDeleteUserDialog(){const deleteUserDialogProps={user:this.selectedUser};this.props.context.setContext({deleteUserDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_5__.A)}displayDeleteUserWithConflictsDialog(errors){const deleteUserWithConflictsDialogProps={user:this.selectedUser,errors};this.props.context.setContext({deleteUserWithConflictsDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_6__.A)}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_7__.A,errorDialogProps)}handleDisableMfaEvent(){this.disableMFA()}handleReviewRecoveryRequestEvent(){const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_11__.A,{accountRecoveryRequestId})}handleShareMissingMetadataKeysEvent(){const shareMissingMetadataKeysDialogProps={user:this.selectedUser};this.props.dialogContext.open(_ConfirmShareMissingMetadataKeys_ConfirmShareMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_29__.A,shareMissingMetadataKeysDialogProps)}get selectedUser(){return this.props.userWorkspaceContext.selectedUsers[0]}get hasMoreActionAllowed(){return this.hasOneUserSelected()}get canIUseMfa(){return this.hasOneUserSelected()&&this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.selectedUser.is_mfa_enabled}get canIUseResend(){return!this.isActiveUser}get isActiveUser(){return this.selectedUser?.active}get canIReviewAccountRecoveryRequest(){return this.hasOneUserSelected()&&this.props.context.siteSettings.canIUse("accountRecovery")&&Boolean(this.selectedUser.pending_account_recovery_request)}get canIShareMissingMetadataKeys(){return this.hasOneUserSelected()&&this.props.context.siteSettings.canIUse("metadata")&&this.selectedUser.missing_metadata_key_ids?.length>0&&this.props.context.loggedInUser.id!==this.selectedUser.id}hasOneUserSelected(){return 1===this.props.userWorkspaceContext.selectedUsers.length}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}disableMFA(){this.props.dialogContext.open(_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_9__.A)}async copyPermalink(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.selectedUser.id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard."))}resendInvite(){this.props.context.port.request("passbolt.users.resend-invite",this.selectedUser.username).then(this.onResendInviteSuccess.bind(this)).catch(this.handleError.bind(this))}onResendInviteSuccess(){this.props.actionFeedbackContext.displaySuccess(this.translate("The invite has been resent successfully"))}async handleClearSelectionClick(){await this.props.userWorkspaceContext.onUserSelected.none()}get translate(){return this.props.t}render(){const count=this.props.userWorkspaceContext.selectedUsers?.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions",ref:this.props.actionsButtonRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,this.hasOneUserSelected()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"copy-action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_13__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_14__.A,{className:"button-action-contextual"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_22__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_23__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_15__.A,{className:"menu-action-contextual"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_16__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"copy-user-email",type:"button",className:"no-border",onClick:this.handleCopyEmailClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_email_svg__WEBPACK_IMPORTED_MODULE_24__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy email address")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_16__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"copy-user-permalink",type:"button",className:"no-border",onClick:this.handleCopyPermalinkEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_17__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy permalink")))),this.isActiveUser&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_16__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"copy-user-public-key",type:"button",className:"no-border",onClick:this.handleCopyPublicKeyEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_25__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy public key"))))))),this.isLoggedInUserAdmin()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.hasOneUserSelected()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"edit-user",type:"button",className:"button-action-contextual",onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_27__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Edit")))),this.canDelete&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"delete-user",type:"button",className:"button-action-contextual",onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_26__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Delete")))),this.canIUseResend&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"resend-invite-user",className:"button-action-contextual",type:"button",onClick:this.handleResendInviteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_send_svg__WEBPACK_IMPORTED_MODULE_18__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Resend invite")))),this.canIUseMfa&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"disable-mfa-action",className:"button-action-contextual",type:"button",onClick:this.handleDisableMfaEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_fingerprint_disabled_svg__WEBPACK_IMPORTED_MODULE_19__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Disable MFA")))),this.canIReviewAccountRecoveryRequest&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"review-recovery",className:"button-action-contextual",type:"button",onClick:this.handleReviewRecoveryRequestEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Review recovery request")))),this.canIShareMissingMetadataKeys&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"share-metadata-keys",className:"button-action-contextual",type:"button",onClick:this.handleShareMissingMetadataKeysEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_metadata_key_svg__WEBPACK_IMPORTED_MODULE_28__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Share metadata keys")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,{count},{count}," selected")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent inline",onClick:this.handleClearSelectionClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_21__.A,null))))}}DisplayUserWorkspaceActions.propTypes={actionsButtonRef:prop_types__WEBPACK_IMPORTED_MODULE_31___default().object,context:prop_types__WEBPACK_IMPORTED_MODULE_31___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_31___default().any,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_31___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_31___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_31___default().object,clipboardContext:prop_types__WEBPACK_IMPORTED_MODULE_31___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_31___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_8__.ot)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_12__.AV)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_30__.nJ)((0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.CI)("common")(DisplayUserWorkspaceActions)))))));DisplayUserWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on user",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"canDelete",docblock:"Returns true if the current user can delete the current selected user",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can delete the current selected user"},{name:"handleCopyPermalinkEvent",docblock:"Handle the will of copying the user permalink",modifiers:[],params:[],returns:null,description:"Handle the will of copying the user permalink"},{name:"handleCopyEmailClickEvent",docblock:"Handle the will of copying the user email address",modifiers:["async"],params:[],returns:null,description:"Handle the will of copying the user email address"},{name:"handleCopyPublicKeyEvent",docblock:"Handle the will of copying the user public key",modifiers:["async"],params:[],returns:null,description:"Handle the will of copying the user public key"},{name:"handleResendInviteClickEvent",docblock:"Handle the will of",modifiers:[],params:[],returns:null,description:"Handle the will of"},{name:"handleEditClickEvent",docblock:"Handle edit click event",modifiers:[],params:[],returns:null,description:"Handle edit click event"},{name:"handleDeleteClickEvent",docblock:"Handle delete click event",modifiers:["async"],params:[],returns:null,description:"Handle delete click event"},{name:"displayDeleteUserDialog",docblock:"Display delete user dialog when there is not conflict to solve",modifiers:[],params:[],returns:null,description:"Display delete user dialog when there is not conflict to solve"},{name:"displayDeleteUserWithConflictsDialog",docblock:"Display delete user dialog when there is conflict to solve.",modifiers:[],params:[{name:"errors",optional:!1}],returns:null,description:"Display delete user dialog when there is conflict to solve."},{name:"handleError",docblock:"Display error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Display error dialog"},{name:"handleDisableMfaEvent",docblock:"Handle the will of disable MFA for a user",modifiers:[],params:[],returns:null,description:"Handle the will of disable MFA for a user"},{name:"handleReviewRecoveryRequestEvent",docblock:"Handle review recovery request click event",modifiers:[],params:[],returns:null,description:"Handle review recovery request click event"},{name:"handleShareMissingMetadataKeysEvent",docblock:"Handle share missing metadata keys click event",modifiers:[],params:[],returns:null,description:"Handle share missing metadata keys click event"},{name:"selectedUser",docblock:"Get selected user\n@returns {user|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"user"}]}},description:"Get selected user"},{name:"hasMoreActionAllowed",docblock:"Returns true if the more actions are available",modifiers:["get"],params:[],returns:null,description:"Returns true if the more actions are available"},{name:"canIUseMfa",docblock:"Can the logged in user use the mfa capability.",modifiers:["get"],params:[],returns:null,description:"Can the logged in user use the mfa capability."},{name:"canIUseResend",docblock:"Returns true if the logged in user can use the resend capability.",modifiers:["get"],params:[],returns:null,description:"Returns true if the logged in user can use the resend capability."},{name:"isActiveUser",docblock:"Returns true if the selected user is active",modifiers:["get"],params:[],returns:null,description:"Returns true if the selected user is active"},{name:"canIReviewAccountRecoveryRequest",docblock:"Check if the user can use the review recovery request capability.",modifiers:["get"],params:[],returns:null,description:"Check if the user can use the review recovery request capability."},{name:"canIShareMissingMetadataKeys",docblock:"Check if the user can use the share missing data key capability.",modifiers:["get"],params:[],returns:null,description:"Check if the user can use the share missing data key capability."},{name:"hasOneUserSelected",docblock:"Check if the users workspace has one user selected.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the users workspace has one user selected."},{name:"isLoggedInUserAdmin",docblock:"Can update the resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the resource"},{name:"disableMFA",docblock:"Disable the selected user's MFA",modifiers:[],params:[],returns:null,description:"Disable the selected user's MFA"},{name:"copyPermalink",docblock:"Copy the user permalink",modifiers:["async"],params:[],returns:null,description:"Copy the user permalink"},{name:"resendInvite",docblock:"Resend an invite to the given user",modifiers:[],params:[],returns:null,description:"Resend an invite to the given user"},{name:"onResendInviteSuccess",docblock:"Whenever the resend invite succeeds",modifiers:[],params:[],returns:null,description:"Whenever the resend invite succeeds"},{name:"handleClearSelectionClick",docblock:"Handle the event on the 'close' icon to clear the current selection.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the event on the 'close' icon to clear the current selection."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserWorkspaceActions",props:{actionsButtonRef:{description:"",type:{name:"object"},required:!1},context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/DisplayUsersWorkspaceFilterBar/DisplayUsersWorkspaceFilterBar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_user_cog_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/img/svg/user_cog.svg"),_img_svg_user_x_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/user_x.svg"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/close.svg"),react_router_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js");class DisplayUsersWorkspaceFilterBar extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleSuspendedStatusClick=this.handleSuspendedStatusClick.bind(this),this.handleRemoveFilterClick=this.handleRemoveFilterClick.bind(this)}get isAllItemsFilterToDisplay(){return this.props.userWorkspaceContext.filter.type!==_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_11__.aj.SUSPENDED_USER}get displaySelectedFilter(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_11__.aj.SUSPENDED_USER?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_user_x_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Suspended"))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}handleSuspendedStatusClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_11__.aj.SUSPENDED_USER};this.props.history.push({pathname:"/app/users",state:{filter}})}handleRemoveFilterClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ALL};this.props.history.push({pathname:"/app/users",state:{filter}})}render(){const shouldDisplayAllStatusDropdown=this.isAllItemsFilterToDisplay;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-filter",ref:this.props.actionsFilterRef},shouldDisplayAllStatusDropdown&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_4__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_3__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_user_cog_svg__WEBPACK_IMPORTED_MODULE_7__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"All statuses")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_5__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_6__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handleSuspendedStatusClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_user_x_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Suspended")))))),!shouldDisplayAllStatusDropdown&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button button-action-filtered"},this.displaySelectedFilter,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"divider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent",onClick:this.handleRemoveFilterClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"close"})))))}}DisplayUsersWorkspaceFilterBar.propTypes={actionsFilterRef:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.withRouter)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_11__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUsersWorkspaceFilterBar)));DisplayUsersWorkspaceFilterBar.__docgenInfo={description:"This component allows to filter resources",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"isAllItemsFilterToDisplay",docblock:"Is all items filter\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is all items filter"},{name:"displaySelectedFilter",docblock:"Get selected filter to display\n@returns {Element}",modifiers:["get"],params:[],returns:{type:{name:"Element"}},description:"Get selected filter to display"},{name:"handleSuspendedStatusClick",docblock:'Whenever the filter "Items I own" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Items I own" has been selected'},{name:"handleRemoveFilterClick",docblock:"Whenever a filter has been removed go back to all items filter",modifiers:[],params:[],returns:null,description:"Whenever a filter has been removed go back to all items filter"}],displayName:"DisplayUsersWorkspaceFilterBar",props:{actionsFilterRef:{description:"",type:{name:"object"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/EditUser/EditUser.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_Error_InputValidator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/lib/Error/InputValidator.js"),_shared_constants_inputs_const__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/constants/inputs.const.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),luxon__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/attention.svg"),_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/img/svg/info.svg");class EditUser extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props,context){super(props,context),this.state=this.defaultState,this.createInputRefs(),this.bindEventHandlers()}get defaultState(){const user=this.props.context.users.find((user=>user.id===this.props.context.editUserDialogProps.id)),role=this.props.context.roles.find((role=>role.id===user.role_id)),disabled=user.disabled?new Date(user.disabled):null;return{loading:!0,processing:!1,first_name:user.profile.first_name,first_nameError:null,first_nameWarning:"",last_name:user.profile.last_name,last_nameError:null,last_nameWarning:"",username:user.username,disabled,is_admin:"admin"===role.name,hasAlreadyBeenValidated:!1}}componentDidMount(){this.setState({loading:!1},(()=>{this.firstNameRef.current.focus()}))}get isLoggedInUserAsEditing(){return this.props.context.editUserDialogProps&&this.props.context.loggedInUser&&this.props.context.editUserDialogProps.id===this.props.context.loggedInUser.id}createInputRefs(){this.firstNameRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.lastNameRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFirstNameInputOnKeyUp=this.handleFirstNameInputOnKeyUp.bind(this),this.handleLastNameInputOnKeyUp=this.handleLastNameInputOnKeyUp.bind(this),this.handleCheckboxClick=this.handleCheckboxClick.bind(this),this.handleIsSuspendedCheckboxClick=this.handleIsSuspendedCheckboxClick.bind(this)}handleClose(){this.props.context.setContext({editUserDialogProps:null}),this.props.onClose()}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}handleCheckboxClick(event){const target=event.target,checked=target.checked,name=target.name;this.setState({[name]:checked})}handleIsSuspendedCheckboxClick(event){const disabled=event.target.checked?new Date:null;this.setState({disabled})}handleFirstNameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const state=this.validateFirstNameInput();this.setState(state)}else{const first_nameWarning=(0,_lib_Error_InputValidator__WEBPACK_IMPORTED_MODULE_13__.d)(this.state.first_name,_shared_constants_inputs_const__WEBPACK_IMPORTED_MODULE_14__.Z_,this.translate);this.setState({first_nameWarning})}}handleLastNameInputOnKeyUp(){if(this.state.hasAlreadyBeenValidated){const state=this.validateLastNameInput();this.setState(state)}else{const last_nameWarning=(0,_lib_Error_InputValidator__WEBPACK_IMPORTED_MODULE_13__.d)(this.state.last_name,_shared_constants_inputs_const__WEBPACK_IMPORTED_MODULE_14__.Z_,this.translate);this.setState({last_nameWarning})}}async handleFormSubmit(event){if(event.preventDefault(),this.setState({hasAlreadyBeenValidated:!0}),!this.state.processing){if(this.toggleProcessing(),await this.validate(),this.hasValidationError())return this.toggleProcessing(),void this.focusFirstFieldError();try{await this.updateUser(),await this.handleSaveSuccess()}catch(error){this.handleSaveError(error)}}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The user has been updated successfully")),await this.updateLoggedInUserIfNeeded(),this.props.onClose()}handleSaveError(error){"UserAbortsOperationError"===error.name||(console.error(error),this.handleError(error)),this.setState({processing:!1})}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_3__.A,errorDialogProps)}toggleProcessing(){const prev=this.state.processing;this.setState({processing:!prev})}focusFirstFieldError(){this.state.first_nameError?this.firstNameRef.current.focus():this.state.last_nameError&&this.lastNameRef.current.focus()}async updateUser(){const role=this.props.context.roles.find((role=>this.state.is_admin?"admin"===role.name:"user"===role.name)),userDto={id:this.props.context.editUserDialogProps.id,username:this.state.username,profile:{first_name:this.state.first_name,last_name:this.state.last_name},role_id:role.id};return this.isSuspendedUserFeatureEnabled()&&(userDto.disabled=this.getFormattedDate(this.state.disabled)),await this.props.context.port.request("passbolt.users.update",userDto)}async updateLoggedInUserIfNeeded(){if(this.isLoggedInUserAsEditing){const loggedInUser=await this.props.context.port.request("passbolt.users.find-logged-in-user",!0);this.props.context.setContext({loggedInUser})}await this.props.context.setContext({editUserDialogProps:null})}async validate(){return await Promise.all([this.validateFirstNameInput(),this.validateLastNameInput()]),this.hasValidationError()}async validateFirstNameInput(){let first_nameError=null;return this.state.first_name.trim().length||(first_nameError=this.translate("A first name is required.")),this.setState({first_nameError})}async validateLastNameInput(){let last_nameError=null;return this.state.last_name.trim().length||(last_nameError=this.translate("A last name is required.")),this.setState({last_nameError})}hasValidationError(){return null!==this.state.first_nameError||null!==this.state.last_nameError}isUserSuspended(){if(!this.state.disabled)return!1;return new Date(this.state.disabled)<=new Date}get suspendedDate(){return this.state.disabled?luxon__WEBPACK_IMPORTED_MODULE_10__.c9.fromJSDate(new Date(this.state.disabled)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_10__.c9.DATETIME_FULL):null}hasAllInputDisabled(){return this.state.processing||this.state.loading}isSuspendedUserFeatureEnabled(){return this.props.context.siteSettings.canIUse("disableUser")}getFormattedDate(date){if(!(date&&date instanceof Date))return null;const formatNumber=num=>num.toString().padStart(2,"0");return`${date.getFullYear()}-${formatNumber(date.getUTCMonth()+1)}-${formatNumber(date.getUTCDate())}T${formatNumber(date.getUTCHours())}:${formatNumber(date.getUTCMinutes())}:${formatNumber(date.getUTCSeconds())}`}get translate(){return this.props.t}render(){const isUserSuspended=this.isUserSuspended(),suspendedDate=this.suspendedDate;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{className:"user-edit-dialog",title:this.translate("Edit User"),onClose:this.handleClose,disabled:this.hasAllInputDisabled()},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"user-edit-form",onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input text required ${this.state.first_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"user-first-name-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"First name"),this.state.first_nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"attention-required"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"user-first-name-input",name:"first_name",ref:this.firstNameRef,type:"text",value:this.state.first_name,placeholder:this.translate("First name"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleFirstNameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.first_nameError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"first_name error-message"},this.state.first_nameError),this.state.first_nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"firstname warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Warning:"))," ",this.state.first_nameWarning)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input text required ${this.state.last_nameError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"user-last-name-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Last name")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"user-last-name-input",name:"last_name",maxLength:"128",ref:this.lastNameRef,type:"text",value:this.state.last_name,placeholder:this.translate("Last name"),required:"required",disabled:this.hasAllInputDisabled(),onKeyUp:this.handleLastNameInputOnKeyUp,onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}),this.state.last_nameError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"last_name error-message"},this.state.last_nameError),this.state.last_nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"lastname warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Warning:"))," ",this.state.last_nameWarning)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text required disabled"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"user-username-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Username / Email"),this.state.last_nameWarning&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"attention-required"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"user-username-input",name:"username",maxLength:"128",type:"text",value:this.state.username,placeholder:this.translate("Username"),required:"required",disabled:!0,autoComplete:"off",autoFocus:!0})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"input toggle-switch form-element ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"is_admin_checkbox",name:"is_admin",disabled:this.isLoggedInUserAsEditing||this.hasAllInputDisabled(),onChange:this.handleCheckboxClick,className:"toggle-switch-checkbox checkbox",checked:this.state.is_admin,type:"checkbox"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"is_admin_checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"This user is an administrator")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_9__.A,{message:this.translate("Administrators can add and delete users. They can also create groups and assign group managers. By default they can not see all passwords.")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_12__.A,null))),this.isSuspendedUserFeatureEnabled()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"input toggle-switch form-element ready"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"is_suspended_checkbox",name:"disabled",disabled:this.isLoggedInUserAsEditing||this.hasAllInputDisabled(),onChange:this.handleIsSuspendedCheckboxClick,checked:isUserSuspended,type:"checkbox",className:"toggle-switch-checkbox checkbox"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"is_suspended_checkbox"}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Suspend this user")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_9__.A,{message:this.translate("This user will not be able to sign in to passbolt and receive email notifications. Other users can share resource with it and add this user to a group.")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_12__.A,null)))),!isUserSuspended&&this.state.disabled&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"message warning no-margin"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,"Warning:")," Suspension is scheduled for the ",{suspendedDate}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleClose}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_4__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}EditUser.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_6__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_7__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(EditUser))));EditUser.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"isLoggedInUserAsEditing",docblock:"Returns true if the editing user is actually the logged in user",modifiers:["get"],params:[],returns:null,description:"Returns true if the editing user is actually the logged in user"},{name:"createInputRefs",docblock:"Create references\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Create references"},{name:"bindEventHandlers",docblock:"Bind event handlers\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind event handlers"},{name:"handleClose",docblock:"Handle close button click.\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle close button click."},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleCheckboxClick",docblock:"Handle form checkbox input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form checkbox input changes."},{name:"handleIsSuspendedCheckboxClick",docblock:'Handle "is suspended" checkbox input changes.\n@params {ReactEvent} The react event\n@returns {void}',modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:'Handle "is suspended" checkbox input changes.'},{name:"handleFirstNameInputOnKeyUp",docblock:"Handle first name input keyUp event.",modifiers:[],params:[],returns:null,description:"Handle first name input keyUp event."},{name:"handleLastNameInputOnKeyUp",docblock:"Handle last name input keyUp event.",modifiers:[],params:[],returns:null,description:"Handle last name input keyUp event."},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form submit event."},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:[],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"handleError",docblock:"handle error to display the error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"handle error to display the error dialog"},{name:"toggleProcessing",docblock:"Toggle processing state",modifiers:[],params:[],returns:null,description:"Toggle processing state"},{name:"focusFirstFieldError",docblock:"Focus the first field of the form which is in error state.\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Focus the first field of the form which is in error state."},{name:"updateUser",docblock:"Update the user\n@returns {Promise<Object>} User entity or Error",modifiers:["async"],params:[],returns:{description:"User entity or Error",type:{name:"Promise",elements:[{name:"Object"}]}},description:"Update the user"},{name:"updateLoggedInUserIfNeeded",docblock:"Update the logged in user if he actually edited himself",modifiers:["async"],params:[],returns:null,description:"Update the logged in user if he actually edited himself"},{name:"validate",docblock:"Validate the form.\n@returns {Promise<boolean>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"boolean"}]}},description:"Validate the form."},{name:"validateFirstNameInput",docblock:"Validate the first name input.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the first name input."},{name:"validateLastNameInput",docblock:"Validate the last name input.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the last name input."},{name:"hasValidationError",docblock:"Return true if the form has some validation error\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the form has some validation error"},{name:"isUserSuspended",docblock:"Is the user currently suspended.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the user currently suspended."},{name:"suspendedDate",docblock:"Returns the time at when the user will be suspended if any\n@returns {string|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the time at when the user will be suspended if any"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"isSuspendedUserFeatureEnabled",docblock:"Returns true if the plugin `disableUser` is enabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the plugin `disableUser` is enabled"},{name:"getFormattedDate",docblock:"Returns a date string value compatible with the API\n@param {Date|null} date\n@returns {string}",modifiers:[],params:[{name:"date",type:{name:"union",elements:[{name:"Date"}]},optional:!1}],returns:{type:{name:"string"}},description:"Returns a date string value compatible with the API"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"EditUser",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByBreadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get items(){const items=[this.allUsersBreadcrumb];switch(this.props.userWorkspaceContext.filter.type){case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.NONE:return[];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.ALL:return[...items,this.getLastBreadcrumb(this.translate("Home"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT:{const isEmptySearchText=!this.props.userWorkspaceContext.filter.payload,currentSearchText=this.props.userWorkspaceContext.filter.payload;return isEmptySearchText?items:[...items,this.getLastBreadcrumb(`${this.translate("Search:")} ${currentSearchText}`)]}case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.SUSPENDED_USER:return[...items,this.getLastBreadcrumb(this.translate("Suspended users"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.RECENTLY_MODIFIED:return[...items,this.getLastBreadcrumb(this.translate("Recently modified"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.GROUP:{const group=this.props.userWorkspaceContext.filter.payload.group,currentGroupName=group&&group.name||this.translate("N/A");return[...items,this.getLastBreadcrumb(`${currentGroupName} ${this.translate("(group)")}`)]}}return[]}get allUsersBreadcrumb(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested})}getLastBreadcrumb(name){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name,onClick:this.onLastBreadcrumbClick.bind(this)})}async onLastBreadcrumbClick(){const pathname=this.props.location.pathname;this.props.history.push({pathname})}get translate(){return this.props.t}render(){const count=this.props.userWorkspaceContext.filteredUsers.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.A,{items:this.items},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,{count},{count}," items")))}}FilterUsersByBreadcrumb.propTypes={userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,location:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.withRouter)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__.qN)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(FilterUsersByBreadcrumb))));FilterUsersByBreadcrumb.__docgenInfo={description:"The component displays a navigation breadcrumb given the applied users filter",methods:[{name:"items",docblock:"Returns the current list of breadcrumb items",modifiers:["get"],params:[],returns:null,description:"Returns the current list of breadcrumb items"},{name:"allUsersBreadcrumb",docblock:"Returns the home breadcrumb items\n@return {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Returns the home breadcrumb items"},{name:"getLastBreadcrumb",docblock:"Return the last breadcrumb\n@param {string} name the breadcrumb name\n@return {JSX.Element}",modifiers:[],params:[{name:"name",description:"the breadcrumb name",type:{name:"string"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Return the last breadcrumb"},{name:"onLastBreadcrumbClick",docblock:"Whenever the user click on the last breadcrumb\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user click on the last breadcrumb"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"FilterUsersByBreadcrumb",props:{userWorkspaceContext:{description:"",type:{name:"object"},required:!1},location:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_home_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/home.svg");class FilterUsersByShortcut extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this),this.handleRecentlyModifiedClick=this.handleRecentlyModifiedClick.bind(this),this.handleSuspendedUsersClick=this.handleSuspendedUsersClick.bind(this)}get isAllItemsSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL}get isRecentlyModifiedSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED}get isSuspendedUsersSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER}handleAllItemsClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL};this.props.history.push({pathname:"/app/users",state:{filter}})}handleRecentlyModifiedClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED};this.props.history.push({pathname:"/app/users",state:{filter}})}handleSuspendedUsersClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER};this.props.history.push({pathname:"/app/users",state:{filter}})}get shouldDisplaySuspendedUsersFilter(){return this.props.userWorkspaceContext.shouldDisplaySuspendedUsersFilter()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary navigation-shortcuts"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isAllItemsSelected?"selected":""),onClick:this.handleAllItemsClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"all-users"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_home_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Home")))))))))}}FilterUsersByShortcut.propTypes={history:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.withRouter)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FilterUsersByShortcut)));FilterUsersByShortcut.__docgenInfo={description:"This component allows to select shortcut filters applied on users",methods:[{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"isAllItemsSelected",docblock:"Returns true if the Home shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Home shortcut is currently selected"},{name:"isRecentlyModifiedSelected",docblock:"Returns true if the Recently Modified shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Recently Modified shortcut is currently selected"},{name:"isSuspendedUsersSelected",docblock:"Returns true if the Suspended users shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Suspended users shortcut is currently selected"},{name:"handleAllItemsClick",docblock:'Whenever the shortcut "Home" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Home" has been selected'},{name:"handleRecentlyModifiedClick",docblock:'Whenever the shortcut "Recently modified" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Recently modified" has been selected'},{name:"handleSuspendedUsersClick",docblock:'Whenever the shortcut "Suspended users" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Suspended users" has been selected'},{name:"shouldDisplaySuspendedUsersFilter",docblock:"Returns true if the 'Suspended users' filter should be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the 'Suspended users' filter should be displayed"}],displayName:"FilterUsersByShortcut",props:{history:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Search/SearchBar.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByText extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(previousProps){this.handleFilterChanged(previousProps.userWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(previousFilter){const wasTextFilter=previousFilter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,isTextFilter=this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT;wasTextFilter&&!isTextFilter&&this.setState({text:""})}handleSearchEvent(text){this.search(text)}search(text){clearTimeout(this.state.debounceTimeoutId);const debounceTimeoutId=setTimeout((()=>{const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,payload:text};this.props.history.push({pathname:"/app/users",state:{filter}})}),300);this.setState({debounceTimeoutId,text})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__.A,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.t("Search users"),value:this.state.text})}}FilterUsersByText.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.withRouter)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(FilterUsersByText)));FilterUsersByText.__docgenInfo={description:"This component allows to filter the list of users by text",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"handleFilterChanged",docblock:"Whenever the user filter changed",modifiers:[],params:[{name:"previousFilter",optional:!1}],returns:null,description:"Whenever the user filter changed"},{name:"handleSearchEvent",docblock:"Handle search input change\n@params {string} text The entered text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Handle search input change"},{name:"search",docblock:"Search for the text\n@param text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Search for the text"}],displayName:"FilterUsersByText",props:{disabled:{description:"",type:{name:"bool"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/dateUtils.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/caret_right.svg"),_img_svg_triangle_alert_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/triangle_alert.svg"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/attention.svg");class DisplayUserDetailsAccountRecovery extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{loading:!0,open:!1,userRequests:[]}}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user),await this.handleUserPendingAccountRecoveryRequestChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){if(this.selectedUser.id!==previousUser.id&&this.state.open){const state=Object.assign({},this.defaultState,{open:!0});await this.setState(state),await this.findUserRequests(),this.setState({loading:!1})}}async handleUserPendingAccountRecoveryRequestChange(user){this.state.open&&user?.pending_account_recovery_request?.status!==this.props.userWorkspaceContext.details.user?.pending_account_recovery_request?.status&&(await this.setState({loading:!0}),await this.findUserRequests(),await this.setState({loading:!1}))}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleReviewClicked=this.handleReviewClicked.bind(this)}async handleTitleClicked(){if(this.state.open){const defaultState=this.defaultState;this.setState(defaultState)}else await this.setState({loading:!0,open:!0}),await this.findUserRequests(),this.setState({loading:!1})}handleReviewClicked(){const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_5__.A,{accountRecoveryRequestId})}async findUserRequests(){const userRequests=(await this.props.context.port.request("passbolt.account-recovery.get-user-requests",this.selectedUser.id)).sort(((a,b)=>new Date(b.created)-new Date(a.created)));this.setState({userRequests})}get selectedUser(){return this.props.userWorkspaceContext.details.user}get isAccountRecoveryPending(){return Boolean(this.selectedUser.pending_account_recovery_request)}get hasUserRequests(){return this.state.userRequests.length>0}get previousAccountRecoveryRequest(){return this.isAccountRecoveryPending?this.state.userRequests.length>1?this.state.userRequests[1]:null:this.hasUserRequests?this.state.userRequests[0]:null}capitalizeFirstLetter(string){return string[0].toUpperCase()+string.slice(1)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-account-recovery accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Account recovery"),this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"attention-required"})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_9__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Retrieving account recovery"))),!this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"account-recovery-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"pending-request-status label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Current status")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"previous-request label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Previous recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"requests-count label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Number of recovery"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"pending-request-status value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"To review")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"previous-request value"},this.previousAccountRecoveryRequest?`${this.capitalizeFirstLetter(this.previousAccountRecoveryRequest.status)} ${(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(this.previousAccountRecoveryRequest.created,this.props.t,this.props.context.locale)}`:"Never"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"requests-count value"},this.state.userRequests.length))),this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"review-request",type:"button",onClick:this.handleReviewClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_triangle_alert_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Review")))))}}DisplayUserDetailsAccountRecovery.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_6__.AV)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUserDetailsAccountRecovery))));DisplayUserDetailsAccountRecovery.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"handleUserPendingAccountRecoveryRequestChange",docblock:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content.\n@param {object} user The previous user",modifiers:["async"],params:[{name:"user",description:"The previous user",type:{name:"object"},optional:!1}],returns:null,description:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content."},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"handleReviewClicked",docblock:"Handle the click on the review button",modifiers:[],params:[],returns:null,description:"Handle the click on the review button"},{name:"findUserRequests",docblock:"Find the user account recovery request and populate the state.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the user account recovery request and populate the state."},{name:"selectedUser",docblock:"Get the selected user\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get the selected user"},{name:"isAccountRecoveryPending",docblock:"Is account recovery pending\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is account recovery pending"},{name:"hasUserRequests",docblock:"Has user requests\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Has user requests"},{name:"previousAccountRecoveryRequest",docblock:"The previous account recovery requests\n@returns {*|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"mixed"}]}},description:"The previous account recovery requests"},{name:"capitalizeFirstLetter",docblock:"Capitalize first letter\n@param string\n@returns {string}",modifiers:[],params:[{name:"string",optional:!1}],returns:{type:{name:"string"}},description:"Capitalize first letter"}],displayName:"DisplayUserDetailsAccountRecovery",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/caret_right.svg"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayUserDetailsGroups extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get groups(){const{groups}=this.props.context;if(!groups)return[];const selectedUser=this.props.userWorkspaceContext.details.user;if(selectedUser){const belongsToGroup=group=>group.groups_users.some((group_user=>group_user.user_id===selectedUser.id)),groupUser=group=>group.groups_users.find((group_user=>group_user.user_id===selectedUser.id)),userRole=groupUser=>groupUser.is_admin?this.translate("Group manager"):this.translate("Member"),roleMapper=group=>Object.assign({},group,{role:userRole(groupUser(group))});return groups.filter(belongsToGroup).map(roleMapper)}return[]}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const groups=this.groups,hasGroups=groups.length>0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-user-groups accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border section-opener",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},"Groups"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,hasGroups&&groups.map((group=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:group.id,className:"permission usercard-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_5__.A,{group}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},group.name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo"},group.role)))))),!hasGroups&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",{className:"empty-feedback empty-group-feedback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"The user is not a member of any group yet")))))}}DisplayUserDetailsGroups.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayUserDetailsGroups)));DisplayUserDetailsGroups.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"groups",docblock:"The groups the current selected user belongs to",modifiers:["get"],params:[],returns:null,description:"The groups the current selected user belongs to"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsGroups",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/caret_right.svg"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/dateUtils.js"),_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/utils/userUtils.js"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/attention.svg");class DisplayUserDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}get user(){return this.props.userWorkspaceContext.details.user}getRoleName(){if(this.props.context.roles){const role=this.props.context.roles.find((role=>role.id===this.user.role_id));return role?role.name:""}return""}handleTitleClicked(){this.setState({open:!this.state.open})}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasMfaSection(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()&&this.user.active}hasDisableUserSection(){return this.props.context.siteSettings.canIUse("disableUser")}hasAccountRecoverySection(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()&&this.user.active}hasMetadataDataSection(){return this.props.context.siteSettings.canIUse("metadata")&&this.isLoggedInUserAdmin()&&this.user.active}get translate(){return this.props.t}render(){const role=this.getRoleName(),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(this.user.modified,this.props.t,this.props.context.locale),status=this.user.active?this.translate("Activated"):this.translate("Activation pending");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Information")),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"role label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"status label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Status")),this.hasAccountRecoverySection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"account-recovery-status label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Account recovery")),this.hasMfaSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"mfa label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"MFA")),this.hasDisableUserSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"suspended label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Suspended")),this.hasMetadataDataSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"metadata-keys label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Metadata keys"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"role value capitalize"},role),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified value",title:this.user.modified},modified),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"status value"},status),this.hasAccountRecoverySection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"account-recovery-status value"},{approved:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Approved"),rejected:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Rejected"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Pending")}[this.user?.account_recovery_user_setting?.status]),this.hasMfaSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"mfa value"},{[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Enabled"),[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Disabled"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Disabled")}[this.user?.is_mfa_enabled]),this.hasDisableUserSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"suspended value"},{[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"No"),[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Yes")}[(0,_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_8__.B7)(this.user)]),this.hasMetadataDataSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"metadata-keys value"},{[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Missing"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"attention-required"})),[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"All")}[this.user?.missing_metadata_key_ids?.length>0]))))}}DisplayUserDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_10___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_6__.Le)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserDetailsInformation))));DisplayUserDetailsInformation.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"getRoleName",docblock:"Get user role name",modifiers:[],params:[],returns:null,description:"Get user role name"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"isLoggedInUserAdmin",docblock:"Check if the logged in user is admin\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the logged in user is admin"},{name:"hasMfaSection",docblock:"Returns true if the mfa feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the mfa feature is enabled and if the logged in user is an admin."},{name:"hasDisableUserSection",docblock:"Returns true if the disablUser feature is enabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the disablUser feature is enabled."},{name:"hasAccountRecoverySection",docblock:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin."},{name:"hasMetadataDataSection",docblock:"Returns true if the metadate feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the metadate feature is enabled and if the logged in user is an admin."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,t:()=>GPG_KEY_TYPES});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/spinner.svg"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),luxon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/luxon/src/luxon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/caret_right.svg");const GPG_KEY_TYPES={rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"};class DisplayUserDetailsPublicKey extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1,gpgkeyInfo:{},loading:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){this.state.open&&this.user.id!==previousUser.id&&await this.fetchGpgkeyInfo()}async fetchGpgkeyInfo(){const gpgkeyInfo=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),fingerprint=gpgkeyInfo.fingerprint,type=GPG_KEY_TYPES[gpgkeyInfo.algorithm],created=this.formatDate(gpgkeyInfo.created);let expires;expires=null===gpgkeyInfo.expires?"n/a":"Infinity"===gpgkeyInfo.expires?this.translate("Never"):this.formatDate(gpgkeyInfo.expires);const formatedGpgkeyInfo={fingerprint,type,created,expires,curve:gpgkeyInfo.curve,length:gpgkeyInfo.length};this.setState({gpgkeyInfo:formatedGpgkeyInfo})}formatDate(data){try{return luxon__WEBPACK_IMPORTED_MODULE_5__.c9.fromJSDate(new Date(data)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_5__.c9.DATETIME_FULL)}catch(error){return""}}get user(){return this.props.userWorkspaceContext.details.user}formatFingerprint(fingerprint){const result=(fingerprint=fingerprint||"").toUpperCase().replace(/.{4}/g,"$& ");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,result.substr(0,24),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),result.substr(25))}async handleTitleClicked(){this.state.open?await this.setState({gpgkeyInfo:{},open:!1}):(await this.setState({open:!0,loading:!0}),await this.fetchGpgkeyInfo(),await this.setState({loading:!1}))}get translate(){return this.props.t}render(){const isLoading=this.state.loading;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"key-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleTitleClicked,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Public key")),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_7__.A,null),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_8__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Retrieving public key")))),!isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"fingerprint label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Fingerprint")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"type label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Type")),this.state.gpgkeyInfo.curve&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"curve label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Curve")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"length label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Length")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"expires label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Expires"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"fingerprint value"},this.formatFingerprint(this.state.gpgkeyInfo.fingerprint)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"type value"},this.state.gpgkeyInfo.type),this.state.gpgkeyInfo.curve&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"curve value"},this.state.gpgkeyInfo.curve),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"length value"},this.state.gpgkeyInfo.length),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created value"},this.state.gpgkeyInfo.created),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"expires value"},this.state.gpgkeyInfo.expires)))))}}DisplayUserDetailsPublicKey.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,i18n:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__.ot)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayUserDetailsPublicKey))));DisplayUserDetailsPublicKey.__docgenInfo={description:"This component displays the user details about public key",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"fetchGpgkeyInfo",docblock:"Fetch the user gpgkey info.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Fetch the user gpgkey info."},{name:"formatDate",docblock:"Format a date.\n@string {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"data",optional:!1}],returns:{type:{name:"string"}},description:"Format a date."},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"formatFingerprint",docblock:"get fingerprint\n@param fingerprint\n@returns {JSX.Element}",modifiers:[],params:[{name:"fingerprint",optional:!1}],returns:{type:{name:"JSX.Element"}},description:"get fingerprint"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsPublicKey",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/caret_right.svg"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/utils/dateUtils.js");class DisplayUserGroupDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const created=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__.kD)(this.group.created,this.props.t,this.props.context.locale),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__.kD)(this.group.modified,this.props.t,this.props.context.locale),modifiedByUser=this.props.context.users.find((user=>user.id===this.group.modified_by)),modifiedByUserName=modifiedByUser?`${modifiedByUser.profile.first_name} ${modifiedByUser.profile.last_name}`:this.translate("Unknown user"),membersCount=this.group.groups_users.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},"        ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border section-opener",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Information")),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_2__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified-by label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Modified by")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"members label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Members"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created value",title:this.group.created},created),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified value",title:this.group.modified},modified),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified-by value"},modifiedByUserName),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"members value"},membersCount))))}}DisplayUserGroupDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserGroupDetailsInformation)));DisplayUserGroupDetailsInformation.__docgenInfo={description:"This component displays the group details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),spinner=__webpack_require__("./src/img/svg/spinner.svg"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserGroupDetailsMembersGroupMember extends react.Component{get user(){return this.props.context.users.find((user=>user.id===this.props.groupUser.user_id))}get roleName(){return this.props.groupUser.is_admin?"Group manager":"Member"}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}render(){const isSuspended=this.props.context.siteSettings.canIUse("siteSettings")&&(0,userUtils.B7)(this.user);return react.createElement("div",{key:this.user.id,className:"permission usercard-col-2 "+(isSuspended?"suspended":"")},react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl}),react.createElement("div",{className:"content-wrapper"},react.createElement("div",{className:"content"},react.createElement("div",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`,isSuspended&&react.createElement("span",{className:"suspended"}," ",react.createElement(es.x6,null,"(suspended)"))),react.createElement("div",{className:"subinfo"},this.props.t(this.roleName)))))}}DisplayUserGroupDetailsMembersGroupMember.propTypes={context:prop_types_default().any,groupUser:prop_types_default().object,userWorkspaceContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembersGroupMember)));DisplayUserGroupDetailsMembersGroupMember.__docgenInfo={description:"This component displays a group member for the group details members",methods:[{name:"user",docblock:"Get the user associated to the group user\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user associated to the group user"},{name:"roleName",docblock:"Get the user role name in this group.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user role name in this group."},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"}],displayName:"DisplayUserGroupDetailsMembersGroupMember",props:{context:{description:"",type:{name:"any"},required:!1},groupUser:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var EditUserGroup=__webpack_require__("./src/react-extension/components/UserGroup/EditUserGroup/EditUserGroup.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),caret_down=__webpack_require__("./src/img/svg/caret_down.svg"),caret_right=__webpack_require__("./src/img/svg/caret_right.svg");class DisplayUserGroupDetailsMembers extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleEditGroup=this.handleEditGroup.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}async handleEditGroup(){await this.props.userWorkspaceContext.onGroupToEdit(this.group),this.props.dialogContext.open(EditUserGroup.A)}isLoading(){return!this.props.context.users}render(){return react.createElement("div",{className:"detailed-members accordion sidebar-section "+(this.state.open?"":"closed")},react.createElement("div",{className:"accordion-header"},react.createElement("h4",null,react.createElement("button",{type:"button",className:"link no-border section-opener",onClick:this.handleTitleClicked},react.createElement("span",{className:"accordion-title"},react.createElement(es.x6,null,"Group members")),this.state.open&&react.createElement(caret_down.A,null),!this.state.open&&react.createElement(caret_right.A,null)))),this.state.open&&react.createElement("div",{className:"accordion-content"},this.isLoading()&&react.createElement("div",{className:"processing-wrapper"},react.createElement(spinner.A,null),react.createElement("span",{className:"processing-text"},react.createElement(es.x6,null,"Retrieving permissions"))),!this.isLoading()&&react.createElement(react.Fragment,null,this.group.groups_users.map((groupUser=>react.createElement(DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember,{key:groupUser.id,groupUser}))))))}}DisplayUserGroupDetailsMembers.propTypes={context:prop_types_default().any,userWorkspaceContext:prop_types_default().object,dialogContext:prop_types_default().object};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers=(0,AppContext.L)((0,DialogContext.z9)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembers))));DisplayUserGroupDetailsMembers.__docgenInfo={description:"This component displays the group details about members",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"handleEditGroup",docblock:"Whenever the user wants to edit the current group",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to edit the current group"},{name:"isLoading",docblock:"Check if the component is loading\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component is loading"}],displayName:"DisplayUserGroupDetailsMembers",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/AnnouncementContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>AnnouncementContextProvider,w2:()=>withAnnouncement});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const AnnouncementContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({announcements:[],show:()=>{},close:()=>{}});class AnnouncementContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(Announcement,AnnouncementProps)=>{const announcementKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({announcements:[...this.state.announcements,{key:announcementKey,Announcement,AnnouncementProps}]}),announcementKey},close:async announcementKey=>await this.setState({announcements:this.state.announcements.filter((announcement=>announcementKey!==announcement.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Provider,{value:this.state},this.props.children)}}function withAnnouncement(WrappedComponent){return class WithAnnouncement extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Consumer,null,(announcementContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{announcementContext,...this.props})))}}}AnnouncementContextProvider.displayName="AnnouncementContextProvider",AnnouncementContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},AnnouncementContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"AnnouncementContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,LP:()=>RESOURCE_TYPE_VERSION_5,Sr:()=>RESOURCE_TYPE_VERSION_4});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");const RESOURCE_TYPE_VERSION_4="v4",RESOURCE_TYPE_VERSION_5="v5";class MetadataTypesSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["default_resource_types","default_folder_type","default_tag_type","default_comment_type","allow_creation_of_v5_resources","allow_creation_of_v5_folders","allow_creation_of_v5_tags","allow_creation_of_v5_comments","allow_creation_of_v4_resources","allow_creation_of_v4_folders","allow_creation_of_v4_tags","allow_creation_of_v4_comments","allow_v4_v5_upgrade","allow_v5_v4_downgrade"],properties:{default_resource_types:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_folder_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_tag_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},default_comment_type:{type:"string",enum:[RESOURCE_TYPE_VERSION_4,RESOURCE_TYPE_VERSION_5]},allow_creation_of_v5_resources:{type:"boolean"},allow_creation_of_v5_folders:{type:"boolean"},allow_creation_of_v5_tags:{type:"boolean"},allow_creation_of_v5_comments:{type:"boolean"},allow_creation_of_v4_resources:{type:"boolean"},allow_creation_of_v4_folders:{type:"boolean"},allow_creation_of_v4_tags:{type:"boolean"},allow_creation_of_v4_comments:{type:"boolean"},allow_v4_v5_upgrade:{type:"boolean"},allow_v5_v4_downgrade:{type:"boolean"}}}}static createFromV4Default(){return new MetadataTypesSettingsEntity({default_resource_types:RESOURCE_TYPE_VERSION_4,default_folder_type:RESOURCE_TYPE_VERSION_4,default_tag_type:RESOURCE_TYPE_VERSION_4,default_comment_type:RESOURCE_TYPE_VERSION_4,allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1})}static createFromDefault(data={}){return new MetadataTypesSettingsEntity({...{default_resource_types:RESOURCE_TYPE_VERSION_4,default_folder_type:RESOURCE_TYPE_VERSION_4,default_tag_type:RESOURCE_TYPE_VERSION_4,default_comment_type:RESOURCE_TYPE_VERSION_4,allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},...data})}static createFromV5Default(data={}){return new MetadataTypesSettingsEntity({...{default_resource_types:RESOURCE_TYPE_VERSION_5,default_folder_type:RESOURCE_TYPE_VERSION_4,default_tag_type:RESOURCE_TYPE_VERSION_4,default_comment_type:RESOURCE_TYPE_VERSION_4,allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},...data})}validateBuildRules(){let error;if(this.isDefaultResourceTypeV4&&!this.allowCreationOfV4Resources){error=error||new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A;const message="Allow creation of v4 resources should be true when default resources is v4";error.addError("allow_creation_of_v4_resources","is_default",message),error.addError("default_resource_types","allow_create_v4",message)}else if(this.isDefaultResourceTypeV5&&!this.allowCreationOfV5Resources){error=error||new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A;const message="Allow creation of v5 resources should be true when default resources is v5";error.addError("allow_creation_of_v5_resources","is_default",message),error.addError("default_resource_types","allow_create_v5",message)}if(error)throw error}get defaultResourceTypes(){return this._props.default_resource_types}get allowCreationOfV5Resources(){return this._props.allow_creation_of_v5_resources}get allowCreationOfV4Resources(){return this._props.allow_creation_of_v4_resources}get allowCreationOfV5Folders(){return this._props.allow_creation_of_v5_folders}get allowCreationOfV4Folders(){return this._props.allow_creation_of_v4_folders}get allowCreationOfV5Tags(){return this._props.allow_creation_of_v5_tags}get allowCreationOfV4Tags(){return this._props.allow_creation_of_v4_tags}get allowCreationOfV5Comments(){return this._props.allow_creation_of_v5_comments}get allowCreationOfV4Comments(){return this._props.allow_creation_of_v4_comments}get isDefaultResourceTypeV5(){return this._props.default_resource_types===RESOURCE_TYPE_VERSION_5}get isDefaultResourceTypeV4(){return this._props.default_resource_types===RESOURCE_TYPE_VERSION_4}get allowV5V4Downgrade(){return this._props.allow_v5_v4_downgrade}get allowV4V5Upgrade(){return this._props.allow_v4_v5_upgrade}}const __WEBPACK_DEFAULT_EXPORT__=MetadataTypesSettingsEntity},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto,XB:()=>resourceTypesV4CollectionDto,Yd:()=>resourceTypesV5CollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()],resourceTypesV4CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)()],resourceTypesV5CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()]},"./src/shared/models/entity/totp/totpEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,e:()=>SUPPORTED_TOTP_ALGORITHMS});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SUPPORTED_TOTP_ALGORITHMS=["SHA1","SHA256","SHA512"],DEFAULT_ALGORITHM=SUPPORTED_TOTP_ALGORITHMS[0];class TotpEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["secret_key","period","digits","algorithm"],properties:{secret_key:{type:"string",minLength:1,pattern:/^[A-Z2-7]+=*$/,maxLength:1024},period:{type:"integer",minimum:1},digits:{type:"integer",minimum:6,maximum:8},algorithm:{type:"string",enum:SUPPORTED_TOTP_ALGORITHMS}}}}marshall(){"string"==typeof this._props.secret_key&&(this._props.secret_key=this._props.secret_key?.replace(/(\W|_|\s)/g,"").toUpperCase()),"string"==typeof this._props.algorithm&&(this._props.algorithm=this._props.algorithm?.toUpperCase()),super.marshall()}static createFromDefault(data={},options){return new TotpEntity({...{secret_key:"",period:30,digits:6,algorithm:DEFAULT_ALGORITHM},...data},options)}static createTotpFromUrl(url,options){const totp={secret_key:url.searchParams.get("secret"),algorithm:url.searchParams.get("algorithm")||DEFAULT_ALGORITHM,digits:parseInt(url.searchParams.get("digits"),10)||6,period:parseInt(url.searchParams.get("period"),10)||30};return new TotpEntity(totp,options)}get secretKey(){return this._props.secret_key}get period(){return this._props.period}get digits(){return this._props.digits}get algorithm(){return this._props.algorithm}get hasSecretKey(){return this.secretKey?.length>0}}const __WEBPACK_DEFAULT_EXPORT__=TotpEntity}}]);