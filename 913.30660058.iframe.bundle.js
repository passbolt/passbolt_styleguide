/*! For license information please see 913.30660058.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[913],{"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/contexts/PasswordExpirySettingsContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,f4:()=>withPasswordExpiry});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/dateUtils.js"),luxon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/luxon/src/luxon.js");const PasswordExpirySettingsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({getSettings:()=>{},getDefaultExpirationDate:()=>{},findSettings:()=>{},isFeatureEnabled:()=>{}});class PasswordExpirySettingsContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{settings:null,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this),getDefaultExpirationDate:this.getDefaultExpirationDate.bind(this),isFeatureEnabled:this.isFeatureEnabled.bind(this)}}async findSettings(){if(!this.props.context.siteSettings.canIUse("passwordExpiry")||null!==this.getSettings())return;const settings=await this.props.context.port.request("passbolt.password-expiry.get-or-find");this.setState({settings})}getSettings(){return this.state.settings}getDefaultExpirationDate(){if(!this.props.context.siteSettings.canIUse("passwordExpiryPolicies"))return null;const settings=this.getSettings();if(!settings?.default_expiry_period)return null;const durationInDays=settings.default_expiry_period,expirationDate=luxon__WEBPACK_IMPORTED_MODULE_4__.c9.utc().plus({days:durationInDays});return(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_3__.B7)(expirationDate)}isFeatureEnabled(){const settings=this.getSettings();if(!this.props.context.siteSettings.canIUse("passwordExpiry")||!settings)return!1;return Boolean(settings.id)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordExpirySettingsContext.Provider,{value:this.state},this.props.children)}}PasswordExpirySettingsContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(PasswordExpirySettingsContextProvider));function withPasswordExpiry(WrappedComponent){return class WithPasswordExpiry extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordExpirySettingsContext.Consumer,null,(passwordExpiryContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{passwordExpiryContext,...this.props})))}}}PasswordExpirySettingsContextProvider.__docgenInfo={description:"The Password Expiry settings context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findSettings",docblock:"Find the User Passphrase Policies\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the User Passphrase Policies"},{name:"getSettings",docblock:"Get the User Passphrase Policies\n@return {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get the User Passphrase Policies"},{name:"getDefaultExpirationDate",docblock:"Returns the expiry date based on the configuration if any.\n@returns {string|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the expiry date based on the configuration if any."},{name:"isFeatureEnabled",docblock:"Returns true if the feature flag is enabled and the settings are set.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the feature flag is enabled and the settings are set."}],displayName:"PasswordExpirySettingsContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>defaultPasswordExpirySettingsContext});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js");__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");const defaultPasswordExpirySettingsContext=(data={})=>{const settings=data?.getSettings?data.getSettings():(0,_shared_models_passwordExpirySettings_PasswordExpirySettingsDto_test_data__WEBPACK_IMPORTED_MODULE_2__.Xc)(data),isFeatureEnabled=Boolean(settings?.automatic_update)||Boolean(settings?.automatic_expiry)||Boolean(settings?.policy_override),defaultExpiryDate=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.utc().plus({days:settings?.default_expiry_period}).toISO(),defaultData={findSettings:()=>{},getSettings:()=>settings,isFeatureEnabled:()=>isFeatureEnabled,getDefaultExpirationDate:()=>defaultExpiryDate};return Object.assign(defaultData,data)}},"./src/react-quickaccess/contexts/AppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>defaultAppContext});var _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_react_extension_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),_react_extension_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),_react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/test/mock/MockStorage.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_react_extension_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),_shared_models_entity_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");function defaultAppContext(data={}){const siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.A(_react_extension_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__.A);return{locale:"en-UK",userSettings:new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__.A(_react_extension_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__.A),siteSettings,port:new _react_extension_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_5__.A,storage:new _react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_6__.A,loggedInUser:(0,_shared_models_entity_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_3__.cI)(),users:[],resources:[],focusSearch:jest.fn(),updateSearch:jest.fn(),getOpenerTabId:()=>1,search:"",searchHistory:{},...data}}},"./src/shared/constants/inputs.const.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bh:()=>RESOURCE_PASSWORD_MAX_LENGTH,Dt:()=>RESOURCE_NAME_MAX_LENGTH,E1:()=>RESOURCE_USERNAME_MAX_LENGTH,G3:()=>RESOURCE_DESCRIPTION_MAX_LENGTH,UZ:()=>RESOURCE_TAG_MAX_LENGTH,Z_:()=>USER_INPUT_MAX_LENGTH,kW:()=>RESOURCE_URI_MAX_LENGTH,nX:()=>RESOURCE_GROUP_NAME_MAX_LENGTH,yN:()=>RESOURCE_FOLDER_NAME_MAX_LENGTH});const USER_INPUT_MAX_LENGTH=128,RESOURCE_GROUP_NAME_MAX_LENGTH=50,RESOURCE_NAME_MAX_LENGTH=255,RESOURCE_USERNAME_MAX_LENGTH=255,RESOURCE_FOLDER_NAME_MAX_LENGTH=256,RESOURCE_TAG_MAX_LENGTH=128,RESOURCE_PASSWORD_MAX_LENGTH=4096,RESOURCE_DESCRIPTION_MAX_LENGTH=1e4,RESOURCE_URI_MAX_LENGTH=1024},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,WJ:()=>withPasswordPolicies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const PasswordPoliciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({policies:null,getPolicies:()=>{},findPolicies:()=>{},shouldRunDictionaryCheck:()=>{}});class PasswordPoliciesContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{policies:null,getPolicies:this.getPolicies.bind(this),findPolicies:this.findPolicies.bind(this),shouldRunDictionaryCheck:this.shouldRunDictionaryCheck.bind(this)}}async findPolicies(){if(null!==this.getPolicies())return;const policies=await this.props.context.port.request("passbolt.password-policies.get");this.setState({policies})}getPolicies(){return this.state.policies}shouldRunDictionaryCheck(){return Boolean(this.state.policies?.external_dictionary_check)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Provider,{value:this.state},this.props.children)}}PasswordPoliciesContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(PasswordPoliciesContextProvider);function withPasswordPolicies(WrappedComponent){return class WithPasswordPolicies extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Consumer,null,(passwordPoliciesContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{passwordPoliciesContext,...this.props})))}}}PasswordPoliciesContextProvider.__docgenInfo={description:"The Password policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicies",docblock:"Find the password policies settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the password policies settings"},{name:"getPolicies",docblock:"Returns the policies for password setting.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policies for password setting."},{name:"shouldRunDictionaryCheck",docblock:"Returns true if the password policies allows external dictionary checks\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the password policies allows external dictionary checks"}],displayName:"PasswordPoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>defaultPasswordPoliciesContext});var _models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordPoliciesDto.test.data.js");const defaultPasswordPoliciesContext=(data={})=>{const policies=data?.policies||(0,_models_passwordPolicies_PasswordPoliciesDto_test_data__WEBPACK_IMPORTED_MODULE_0__.m)();return{policies,getPolicies:jest.fn(),findPolicies:jest.fn(),shouldRunDictionaryCheck:jest.fn((()=>policies?.external_dictionary_check||!1)),...data}}},"./src/shared/models/entity/abstract/entityCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityCollectionError.js"),_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class EntityCollection{constructor(dtos=[],options={}){const clone=options?.clone??!0;this._items=[],clone&&(dtos=JSON.parse(JSON.stringify(dtos))),this._props=dtos}toDto(){return JSON.parse(JSON.stringify(this._items))}toJSON(){return this.toDto()}get items(){return this._items}get length(){return this._items.length}[Symbol.iterator](){let i=0;return{next:()=>i<this._items.length?{value:this._items[i++],done:!1}:{done:!0}}}getAll(propName,search){if("string"!=typeof propName)throw new TypeError("EntityCollection excludeAll expects propName to be string.");if("string"!=typeof search)throw new TypeError("EntityCollection excludeAll expects search to be string.");return this._items.filter((item=>Object.prototype.hasOwnProperty.call(item._props,propName)&&item._props[propName]===search))}getFirst(propName,search){if("string"!=typeof propName||"string"!=typeof search)throw new TypeError("EntityCollection getFirst by expect propName and search to be strings");const found=this.getAll(propName,search);if(found&&found.length)return found[0]}extract(propName){if("string"!=typeof propName)throw new TypeError("EntityCollection extract expects propName to be a string.");return this._items.reduce(((accumulator,item)=>(void 0!==item._props[propName]&&accumulator.push(item._props[propName]),accumulator)),[])}push(item){return this._items.push(item),this._items.length}unshift(item){return this._items.unshift(item),this._items.length}filterByPropertyValueIn(propName,needles,excludeUndefined=!0){if("string"!=typeof propName)throw new TypeError("EntityCollection filterByPropertyValueIn expects propName to be a string.");if(!Array.isArray(needles))throw new TypeError("EntityCollection filterByPropertyValueIn expects needles to be an array.");this.filterByCallback((item=>{const isPropertyDefined=Object.prototype.hasOwnProperty.call(item._props,propName);return!(excludeUndefined&&!isPropertyDefined||isPropertyDefined&&!needles.includes(item._props[propName]))}))}filterByCallback(callback){if("function"!=typeof callback)throw new TypeError("EntityCollection filterByCallback expects callback to be a function.");for(let currentIndex=this._items.length-1;currentIndex>=0;currentIndex--)callback(this._items[currentIndex])||this._items.splice(currentIndex,1)}assertUniqueByProperty(propName,message){const ruleId=`unique_${propName}`,propValues=this.extract(propName),uniqueElements=new Set;message=message||`The collection should only contain items with unique values for the property: ${propName}.`,propValues.forEach(((propValue,index)=>{if(uniqueElements.add(propValue),index!==uniqueElements.size-1)throw new _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__.A(index,ruleId,message)}))}assertNotExist(propName,propValue,options={}){if(void 0===propValue)return;let haystackSet=options?.haystackSet;if(!haystackSet){const propValues=this.extract(propName);haystackSet=new Set(propValues)}if(haystackSet.has(propValue)){const error=new _entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A,message=options?.message||`The collection already includes an element that has a property (${propName}) with an identical value.`;throw error.addError(propName,"unique",message),error}}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollection},"./src/shared/models/entity/abstract/entityCollectionError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class EntityCollectionError extends Error{constructor(position,rule,message){if(super(message=message||"Entity collection error."),"number"!=typeof position)throw new TypeError("EntityCollectionError requires a valid position");if(!rule||"string"!=typeof rule)throw new TypeError("EntityCollectionError requires a valid rule");if(!message||"string"!=typeof message)throw new TypeError("EntityCollectionError requires a valid message");this.position=position,this.rule=rule}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollectionError},"./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$z:()=>TEST_RESOURCE_TYPE_V5_PASSWORD_STRING,Av:()=>TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP,Bt:()=>TEST_RESOURCE_TYPE_PASSWORD_STRING,G6:()=>resourceTypePasswordDescriptionTotpDto,G9:()=>resourceTypeV5DefaultDto,J6:()=>TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP,KD:()=>resourceTypePasswordAndDescriptionDto,Lt:()=>resourceTypeTotpDto,Tl:()=>resourceTypeV5PasswordStringDto,Vv:()=>TEST_RESOURCE_TYPE_V5_DEFAULT,Xq:()=>TEST_RESOURCE_TYPE_V5_TOTP,m$:()=>resourceTypePasswordStringDto,mF:()=>resourceTypeV5TotpDto,s_:()=>TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION,tS:()=>resourceTypeV5DefaultTotpDto,vD:()=>TEST_RESOURCE_TYPE_TOTP});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const TEST_RESOURCE_TYPE_PASSWORD_STRING=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_DEFAULT=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_PASSWORD_STRING=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_RESOURCE_TYPE_V5_TOTP=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),resourceTypePasswordStringDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_STRING,name:"Simple password",slug:"password-string",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"string",maxLength:4096}},...data}),resourceTypePasswordAndDescriptionDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_AND_DESCRIPTION,name:"Password with description",slug:"password-and-description",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}},...data}),resourceTypePasswordDescriptionTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_PASSWORD_DESCRIPTION_TOTP,name:"Password, Description and TOTP",slug:"password-description-totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0},totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_TOTP,name:"Standalone TOTP",slug:"totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uri:{type:"string",maxLength:1024,nullable:!0}}},secret:{type:"object",required:["totp"],properties:{totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeV5DefaultDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_DEFAULT,name:"V5 Default",slug:"v5-default",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password"],properties:{object_type:{type:"string",enum:["PASSBOLT_SECRET_DATA"]},password:{type:"string",maxLength:4096,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0}}}},...data}),resourceTypeV5PasswordStringDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_PASSWORD_STRING,name:"V5 Password",slug:"v5-password-string",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"string",maxLength:4096}},...data}),resourceTypeV5DefaultTotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_DEFAULT_TOTP,name:"V5 Default with TOTP",slug:"v5-default-with-totp",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},username:{type:"string",maxLength:255,nullable:!0},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["password","totp"],properties:{object_type:{type:"string",enum:["PASSBOLT_SECRET_DATA"]},password:{type:"string",maxLength:4096,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0},totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data}),resourceTypeV5TotpDto=(data={})=>({id:TEST_RESOURCE_TYPE_V5_TOTP,name:"V5 Standalone TOTP",slug:"v5-totp-standalone",definition:{resource:{type:"object",required:["name"],properties:{name:{type:"string",maxLength:255},uris:{type:"array",items:{type:"string",maxLength:1024,nullable:!0}},description:{type:"string",maxLength:1e4,nullable:!0}}},secret:{type:"object",required:["totp"],properties:{object_type:{type:"string",enum:["PASSBOLT_SECRET_DATA"]},totp:{type:"object",required:["secret_key","digits","algorithm"],properties:{algorithm:{type:"string",minLength:4,maxLength:6},secret_key:{type:"string",maxLength:1024},digits:{type:"number",minimum:6,maximum:8},period:{type:"number"}}}}}},...data})},"./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Xc:()=>defaultPasswordExpirySettingsEntityDto,om:()=>overridenPasswordExpirySettingsEntityDto});const defaultPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!1,default_expiry_period:null},data),overridenPasswordExpirySettingsEntityDto=(data={})=>Object.assign({automatic_update:!0,automatic_expiry:!0,policy_override:!0,default_expiry_period:30},data)},"./src/shared/models/passwordPolicies/PassphraseGeneratorSettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>defaultPassphraseGeneratorSettingsDto});const defaultPassphraseGeneratorSettingsDto=(data={})=>({words:9,word_separator:" ",word_case:"lowercase",...data})},"./src/shared/models/passwordPolicies/PasswordGeneratorSettingsDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>defaultPasswordGeneratorSettingsDto});const defaultPasswordGeneratorSettingsDto=(data={})=>({length:18,mask_upper:!0,mask_lower:!0,mask_digit:!0,mask_char1:!0,mask_parenthesis:!0,mask_char2:!0,mask_char3:!0,mask_char4:!0,mask_char5:!0,mask_emoji:!1,exclude_look_alike_chars:!0,...data})},"./src/shared/models/passwordPolicies/PasswordPoliciesDto.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>defaultPasswordPoliciesDto,n:()=>configuredPasswordPoliciesDto});var uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/passwordPolicies/PasswordGeneratorSettingsDto.test.data.js"),_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/passwordPolicies/PassphraseGeneratorSettingsDto.test.data.js");const defaultPasswordPoliciesDto=(data={})=>({default_generator:"password",external_dictionary_check:!0,password_generator_settings:(0,_PasswordGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_0__._)(),passphrase_generator_settings:(0,_PassphraseGeneratorSettingsDto_test_data__WEBPACK_IMPORTED_MODULE_1__.N)(),source:"default",...data}),configuredPasswordPoliciesDto=(data={})=>defaultPasswordPoliciesDto({id:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),created:"2023-07-01T13:59:11+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),modified:"2023-08-01T13:59:11+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(),...data})},"./src/shared/models/resource/ResourcePasswordDescriptionViewModel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/constants/inputs.const.js"),_ResourceViewModel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/resource/ResourceViewModel.js"),_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js");class ResourcePasswordDescriptionViewModel extends _ResourceViewModel__WEBPACK_IMPORTED_MODULE_0__.A{constructor(resourceViewModel={}){super(resourceViewModel),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourcePasswordDescriptionViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===_ResourceViewModel__WEBPACK_IMPORTED_MODULE_0__.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:_constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__.Dt},uri:{type:"string",maxLength:_constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__.kW,nullable:!0},username:{type:"string",maxLength:_constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__.E1,nullable:!0},password:{type:"string",maxLength:_constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__.Bh},description:{type:"string",maxLength:_constants_inputs_const__WEBPACK_IMPORTED_MODULE_2__.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return _entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_1__.Bo}updateSecret(secretDto){const resourceViewModel=this.cloneWithMutation("password",secretDto.password);return resourceViewModel.description=secretDto.description,resourceViewModel}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!1}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return{password:this.password,description:this.description,resource_type_id:this.resource_type_id}}areSecretsDifferent(originalSecretDto){return!(2===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password")&&Object.hasOwn(originalSecretDto,"description"))||this.password!==originalSecretDto.password||this.description!==originalSecretDto.description}}const __WEBPACK_DEFAULT_EXPORT__=ResourcePasswordDescriptionViewModel},"./src/shared/models/resource/ResourceViewModel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entity_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),_entity_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class ResourceViewModel{static createFromEntity(){throw new Error("The ViewModel class should declare how to create a ResourceViewModel from a resource entity.")}static getSchema(){throw new Error("The ViewModel class should declare its schema.")}static get resourceTypeSlug(){throw new Error("The ViewModel class should declare its resource type slug.")}updateSecret(){throw new Error("The ViewModel class should declare how to update its secret fields.")}canToggleDescription(){throw new Error("The ViewModel class should declare if description can be toggled.")}isDescriptionUnencrypted(){throw new Error("The ViewModel class should declare if description is unencrypted.")}toResourceDto(){throw new Error("The ViewModel class should declare how to export to a resource dto.")}toSecretDto(){throw new Error("The ViewModel class should declare how to export to a secret dto.")}areSecretsDifferent(){throw new Error("The ViewModel class should declare how to compare secrets.")}cloneWithMutation(field,value){const clone={...this,[field]:value};return new this.constructor(clone)}validate(mode=ResourceViewModel.CREATE_MODE){try{_entity_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_0__.A.validate(this.constructor.name,this,this.constructor.getSchema(mode))}catch(error){return error}return new _entity_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A}static get CREATE_MODE(){return"CREATE_MODE"}static get EDIT_MODE(){return"EDIT_MODE"}}const __WEBPACK_DEFAULT_EXPORT__=ResourceViewModel},"./src/shared/models/resource/ResourceViewModelFactory.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>resource_ResourceViewModelFactory});var inputs_const=__webpack_require__("./src/shared/constants/inputs.const.js"),ResourceViewModel=__webpack_require__("./src/shared/models/resource/ResourceViewModel.js"),resourceTypeSchemasDefinition=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js");class ResourcePasswordDescriptionTotpViewModel extends ResourceViewModel.A{constructor(resourceViewModel={}){super(resourceViewModel),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.totp=resourceViewModel.totp||null,this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourcePasswordDescriptionTotpViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===ResourceViewModel.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:inputs_const.Dt},uri:{type:"string",maxLength:inputs_const.kW,nullable:!0},username:{type:"string",maxLength:inputs_const.E1,nullable:!0},password:{type:"string",maxLength:inputs_const.Bh},description:{type:"string",maxLength:inputs_const.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},totp:{type:"object"},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return resourceTypeSchemasDefinition.fl}updateSecret(secretDto){const resourceViewModel=this.cloneWithMutation("password",secretDto.password);return resourceViewModel.description=secretDto.description,resourceViewModel.totp=secretDto.totp,resourceViewModel}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return{password:this.password,description:this.description,totp:this.totp,resource_type_id:this.resource_type_id}}areSecretsDifferent(originalSecretDto){const hasSameSecretStructure=3===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password")&&Object.hasOwn(originalSecretDto,"description")&&Object.hasOwn(originalSecretDto,"totp"),isTotpDifferent=Object.keys(this.totp).some((key=>this.totp[key]!==originalSecretDto.totp?.[key]));return!hasSameSecretStructure||this.password!==originalSecretDto.password||this.description!==originalSecretDto.description||isTotpDifferent}}const resource_ResourcePasswordDescriptionTotpViewModel=ResourcePasswordDescriptionTotpViewModel;class ResourceV5DefaultTotpViewModel extends ResourceViewModel.A{constructor(resourceViewModel={}){super(resourceViewModel),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.totp=resourceViewModel.totp||null,this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,description:resourceDto.metadata.description,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourceV5DefaultTotpViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===ResourceViewModel.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:inputs_const.Dt},uri:{type:"string",maxLength:inputs_const.kW,nullable:!0},username:{type:"string",maxLength:inputs_const.E1,nullable:!0},password:{type:"string",maxLength:inputs_const.Bh},description:{type:"string",maxLength:inputs_const.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},totp:{type:"object"},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return resourceTypeSchemasDefinition.a5}updateSecret(secretDto){const resourceViewModel=this.cloneWithMutation("password",secretDto.password);return resourceViewModel.description=secretDto.description,resourceViewModel.totp=secretDto.totp,resourceViewModel}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{object_type:"PASSBOLT_RESOURCE_METADATA",resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return{password:this.password,description:this.description,totp:this.totp,resource_type_id:this.resource_type_id}}areSecretsDifferent(originalSecretDto){const hasSameSecretStructure=3===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password")&&Object.hasOwn(originalSecretDto,"description")&&Object.hasOwn(originalSecretDto,"totp"),isTotpDifferent=Object.keys(this.totp).some((key=>this.totp[key]!==originalSecretDto.totp?.[key]));return!hasSameSecretStructure||this.password!==originalSecretDto.password||this.description!==originalSecretDto.description||isTotpDifferent}}const resource_ResourceV5DefaultTotpViewModel=ResourceV5DefaultTotpViewModel;var ResourcePasswordDescriptionViewModel=__webpack_require__("./src/shared/models/resource/ResourcePasswordDescriptionViewModel.js");class ResourceV5DefaultViewModel extends ResourceViewModel.A{constructor(resourceViewModel={}){super(resourceViewModel),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,description:resourceDto.metadata.description,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourceV5DefaultViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===ResourceViewModel.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:inputs_const.Dt},uri:{type:"string",maxLength:inputs_const.kW,nullable:!0},username:{type:"string",maxLength:inputs_const.E1,nullable:!0},password:{type:"string",maxLength:inputs_const.Bh},description:{type:"string",maxLength:inputs_const.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return resourceTypeSchemasDefinition.gG}updateSecret(secretDto){const resourceViewModel=this.cloneWithMutation("password",secretDto.password);return resourceViewModel.description=secretDto.description,resourceViewModel}canToggleDescription(){return!1}isDescriptionUnencrypted(){return!1}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{object_type:"PASSBOLT_RESOURCE_METADATA",resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return{password:this.password,description:this.description,resource_type_id:this.resource_type_id}}areSecretsDifferent(originalSecretDto){return!(2===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password")&&Object.hasOwn(originalSecretDto,"description"))||this.password!==originalSecretDto.password||this.description!==originalSecretDto.description}}const resource_ResourceV5DefaultViewModel=ResourceV5DefaultViewModel;class ResourcePasswordStringViewModel extends ResourceViewModel.A{constructor(resourceViewModel={}){super({}),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,description:resourceDto.metadata.description,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourcePasswordStringViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===ResourceViewModel.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:inputs_const.Dt},uri:{type:"string",maxLength:inputs_const.kW,nullable:!0},username:{type:"string",maxLength:inputs_const.E1,nullable:!0},password:{type:"string",maxLength:inputs_const.Bh},description:{type:"string",maxLength:inputs_const.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return resourceTypeSchemasDefinition._w}updateSecret(secretDto){return this.cloneWithMutation("password",secretDto.password)}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!0}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username,description:this.description}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return this.password}areSecretsDifferent(originalSecretDto){return!(1===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password"))||this.password!==originalSecretDto.password}}const resource_ResourcePasswordStringViewModel=ResourcePasswordStringViewModel;class ResourceV5PasswordStringViewModel extends ResourceViewModel.A{constructor(resourceViewModel={}){super({}),this.username=resourceViewModel.username||"",this.uri=resourceViewModel.uri||"",this.description=resourceViewModel.description||"",this.folder_parent_id=resourceViewModel.folder_parent_id||null,this.resource_type_id=resourceViewModel.resource_type_id,void 0!==resourceViewModel.id&&(this.id=resourceViewModel.id),resourceViewModel.name&&(this.name=resourceViewModel.name),resourceViewModel.password&&(this.password=resourceViewModel.password),void 0!==resourceViewModel.expired&&(this.expired=resourceViewModel.expired)}static createFromEntity(resourceDto){const resourceViewModelDto={id:resourceDto.id,name:resourceDto.metadata.name,uri:resourceDto.metadata.uris[0],username:resourceDto.metadata.username,description:resourceDto.metadata.description,folder_parent_id:resourceDto.folder_parent_id,resource_type_id:resourceDto.resource_type_id,expired:resourceDto.expired};return new ResourceV5PasswordStringViewModel(resourceViewModelDto)}static getSchema(mode){const required=["name","password","resource_type_id"];return mode===ResourceViewModel.A.EDIT_MODE&&required.push("id"),{type:"object",required,properties:{id:{type:"string",format:"uuid"},name:{type:"string",maxLength:inputs_const.Dt},uri:{type:"string",maxLength:inputs_const.kW,nullable:!0},username:{type:"string",maxLength:inputs_const.E1,nullable:!0},password:{type:"string",maxLength:inputs_const.Bh},description:{type:"string",maxLength:inputs_const.G3,nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},folder_parent_id:{type:"string",format:"uuid",nullable:!0},resource_type_id:{type:"string",format:"uuid"}}}}static get resourceTypeSlug(){return resourceTypeSchemasDefinition.Eh}updateSecret(secretDto){return this.cloneWithMutation("password",secretDto.password)}canToggleDescription(){return!0}isDescriptionUnencrypted(){return!0}toResourceDto(){const dto={resource_type_id:this.resource_type_id,folder_parent_id:this.folder_parent_id,metadata:{object_type:"PASSBOLT_RESOURCE_METADATA",resource_type_id:this.resource_type_id,name:this.name,uris:this.uri?[this.uri]:[],username:this.username,description:this.description}};return void 0!==this.expired&&(dto.expired=this.expired),void 0!==this.id&&(dto.id=this.id),dto}toSecretDto(){return this.password}areSecretsDifferent(originalSecretDto){return!(1===Object.keys(originalSecretDto).length&&Object.hasOwn(originalSecretDto,"password"))||this.password!==originalSecretDto.password}}const resource_ResourceV5PasswordStringViewModel=ResourceV5PasswordStringViewModel;const resource_ResourceViewModelFactory=class ResourceViewModelFactory{static createFromResourceTypeAndResourceViewModelDto(resourceType,dto){switch(resourceType?.slug){case ResourcePasswordDescriptionViewModel.A.resourceTypeSlug:return new ResourcePasswordDescriptionViewModel.A(dto);case resource_ResourcePasswordDescriptionTotpViewModel.resourceTypeSlug:return new resource_ResourcePasswordDescriptionTotpViewModel(dto);case resource_ResourceV5DefaultViewModel.resourceTypeSlug:return new resource_ResourceV5DefaultViewModel(dto);case resource_ResourceV5DefaultTotpViewModel.resourceTypeSlug:return new resource_ResourceV5DefaultTotpViewModel(dto);case resource_ResourcePasswordStringViewModel.resourceTypeSlug:return new resource_ResourcePasswordStringViewModel(dto);case resource_ResourceV5PasswordStringViewModel.resourceTypeSlug:return new resource_ResourceV5PasswordStringViewModel(dto);default:throw new Error("No ViewModel has been found for the resource type.")}}static createFromResourceTypeAndEntityDto(resourceType,resourceDto){switch(resourceType?.slug){case ResourcePasswordDescriptionViewModel.A.resourceTypeSlug:return ResourcePasswordDescriptionViewModel.A.createFromEntity(resourceDto);case resource_ResourcePasswordDescriptionTotpViewModel.resourceTypeSlug:return resource_ResourcePasswordDescriptionTotpViewModel.createFromEntity(resourceDto);case resource_ResourceV5DefaultViewModel.resourceTypeSlug:return resource_ResourceV5DefaultViewModel.createFromEntity(resourceDto);case resource_ResourceV5DefaultTotpViewModel.resourceTypeSlug:return resource_ResourceV5DefaultTotpViewModel.createFromEntity(resourceDto);case resource_ResourcePasswordStringViewModel.resourceTypeSlug:return resource_ResourcePasswordStringViewModel.createFromEntity(resourceDto);case resource_ResourceV5PasswordStringViewModel.resourceTypeSlug:return resource_ResourceV5PasswordStringViewModel.createFromEntity(resourceDto);default:throw new Error("No ViewModel has been found for the resource type.")}}}},"./src/shared/utils/dateUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B7:()=>formatDateForApi,Br:()=>formatExpirationDateTimeAgo,kD:()=>formatDateTimeAgo});var luxon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/luxon/src/luxon.js");const formatDateTimeAgo=(date,translate,locale)=>{if(null===date)return"n/a";if("Infinity"===date)return translate("Never");const dateTime=luxon__WEBPACK_IMPORTED_MODULE_0__.c9.fromISO(date),duration=dateTime.diffNow().toMillis();return duration>-1e3&&duration<0?translate("Just now"):dateTime.toRelative({locale})},formatExpirationDateTimeAgo=(date,translate,locale)=>date?formatDateTimeAgo(date,translate,locale):translate("Never"),formatDateForApi=date=>date?.toUTC().toISO()||null}}]);