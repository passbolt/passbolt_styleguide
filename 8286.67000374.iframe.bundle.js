/*! For license information please see 8286.67000374.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[8286],{"./src/img/svg/healthcheck_error.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHealthcheckError(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m13.5 4.5-9 9M4.5 4.5l9 9"})))}},"./src/img/svg/healthcheck_success.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHealthcheckSuccess(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m15 4.5-8.25 8.25L3 9"})))}},"./src/img/svg/healthcheck_warning.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHealthcheckWarning(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m16.298 13.5-6-10.5a1.5 1.5 0 0 0-2.61 0l-6 10.5A1.5 1.5 0 0 0 3 15.75h12a1.5 1.5 0 0 0 1.297-2.25M9 6.75v3M9 12.75h.008"})))}},"./src/react-extension/components/Resource/ImportResources/ImportResourcesKeyUnlock.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_ImportResourcesResult__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResourcesResult.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/components/Password/Password.js");class ImportResourcesKeyUnlock extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{processing:!1,password:"",keyFile:null,errors:{}}}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.passwordInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){this.focusOnPassphrase()}focusOnPassphrase(){this.passwordInputRef.current.focus()}get selectedFilename(){return this.state.keyFile?this.state.keyFile.name:""}get fileToImport(){return this.props.resourceWorkspaceContext.resourceFileToImport}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(event){const[keyFile]=event.target.files;await this.setState({keyFile})}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}handleCancel(){this.props.resourceWorkspaceContext.onResourceFileToImport(null),this.close()}async handleSubmit(event){event.preventDefault(),this.state.processing||this.import()}readFile(){if(!this.state.keyFile)return;const reader=new FileReader;return new Promise((resolve,reject)=>{reader.onloadend=event=>{try{const fileBase64=event.target.result.split(",")[1];resolve(fileBase64)}catch(e){reject(e)}},reader.readAsDataURL(this.state.keyFile)})}async import(){const resourceFileToImport=this.fileToImport,b64FileContent=resourceFileToImport.b64FileContent,fileType=resourceFileToImport.fileType,password=this.state.password,keyfile=await this.readFile(),options=Object.assign({},resourceFileToImport.options,{credentials:{password,keyfile}});this.toggleProcessing(),await this.resetValidation();try{const result=await this.props.context.port.request("passbolt.import-resources.import-file",fileType,b64FileContent,options);this.handleImportSuccess(result)}catch(error){this.handleImportError(error)}}async resetValidation(){await this.setState({errors:{}})}async handleImportSuccess(importResult){await this.props.resourceWorkspaceContext.onResourceFileImportResult(importResult),await this.props.resourceWorkspaceContext.onResourceFileToImport(null),await this.props.dialogContext.open(_ImportResourcesResult__WEBPACK_IMPORTED_MODULE_9__.A),this.close()}handleImportError(error){const userAbortsOperation="UserAbortsOperationError"===error.name,isUntrustedMetadataKeyError="UntrustedMetadataKeyError"===error.name,isInvalidPasswordOrKeyFile="InvalidKey"===error.code||"InvalidArg"===error.code;if(this.toggleProcessing(),userAbortsOperation||isUntrustedMetadataKeyError);else if(isInvalidPasswordOrKeyFile)this.setState({errors:{invalidPasswordOrKeyfile:!0}});else{const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_10__.A,errorDialogProps)}}close(){this.props.onClose()}async toggleProcessing(){const prev=this.state.processing;return this.setState({processing:!prev})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){const errors=this.state.errors,isInvalidPasswordOrKeyFile=errors&&errors.invalidPasswordOrKeyfile;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_5__.A,{title:this.translate("Enter the password and/or key file"),className:"import-password-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleCancel},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-password-wrapper input "+(this.hasAllInputDisabled()?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"import-password-dialog-password"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Keepass password")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_12__.A,{id:"import-password-dialog-password",name:"password",autoComplete:"off",value:this.state.password,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),placeholder:this.translate("Passphrase"),preview:!0,inputRef:this.passwordInputRef})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input file "+(this.hasAllInputDisabled()?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"file",id:"dialog-import-passwords",ref:this.fileUploaderRef,onChange:this.handleFileSelected}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"dialog-import-passwords"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Keepass key file (optional)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-file-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",placeholder:this.translate("No key file selected"),disabled:!0,value:this.selectedFilename}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Choose a file")))),isInvalidPasswordOrKeyFile&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Cannot decrypt the file, invalid credentials.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCancel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__.A,{value:this.translate("Continue import"),disabled:this.hasAllInputDisabled(),processing:this.state.processing}))))}}ImportResourcesKeyUnlock.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.CI)("common")(ImportResourcesKeyUnlock)))));ImportResourcesKeyUnlock.__docgenInfo={description:"This component is the second step of the import dialog when the file to import is KDB(X) file",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindHandlers",docblock:"Bind component handlers",modifiers:[],params:[],returns:null,description:"Bind component handlers"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"focusOnPassphrase",docblock:"Put the focus on the passphrase input",modifiers:[],params:[],returns:null,description:"Put the focus on the passphrase input"},{name:"selectedFilename",docblock:"Returns the selected file's name",modifiers:["get"],params:[],returns:null,description:"Returns the selected file's name"},{name:"fileToImport",docblock:"Returns the current file to import",modifiers:["get"],params:[],returns:null,description:"Returns the current file to import"},{name:"handleSelectFile",docblock:"Handle the selection of a file by file explorer",modifiers:[],params:[],returns:null,description:"Handle the selection of a file by file explorer"},{name:"handleFileSelected",docblock:"Handle the event that a file has been selected\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the event that a file has been selected"},{name:"handleInputChange",docblock:"Handle input change\n@param event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle input change"},{name:"handleCancel",docblock:"Handle the cancellation of the import",modifiers:[],params:[],returns:null,description:"Handle the cancellation of the import"},{name:"handleSubmit",docblock:"Handle the import submit event\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the import submit event"},{name:"readFile",docblock:"Read the selected file and returns its content in a base 64\n@return {Promise<string>}",modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"string"}]}},description:"Read the selected file and returns its content in a base 64"},{name:"import",docblock:"Import the resource file",modifiers:["async"],params:[],returns:null,description:"Import the resource file"},{name:"resetValidation",docblock:"Reset the validation process",modifiers:["async"],params:[],returns:null,description:"Reset the validation process"},{name:"handleImportSuccess",docblock:"Handle the success of the KDBX import\n@parama importResult The import result",modifiers:["async"],params:[{name:"importResult",optional:!1}],returns:null,description:"Handle the success of the KDBX import"},{name:"handleImportError",docblock:"Handle the failure of the KDBX import\n@param error The import error",modifiers:[],params:[{name:"error",description:"The import error",optional:!1}],returns:null,description:"Handle the failure of the KDBX import"},{name:"close",docblock:"Close the dialog",modifiers:[],params:[],returns:null,description:"Close the dialog"},{name:"toggleProcessing",docblock:"Toggle processing state\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Toggle processing state"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ImportResourcesKeyUnlock",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/ImportResources/ImportResourcesResult.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/caret_right.svg"),_img_svg_healthcheck_success_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/healthcheck_success.svg"),_img_svg_healthcheck_error_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/img/svg/healthcheck_error.svg"),_img_svg_healthcheck_warning_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/img/svg/healthcheck_warning.svg");class ImportResourcesResult extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{showWarningResourcesDetails:!1,showErrorResourcesDetails:!1,showErrorFoldersDetails:!1}}bindHandlers(){this.handleClose=this.handleClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleErrorResourcesDetailsToggle=this.handleErrorResourcesDetailsToggle.bind(this),this.handleWarningResourcesDetailsToggle=this.handleWarningResourcesDetailsToggle.bind(this),this.handleErrorFoldersDetailsToggle=this.handleErrorFoldersDetailsToggle.bind(this),this.handleReferenceFolderClick=this.handleReferenceFolderClick.bind(this),this.handleReferenceTagClick=this.handleReferenceTagClick.bind(this)}handleClose(){this.close()}handleSubmit(e){e.preventDefault(),this.close()}handleErrorResourcesDetailsToggle(){this.toggleErrorResourcesDetails()}handleWarningResourcesDetailsToggle(){this.toggleWarningResourcesDetails()}handleErrorFoldersDetailsToggle(){this.toggleErrorFoldersDetails()}handleReferenceFolderClick(){const folder=this.resultReferenceFolder;this.props.history.push(`/app/folders/view/${folder.id}`),this.close()}handleReferenceTagClick(){const tag=this.resultReferenceTag,filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.FM.TAG,payload:{tag}};this.props.history.push({pathname:"/app/passwords",state:{filter}}),this.close()}close(){this.props.onClose()}toggleWarningResourcesDetails(){this.setState({showWarningResourcesDetails:!this.state.showWarningResourcesDetails})}toggleErrorResourcesDetails(){this.setState({showErrorResourcesDetails:!this.state.showErrorResourcesDetails})}toggleErrorFoldersDetails(){this.setState({showErrorFoldersDetails:!this.state.showErrorFoldersDetails})}get canIUseTags(){return this.props.context.siteSettings.canIUse("tags")}get canIUseFolders(){return this.props.context.siteSettings.canIUse("folders")}get result(){return this.props.resourceWorkspaceContext.resourceFileImportResult||{}}get resultCreated(){return this.result.created||{}}get resultCreatedFoldersCount(){return this.resultCreated.foldersCount||0}get resultCreatedResourcesCount(){const totalCreated=this.resultCreated.resourcesCount||0,warnings=this.resultWarningsResources.length;return Math.max(0,totalCreated-warnings)}get resultReferences(){return this.result.references||{}}get resultReferenceTag(){return this.resultReferences.tag||null}get resultReferenceFolder(){return this.resultReferences.folder||null}get resultErrors(){return this.result.errors||{}}get resultWarnings(){return this.result.warnings||{}}get resultErrorsResources(){return this.resultErrors.resources||[]}get resultErrorsFolders(){return this.resultErrors.folders||[]}get resultWarningsResources(){return this.resultWarnings.resources||[]}get hasErrorsResources(){return this.resultErrorsResources.length>0}get resultHasErrorsFolders(){return this.resultErrorsFolders.length>0}get hasWarningsResources(){return this.resultWarningsResources.length>0}get stackTraceResourceWarnings(){return`----------------------------\n${this.props.t("Resources warnings")}\n----------------------------\n${JSON.stringify(this.resultWarningsResources,null,4)}`}get stackTraceResourceErrors(){return`----------------------------\n${this.props.t("Resources errors")}\n----------------------------\n${JSON.stringify(this.resultErrorsResources,null,4)}`}get stackTraceFoldersErrors(){return`----------------------------\n${this.props.t("Folder errors")}\n----------------------------\n${JSON.stringify(this.resultErrorsFolders,null,4)}`}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_6__.A,{className:"import-resources-result",title:this.props.t("Import summary"),onClose:this.handleClose},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content import-dialog-summary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,"Resources"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"resources-section"},this.resultCreatedResourcesCount>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"state-icon success-state"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_healthcheck_success_svg__WEBPACK_IMPORTED_MODULE_11__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,{count:this.resultCreatedResourcesCount},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,{count:this.resultCreatedResourcesCount})," resource was imported successfully.")))),this.hasWarningsResources&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-section accordion accordion-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-header accordion-header",onClick:this.handleWarningResourcesDetailsToggle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"state-icon warning-state"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_healthcheck_warning_svg__WEBPACK_IMPORTED_MODULE_13__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"summary-content link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,{count:this.resultWarningsResources.length},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,{count:this.resultWarningsResources.length})," resource was partially imported.")),this.state.showWarningResourcesDetails?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"baseline svg-icon"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"baseline svg-icon"}))),this.state.showWarningResourcesDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Error details")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{id:"js_field_debug",defaultValue:`${this.stackTraceResourceWarnings}`,readOnly:!0})))),this.hasErrorsResources&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-section accordion accordion-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-header accordion-header",onClick:this.handleErrorResourcesDetailsToggle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"state-icon fail-state"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_healthcheck_error_svg__WEBPACK_IMPORTED_MODULE_12__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"summary-content link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,{count:this.resultErrorsResources.length},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,{count:this.resultErrorsResources.length})," resource was not imported.")),this.state.showErrorResourcesDetails?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"baseline svg-icon"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"baseline svg-icon"}))),this.state.showErrorResourcesDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Error details")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{id:"js_field_debug",defaultValue:`${this.stackTraceResourceErrors}`,readOnly:!0}))))),this.canIUseFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,"Folders"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"folder-section"},this.resultCreatedFoldersCount>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"state-icon success-state"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_healthcheck_success_svg__WEBPACK_IMPORTED_MODULE_11__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,{count:this.resultCreatedFoldersCount},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,{count:this.resultCreatedFoldersCount})," folder was fully imported.")))),this.resultHasErrorsFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-section accordion accordion-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"summary-header accordion-header",onClick:this.handleErrorFoldersDetailsToggle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"state-icon fail-state"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_healthcheck_error_svg__WEBPACK_IMPORTED_MODULE_12__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"summary-content link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,{count:this.resultErrorsFolders.length},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,{count:this.resultErrorsFolders.length})," folder was not imported.")),this.state.showErrorFoldersDetails?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"baseline svg-icon"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"baseline svg-icon"}))),this.state.showErrorFoldersDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"js_field_folders_debug",className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Error details")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{id:"js_field_folders_debug",defaultValue:`${this.stackTraceFoldersErrors}`,readOnly:!0}))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"notice message no-margin"},this.canIUseFolders&&this.resultReferenceFolder&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"You can find these newly imported passwords in the folder ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link inline no-border",onClick:this.handleReferenceFolderClick},{folderName:this.resultReferenceFolder.name}),".")),this.canIUseTags&&!this.resultReferenceFolder&&this.resultReferenceTag&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"You can find these newly imported passwords under the tag ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link inline no-border",onClick:this.handleReferenceTagClick},{tagName:this.resultReferenceTag.slug}),"."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_7__.A,{value:this.props.t("Ok")}))))}}ImportResourcesResult.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,history:prop_types__WEBPACK_IMPORTED_MODULE_2___default().object,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.withRouter)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_5__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(ImportResourcesResult)))));ImportResourcesResult.__docgenInfo={description:"This component displays the result of a resource file import",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleClose",docblock:"Whenever the user intends to close the dialog",modifiers:[],params:[],returns:null,description:"Whenever the user intends to close the dialog"},{name:"handleSubmit",docblock:"Handle the form submission\n@param {Event} e The form submit event",modifiers:[],params:[{name:"e",description:"The form submit event",type:{name:"Event"},optional:!1}],returns:null,description:"Handle the form submission"},{name:"handleErrorResourcesDetailsToggle",docblock:"Handle the toggle display of error resources details",modifiers:[],params:[],returns:null,description:"Handle the toggle display of error resources details"},{name:"handleWarningResourcesDetailsToggle",docblock:"Handle the toggle display of warning resources details",modifiers:[],params:[],returns:null,description:"Handle the toggle display of warning resources details"},{name:"handleErrorFoldersDetailsToggle",docblock:"Handle the toggle display of error folders details",modifiers:[],params:[],returns:null,description:"Handle the toggle display of error folders details"},{name:"handleReferenceFolderClick",docblock:"Handle the click on the reference folder",modifiers:[],params:[],returns:null,description:"Handle the click on the reference folder"},{name:"handleReferenceTagClick",docblock:"Handle the click on the reference tag",modifiers:[],params:[],returns:null,description:"Handle the click on the reference tag"},{name:"close",docblock:"Closes the dialog",modifiers:[],params:[],returns:null,description:"Closes the dialog"},{name:"toggleWarningResourcesDetails",docblock:"Toggle the display of the warning resources details",modifiers:[],params:[],returns:null,description:"Toggle the display of the warning resources details"},{name:"toggleErrorResourcesDetails",docblock:"Toggle the display of the error resources details",modifiers:[],params:[],returns:null,description:"Toggle the display of the error resources details"},{name:"toggleErrorFoldersDetails",docblock:"Toggle the display of the error folders details",modifiers:[],params:[],returns:null,description:"Toggle the display of the error folders details"},{name:"canIUseTags",docblock:"Is the user allowed to use the tags capability\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is the user allowed to use the tags capability"},{name:"canIUseFolders",docblock:"Is the user allowed to use the folders capability\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is the user allowed to use the folders capability"},{name:"result",docblock:"Returns the import result\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the import result"},{name:"resultCreated",docblock:"Created content\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Created content"},{name:"resultCreatedFoldersCount",docblock:"Created folders count\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Created folders count"},{name:"resultCreatedResourcesCount",docblock:"Fully imported resources count (excluding warnings)\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Fully imported resources count (excluding warnings)"},{name:"resultReferences",docblock:"The import references\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"The import references"},{name:"resultReferenceTag",docblock:"The unique tag used to mark the resources\n@returns {object|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"}]}},description:"The unique tag used to mark the resources"},{name:"resultReferenceFolder",docblock:"The folder used as root folder\n@returns {object|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"}]}},description:"The folder used as root folder"},{name:"resultErrors",docblock:"Import errors\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Import errors"},{name:"resultWarnings",docblock:"Import warnings\n@returns {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Import warnings"},{name:"resultErrorsResources",docblock:"Import resources errors\n@returns {Array}",modifiers:["get"],params:[],returns:{type:{name:"Array"}},description:"Import resources errors"},{name:"resultErrorsFolders",docblock:"Import folders errors\n@returns {Array}",modifiers:["get"],params:[],returns:{type:{name:"Array"}},description:"Import folders errors"},{name:"resultWarningsResources",docblock:"Import resources warnings\n@returns {Array}",modifiers:["get"],params:[],returns:{type:{name:"Array"}},description:"Import resources warnings"},{name:"hasErrorsResources",docblock:"Errors occurred while importing the resources\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Errors occurred while importing the resources"},{name:"resultHasErrorsFolders",docblock:"Errors occurred while importing the folders\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Errors occurred while importing the folders"},{name:"hasWarningsResources",docblock:"Warnings occurred while importing the resources\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Warnings occurred while importing the resources"},{name:"stackTraceResourceWarnings",docblock:"Get the stack trace for resource warnings\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the stack trace for resource warnings"},{name:"stackTraceResourceErrors",docblock:"Get the stack trace for resource errors\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the stack trace for resource errors"},{name:"stackTraceFoldersErrors",docblock:"Get the stack trace for folders errors\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the stack trace for folders errors"}],displayName:"ImportResourcesResult",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}}}]);