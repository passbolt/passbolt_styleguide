/*! For license information please see react-extension-components-ResourceDetails-DisplayResourceDetails-DisplayResourcesListDetails-test-stories.ef1aa090.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[3724,8636],{"./node_modules/react-router-dom/esm/react-router-dom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Kd:()=>BrowserRouter,N_:()=>Link});var react_router__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),history__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/history/esm/history.js"),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),tiny_invariant__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/tiny-invariant/dist/esm/tiny-invariant.js"),BrowserRouter=function(_React$Component){function BrowserRouter(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).history=(0,history__WEBPACK_IMPORTED_MODULE_3__.createBrowserHistory)(_this.props),_this}return(0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__.A)(BrowserRouter,_React$Component),BrowserRouter.prototype.render=function render(){return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_router__WEBPACK_IMPORTED_MODULE_0__.Router,{history:this.history,children:this.props.children})},BrowserRouter}(react__WEBPACK_IMPORTED_MODULE_2__.Component);react__WEBPACK_IMPORTED_MODULE_2__.Component;var resolveToLocation=function resolveToLocation(to,currentLocation){return"function"==typeof to?to(currentLocation):to},normalizeToLocation=function normalizeToLocation(to,currentLocation){return"string"==typeof to?(0,history__WEBPACK_IMPORTED_MODULE_3__.createLocation)(to,null,null,currentLocation):to},forwardRefShim=function forwardRefShim(C){return C},forwardRef=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef;void 0===forwardRef&&(forwardRef=forwardRefShim);var LinkAnchor=forwardRef(function(_ref,forwardedRef){var innerRef=_ref.innerRef,navigate=_ref.navigate,_onClick=_ref.onClick,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__.A)(_ref,["innerRef","navigate","onClick"]),target=rest.target,props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.A)({},rest,{onClick:function onClick(event){try{_onClick&&_onClick(event)}catch(ex){throw event.preventDefault(),ex}event.defaultPrevented||0!==event.button||target&&"_self"!==target||function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}(event)||(event.preventDefault(),navigate())}});return props.ref=forwardRefShim!==forwardRef&&forwardedRef||innerRef,react__WEBPACK_IMPORTED_MODULE_2__.createElement("a",props)});var Link=forwardRef(function(_ref2,forwardedRef){var _ref2$component=_ref2.component,component=void 0===_ref2$component?LinkAnchor:_ref2$component,replace=_ref2.replace,to=_ref2.to,innerRef=_ref2.innerRef,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__.A)(_ref2,["component","replace","to","innerRef"]);return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_router__WEBPACK_IMPORTED_MODULE_0__.__RouterContext.Consumer,null,function(context){context||(0,tiny_invariant__WEBPACK_IMPORTED_MODULE_6__.A)(!1);var history=context.history,location=normalizeToLocation(resolveToLocation(to,context.location),context.location),href=location?history.createHref(location):"",props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.A)({},rest,{href,navigate:function navigate(){var location=resolveToLocation(to,context.location),isDuplicateNavigation=(0,history__WEBPACK_IMPORTED_MODULE_3__.createPath)(context.location)===(0,history__WEBPACK_IMPORTED_MODULE_3__.createPath)(normalizeToLocation(location));(replace||isDuplicateNavigation?history.replace:history.push)(location)}});return forwardRefShim!==forwardRef?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react__WEBPACK_IMPORTED_MODULE_2__.createElement(component,props)})}),forwardRefShim$1=function forwardRefShim(C){return C},forwardRef$1=react__WEBPACK_IMPORTED_MODULE_2__.forwardRef;void 0===forwardRef$1&&(forwardRef$1=forwardRefShim$1);forwardRef$1(function(_ref,forwardedRef){var _ref$ariaCurrent=_ref["aria-current"],ariaCurrent=void 0===_ref$ariaCurrent?"page":_ref$ariaCurrent,_ref$activeClassName=_ref.activeClassName,activeClassName=void 0===_ref$activeClassName?"active":_ref$activeClassName,activeStyle=_ref.activeStyle,classNameProp=_ref.className,exact=_ref.exact,isActiveProp=_ref.isActive,locationProp=_ref.location,sensitive=_ref.sensitive,strict=_ref.strict,styleProp=_ref.style,to=_ref.to,innerRef=_ref.innerRef,rest=(0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_5__.A)(_ref,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return react__WEBPACK_IMPORTED_MODULE_2__.createElement(react_router__WEBPACK_IMPORTED_MODULE_0__.__RouterContext.Consumer,null,function(context){context||(0,tiny_invariant__WEBPACK_IMPORTED_MODULE_6__.A)(!1);var currentLocation=locationProp||context.location,toLocation=normalizeToLocation(resolveToLocation(to,currentLocation),currentLocation),path=toLocation.pathname,escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),match=escapedPath?(0,react_router__WEBPACK_IMPORTED_MODULE_0__.matchPath)(currentLocation.pathname,{path:escapedPath,exact,sensitive,strict}):null,isActive=!!(isActiveProp?isActiveProp(match,currentLocation):match),className="function"==typeof classNameProp?classNameProp(isActive):classNameProp,style="function"==typeof styleProp?styleProp(isActive):styleProp;isActive&&(className=function joinClassnames(){for(var _len=arguments.length,classnames=new Array(_len),_key=0;_key<_len;_key++)classnames[_key]=arguments[_key];return classnames.filter(function(i){return i}).join(" ")}(className,activeClassName),style=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.A)({},style,activeStyle));var props=(0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_4__.A)({"aria-current":isActive&&ariaCurrent||null,className,style,to:toLocation},rest);return forwardRefShim$1!==forwardRef$1?props.ref=forwardedRef||innerRef:props.innerRef=innerRef,react__WEBPACK_IMPORTED_MODULE_2__.createElement(Link,props)})})},"./node_modules/uuid/dist/esm-browser/v5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v5});var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js"),validate=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js");const esm_browser_parse=function parse(uuid){if(!(0,validate.A)(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}const esm_browser_v5=function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return(0,stringify.A)(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}("v5",80,function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]})},"./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/close.svg"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/components/Icons/ResourceIcon.js"),react_list__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-list/react-list.js"),react_list__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_list__WEBPACK_IMPORTED_MODULE_9__);class DisplayResourcesListDetails extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,error:!1,isSecretDecrypting:!1,isSecretDecrypted:!1,description:null}}bindCallbacks(){this.handleUnselectClickEvent=this.handleUnselectClickEvent.bind(this),this.renderItem=this.renderItem.bind(this)}getResourceTypeSubtitle(resource){if(!this.props.resourceTypes)return"";const resourceType=this.props.resourceTypes.getFirstById(resource.resource_type_id);switch(resourceType?.slug){case"password-string":case"v5-password-string":return this.props.t("Password");case"password-and-description":case"v5-default":return this.props.t("Password and Note");case"password-description-totp":case"v5-default-with-totp":return this.props.t("Password, Note and TOTP");case"totp":case"v5-totp-standalone":return this.props.t("TOTP");default:return this.props.t("Resource")}}handleUnselectClickEvent(resource){this.props.resourceWorkspaceContext.onResourceSelected.multiple(resource)}getPermissionSubtitle(resource){switch(resource.permission.type){case 0:return this.props.t("No access");case 1:return this.props.t("Can read");case 7:return this.props.t("Can edit");case 15:return this.props.t("Is owner")}}renderItem(index){const resource=this.props.resourceWorkspaceContext.selectedResources[index];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:resource.id,className:"sidebar-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_8__.A,{resource}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-area"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name"},resource.metadata.name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getResourceTypeSubtitle(resource)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getPermissionSubtitle(resource))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"title-link button-transparent inline",title:this.props.t("Remove this resource from the selection"),onClick:()=>this.handleUnselectClickEvent(resource)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Remove this resource from the selection")))))}render(){const count=this.props.resourceWorkspaceContext.selectedResources.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar resource multiple-resources-selected"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-title"},this.props.t("{{count}} resource selected",{count})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_list__WEBPACK_IMPORTED_MODULE_9___default(),{itemRenderer:this.renderItem,length:count,pageSize:15,minSize:15,type:"uniform"})))}}DisplayResourcesListDetails.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_7__.A),resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_6__.KH)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplayResourcesListDetails))));DisplayResourcesListDetails.__docgenInfo={description:"This component display the note section of a resource",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"getResourceTypeSubtitle",docblock:"Get the sidebar subtitle",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Get the sidebar subtitle"},{name:"handleUnselectClickEvent",docblock:"Handle when the user selects the folder parent.",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Handle when the user selects the folder parent."},{name:"getPermissionSubtitle",docblock:null,modifiers:[],params:[{name:"resource",optional:!1,type:null}],returns:null},{name:"renderItem",docblock:"Use to render a single item of the list\n@param {integer} index of the item in the source list\n@param {integer} key index of the HTML element in the ReactList\n@returns {JSX.Element}",modifiers:[],params:[{name:"index",description:"of the item in the source list",type:{name:"integer"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Use to render a single item of the list"}],displayName:"DisplayResourcesListDetails",props:{context:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesListDetails_test_stories});__webpack_require__("./src/shared/components/Icons/ResourceIcon.test.init.js");var mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ResourceWorkspaceContext=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),DisplayResourcesListDetails=__webpack_require__("./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js");var react=__webpack_require__("./node_modules/react/index.js"),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js");const DisplayResourcesListDetails_test_stories={title:"Components/ResourceDetails/DisplayResourcesListDetails",component:DisplayResourcesListDetails.A,decorators:[(Story,{args})=>react.createElement(react_router_dom.Kd,null,react.createElement(AppContext.A.Provider,{value:args.context},react.createElement(ResourceWorkspaceContext.XZ.Provider,{value:args.resourceWorkspaceContext},react.createElement("div",{className:"page"},react.createElement("div",{className:"app",style:{margin:"-1rem"}},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"middle-right",style:{display:"flex",justifyContent:"flex-end"}},react.createElement("div",{className:"panel aside"},react.createElement(Story,args))))))))))],parameters:{docs:{description:{component:"DisplayResourceDetails stories"}}}},storage=(0,mockStorage.A)(),port=(0,mockPort.A)(storage);port.addRequestListener("passbolt.organization-settings.get",()=>siteSettings.B),port.addRequestListener("passbolt.secret.find-by-resource-id",()=>({description:"This is a secure note."}));const Default={args:{...function defaultProps(data={}){const resourceWorkspaceContext=(0,ResourceWorkspaceContext_test_data.gJ)();return{...data,context:(0,ExtAppContext_test_data.bC)(data.context),resourceWorkspaceContext,resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)())}}({context:{port}}),storage}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...defaultProps({\n      context: {\n        port\n      }\n    }),\n    storage: storage\n  }\n}",...Default.parameters?.docs?.source}}}},"./src/shared/components/Icons/ResourceIcon.test.init.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_ResourceIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/ResourceIcon.js"),_img_passbolt_default_resource_type_icons_password_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/passbolt-default-resource-type-icons/password.svg"),_img_passbolt_default_resource_type_icons_totp_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/passbolt-default-resource-type-icons/totp.svg"),_img_passbolt_default_resource_type_icons_password_with_totp_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/passbolt-default-resource-type-icons/password-with-totp.svg"),_img_passbolt_default_resource_type_icons_key_value_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/passbolt-default-resource-type-icons/key-value.svg"),_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");_ResourceIcon__WEBPACK_IMPORTED_MODULE_1__.g.resourceTypeIdIconMap={[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.Bt]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.s_]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.Av]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_with_totp_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.vD]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_totp_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.Vv]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.$z]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.J6]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_password_with_totp_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.Xq]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_totp_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),[_models_entity_resourceType_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.R7]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_passbolt_default_resource_type_icons_key_value_svg__WEBPACK_IMPORTED_MODULE_5__.A,null)}},"./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,KH:()=>withResourceTypesLocalStorage,dA:()=>ResourceTypesLocalStorageContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js");const ResourceTypesLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},resourceTypes:null,updateLocalStorage:()=>{}});class ResourceTypesLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),resourceTypes:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes.resourceTypes&&this.set(changes.resourceTypes.newValue)}set(resourceTypes){const resourceTypesCollection=new _models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_3__.A(resourceTypes);this.setState({resourceTypes:resourceTypesCollection})}get(){return null===this.state.resourceTypes?(this.loadLocalStorage(),null):this.state.resourceTypes}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get(["resourceTypes"]);storageData.resourceTypes?this.set(storageData.resourceTypes):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.resource-type.get-or-find-all"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Provider,{value:this.state},this.props.children)}}ResourceTypesLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(ResourceTypesLocalStorageContextProvider);function withResourceTypesLocalStorage(WrappedComponent){return class withResourceTypesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceTypesLocalStorageContext.Consumer,null,resourceTypesLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{resourceTypesLocalStorageContext,resourceTypes:resourceTypesLocalStorageContext.get(),...this.props}))}}}ResourceTypesLocalStorageContextProvider.__docgenInfo={description:"The resource types local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the resource types in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the resource types in the local storage."},{name:"set",docblock:"Set resourceTypes.\n@param {Array<Object>} resourceTypes The resource types to set.\n@private",modifiers:[],params:[{name:"resourceTypes",description:"The resource types to set.",type:{name:"Array",elements:[{name:"Object"}]},optional:!1}],returns:null,description:"Set resourceTypes."},{name:"get",docblock:"Get the resource types from the local storage and/or init them if not the case already.\n@returns {ResourceTypesCollection|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"ResourceTypesCollection"}]}},description:"Get the resource types from the local storage and/or init them if not the case already."},{name:"loadLocalStorage",docblock:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the resource types from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the resource types in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the resource types in the local storage."}],displayName:"ResourceTypesLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/metadata/metadataKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lq:()=>defaultMetadataKeyDto,Lv:()=>metadataKeyWithSignedMetadataPrivateKeyDataDto});var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");function mutatePgpBlockFromOptions(block,options={withCrc:!0,withComments:!1,withWrongExtraCharacters:!1,withDuplicates:!1}){return options.withComments&&(block=block.replace("\n\n","\nVersion: PGP 1.0\nComments: This is a test\n\n")),options.withWrongExtraCharacters&&(block=block.replace(/\n\n(.{64})\n/,"\n\n$1Wrong Stuff Here\n")),options.withCrc||(block=block.replace(/\n=[a-zA-Z0-9/+=]{4}\n-----/,"\n-----")),options.withDuplicates&&(block=`${block}\n\n${block}\n\n${block}`),block}const defaultArmoredPublicKey=options=>mutatePgpBlockFromOptions("-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n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\n=KFUt\n-----END PGP PUBLIC KEY BLOCK-----",options);var metadataPrivateKeyEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),userEntity_test_data=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");const defaultMetadataKeyDto=(data={},options={})=>((data={},options={})=>{const defaultData={fingerprint:Array.from({length:40},()=>Math.floor(16*Math.random()).toString(16).toUpperCase()).join(""),armored_key:defaultArmoredPublicKey(),...data};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,metadataPrivateKeyEntity_test_data.mr)({metadata_key_id:defaultData.id},options?.withMetadataPrivateKeys)]),!defaultData.creator&&options?.withCreator&&(defaultData.creator=(0,userEntity_test_data.cI)()),defaultData})({id:data.id||(0,v4.A)(),modified:"2022-10-11T08:09:00+00:00",created_by:(0,v4.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,v4.A)(),deleted:null,expired:null,...data},options),metadataKeyWithSignedMetadataPrivateKeyDataDto=(data={},options={})=>{const id=data.id||(0,v4.A)(),metadataPrivateKeyDto={metadata_key_id:id,data_signed_by_current_user:(new Date).toISOString()},metadataPrivateKeysDto=[(0,metadataPrivateKeyEntity_test_data.mr)(metadataPrivateKeyDto,options?.withMetadataPrivateKeys)],defaultData={...data,id,metadata_private_keys:metadataPrivateKeysDto};return defaultMetadataKeyDto(defaultData,options)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mr:()=>defaultMetadataPrivateKeyDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),user_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),data_signed_by_current_user:null,modified:"2022-10-11T08:09:00+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),...data})},"./src/shared/models/entity/secretData/secretDataEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,h:()=>SECRET_DATA_OBJECT_TYPE});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SECRET_DATA_OBJECT_TYPE="PASSBOLT_SECRET_DATA";class SecretDataEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:[],properties:{object_type:{type:"string",enum:[SECRET_DATA_OBJECT_TYPE]}}}}get objectType(){return this._props.object_type}}const __WEBPACK_DEFAULT_EXPORT__=SecretDataEntity},"./src/shared/models/entity/totp/totpEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,e:()=>SUPPORTED_TOTP_ALGORITHMS});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SUPPORTED_TOTP_ALGORITHMS=["SHA1","SHA256","SHA512"],DEFAULT_ALGORITHM=SUPPORTED_TOTP_ALGORITHMS[0];class TotpEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["secret_key","period","digits","algorithm"],properties:{secret_key:{type:"string",minLength:1,pattern:/^[A-Z2-7]+=*$/,maxLength:1024},period:{type:"integer",minimum:1},digits:{type:"integer",minimum:6,maximum:8},algorithm:{type:"string",enum:SUPPORTED_TOTP_ALGORITHMS}}}}marshall(){"string"==typeof this._props.secret_key&&(this._props.secret_key=this._props.secret_key?.replace(/(\W|_|\s)/g,"").toUpperCase()),"string"==typeof this._props.algorithm&&(this._props.algorithm=this._props.algorithm?.toUpperCase()),super.marshall()}static createFromDefault(data={},options){return new TotpEntity({...{secret_key:"",period:30,digits:6,algorithm:DEFAULT_ALGORITHM},...data},options)}static createTotpFromUrl(url,options){const totp={secret_key:url.searchParams.get("secret"),algorithm:url.searchParams.get("algorithm")||DEFAULT_ALGORITHM,digits:parseInt(url.searchParams.get("digits"),10)||6,period:parseInt(url.searchParams.get("period"),10)||30};return new TotpEntity(totp,options)}get secretKey(){return this._props.secret_key}get period(){return this._props.period}get digits(){return this._props.digits}get algorithm(){return this._props.algorithm}get hasSecretKey(){return this.secretKey?.length>0}}const __WEBPACK_DEFAULT_EXPORT__=TotpEntity}}]);