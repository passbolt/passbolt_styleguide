/*! For license information please see 4360.c23f1961.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[4360],{"./src/img/svg/add.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgAdd(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.594 2v12M14.597 7.997h-12"})))}},"./src/img/svg/arrow_left.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgArrowLeft(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 14.25 3.75 9 9 3.75M14.25 9H3.75"})))}},"./src/img/svg/delete.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDelete(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 4.5h13.5M14.25 4.5V15c0 .75-.75 1.5-1.5 1.5h-7.5c-.75 0-1.5-.75-1.5-1.5V4.5M6 4.5V3c0-.75.75-1.5 1.5-1.5h3c.75 0 1.5.75 1.5 1.5v1.5M7.5 8.25v4.5M10.5 8.25v4.5"})))}},"./src/img/svg/email.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEmail(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 3H3a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 3 15h12a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 15 3"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.5 5.25 9.773 9.525a1.46 1.46 0 0 1-1.546 0L1.5 5.25"})))}},"./src/img/svg/link.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLink(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#link_svg__clip0_99_1008536)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M8.33 9.75a3.75 3.75 0 0 0 5.655.405l2.25-2.25a3.75 3.75 0 0 0-5.302-5.303l-1.29 1.283"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.33 8.25a3.75 3.75 0 0 0-5.655-.405l-2.25 2.25a3.75 3.75 0 0 0 5.303 5.302l1.282-1.282"}))))}},"./src/img/svg/plug.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgPlug(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:22,fill:"none",viewBox:"0 0 19 22"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.21 7.08a4.62 4.62 0 0 0 0 6.514 4.555 4.555 0 0 0 6.476 0l3.23-3.25-6.46-6.513-3.23 3.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m5.21 13.58-3.138 3.156c-1.44 1.447-.414 3.927 1.623 3.927h13.824M11.579 3.308l1.974-1.987M15.437 7.189l1.974-1.987M7.614 2.984 15.68 11.1"})))}},"./src/img/svg/red_check.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgRedCheck(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:11,height:9,fill:"none",viewBox:"0 0 11 9"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"var(--Palette-Contrast-3)",d:"m.342 4.573 1.402-1.407 2.302 2.262L9.152.342l1.412 1.407-6.518 6.483z"})))}},"./src/react-extension/components/Administration/AdministrationWorkspace.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Administration_AdministrationWorkspace});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),caret_down=__webpack_require__("./src/img/svg/caret_down.svg"),caret_right=__webpack_require__("./src/img/svg/caret_right.svg"),AdministrationEncryptedMetadataGettingStartedContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationEncryptedMetadataGettingStartedContext/AdministrationEncryptedMetadataGettingStartedContext.js"),metadataGettingStartedSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataGettingStartedSettingsEntity.js"),Frame=__webpack_require__("./src/img/svg/Frame.svg");class DisplayAdministrationMenu extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{isContentTypesOpened:!0,isPasswordConfigurationOpened:!0,isAuthenticationOpened:!0,isUserProvisionningOpened:!0,isEmailsOpened:!0}}canIUse(featureFlag){return Boolean(this.props.context.siteSettings?.canIUse(featureFlag))}isProTeasingMenuItem(item){return AdministrationWorkspaceContext.IZ.includes(item)&&this.isCommunityEdition()}isCommunityEdition(){return this.props.context.siteSettings.isCommunityEdition}get isMfaEnabled(){return this.canIUse("multiFactorAuthentication")}get isUserDirectoryEnabled(){return this.canIUse("directorySync")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.USER_DIRECTORY)}get canIUseEE(){return this.canIUse("ee")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.SUBSCRIPTION)}get canIUseLocale(){return this.canIUse("locale")}get canIUseAccountRecovery(){return this.canIUse("accountRecovery")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.ACCOUNT_RECOVERY)}get canIUseSmtpSettings(){return this.canIUse("smtpSettings")}get canIUseSelfRegistrationSettings(){return this.canIUse("selfRegistration")}get canIUseSso(){return this.canIUse("sso")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.SSO)}get canIUseMfaPolicy(){return this.canIUse("mfaPolicies")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.MFA_POLICY)}get canIUsePasswordPolicies(){return this.canIUse("passwordPoliciesUpdate")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.PASSWORD_POLICIES)}get canIUseRbacs(){return this.canIUse("rbacs")}get canIUseUserPassphrasePolicies(){return this.canIUse("userPassphrasePolicies")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.USER_PASSPHRASE_POLICIES)}get canIUsePasswordExpiry(){return this.canIUse("passwordExpiry")}get canIUseHealthcheck(){return this.canIUse("healthcheckUi")}get canIUseMetadata(){return this.canIUse("metadata")}get canIUseScim(){return this.canIUse("scim")||this.isProTeasingMenuItem(AdministrationWorkspaceContext.UZ.SCIM)}bindCallbacks(){this.handleHomeClick=this.handleHomeClick.bind(this),this.handleMfaClick=this.handleMfaClick.bind(this),this.handleUserDirectoryClick=this.handleUserDirectoryClick.bind(this),this.handleEmailNotificationsClick=this.handleEmailNotificationsClick.bind(this),this.handleSubscriptionClick=this.handleSubscriptionClick.bind(this),this.handleInternationalizationClick=this.handleInternationalizationClick.bind(this),this.handleAccountRecoveryClick=this.handleAccountRecoveryClick.bind(this),this.handleSmtpSettingsClick=this.handleSmtpSettingsClick.bind(this),this.handleSelfRegistrationClick=this.handleSelfRegistrationClick.bind(this),this.handleSsoClick=this.handleSsoClick.bind(this),this.handleMfaPolicyClick=this.handleMfaPolicyClick.bind(this),this.handleRbacsClick=this.handleRbacsClick.bind(this),this.handlePasswordPoliciesClick=this.handlePasswordPoliciesClick.bind(this),this.handleUserPassphrasePoliciesClick=this.handleUserPassphrasePoliciesClick.bind(this),this.handlePasswordExpirySettingsClick=this.handlePasswordExpirySettingsClick.bind(this),this.handleHealthcheckClick=this.handleHealthcheckClick.bind(this),this.handleContentTypesEncryptedMetadataClick=this.handleContentTypesEncryptedMetadataClick.bind(this),this.handleContentTypesMetadataKeyClick=this.handleContentTypesMetadataKeyClick.bind(this),this.handleMigrateMetadataClick=this.handleMigrateMetadataClick.bind(this),this.handleAllowedContentTypesClick=this.handleAllowedContentTypesClick.bind(this),this.handleSubmenuClick=this.handleSubmenuClick.bind(this),this.handleMetadataGettingStartedClick=this.handleMetadataGettingStartedClick.bind(this),this.handleScimClick=this.handleScimClick.bind(this)}handleSubmenuClick(subMenuItem){const newState={[subMenuItem]:!this.state[subMenuItem]};this.setState(newState)}handleHomeClick(){this.props.navigationContext.onGoToAdministrationRequested()}handleMfaClick(){this.props.navigationContext.onGoToAdministrationMfaRequested()}handleUserDirectoryClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationUsersDirectoryRequestedTeasing():this.props.navigationContext.onGoToAdministrationUsersDirectoryRequested()}handleEmailNotificationsClick(){this.props.navigationContext.onGoToAdministrationEmailNotificationsRequested()}handleSubscriptionClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationSubscriptionRequestedTeasing():this.props.navigationContext.onGoToAdministrationSubscriptionRequested()}handleInternationalizationClick(){this.props.navigationContext.onGoToAdministrationInternationalizationRequested()}handleAccountRecoveryClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationAccountRecoveryRequestedTeasing():this.props.navigationContext.onGoToAdministrationAccountRecoveryRequested()}handleSmtpSettingsClick(){this.props.navigationContext.onGoToAdministrationSmtpSettingsRequested()}handleSelfRegistrationClick(){this.props.navigationContext.onGoToAdministrationSelfRegistrationRequested()}handleSsoClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationSsoRequestedTeasing():this.props.navigationContext.onGoToAdministrationSsoRequested()}handleRbacsClick(){this.props.navigationContext.onGoToAdministrationRbacsRequested()}handleMfaPolicyClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationMfaPolicyRequestedTeasing():this.props.navigationContext.onGoToAdministrationMfaPolicyRequested()}handlePasswordPoliciesClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationPasswordPoliciesRequestedTeasing():this.props.navigationContext.onGoToAdministrationPasswordPoliciesRequested()}handleUserPassphrasePoliciesClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationUserPassphrasePoliciesRequestedTeasing():this.props.navigationContext.onGoToAdministrationUserPassphrasePoliciesRequested()}handlePasswordExpirySettingsClick(){this.props.navigationContext.onGoToAdministrationPasswordExpirySettingsRequested()}handleHealthcheckClick(){this.props.navigationContext.onGoToAdministrationHealthcheckRequested()}handleContentTypesEncryptedMetadataClick(){this.props.navigationContext.onGoToAdministrationContentTypesEncryptedMetadataRequested()}handleContentTypesMetadataKeyClick(){this.props.navigationContext.onGoToAdministrationContentTypesMetadataKeyRequested()}handleMetadataGettingStartedClick(){this.props.navigationContext.onGoToAdministrationMetadataGettingStartedRequested()}handleScimClick(){this.isCommunityEdition()?this.props.navigationContext.onGoToAdministrationScimRequestedTeasing():this.props.navigationContext.onGoToAdministrationScimRequested()}handleMigrateMetadataClick(){this.props.navigationContext.onGoToAdministrationMigrateMetadataRequested()}handleAllowedContentTypesClick(){this.props.navigationContext.onGoToAdministrationAllowContentTypesRequested()}isHomeSelected(){return AdministrationWorkspaceContext.UZ.NONE===this.props.administrationWorkspaceContext.selectedAdministration||AdministrationWorkspaceContext.UZ.HOME===this.props.administrationWorkspaceContext.selectedAdministration}isMfaSelected(){return AdministrationWorkspaceContext.UZ.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isMfaPolicySelected(){return AdministrationWorkspaceContext.UZ.MFA_POLICY===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordPoliciesSelected(){return AdministrationWorkspaceContext.UZ.PASSWORD_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return AdministrationWorkspaceContext.UZ.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return AdministrationWorkspaceContext.UZ.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return AdministrationWorkspaceContext.UZ.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return AdministrationWorkspaceContext.UZ.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return AdministrationWorkspaceContext.UZ.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}isSsoSelected(){return AdministrationWorkspaceContext.UZ.SSO===this.props.administrationWorkspaceContext.selectedAdministration}isRbacSelected(){return AdministrationWorkspaceContext.UZ.RBAC===this.props.administrationWorkspaceContext.selectedAdministration}isSmtpSettingsSelected(){return AdministrationWorkspaceContext.UZ.SMTP_SETTINGS===this.props.administrationWorkspaceContext.selectedAdministration}isSelfRegistrationSettingsSelected(){return AdministrationWorkspaceContext.UZ.SELF_REGISTRATION===this.props.administrationWorkspaceContext.selectedAdministration}isUserPassphrasePoliciesSelected(){return AdministrationWorkspaceContext.UZ.USER_PASSPHRASE_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordExpirySettingsSelected(){return AdministrationWorkspaceContext.UZ.PASSWORD_EXPIRY===this.props.administrationWorkspaceContext.selectedAdministration}isHealthcheckSelected(){return AdministrationWorkspaceContext.UZ.HEALTHCHECK===this.props.administrationWorkspaceContext.selectedAdministration}isContentTypesEncryptedMetadataSelected(){return AdministrationWorkspaceContext.UZ.CONTENT_TYPES_ENCRYPTED_METADATA===this.props.administrationWorkspaceContext.selectedAdministration}isContentTypesMetadataKeySelected(){return AdministrationWorkspaceContext.UZ.CONTENT_TYPES_METADATA_KEY===this.props.administrationWorkspaceContext.selectedAdministration}isMetadataGettingStartedSelected(){return AdministrationWorkspaceContext.UZ.METADATA_GETTING_STARTED===this.props.administrationWorkspaceContext.selectedAdministration}isMigrateMetadataSelected(){return AdministrationWorkspaceContext.UZ.MIGRATE_METADATA===this.props.administrationWorkspaceContext.selectedAdministration}isAllowedContentTypesSelected(){return AdministrationWorkspaceContext.UZ.ALLOW_CONTENT_TYPES===this.props.administrationWorkspaceContext.selectedAdministration}isScimSelected(){return AdministrationWorkspaceContext.UZ.SCIM===this.props.administrationWorkspaceContext.selectedAdministration}canSeePasswordConfiguration(){return this.canIUsePasswordExpiry||this.canIUsePasswordPolicies}canSeeAuthentication(){return this.canIUseUserPassphrasePolicies||this.canIUseAccountRecovery||this.canIUseSso||this.canIUseMfaPolicy||this.isMfaEnabled}canSeeUserProvisionning(){return this.isUserDirectoryEnabled||this.canIUseSelfRegistrationSettings}get metadataGettingStartedSettings(){return this.props.metadataGettingStartedSettings}get shouldShowGettingStartedMenu(){return!0===this.metadataGettingStartedSettings.enabled&&!this.isBeta("metadata")}isBeta(flag){return this.props.context.siteSettings.isFeatureBeta(flag)}get isReady(){return null!==this.metadataGettingStartedSettings}render(){return react.createElement("div",{className:"navigation-secondary navigation-administration"},react.createElement("ul",{id:"administration_menu",className:"clearfix menu ready"},this.isReady&&react.createElement(react.Fragment,null,react.createElement("li",{id:"home"},react.createElement("div",{className:"row "+(this.isHomeSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleHomeClick},react.createElement("span",null,react.createElement(es.x6,null,"Home"))))))),this.canIUseEE&&react.createElement("li",{id:"subscription_menu"},react.createElement("div",{className:"row "+(this.isSubscriptionSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSubscriptionClick},react.createElement("span",null,react.createElement(es.x6,null,"Subscription"))))))),this.canIUseMetadata&&react.createElement("li",{id:"content-types",className:"accordion-header"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:()=>this.handleSubmenuClick("isContentTypesOpened")},this.state.isContentTypesOpened?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Resource types")))))),this.state.isContentTypesOpened&&react.createElement("ul",{id:"administration-sub-menu-content-type",className:"menu"},this.shouldShowGettingStartedMenu&&react.createElement("li",{id:"metadata_getting_started_menu"},react.createElement("div",{className:"row  "+(this.isMetadataGettingStartedSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMetadataGettingStartedClick},react.createElement("span",null,react.createElement(es.x6,null,"Getting started")),react.createElement("span",{className:"chips new"},"new")))))),!this.shouldShowGettingStartedMenu&&react.createElement(react.Fragment,null,react.createElement("li",{id:"metadata_key_menu"},react.createElement("div",{className:"row  "+(this.isContentTypesMetadataKeySelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleContentTypesMetadataKeyClick},react.createElement("span",null,react.createElement(es.x6,null,"Metadata key")),this.isBeta("metadata")&&react.createElement("span",{className:"chips beta"},"beta")))))),react.createElement("li",{id:"encrypted_metadata_menu"},react.createElement("div",{className:"row  "+(this.isContentTypesEncryptedMetadataSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleContentTypesEncryptedMetadataClick},react.createElement("span",null,react.createElement(es.x6,null,"Encrypted metadata")),this.isBeta("metadata")&&react.createElement("span",{className:"chips beta"},"beta")))))),react.createElement("li",{id:"migrate_metadata_menu"},react.createElement("div",{className:"row  "+(this.isMigrateMetadataSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMigrateMetadataClick},react.createElement("span",null,react.createElement(es.x6,null,"Migrate metadata")),this.isBeta("metadata")&&react.createElement("span",{className:"chips beta"},"beta")))))),react.createElement("li",{id:"allowed_content_type_menu"},react.createElement("div",{className:"row  "+(this.isAllowedContentTypesSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAllowedContentTypesClick},react.createElement("span",null,react.createElement(es.x6,null,"Allow content types")),this.isBeta("metadata")&&react.createElement("span",{className:"chips beta"},"beta"))))))))),this.canSeePasswordConfiguration()&&react.createElement("li",{id:"password-configuration",className:"accordion-header"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:()=>this.handleSubmenuClick("isPasswordConfigurationOpened")},this.state.isPasswordConfigurationOpened?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Password configuration")))))),this.state.isPasswordConfigurationOpened&&react.createElement("ul",null,this.canIUsePasswordExpiry&&react.createElement("li",{id:"password_expiry_menu"},react.createElement("div",{className:"row "+(this.isPasswordExpirySettingsSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handlePasswordExpirySettingsClick},react.createElement("span",null,react.createElement(es.x6,null,"Password Expiry"))))))),this.canIUsePasswordPolicies&&react.createElement("li",{id:"password_policy_menu"},react.createElement("div",{className:"row "+(this.isPasswordPoliciesSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handlePasswordPoliciesClick},react.createElement("span",null,react.createElement(es.x6,null,"Password Policy")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))))),this.canSeeAuthentication()&&react.createElement("li",{id:"authentication",className:"accordion-header"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:()=>this.handleSubmenuClick("isAuthenticationOpened")},this.state.isAuthenticationOpened?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Authentication")))))),this.state.isAuthenticationOpened&&react.createElement("ul",null,this.canIUseUserPassphrasePolicies&&react.createElement("li",{id:"user_passphrase_policies_menu"},react.createElement("div",{className:"row "+(this.isUserPassphrasePoliciesSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleUserPassphrasePoliciesClick},react.createElement("span",null,react.createElement(es.x6,null,"User Passphrase Policies")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.canIUseAccountRecovery&&react.createElement("li",{id:"account_recovery_menu"},react.createElement("div",{className:"row "+(this.isAccountRecoverySelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleAccountRecoveryClick},react.createElement("span",null,react.createElement(es.x6,null,"Account Recovery")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.canIUseSso&&react.createElement("li",{id:"sso_menu"},react.createElement("div",{className:"row "+(this.isSsoSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSsoClick},react.createElement("span",null,react.createElement(es.x6,null,"Single Sign-On")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.canIUseMfaPolicy&&react.createElement("li",{id:"mfa_policy_menu"},react.createElement("div",{className:"row "+(this.isMfaPolicySelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMfaPolicyClick},react.createElement("span",null,react.createElement(es.x6,null,"MFA Policy")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.isMfaEnabled&&react.createElement("li",{id:"mfa_menu"},react.createElement("div",{className:"row "+(this.isMfaSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleMfaClick},react.createElement("span",null,react.createElement(es.x6,null,"Multi Factor Authentication"))))))))),this.canSeeUserProvisionning()&&react.createElement("li",{id:"user-provisionning",className:"accordion-header"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:()=>this.handleSubmenuClick("isUserProvisionningOpened")},this.state.isUserProvisionningOpened?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement("span",null,react.createElement(es.x6,null,"User provisionning")))))),this.state.isUserProvisionningOpened&&react.createElement("ul",null,this.canIUseScim&&react.createElement("li",{id:"scim_menu"},react.createElement("div",{className:"row "+(this.isScimSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleScimClick},react.createElement("span",null,react.createElement(es.x6,null,"SCIM")),this.isBeta("scim")&&react.createElement("span",{className:"chips beta"},"beta"),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.isUserDirectoryEnabled&&react.createElement("li",{id:"user_directory_menu"},react.createElement("div",{className:"row "+(this.isUserDirectorySelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleUserDirectoryClick},react.createElement("span",null,react.createElement(es.x6,null,"Users Directory")),this.isCommunityEdition()&&react.createElement(Frame.A,{className:"pro-teasing-icon"})))))),this.canIUseSelfRegistrationSettings&&react.createElement("li",{id:"self_registration_menu"},react.createElement("div",{className:"row "+(this.isSelfRegistrationSettingsSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSelfRegistrationClick},react.createElement("span",null,react.createElement(es.x6,null,"Self Registration"))))))))),react.createElement("li",{id:"emails",className:"accordion-header"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:()=>this.handleSubmenuClick("isEmailsOpened")},this.state.isEmailsOpened?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Emails")))))),this.state.isEmailsOpened&&react.createElement("ul",null,this.canIUseSmtpSettings&&react.createElement("li",{id:"smtp_settings_menu"},react.createElement("div",{className:"row "+(this.isSmtpSettingsSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleSmtpSettingsClick},react.createElement("span",null,react.createElement(es.x6,null,"Email server"))))))),react.createElement("li",{id:"email_notification_menu"},react.createElement("div",{className:"row "+(this.isEmailNotificationsSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleEmailNotificationsClick},react.createElement("span",null,react.createElement(es.x6,null,"Email Notifications"))))))))),this.canIUseRbacs&&react.createElement("li",{id:"rbacs_menu"},react.createElement("div",{className:"row "+(this.isRbacSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleRbacsClick},react.createElement("span",null,react.createElement(es.x6,null,"Role-Based Access Control"))))))),this.canIUseLocale&&react.createElement("li",{id:"internationalization_menu"},react.createElement("div",{className:"row "+(this.isInternationalizationSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleInternationalizationClick},react.createElement("span",null,react.createElement(es.x6,null,"Internationalisation"))))))),this.canIUseHealthcheck&&react.createElement("li",{id:"healthcheck_menu"},react.createElement("div",{className:"row "+(this.isHealthcheckSelected()?"selected":"")},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{className:"link no-border",type:"button",onClick:this.handleHealthcheckClick},react.createElement("span",null,react.createElement(es.x6,null,"Passbolt API Status"))))))))))}}DisplayAdministrationMenu.propTypes={context:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,history:prop_types_default().object,navigationContext:prop_types_default().any,metadataGettingStartedSettings:prop_types_default().instanceOf(metadataGettingStartedSettingsEntity.A)};const DisplayAdministrationMenu_DisplayAdministrationMenu=(0,react_router.withRouter)((0,AppContext.L)((0,NavigationContext.qN)((0,AdministrationWorkspaceContext.Kk)((0,AdministrationEncryptedMetadataGettingStartedContext.Ns)((0,es.CI)("common")(DisplayAdministrationMenu))))));DisplayAdministrationMenu.__docgenInfo={description:"This component allows to display the menu of the administration",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"canIUse",docblock:"Returns true if the given feature flag exists and is enabled\n@param {string} featureFlag\n@returns {boolean}",modifiers:[],params:[{name:"featureFlag",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the given feature flag exists and is enabled"},{name:"isProTeasingMenuItem",docblock:"If the card is to be displayed for CE Admin as part of PRO teasing\n@param {string} item\n@returns {boolean}",modifiers:[],params:[{name:"item",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"If the card is to be displayed for CE Admin as part of PRO teasing"},{name:"isCommunityEdition",docblock:"Returns true if CE; false if PRO\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if CE; false if PRO"},{name:"isMfaEnabled",docblock:"Returns true if the user has the MFA capability\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user has the MFA capability"},{name:"isUserDirectoryEnabled",docblock:"Returns true if the user has the user directory capability\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user has the user directory capability"},{name:"canIUseEE",docblock:"Can I use the EE plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the EE plugin"},{name:"canIUseLocale",docblock:"Can I use the locale plugin.\n@type {boolean}",modifiers:["get"],params:[],returns:null,description:"Can I use the locale plugin."},{name:"canIUseAccountRecovery",docblock:"Can I use the account recovery plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the account recovery plugin"},{name:"canIUseSmtpSettings",docblock:"Can I use the SMTP settings plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the SMTP settings plugin"},{name:"canIUseSelfRegistrationSettings",docblock:"Can I use the self registration settings plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the self registration settings plugin"},{name:"canIUseSso",docblock:"Can I use the sso plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the sso plugin"},{name:"canIUseMfaPolicy",docblock:"Can I use the mfa policy plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the mfa policy plugin"},{name:"canIUsePasswordPolicies",docblock:"Can I use the password policy plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the password policy plugin"},{name:"canIUseRbacs",docblock:"Can I use the RBACS plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the RBACS plugin"},{name:"canIUseUserPassphrasePolicies",docblock:"Can I use the User Passphrase Policies plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the User Passphrase Policies plugin"},{name:"canIUsePasswordExpiry",docblock:"Can I use the User Passphrase Policies plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the User Passphrase Policies plugin"},{name:"canIUseHealthcheck",docblock:"Can I use the healthcheck plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the healthcheck plugin"},{name:"canIUseMetadata",docblock:"Can I use the metadata plugin\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can I use the metadata plugin"},{name:"canIUseScim",docblock:"Returns true if the user has the SCIM capability\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user has the SCIM capability"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSubmenuClick",docblock:"Handles the click on accordion header\n@param {string} subMenuItem",modifiers:[],params:[{name:"subMenuItem",type:{name:"string"},optional:!1}],returns:null,description:"Handles the click on accordion header"},{name:"handleHomeClick",docblock:"Handle when the user click on the mfa menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the mfa menu"},{name:"handleMfaClick",docblock:"Handle when the user click on the mfa menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the mfa menu"},{name:"handleUserDirectoryClick",docblock:"Handle when the user click on the user directory menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the user directory menu"},{name:"handleEmailNotificationsClick",docblock:"Handle when the user click on the email notifications menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the email notifications menu"},{name:"handleSubscriptionClick",docblock:"Handle when the user click on the subscription menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the subscription menu"},{name:"handleInternationalizationClick",docblock:"Handle when the user click on the internationalization menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the internationalization menu"},{name:"handleAccountRecoveryClick",docblock:"Handle when the user click on the account recovery menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the account recovery menu"},{name:"handleSmtpSettingsClick",docblock:"Handle when the user click on the smtp settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the smtp settings menu"},{name:"handleSelfRegistrationClick",docblock:"Handle when the user click on the self registration settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the self registration settings menu"},{name:"handleSsoClick",docblock:"Handle when the user click on the sso menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the sso menu"},{name:"handleRbacsClick",docblock:"Handle when the user click on the rbac menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the rbac menu"},{name:"handleMfaPolicyClick",docblock:"Handle when the user click on the Mfa policy settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the Mfa policy settings menu"},{name:"handlePasswordPoliciesClick",docblock:"Handle when the user click on the Password policies settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the Password policies settings menu"},{name:"handleUserPassphrasePoliciesClick",docblock:"Handle when the user click on the User Passphrase Policies menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the User Passphrase Policies menu"},{name:"handlePasswordExpirySettingsClick",docblock:"Handle when the user click on the User Passphrase Policies menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the User Passphrase Policies menu"},{name:"handleHealthcheckClick",docblock:"Handle when the user click on the Mfa policy settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the Mfa policy settings menu"},{name:"handleContentTypesEncryptedMetadataClick",docblock:"Handle when the user click on the content types encrypted metadata settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the content types encrypted metadata settings menu"},{name:"handleContentTypesMetadataKeyClick",docblock:"Handle when the user click on the content types metadata key settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the content types metadata key settings menu"},{name:"handleMetadataGettingStartedClick",docblock:"Handle when the user click on the metadata getting started settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the metadata getting started settings menu"},{name:"handleScimClick",docblock:"Handle when the user click on the SCIM settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the SCIM settings menu"},{name:"handleMigrateMetadataClick",docblock:"Handle when the user click on the migrate metadata key settings menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the migrate metadata key settings menu"},{name:"handleAllowedContentTypesClick",docblock:"Handle when the user click on the Allow content type menu",modifiers:[],params:[],returns:null,description:"Handle when the user click on the Allow content type menu"},{name:"isHomeSelected",docblock:"If Home menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Home menu is selected"},{name:"isMfaSelected",docblock:"If MFA menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If MFA menu is selected"},{name:"isMfaPolicySelected",docblock:"If MFA policiy menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If MFA policiy menu is selected"},{name:"isPasswordPoliciesSelected",docblock:"If Password policiy menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Password policiy menu is selected"},{name:"isUserDirectorySelected",docblock:"If User Directory menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If User Directory menu is selected"},{name:"isEmailNotificationsSelected",docblock:"If Email Notifications menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Email Notifications menu is selected"},{name:"isSubscriptionSelected",docblock:"If Subscription menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Subscription menu is selected"},{name:"isInternationalizationSelected",docblock:"If Internationalization menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Internationalization menu is selected"},{name:"isAccountRecoverySelected",docblock:"If Account Recovery menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Account Recovery menu is selected"},{name:"isSsoSelected",docblock:"If SSO menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If SSO menu is selected"},{name:"isRbacSelected",docblock:"If RBAC menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If RBAC menu is selected"},{name:"isSmtpSettingsSelected",docblock:"If SMTP settings menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If SMTP settings menu is selected"},{name:"isSelfRegistrationSettingsSelected",docblock:"If Self registration settings menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Self registration settings menu is selected"},{name:"isUserPassphrasePoliciesSelected",docblock:"If User Passphrase Policies menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If User Passphrase Policies menu is selected"},{name:"isPasswordExpirySettingsSelected",docblock:"If Password Expiry menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Password Expiry menu is selected"},{name:"isHealthcheckSelected",docblock:"If Healthcheck menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Healthcheck menu is selected"},{name:"isContentTypesEncryptedMetadataSelected",docblock:"If content types encrypted metadata menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types encrypted metadata menu is selected"},{name:"isContentTypesMetadataKeySelected",docblock:"If content types metadata key menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types metadata key menu is selected"},{name:"isMetadataGettingStartedSelected",docblock:"If metadata getting started menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If metadata getting started menu is selected"},{name:"isMigrateMetadataSelected",docblock:"If content types metadata key menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types metadata key menu is selected"},{name:"isAllowedContentTypesSelected",docblock:"If Allow content types menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Allow content types menu is selected"},{name:"isScimSelected",docblock:"If Allow SCIM menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Allow SCIM menu is selected"},{name:"canSeePasswordConfiguration",docblock:"Should display password configuration section.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should display password configuration section."},{name:"canSeeAuthentication",docblock:"Should display autentication section.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should display autentication section."},{name:"canSeeUserProvisionning",docblock:"Should display user provisioning section.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should display user provisioning section."},{name:"metadataGettingStartedSettings",docblock:"Get the metadataGettingStartedSettings\n@return {MetadataGettingStartedSettingsEntity}",modifiers:["get"],params:[],returns:{type:{name:"MetadataGettingStartedSettingsEntity"}},description:"Get the metadataGettingStartedSettings"},{name:"shouldShowGettingStartedMenu",docblock:'Returns true if the "Getting started" menu item should be displayed\n@returns {boolean}',modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:'Returns true if the "Getting started" menu item should be displayed'},{name:"isBeta",docblock:"Returns true if the current feature flag is marked beta.\n@param {string} flag\n@returns {boolean}",modifiers:[],params:[{name:"flag",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the current feature flag is marked beta."},{name:"isReady",docblock:"Retursn true when the component is ready to be displayed.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Retursn true when the component is ready to be displayed."}],displayName:"DisplayAdministrationMenu",props:{context:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},metadataGettingStartedSettings:{description:"",type:{name:"instanceOf",value:"MetadataGettingStartedSettingsEntity"},required:!1}}};var DisplayMfaAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayMfaAdministration/DisplayMfaAdministration.js"),DisplayAdministrationWorkspaceBreadcrumb=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationWorkspaceBreadcrumb/DisplayAdministrationWorkspaceBreadcrumb.js"),DisplayUserDirectoryAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayUserDirectoryAdministration/DisplayUserDirectoryAdministration.js"),DisplayUserDirectoryAdministrationTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplayUserDirectoryAdministrationTeasing/DisplayUserDirectoryAdministrationTeasing.js"),DisplayEmailNotificationsAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayEmailNotificationsAdministration/DisplayEmailNotificationsAdministration.js"),DisplaySubscriptionKey=__webpack_require__("./src/react-extension/components/Administration/DisplaySubscriptionKey/DisplaySubscriptionKey.js"),DisplaySubscriptionKeyTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplaySubscriptionKeyTeasing/DisplaySubscriptionKeyTeasing.js"),DisplayInternationalizationAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayInternationalizationAdministration/DisplayInternationalizationAdministration.js"),ManageAccountRecoveryAdministrationSettings=__webpack_require__("./src/react-extension/components/Administration/ManageAccountRecoveryAdministrationSettings/ManageAccountRecoveryAdministrationSettings.js"),ManageAccountRecoveryAdministrationSettingsTeasing=__webpack_require__("./src/react-extension/components/Administration/ManageAccountRecoveryAdministrationSettingsTeasing/ManageAccountRecoveryAdministrationSettingsTeasing.js"),ManageSmtpAdministrationSettings=__webpack_require__("./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/ManageSmtpAdministrationSettings.js"),DisplaySelfRegistrationAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplaySelfRegistrationAdministration/DisplaySelfRegistrationAdministration.js"),ManageSsoSettings=__webpack_require__("./src/react-extension/components/Administration/ManageSsoSettings/ManageSsoSettings.js"),ManageSsoSettingsTeasing=__webpack_require__("./src/react-extension/components/Administration/ManageSsoSettingsTeasing/ManageSsoSettingsTeasing.js"),DisplayMfaPolicyAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayMfaPolicyAdministration/DisplayMfaPolicyAdministration.js"),DisplayMfaPolicyAdministrationTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplayMfaPolicyAdministrationTeasing/DisplayMfaPolicyAdministrationTeasing.js"),DisplayRbacAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayRbacAdministration/DisplayRbacAdministration.js"),DisplayPasswordPoliciesAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayPasswordPoliciesAdministration/DisplayPasswordPoliciesAdministration.js"),DisplayPasswordPoliciesAdministrationTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplayPasswordPoliciesAdministrationTeasing/DisplayPasswordPoliciesAdministrationTeasing.js"),AdministrationUserPassphrasePoliciesContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationUserPassphrasePoliciesContext/AdministrationUserPassphrasePoliciesContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayAdministrationUserPassphrasePoliciesActions extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get isActionEnabled(){return!this.props.adminUserPassphrasePoliciesContext.isProcessing()}async handleSave(){if(this.isActionEnabled&&this.props.adminUserPassphrasePoliciesContext.validateData())try{await this.props.adminUserPassphrasePoliciesContext.save(),await this.handleSaveSuccess()}catch(error){await this.handleSaveError(error)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The user passphrase policies were updated."))}async handleSaveError(error){console.error(error),await this.props.actionFeedbackContext.displayError(error.message),this.props.dialogContext.open(NotifyError.A,{error})}render(){const isDisabled=!this.isActionEnabled;return react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{type:"button",className:"button primary form",disabled:isDisabled,id:"save-settings",onClick:this.handleSave},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationUserPassphrasePoliciesActions.propTypes={adminUserPassphrasePoliciesContext:prop_types_default().object,actionFeedbackContext:prop_types_default().object,dialogContext:prop_types_default().any,t:prop_types_default().func};const DisplayAdministrationUserPassphrasePoliciesActions_DisplayAdministrationUserPassphrasePoliciesActions=(0,AdministrationUserPassphrasePoliciesContext.pE)((0,ActionFeedbackContext.ot)((0,DialogContext.z9)((0,es.CI)("common")(DisplayAdministrationUserPassphrasePoliciesActions))));DisplayAdministrationUserPassphrasePoliciesActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"isActionEnabled",docblock:"Is save button enabled\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is save button enabled"},{name:"handleSave",docblock:"Handles the save action.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handles the save action."},{name:"handleSaveSuccess",docblock:"Handle save operation success.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle save operation error."}],displayName:"DisplayAdministrationUserPassphrasePoliciesActions",props:{adminUserPassphrasePoliciesContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var Range=__webpack_require__("./src/react-extension/components/Common/Range/Range.js"),portals=__webpack_require__("./src/shared/utils/portals.js"),buoy=__webpack_require__("./src/img/svg/buoy.svg");class DisplayAdministrationUserPassphrasePolicies extends react.PureComponent{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{isReady:!1}}async componentDidMount(){await this.props.adminUserPassphrasePoliciesContext.findSettings(),this.setState({isReady:!0})}bindCallbacks(){this.handleMinimumEntropyChange=this.handleMinimumEntropyChange.bind(this),this.handleCheckboxInputChange=this.handleCheckboxInputChange.bind(this)}hasAllInputDisabled(){return this.props.adminUserPassphrasePoliciesContext.isProcessing()}handleMinimumEntropyChange(name,val){const value=parseInt(val,10)||0;this.props.adminUserPassphrasePoliciesContext.setSettings(name,value)}handleCheckboxInputChange(e){const target=e.target,name=target.name,value=Boolean(target.checked);this.props.adminUserPassphrasePoliciesContext.setSettings(name,value)}isWeakSettings(settings){return settings.entropy_minimum<80}get hasWarnings(){const adminContext=this.props.adminUserPassphrasePoliciesContext,settings=adminContext.getSettings();return adminContext.hasSettingsChanges()||this.isWeakSettings(settings)}render(){if(!this.state.isReady)return null;const allInputDisabled=this.hasAllInputDisabled(),adminContext=this.props.adminUserPassphrasePoliciesContext,settings=adminContext.getSettings();return react.createElement("div",{className:"row"},react.createElement("div",{className:"password-policies-settings main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{id:"user-passphrase-policies-title",className:"title"},react.createElement(es.x6,null,"User Passphrase Policies")),react.createElement("form",null,react.createElement("h4",{id:"user-passphrase-policies-entropy-minimum"},react.createElement(es.x6,null,"User passphrase minimal entropy")),react.createElement("div",{className:"input range"},react.createElement(Range.A,{id:"entropy_minimum",onChange:this.handleMinimumEntropyChange,value:settings.entropy_minimum,disabled:allInputDisabled})),react.createElement("div",null,react.createElement(es.x6,null,"You can set the minimal entropy for the users' private key passphrase.")," ",react.createElement(es.x6,null,"This is the passphrase that is asked during sign in or recover.")),react.createElement("h4",{id:"user-passphrase-policies-external-services-subtitle"},react.createElement("span",{className:"input toggle-switch form-element ready"},react.createElement("input",{id:"user-passphrase-policies-external-services-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"external_dictionary_check",onChange:this.handleCheckboxInputChange,checked:settings?.external_dictionary_check,disabled:allInputDisabled}),react.createElement("label",{htmlFor:"user-passphrase-policies-external-services-toggle-button"},react.createElement(es.x6,null,"External password dictionary check")))),react.createElement("span",{className:"input toggle-switch form-element"},react.createElement(es.x6,null,"Allow passbolt to access external services to check if the user passphrase has been compromised when the user creates it.")))),this.hasWarnings&&react.createElement("div",{className:"warning message"},adminContext.hasSettingsChanges()&&react.createElement("div",{id:"user-passphrase-policies-save-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))),this.isWeakSettings(settings)&&react.createElement("div",{id:"user-passphrase-policies-weak-settings-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Passbolt recommends passphrase strength to be at minimum of ",{MINIMAL_ADVISED_ENTROPY:80}," bits to be safe."))))),react.createElement(DisplayAdministrationUserPassphrasePoliciesActions_DisplayAdministrationUserPassphrasePoliciesActions,null),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"What is user passphrase policies?")),react.createElement("p",null,react.createElement(es.x6,null,"For more information about the user passphrase policies, checkout the dedicated page on the help website.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/user-passphrase-policies/",target:"_blank",rel:"noopener noreferrer"},react.createElement(buoy.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayAdministrationUserPassphrasePolicies.propTypes={context:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,adminUserPassphrasePoliciesContext:prop_types_default().object,t:prop_types_default().func};const DisplayAdministrationUserPassphrasePolicies_DisplayAdministrationUserPassphrasePolicies=(0,AppContext.L)((0,AdministrationWorkspaceContext.Kk)((0,AdministrationUserPassphrasePoliciesContext.pE)((0,es.CI)("common")(DisplayAdministrationUserPassphrasePolicies))));DisplayAdministrationUserPassphrasePolicies.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"handleMinimumEntropyChange",docblock:"Handles the minium entropy value change\n@param {string} name the settings name to change the value\n@param {number} val the valud to apply to the settings",modifiers:[],params:[{name:"name",description:"the settings name to change the value",type:{name:"string"},optional:!1},{name:"val",description:"the valud to apply to the settings",type:{name:"number"},optional:!1}],returns:null,description:"Handles the minium entropy value change"},{name:"handleCheckboxInputChange",docblock:"Handles checkbox check's state change",modifiers:[],params:[{name:"e",optional:!1}],returns:null,description:"Handles checkbox check's state change"},{name:"isWeakSettings",docblock:"Returns true if the settings are considered too weak to be safe\n@returns {boolean}",modifiers:[],params:[{name:"settings",optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the settings are considered too weak to be safe"},{name:"hasWarnings",docblock:"Returns true if a warning should be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if a warning should be displayed"}],displayName:"DisplayAdministrationUserPassphrasePolicies",props:{context:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminUserPassphrasePoliciesContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayAdministrationUserPassphrasePoliciesTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationUserPassphrasePoliciesTeasing/DisplayAdministrationUserPassphrasePoliciesTeasing.js"),DisplayAdministrationPasswordExpiry=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationPasswordExpiry/DisplayAdministrationPasswordExpiry.js"),DisplayHttpError=__webpack_require__("./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js"),DisplayHealthcheckAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayHealthcheckAdministration/DisplayHealthcheckAdministration.js"),DisplayContentTypesEncryptedMetadataAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayContentTypesEncryptedMetadataAdministration/DisplayContentTypesEncryptedMetadataAdministration.js"),arrow_left=__webpack_require__("./src/img/svg/arrow_left.svg"),Footer=__webpack_require__("./src/react-extension/components/Common/Footer/Footer.js"),DisplayContentTypesMetadataKeyAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayContentTypesMetadataKeyAdministration/DisplayContentTypesMetadataKeyAdministration.js"),DisplayMigrateMetadataAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayMigrateMetadataAdministration/DisplayMigrateMetadataAdministration.js"),DisplayContentTypesAllowedContentTypesAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayContentTypesAllowedContentTypesAdministration/DisplayContentTypesAllowedContentTypesAdministration.js"),AdministrationHomePage=__webpack_require__("./src/react-extension/components/Administration/HomePage/AdministrationHomePage.js"),WorkspaceSwitcher=__webpack_require__("./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js"),DisplayAdministrationMetadataGettingStarted=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationMetadataGettingStarted/DisplayAdministrationMetadataGettingStarted.js"),DisplayScimSettingsAdministration=__webpack_require__("./src/react-extension/components/Administration/DisplayScimSettingsAdministration/DisplayScimSettingsAdministration.js"),DisplayScimAdministrationTeasing=__webpack_require__("./src/react-extension/components/Administration/DisplayScimAdministrationTeasing/DisplayScimAdministrationTeasing.js");class AdministrationWorkspace extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleGoBack=this.handleGoBack.bind(this)}isCommunityEdition(){return this.props.context.siteSettings.isCommunityEdition}isHomePageSelected(){return AdministrationWorkspaceContext.UZ.HOME===this.props.administrationWorkspaceContext.selectedAdministration||AdministrationWorkspaceContext.UZ.NONE===this.props.administrationWorkspaceContext.selectedAdministration}isMfaSelected(){return AdministrationWorkspaceContext.UZ.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isMfaPolicySelected(){return AdministrationWorkspaceContext.UZ.MFA_POLICY===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordPoliciesSelected(){return AdministrationWorkspaceContext.UZ.PASSWORD_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return AdministrationWorkspaceContext.UZ.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return AdministrationWorkspaceContext.UZ.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return AdministrationWorkspaceContext.UZ.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return AdministrationWorkspaceContext.UZ.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return AdministrationWorkspaceContext.UZ.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}isSmtpSettingsSelected(){return AdministrationWorkspaceContext.UZ.SMTP_SETTINGS===this.props.administrationWorkspaceContext.selectedAdministration}isSelfRegistrationSelected(){return AdministrationWorkspaceContext.UZ.SELF_REGISTRATION===this.props.administrationWorkspaceContext.selectedAdministration}isSsoSelected(){return AdministrationWorkspaceContext.UZ.SSO===this.props.administrationWorkspaceContext.selectedAdministration}isRbacSelected(){return AdministrationWorkspaceContext.UZ.RBAC===this.props.administrationWorkspaceContext.selectedAdministration}isUserPassphrasePoliciesSelected(){return AdministrationWorkspaceContext.UZ.USER_PASSPHRASE_POLICIES===this.props.administrationWorkspaceContext.selectedAdministration}isPasswordExpirySelected(){return AdministrationWorkspaceContext.UZ.PASSWORD_EXPIRY===this.props.administrationWorkspaceContext.selectedAdministration}isContentTypesEncryptedMetadataSelected(){return AdministrationWorkspaceContext.UZ.CONTENT_TYPES_ENCRYPTED_METADATA===this.props.administrationWorkspaceContext.selectedAdministration}isContentTypesMetadataKeySelected(){return AdministrationWorkspaceContext.UZ.CONTENT_TYPES_METADATA_KEY===this.props.administrationWorkspaceContext.selectedAdministration}isMigrateMetadataSelected(){return AdministrationWorkspaceContext.UZ.MIGRATE_METADATA===this.props.administrationWorkspaceContext.selectedAdministration}isAllowContentTypesSelected(){return AdministrationWorkspaceContext.UZ.ALLOW_CONTENT_TYPES===this.props.administrationWorkspaceContext.selectedAdministration}isGetStartedMetadataSelected(){return AdministrationWorkspaceContext.UZ.METADATA_GETTING_STARTED===this.props.administrationWorkspaceContext.selectedAdministration}isScimSelected(){return AdministrationWorkspaceContext.UZ.SCIM===this.props.administrationWorkspaceContext.selectedAdministration}handleGoBack(){this.props.navigationContext.onGoToPasswordsRequested()}get isHttpError403(){return AdministrationWorkspaceContext.UZ.HTTP_403_ACCESS_DENIED===this.props.administrationWorkspaceContext.selectedAdministration}get isHttpError404(){return AdministrationWorkspaceContext.UZ.HTTP_404_NOT_FOUND===this.props.administrationWorkspaceContext.selectedAdministration}isHealthcheckSelected(){return AdministrationWorkspaceContext.UZ.HEALTHCHECK===this.props.administrationWorkspaceContext.selectedAdministration}render(){return react.createElement("div",{id:"container",className:"page administration"},react.createElement("div",{id:"app",className:"app",tabIndex:"1000"},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel left"},!this.isHttpError403&&react.createElement("div",{className:"sidebar-content"},react.createElement("div",{className:"top-bar-left-navigation"},react.createElement("div",{className:"navigation"},react.createElement("button",{type:"button",className:"button-transparent back",onClick:this.handleGoBack},react.createElement(arrow_left.A,null)),react.createElement("span",{className:"title administration"},react.createElement(es.x6,null,"Organisation settings")))),react.createElement("div",{className:"sidebar-content-left"},react.createElement(DisplayAdministrationMenu_DisplayAdministrationMenu,null)))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"},!this.isHttpError403&&react.createElement(react.Fragment,null,react.createElement("div",{className:"header-left"}),react.createElement("div",{className:"header-right"},react.createElement(WorkspaceSwitcher.A,{isUserAdmin:!0,isUserWorkspaceVisible:!0,currentWorkspace:WorkspaceSwitcher.K.ORGANISATION_SETTINGS}),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.trustedDomain||this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})))),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(DisplayAdministrationWorkspaceBreadcrumb.A,null)),react.createElement("div",{className:"main-page"},this.isHttpError403&&react.createElement(DisplayHttpError.A,{errorCode:403}),this.isHttpError404&&react.createElement(DisplayHttpError.A,{errorCode:404}),this.isHomePageSelected()&&react.createElement(AdministrationHomePage.A,null),this.isMfaSelected()&&react.createElement(DisplayMfaAdministration.A,null),this.isMfaPolicySelected()&&(this.isCommunityEdition()?react.createElement(DisplayMfaPolicyAdministrationTeasing.A,null):react.createElement(DisplayMfaPolicyAdministration.A,null)),this.isPasswordPoliciesSelected()&&(this.isCommunityEdition()?react.createElement(DisplayPasswordPoliciesAdministrationTeasing.A,null):react.createElement(DisplayPasswordPoliciesAdministration.A,null)),this.isUserDirectorySelected()&&(this.isCommunityEdition()?react.createElement(DisplayUserDirectoryAdministrationTeasing.A,null):react.createElement(DisplayUserDirectoryAdministration.A,null)),this.isEmailNotificationsSelected()&&react.createElement(DisplayEmailNotificationsAdministration.A,null),this.isSubscriptionSelected()&&(this.isCommunityEdition()?react.createElement(DisplaySubscriptionKeyTeasing.A,null):react.createElement(DisplaySubscriptionKey.A,null)),this.isInternationalizationSelected()&&react.createElement(DisplayInternationalizationAdministration.A,null),this.isAccountRecoverySelected()&&(this.isCommunityEdition()?react.createElement(ManageAccountRecoveryAdministrationSettingsTeasing.A,null):react.createElement(ManageAccountRecoveryAdministrationSettings.A,null)),this.isSmtpSettingsSelected()&&react.createElement(ManageSmtpAdministrationSettings.A,null),this.isSelfRegistrationSelected()&&react.createElement(DisplaySelfRegistrationAdministration.A,null),this.isSsoSelected()&&(this.isCommunityEdition()?react.createElement(ManageSsoSettingsTeasing.A,null):react.createElement(ManageSsoSettings.A,null)),this.isRbacSelected()&&react.createElement(DisplayRbacAdministration.A,null),this.isUserPassphrasePoliciesSelected()&&(this.isCommunityEdition()?react.createElement(DisplayAdministrationUserPassphrasePoliciesTeasing.A,null):react.createElement(DisplayAdministrationUserPassphrasePolicies_DisplayAdministrationUserPassphrasePolicies,null)),this.isPasswordExpirySelected()&&react.createElement(DisplayAdministrationPasswordExpiry.A,null),this.isHealthcheckSelected()&&react.createElement(DisplayHealthcheckAdministration.A,null),this.isContentTypesEncryptedMetadataSelected()&&react.createElement(DisplayContentTypesEncryptedMetadataAdministration.A,null),this.isContentTypesMetadataKeySelected()&&react.createElement(DisplayContentTypesMetadataKeyAdministration.A,null),this.isMigrateMetadataSelected()&&react.createElement(DisplayMigrateMetadataAdministration.A,null),this.isAllowContentTypesSelected()&&react.createElement(DisplayContentTypesAllowedContentTypesAdministration.A,null),this.isGetStartedMetadataSelected()&&react.createElement(DisplayAdministrationMetadataGettingStarted.A,null),this.isScimSelected()&&(this.isCommunityEdition()?react.createElement(DisplayScimAdministrationTeasing.A,null):react.createElement(DisplayScimSettingsAdministration.A,null)))),react.createElement(react_router.Switch,null,react.createElement(react_router.Route,{exact:!0,path:["/app/administration","/app/administration/user-provisionning/scim","/app/administration/scim-teasing"]}),react.createElement(react_router.Route,null,react.createElement("div",{className:"help-panel"},react.createElement("div",{className:"sidebar-help",id:"administration-help-panel"}),react.createElement(Footer.A,null)))))))))}}AdministrationWorkspace.propTypes={context:prop_types_default().any,administrationWorkspaceContext:prop_types_default().object,navigationContext:prop_types_default().any};const Administration_AdministrationWorkspace=(0,AppContext.L)((0,NavigationContext.qN)((0,AdministrationWorkspaceContext.Kk)(AdministrationWorkspace)));AdministrationWorkspace.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"isCommunityEdition",docblock:"Returns true if CE; false if PRO\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if CE; false if PRO"},{name:"isHomePageSelected",docblock:"If the administration Home page selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If the administration Home page selected"},{name:"isMfaSelected",docblock:"If MFA menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If MFA menu is selected"},{name:"isMfaPolicySelected",docblock:"If MFA policy menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If MFA policy menu is selected"},{name:"isPasswordPoliciesSelected",docblock:"If Password policies menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Password policies menu is selected"},{name:"isUserDirectorySelected",docblock:"If User directory menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If User directory menu is selected"},{name:"isEmailNotificationsSelected",docblock:"If Email notifications menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Email notifications menu is selected"},{name:"isSubscriptionSelected",docblock:"If Subscription menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Subscription menu is selected"},{name:"isInternationalizationSelected",docblock:"If Internationalization menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Internationalization menu is selected"},{name:"isAccountRecoverySelected",docblock:"If Account Recovery menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Account Recovery menu is selected"},{name:"isSmtpSettingsSelected",docblock:"If SMTP settings menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If SMTP settings menu is selected"},{name:"isSelfRegistrationSelected",docblock:"If Self registration settings menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Self registration settings menu is selected"},{name:"isSsoSelected",docblock:"If SSO menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If SSO menu is selected"},{name:"isRbacSelected",docblock:"If RBAC menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If RBAC menu is selected"},{name:"isUserPassphrasePoliciesSelected",docblock:"If User Passphrase Policies menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If User Passphrase Policies menu is selected"},{name:"isPasswordExpirySelected",docblock:"If Password Expiry menu is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If Password Expiry menu is selected"},{name:"isContentTypesEncryptedMetadataSelected",docblock:"If content types encrypted metadata is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types encrypted metadata is selected"},{name:"isContentTypesMetadataKeySelected",docblock:"If content types metadata key is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types metadata key is selected"},{name:"isMigrateMetadataSelected",docblock:"If content types metadata key is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If content types metadata key is selected"},{name:"isAllowContentTypesSelected",docblock:"If allow content types is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If allow content types is selected"},{name:"isGetStartedMetadataSelected",docblock:"If get started metadata is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If get started metadata is selected"},{name:"isScimSelected",docblock:"If SCIM is selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"If SCIM is selected"},{name:"handleGoBack",docblock:"Handle go back to resource workspace",modifiers:[],params:[],returns:null,description:"Handle go back to resource workspace"},{name:"isHttpError403",docblock:"If the page access is denied\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"If the page access is denied"},{name:"isHttpError404",docblock:"If the page accessed does not exist or if the corresponding feature flag is disabled\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"If the page accessed does not exist or if the corresponding feature flag is disabled"},{name:"isHealthcheckSelected",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdministrationWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Administration/DisplayAdministrationMetadataGettingStarted/DisplayAdministrationMetadataGettingStarted.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/info.svg"),_contexts_Administration_AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationEncryptedMetadataGettingStartedContext/AdministrationEncryptedMetadataGettingStartedContext.js"),_shared_services_serviceWorker_metadata_gettingStartedWithEncryptedMetadataServiceWorkerService__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/services/serviceWorker/metadata/gettingStartedWithEncryptedMetadataServiceWorkerService.js"),react_router_dom_cjs_react_router_dom_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-router-dom/cjs/react-router-dom.min.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayAdministrationMetadataGettingStarted extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}componentDidUpdate(_,prevState){if(null!==prevState.canBeConfigured)return;const canBeConfigured=!0===this.props.metadataGettingStartedSettings?.enabled;this.setState({canBeConfigured})}get defaultState(){return{canBeConfigured:this.props.metadataGettingStartedSettings?.enabled??null,isProcessing:!1,enableEncryptedMetadata:!0}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.save=this.save.bind(this)}handleInputChange(event){if(this.hasAllInputDisabled())return;const{value,name}=event.target;this.setState({[name]:"true"===value})}hasAllInputDisabled(){return!0!==this.state.canBeConfigured||this.props.context.siteSettings.isFeatureBeta("metadata")||this.state.isProcessing}handleFormSubmit(event){event.preventDefault(),this.save()}async save(){if(this.state.isProcessing)return;const service=new _shared_services_serviceWorker_metadata_gettingStartedWithEncryptedMetadataServiceWorkerService__WEBPACK_IMPORTED_MODULE_7__.A(this.props.context.port);this.setState({isProcessing:!0});try{this.state.enableEncryptedMetadata?await service.enableEncryptedMetadata():await service.keepLegacyClearTextMetadata(),await this.props.administrationEncryptedMetadataGettingStartedContext.update(),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The metadata encryption strategy has been saved successfully.")),this.props.history.push("/app/administration")}catch(error){console.error(error),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_9__.A,{error})}this.setState({isProcessing:!1})}render(){const isFeatureBeta=this.props.context.siteSettings.isFeatureBeta("metadata");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadata-getting-started",className:"main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,"data-testid":"submit-form"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Getting started"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Some of the latest features such as the new resource types require the encrypted metadata feature to be enabled."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Here you can choose to enable it or do it later when ready. We recommend making a backup before, just in case.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enable Encrypted Metadata")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"radiolist-alt"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input radio "+(this.state.enableEncryptedMetadata?"checked":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",value:"true",onChange:this.handleInputChange,name:"enableEncryptedMetadata",checked:this.state.enableEncryptedMetadata,id:"enable-encrypted-metadata",disabled:this.hasAllInputDisabled()}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"enable-encrypted-metadata"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name bold"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enable encrypted metadata and new resource types (recommended)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Selecting this option will improve the security; enable encrypted metadata and new resource types.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input radio "+(this.state.enableEncryptedMetadata?"":"checked")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",value:"false",onChange:this.handleInputChange,name:"enableEncryptedMetadata",checked:!this.state.enableEncryptedMetadata,id:"keep-legacy-cleartext-metadata",disabled:this.hasAllInputDisabled()}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"keep-legacy-cleartext-metadata"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name bold"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Keep legacy cleartext metadata")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Selecting this option will not change your current configuration. You will be able to enable encrypted metadata and new resource types later."))))))),isFeatureBeta&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-banner"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Warning:"))," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Your current API version includes beta support for encrypted metadata and new resource types.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"To ensure stability and avoid potential issues, upgrade to the latest version before enabling these features.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"save-settings",className:"button primary form",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleFormSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Save")))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about the content type support and migration, checkout the dedicated page on the official website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/docs/admin/metadata-encryption/"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayAdministrationMetadataGettingStarted.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,metadataGettingStartedSettings:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,administrationEncryptedMetadataGettingStartedContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,createPortal:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,t:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_router_dom_cjs_react_router_dom_min__WEBPACK_IMPORTED_MODULE_11__.y)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_8__.z9)((0,_contexts_Administration_AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext__WEBPACK_IMPORTED_MODULE_6__.Ns)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayAdministrationMetadataGettingStarted))))));DisplayAdministrationMetadataGettingStarted.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"hasAllInputDisabled",docblock:"Check if all inputs are disabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if all inputs are disabled"},{name:"handleFormSubmit",docblock:"Handle form submission that can be trigger when hitting `enter`\n@param {Event} event The html event triggering the form submit.",modifiers:[],params:[{name:"event",description:"The html event triggering the form submit.",type:{name:"Event"},optional:!1}],returns:null,description:"Handle form submission that can be trigger when hitting `enter`"},{name:"save",docblock:"Save the settings\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Save the settings"}],displayName:"DisplayAdministrationMetadataGettingStarted",props:{context:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},metadataGettingStartedSettings:{description:"",type:{name:"object"},required:!1},administrationEncryptedMetadataGettingStartedContext:{description:"",type:{name:"object"},required:!1},createPortal:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayAdministrationUserPassphrasePoliciesTeasing/DisplayAdministrationUserPassphrasePoliciesTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/buoy.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class DisplayAdministrationUserPassphrasePoliciesTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"user-passphrase-policies-settings-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{id:"user-passphrase-policies-title",className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"User Passphrase Policies"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enforce secure user passphrases to protect account access.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"user-passphrase-policies-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"user-passphrase-policies-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Mitigate risks associated with weak passphrases.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Customise minimum length and complexity.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Improve overall user account security."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about the user passphrase policies, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/admin/authentication/user-passphrase-policies/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation"))))),document.getElementById("administration-help-panel")))}}DisplayAdministrationUserPassphrasePoliciesTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayAdministrationUserPassphrasePoliciesTeasing));DisplayAdministrationUserPassphrasePoliciesTeasing.__docgenInfo={description:"",methods:[],displayName:"DisplayAdministrationUserPassphrasePoliciesTeasing",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayContentTypesEncryptedMetadataAdministration/DisplayContentTypesEncryptedMetadataAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayContentTypesEncryptedMetadataAdministration_DisplayContentTypesEncryptedMetadataAdministration});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),memoize_one_esm=__webpack_require__("./node_modules/memoize-one/dist/memoize-one.esm.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),metadataTypesSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),metadata_metadataKeysCollection=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysCollection.js");const formProperties=["default_resource_types","allow_creation_of_v5_resources","allow_creation_of_v4_resources","allow_v4_v5_upgrade","allow_v5_v4_downgrade"];class MetadataTypesSettingsFormEntity extends metadataTypesSettingsEntity.Ay{toFormDto(){return formProperties.reduce(((result,prop)=>(void 0!==this._props[prop]&&(result[prop]=this._props[prop]),result)),{})}verifyHealth(resourceTypes,metadataKeysCollection){let result=null;if(void 0===resourceTypes)return result;if(void 0===metadataKeysCollection)return result;if(!(resourceTypes instanceof resourceTypesCollection.A))throw new TypeError("The parameter 'resourceTypes' is not a valid 'ResourceTypesCollection' type.");if(!(metadataKeysCollection instanceof metadata_metadataKeysCollection.A))throw new TypeError("The parameter 'metadataKeysCollection' is not a valid 'MetadataKeysCollection' type.");const hasV4ResourceTypes=resourceTypes.hasSomeOfVersion(metadataTypesSettingsEntity.Sr),hasV5ResourceTypes=resourceTypes.hasSomeOfVersion(metadataTypesSettingsEntity.LP);this.allowCreationOfV4Resources&&!hasV4ResourceTypes&&(result=result||new entityValidationError.A,result.addError("allow_creation_of_v4_resources","resource_types_deleted","Resource types v4 are deleted.")),this.isDefaultResourceTypeV4&&!hasV4ResourceTypes&&(result=result||new entityValidationError.A,result.addError("default_resource_types","resource_types_v4_deleted","Resource types v4 are deleted.")),this.allowCreationOfV5Resources&&!hasV5ResourceTypes&&(result=result||new entityValidationError.A,result.addError("allow_creation_of_v5_resources","resource_types_deleted","Resource types v5 are deleted.")),this.isDefaultResourceTypeV5&&!hasV5ResourceTypes&&(result=result||new entityValidationError.A,result.addError("default_resource_types","resource_types_v5_deleted","Resource types v5 are deleted.")),this.allowV5V4Downgrade&&!hasV4ResourceTypes&&(result=result||new entityValidationError.A,result.addError("allow_v5_v4_downgrade","resource_types_deleted","Resource types v4 are deleted.")),this.allowV5V4Downgrade&&!this.allowCreationOfV4Resources&&(result=result||new entityValidationError.A,result.addError("allow_v5_v4_downgrade","allow_creation","Resource types v4 creation is not allowed.")),this.allowV4V5Upgrade&&!hasV5ResourceTypes&&(result=result||new entityValidationError.A,result.addError("allow_v4_v5_upgrade","resource_types_deleted","Resource types v5 are deleted.")),this.allowV4V5Upgrade&&!this.allowCreationOfV5Resources&&(result=result||new entityValidationError.A,result.addError("allow_v4_v5_upgrade","allow_creation","Resource types v5 creation is not allowed."));return 0===metadataKeysCollection.items.filter((metadataKey=>!metadataKey.expired)).length&&this.allowCreationOfV5Resources&&(result=result||new entityValidationError.A,result.addError("allow_creation_of_v5_resources","active_metadata_key","No active metadata key defined.")),result}}const metadataTypesSettingsFormEntity=MetadataTypesSettingsFormEntity;var metadataSettingsServiceWorkerService=__webpack_require__("./src/shared/services/serviceWorker/metadata/metadataSettingsServiceWorkerService.js");class DisplayContentTypesEncryptedMetadataAdministrationActions extends react.Component{render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{type:"button",className:"button primary form",disabled:this.props.isProcessing,onClick:this.props.onSaveRequested},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayContentTypesEncryptedMetadataAdministrationActions.propTypes={isProcessing:prop_types_default().bool,onSaveRequested:prop_types_default().func,t:prop_types_default().func};const DisplayContentTypesEncryptedMetadataAdministration_DisplayContentTypesEncryptedMetadataAdministrationActions=(0,es.CI)("common")(DisplayContentTypesEncryptedMetadataAdministrationActions);DisplayContentTypesEncryptedMetadataAdministrationActions.__docgenInfo={description:"",methods:[],displayName:"DisplayContentTypesEncryptedMetadataAdministrationActions",props:{isProcessing:{description:"",type:{name:"bool"},required:!1},onSaveRequested:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),ResourceTypesLocalStorageContext=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),portals=__webpack_require__("./src/shared/utils/portals.js"),file_text=__webpack_require__("./src/img/svg/file_text.svg"),metadataKeysServiceWorkerService=__webpack_require__("./src/shared/services/serviceWorker/metadata/metadataKeysServiceWorkerService.js");class DisplayContentTypesEncryptedMetadataAdministration extends react.Component{originalSettings=null;formSettings=null;metadataKeys=void 0;constructor(props){super(props),this.metadataSettingsServiceWorkerService=props.metadataSettingsServiceWorkerService??new metadataSettingsServiceWorkerService.Ay(props.context.port),this.metadataKeysServiceWorkerService=props.metadataKeysServiceWorkerService??new metadataKeysServiceWorkerService.Ay(props.context.port),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{isProcessing:!0,hasAlreadyBeenValidated:!1,settings:{default_resource_types:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v4_resources:!1,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1}}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.save=this.save.bind(this)}async componentDidMount(){this.originalSettings=await this.metadataSettingsServiceWorkerService.findTypesSettings(),this.formSettings=new metadataTypesSettingsFormEntity(this.originalSettings.toDto(),{validate:!1}),this.metadataKeys=await this.metadataKeysServiceWorkerService.findAll();this.setState({settings:this.formSettings.toFormDto(),isProcessing:!1})}validateForm=(0,memoize_one_esm.A)((formSettingsDto=>this.formSettings?.validate()));verifyDataHealth=(0,memoize_one_esm.A)(((formSettingsDto,resourceTypes,metadataKeysCollection)=>this.formSettings?.verifyHealth(resourceTypes,metadataKeysCollection)));hasSettingsChanges=(0,memoize_one_esm.A)(((originalSettings,formSettings,formSettingsDto)=>this.originalSettings?.hasDiffProps(this.formSettings)));handleInputChange(event){if(this.hasAllInputDisabled())return;const{type,checked,value,name}=event.target,parsedValue="checkbox"===type?checked:value;this.setFormPropertyValue(name,parsedValue)}setFormPropertyValue(name,parsedValue){this.formSettings.set(name,parsedValue,{validate:!1}),this.setState({settings:this.formSettings.toFormDto()})}hasAllInputDisabled(){return this.state.isProcessing}handleFormSubmit(event){event.preventDefault(),this.save()}async save(){if(this.state.isProcessing)return;const validationError=this.validateForm(this.state.settings);if(validationError?.hasErrors()){const hasAlreadyBeenValidated=!0;this.setState({hasAlreadyBeenValidated})}else{this.setState({isProcessing:!0});try{this.originalSettings=await this.metadataSettingsServiceWorkerService.saveTypesSettings(this.formSettings),this.formSettings=new metadataTypesSettingsFormEntity(this.originalSettings.toDto()),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The encrypted metadata settings were updated."))}catch(error){this.props.dialogContext.open(NotifyError.A,{error})}this.setState({hasAlreadyBeenValidated:!0,isProcessing:!1,settings:this.formSettings.toDto()})}}render(){const errors=this.state.hasAlreadyBeenValidated?this.validateForm(this.state.settings):null,warnings=this.verifyDataHealth(this.state.settings,this.props.resourceTypes,this.metadataKeys),hasSettingsChanges=this.hasSettingsChanges(this.originalSettings,this.formSettings,this.state.settings),isFeatureBeta=this.props.context.siteSettings.isFeatureBeta("metadata"),shouldDisplayAWarningBlock=isFeatureBeta||hasSettingsChanges;return react.createElement("div",{className:"row"},react.createElement("div",{id:"content-types-encrypted-metadata-settings",className:"main-column"},react.createElement("div",{className:"main-content"},react.createElement("form",{onSubmit:this.handleFormSubmit,"data-testid":"submit-form"},react.createElement("h3",{className:"title"},react.createElement("label",null,react.createElement(es.x6,null,"Encrypted metadata"))),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"Encrypted metadata for resources is available.")," ",react.createElement(es.x6,null,"Define the strategy to manage and migrate the legacy items.")),react.createElement("h4",null,react.createElement(es.x6,null,"Supported metadata types")),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"Define which metadata types are enabled for this instance.")),react.createElement("div",{className:`input toggle-switch form-element\n              ${errors?.hasError("allow_creation_of_v5_resources")?"error":""}\n              ${warnings?.hasError("allow_creation_of_v5_resources")?"warning":""}`},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"allow_creation_of_v5_resources",id:"allowCreationOfV5ResourcesInput",onChange:this.handleInputChange,checked:this.state.settings.allow_creation_of_v5_resources,disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"allowCreationOfV5ResourcesInput"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Enable encrypted metadata (recommended)")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Enable encrypted metadata for resources.")),errors?.hasError("allow_creation_of_v5_resources","is_default")&&react.createElement("div",{className:"name error-message"},react.createElement(es.x6,null,"Encrypted metadata must be enabled to set it as the default type.")),!errors?.hasError("allow_creation_of_v5_resources")&&react.createElement(react.Fragment,null,warnings?.hasError("allow_creation_of_v5_resources","resource_types_deleted")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"All encrypted metadata resource types were previously disabled. Re-enable them if you want users to create resources of this type.")),warnings?.hasError("allow_creation_of_v5_resources","active_metadata_key")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"A metadata key should be enabled to allow users to create resources of this type."))))),react.createElement("div",{className:`input toggle-switch form-element\n              ${errors?.hasError("allow_creation_of_v4_resources")?"error":""}\n              ${warnings?.hasError("allow_creation_of_v4_resources")?"warning":""}`},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"allow_creation_of_v4_resources",id:"allowCreationOfV4ResourcesInput",onChange:this.handleInputChange,checked:this.state.settings.allow_creation_of_v4_resources,disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"allowCreationOfV4ResourcesInput"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Enable legacy cleartext metadata")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Enable legacy cleartext metadata for resources.")),errors?.hasError("allow_creation_of_v4_resources","is_default")&&react.createElement("div",{className:"name error-message"},react.createElement(es.x6,null,"Legacy cleartext metadata must be enabled to set it as the default type.")),!errors?.hasError("allow_creation_of_v4_resources")&&warnings?.hasError("allow_creation_of_v4_resources","resource_types_deleted")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"All legacy cleartext resource types were previously disabled. Re-enable them if you want users to create resources of this type.")))),react.createElement("h4",null,react.createElement(es.x6,null,"Default metadata type")),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"Define which metadata type is used by default.")),react.createElement("div",{className:"radiolist-alt"},react.createElement("div",{className:`input radio\n                  ${"v5"===this.state.settings.default_resource_types?"checked":""}\n                  ${errors?.hasError("default_resource_types","allow_create_v5")?"error":""}\n                  ${!errors?.hasError("default_resource_types","allow_create_v5")&&warnings?.hasError("default_resource_types","resource_types_v5_deleted")?"warning":""}`},react.createElement("input",{type:"radio",value:"v5",onChange:this.handleInputChange,name:"default_resource_types",checked:"v5"===this.state.settings.default_resource_types,id:"defaultResourceTypesV5Input",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"defaultResourceTypesV5Input"},react.createElement("span",{className:"name bold"},react.createElement(es.x6,null,"Encrypted metadata (recommended)")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Users can create resources with encrypted metadata by default."),react.createElement("br",null)),errors?.hasError("default_resource_types","allow_create_v5")&&react.createElement("div",{className:"name error-message"},react.createElement(es.x6,null,"Encrypted metadata must be enabled to set it as the default type.")),!errors?.hasError("default_resource_types","allow_create_v5")&&warnings?.hasError("default_resource_types","resource_types_v5_deleted")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"All encrypted metadata resource types were previously disabled. Re-enable them if you want users to create resources of this type.")))),react.createElement("div",{className:`input radio ${"v4"===this.state.settings.default_resource_types?"checked":""}\n                  ${errors?.hasError("default_resource_types","allow_create_v4")?"error":""}\n                  ${!errors?.hasError("default_resource_types","allow_create_v4")&&warnings?.hasError("default_resource_types","resource_types_v4_deleted")?"warning":""}`},react.createElement("input",{type:"radio",value:"v4",onChange:this.handleInputChange,name:"default_resource_types",checked:"v4"===this.state.settings.default_resource_types,id:"defaultResourceTypesV4Input",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"defaultResourceTypesV4Input"},react.createElement("span",{className:"name bold"},react.createElement(es.x6,null,"Legacy cleartext metadata")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Users can create legacy resources with cleartext metadata by default.")),errors?.hasError("default_resource_types","allow_create_v4")&&react.createElement("div",{className:"name error-message"},react.createElement(es.x6,null,"Legacy cleartext metadata must be enabled to set it as the default type.")),!errors?.hasError("default_resource_types","allow_create_v4")&&warnings?.hasError("default_resource_types","resource_types_v4_deleted")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"All legacy cleartext resource types were previously disabled. Re-enable them if you want users to create resources of this type."))))),react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Self served migration")),react.createElement("div",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"allow_v4_v5_upgrade",id:"allowV4V5UpgradeInput",onChange:this.handleInputChange,checked:this.state.settings.allow_v4_v5_upgrade,disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"allowV4V5UpgradeInput",className:"text"},react.createElement(es.x6,null,"Allow users to upgrade their content from cleartext to encrypted metadata type."),warnings?.hasError("allow_v4_v5_upgrade","resource_types_deleted")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"All encrypted metadata resource types were previously disabled. Re-enable them if you want users to upgrade their resources.")),warnings?.hasError("allow_v4_v5_upgrade","allow_creation")&&react.createElement("div",{className:"name warning-message"},react.createElement(es.x6,null,"Encrypted metadata should be enabled to allow users to upgrade their resources.")))))),shouldDisplayAWarningBlock&&react.createElement("div",{className:"warning message"},isFeatureBeta&&react.createElement("div",null,react.createElement("b",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"Your current API version includes beta support for encrypted metadata and new resource types.")," ",react.createElement(es.x6,null,"To ensure stability and avoid potential issues, upgrade to the latest version before enabling these features.")),hasSettingsChanges&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement("b",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayContentTypesEncryptedMetadataAdministration_DisplayContentTypesEncryptedMetadataAdministrationActions,{onSaveRequested:this.save,isProcessing:this.state.isProcessing}),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Need help?")),react.createElement("p",null,react.createElement(es.x6,null,"For more information about the content type support and migration, checkout the dedicated page on the official website.")),react.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://passbolt.com/docs/admin/metadata-encryption/encrypted-metadata/"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayContentTypesEncryptedMetadataAdministration.propTypes={context:prop_types_default().object,actionFeedbackContext:prop_types_default().object,dialogContext:prop_types_default().object,createPortal:prop_types_default().func,metadataSettingsServiceWorkerService:prop_types_default().object,metadataKeysServiceWorkerService:prop_types_default().object,resourceTypes:prop_types_default().instanceOf(resourceTypesCollection.A),t:prop_types_default().func};const DisplayContentTypesEncryptedMetadataAdministration_DisplayContentTypesEncryptedMetadataAdministration=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,DialogContext.z9)((0,ResourceTypesLocalStorageContext.KH)((0,es.CI)("common")(DisplayContentTypesEncryptedMetadataAdministration)))));DisplayContentTypesEncryptedMetadataAdministration.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"setFormPropertyValue",docblock:"Set a form property value. Trigger the validation if the form has already been submitted once.\n@param name\n@param parsedValue",modifiers:[],params:[{name:"name",optional:!1},{name:"parsedValue",optional:!1}],returns:null,description:"Set a form property value. Trigger the validation if the form has already been submitted once."},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"handleFormSubmit",docblock:"Handle form submission that can be trigger when hitting `enter`\n@param {Event} event The html event triggering the form submit.",modifiers:[],params:[{name:"event",description:"The html event triggering the form submit.",type:{name:"Event"},optional:!1}],returns:null,description:"Handle form submission that can be trigger when hitting `enter`"},{name:"save",docblock:"Save the settings\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Save the settings"}],displayName:"DisplayContentTypesEncryptedMetadataAdministration",props:{context:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},createPortal:{description:"",type:{name:"func"},required:!1},metadataSettingsServiceWorkerService:{description:"",type:{name:"object"},required:!1},metadataKeysServiceWorkerService:{description:"",type:{name:"object"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayInternationalizationAdministration/DisplayInternationalizationAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayInternationalizationAdministration_DisplayInternationalizationAdministration});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),heart=__webpack_require__("./src/img/svg/heart.svg"),Select=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),AdministrationInternationalizationContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationInternationalizationContext/AdministrationInternationalizationContext.js");class DisplayAdministrationInternationalisationActions extends react.Component{constructor(props){super(props),this.bindCallbacks()}async handleSaveClick(){try{await this.props.adminInternationalizationContext.save(),this.handleSaveSuccess()}catch(error){this.handleSaveError(error)}finally{this.props.adminInternationalizationContext.setProcessing(!1)}}isSaveEnabled(){return!this.props.adminInternationalizationContext.isProcessing()&&this.props.adminInternationalizationContext.hasLocaleChanges()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The internationalization settings were updated."))}async handleSaveError(error){"UserAbortsOperationError"!==error.name&&(console.error(error),await this.handleError(error))}async handleError(error){await this.props.actionFeedbackContext.displayError(error.message)}render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{className:"button primary form",id:"save-settings",type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationInternationalisationActions.propTypes={context:prop_types_default().object,adminInternationalizationContext:prop_types_default().object,actionFeedbackContext:prop_types_default().object,t:prop_types_default().func};const DisplayAdministrationInternationalisationActions_DisplayAdministrationInternationalisationActions=(0,AdministrationInternationalizationContext.A3)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(DisplayAdministrationInternationalisationActions)));DisplayAdministrationInternationalisationActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"handleSaveClick",docblock:"Handle save settings",modifiers:["async"],params:[],returns:null,description:"Handle save settings"},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:["async"],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"handleError",docblock:"handle error to display the error dialog\n@param error",modifiers:["async"],params:[{name:"error",optional:!1}],returns:null,description:"handle error to display the error dialog"}],displayName:"DisplayAdministrationInternationalisationActions",props:{context:{description:"",type:{name:"object"},required:!1},adminInternationalizationContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var portals=__webpack_require__("./src/shared/utils/portals.js");class DisplayInternationalizationAdministration extends react.Component{constructor(props){super(props),this.bindCallbacks()}componentDidMount(){this.props.adminInternationalizationContext.findLocale()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminInternationalizationContext.clearContext()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(event){this.props.adminInternationalizationContext.setLocale(event.target.value)}get supportedLocales(){return this.props.context.siteSettings.supportedLocales?this.props.context.siteSettings.supportedLocales.map((supportedLocale=>({value:supportedLocale.locale,label:supportedLocale.label}))):[]}render(){const lang=this.props.adminInternationalizationContext.getLocale(),hasWarnings=null!==this.props.adminInternationalizationContext.getCurrentLocale()&&this.props.adminInternationalizationContext.hasLocaleChanges();return react.createElement("div",{className:"row"},react.createElement("div",{className:"internationalisation-settings main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{className:"title"},react.createElement(es.x6,null,"Internationalisation")),react.createElement("form",{className:"form"},react.createElement("div",{className:"select-wrapper input"},react.createElement("label",{htmlFor:"app-locale-input"},react.createElement(es.x6,null,"Language")),react.createElement(Select.A,{className:"medium",id:"locale-input",name:"locale",items:this.supportedLocales,value:lang,onChange:this.handleInputChange}),react.createElement("p",null,react.createElement(es.x6,null,"The default language of the organisation."))))),hasWarnings&&react.createElement("div",{className:"warning message"},react.createElement("div",null,react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayAdministrationInternationalisationActions_DisplayAdministrationInternationalisationActions,null),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Want to contribute?")),react.createElement("p",null,react.createElement(es.x6,null,"Your language is missing or you discovered an error in the translation, help us to improve passbolt.")),react.createElement("a",{className:"button",href:"https://help.passbolt.com/contribute/translation",target:"_blank",rel:"noopener noreferrer"},react.createElement(heart.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Contribute")))),document.getElementById("administration-help-panel")))}}DisplayInternationalizationAdministration.propTypes={context:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,adminInternationalizationContext:prop_types_default().object,t:prop_types_default().func};const DisplayInternationalizationAdministration_DisplayInternationalizationAdministration=(0,AppContext.L)((0,AdministrationInternationalizationContext.A3)((0,AdministrationWorkspaceContext.Kk)((0,es.CI)("common")(DisplayInternationalizationAdministration))));DisplayInternationalizationAdministration.__docgenInfo={description:"This component allows to display the internationalisation for the administration",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"supportedLocales",docblock:"Get the supported locales\n@returns {array}",modifiers:["get"],params:[],returns:{type:{name:"array"}},description:"Get the supported locales"}],displayName:"DisplayInternationalizationAdministration",props:{context:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminInternationalizationContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayMfaPolicyAdministration/DisplayMfaPolicyAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayMfaPolicyAdministration_DisplayMfaPolicyAdministration});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),file_text=__webpack_require__("./src/img/svg/file_text.svg"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),AdministrationMfaPolicyContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationMfaPolicy/AdministrationMfaPolicyContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js");class DisplayAdministrationMfaPolicyActions extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}isSaveEnabled(){return!this.props.adminMfaPolicyContext.isProcessing()}async handleSave(){if(this.isSaveEnabled())try{await this.props.adminMfaPolicyContext.save(),this.handleSaveSuccess()}catch(error){this.handleSaveError(error)}finally{this.props.adminMfaPolicyContext.setProcessing(!1)}}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.props.t("The MFA policy settings were updated."))}async handleSaveError(error){"UserAbortsOperationError"!==error.name&&(console.error(error),await this.props.actionFeedbackContext.displayError(error.message))}render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{className:"button primary form",type:"button",disabled:!this.isSaveEnabled(),id:"save-settings",onClick:this.handleSave},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationMfaPolicyActions.propTypes={adminMfaPolicyContext:prop_types_default().object,actionFeedbackContext:prop_types_default().object,t:prop_types_default().func};const DisplayAdministrationMfaPolicyActions_DisplayAdministrationMfaPolicyActions=(0,AdministrationMfaPolicyContext.yS)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(DisplayAdministrationMfaPolicyActions)));DisplayAdministrationMfaPolicyActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"},{name:"handleSave",docblock:"Handle the save action.\nIn case we have more than one domain and we have changes, we should display a confirmation dialog to inform the user\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the save action.\nIn case we have more than one domain and we have changes, we should display a confirmation dialog to inform the user"},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:["async"],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."}],displayName:"DisplayAdministrationMfaPolicyActions",props:{adminMfaPolicyContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var portals=__webpack_require__("./src/shared/utils/portals.js");class DisplayMfaPolicyAdministration extends react.Component{constructor(props){super(props),this.bindCallbacks()}async componentDidMount(){await this.findSettings()}componentWillUnmount(){this.props.adminMfaPolicyContext.clearContext()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}async findSettings(){await this.props.adminMfaPolicyContext.findSettings()}async handleInputChange(event){const field=event.target.name;let value=event.target.value;"rememberMeForAMonth"===field&&(value=event.target.checked),this.props.adminMfaPolicyContext.setSettings(field,value)}hasAllInputDisabled(){return this.props.adminMfaPolicyContext.isProcessing()}render(){const settings=this.props.adminMfaPolicyContext.getSettings();return react.createElement("div",{className:"row"},react.createElement("div",{className:"mfa-policy-settings main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{className:"title",id:"mfa-policy-settings-title"},react.createElement(es.x6,null,"MFA Policy")),react.createElement("form",{className:"form"},react.createElement("h4",{className:"no-border",id:"mfa-policy-subtitle"},react.createElement(es.x6,null,"Default users multi factor authentication policy")),react.createElement("p",{id:"mfa-policy-description"},react.createElement(es.x6,null,"You can choose the default behaviour of multi factor authentication for all users.")),react.createElement("div",{className:"radiolist-alt"},react.createElement("div",{className:"input radio "+("mandatory"===settings?.policy?"checked":""),id:"mfa-policy-mandatory"},react.createElement("input",{type:"radio",value:"mandatory",onChange:this.handleInputChange,name:"policy",checked:"mandatory"===settings?.policy,id:"mfa-policy-mandatory-radio",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"mfa-policy-mandatory-radio"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Prompt")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Users have to enable multi factor authentication. If they don't, they will be reminded every time they log in.")))),react.createElement("div",{className:"input radio "+("opt-in"===settings?.policy?"checked":""),id:"mfa-policy-opt-in"},react.createElement("input",{type:"radio",value:"opt-in",onChange:this.handleInputChange,name:"policy",checked:"opt-in"===settings?.policy,id:"mfa-policy-opt-in-radio",disabled:this.hasAllInputDisabled()}),react.createElement("label",{htmlFor:"mfa-policy-opt-in-radio"},react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Opt-in (default)")),react.createElement("span",{className:"info"},react.createElement(es.x6,null,"Users have the choice to enable multi factor authentication in their profile workspace."))))),react.createElement("h4",{id:"mfa-policy-remember-subtitle"},"Remember a device for a month"),react.createElement("span",{className:"input toggle-switch form-element "},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"rememberMeForAMonth",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),checked:settings?.rememberMeForAMonth,id:"remember-toggle-button"}),react.createElement("label",{htmlFor:"remember-toggle-button"},react.createElement(es.x6,null,"Allow Remember this device for a month. option during MFA."))))),this.props.adminMfaPolicyContext.hasSettingsChanges()&&react.createElement("div",{className:"warning message",id:"mfa-policy-setting-banner"},react.createElement("div",null,react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayAdministrationMfaPolicyActions_DisplayAdministrationMfaPolicyActions,null),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Need some help?")),react.createElement("p",null,react.createElement(es.x6,null,"For more information about MFA policy settings, checkout the dedicated page on the help website.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/mfa-policy",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayMfaPolicyAdministration.propTypes={context:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,adminMfaPolicyContext:prop_types_default().object,t:prop_types_default().func};const DisplayMfaPolicyAdministration_DisplayMfaPolicyAdministration=(0,AppContext.L)((0,AdministrationWorkspaceContext.Kk)((0,AdministrationMfaPolicyContext.yS)((0,es.CI)("common")(DisplayMfaPolicyAdministration))));DisplayMfaPolicyAdministration.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"findSettings",docblock:"Bind callbacks methods",modifiers:["async"],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle policy input change.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle policy input change."},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"}],displayName:"DisplayMfaPolicyAdministration",props:{context:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminMfaPolicyContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayMfaPolicyAdministrationTeasing/DisplayMfaPolicyAdministrationTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_file_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/file.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class DisplayMfaPolicyAdministrationTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"mfa-settings-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"mfa-settings-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"MFA Policy"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enhance security by enforcing multi-factor authentication.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"mfa-settings-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"mfa-settings-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Strengthen user authentication.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Protect against unauthorised access.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Flexible configuration based on user roles or access levels."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/pro/enterprise",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about MFA policy settings, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/mfa-policy",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_file_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayMfaPolicyAdministrationTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayMfaPolicyAdministrationTeasing));DisplayMfaPolicyAdministrationTeasing.__docgenInfo={description:"",methods:[],displayName:"DisplayMfaPolicyAdministrationTeasing",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayPasswordPoliciesAdministrationTeasing/DisplayPasswordPoliciesAdministrationTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/buoy.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class DisplayPasswordPoliciesAdministrationTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-policies-settings-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"password-policies-settings-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Password Policy"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Ensure strong and consistent passwords entropy across your organisation.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-policies-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"password-policies-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Reduce the risk of weak passwords.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enforce complexity requirements.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Ensure compliance with internal security standards."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about the password policy settings, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/password-configuration/password-policy/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation"))))),document.getElementById("administration-help-panel")))}}DisplayPasswordPoliciesAdministrationTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayPasswordPoliciesAdministrationTeasing));DisplayPasswordPoliciesAdministrationTeasing.__docgenInfo={description:"",methods:[],displayName:"DisplayPasswordPoliciesAdministrationTeasing",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayScimAdministrationTeasing/DisplayScimAdministrationTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/Frame.svg");class DisplayScimAdministrationTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"scim-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"scim-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"SCIM"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_4__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Automate user identity management and provisioning via standardised SCIM integration.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"scim-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"scim-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Efficiently manage user identities in the cloud.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Simplify onboarding and offboarding processes.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Reduce manual administrative overhead and errors."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))))}}DisplayScimAdministrationTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayScimAdministrationTeasing));DisplayScimAdministrationTeasing.__docgenInfo={description:"",methods:[],displayName:"DisplayScimAdministrationTeasing",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayScimSettingsAdministration/DisplayScimSettingsAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayScimSettingsAdministration_DisplayScimSettingsAdministration});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),memoize_one_esm=__webpack_require__("./node_modules/memoize-one/dist/memoize-one.esm.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),scimSettingsEntity=__webpack_require__("./src/shared/models/entity/scimSettings/scimSettingsEntity.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");class ScimSettingsFormEntity extends scimSettingsEntity.A{static getSchema(){return{type:"object",required:["scim_user_id","setting_id"],properties:{...scimSettingsEntity.A.getSchema().properties}}}static createFromDefault(userId){return new ScimSettingsFormEntity({scim_user_id:userId,setting_id:(0,v4.A)(),secret_token:this.generateScimSecretToken()})}}const scimSettingsFormEntity=ScimSettingsFormEntity;var ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const scimSettingsServiceWorkerService=class ScimSettingsServiceWorkerService{constructor(port){this.port=port}async findSettings(){const settingsDto=await this.port.request("passbolt.scim.find-settings");return settingsDto?new scimSettingsEntity.A(settingsDto):null}async createSettings(formSettings){if(!(formSettings instanceof scimSettingsEntity.A))throw new TypeError("The 'settings' property should be of type 'ScimSettingsEntity'.");const savedSettingsDto=await this.port.request("passbolt.scim.create-settings",formSettings.toDto());return new scimSettingsEntity.A(savedSettingsDto)}async updateSettings(formSettings,id){if(!(formSettings instanceof scimSettingsEntity.A))throw new TypeError("The 'settings' property should be of type 'ScimSettingsEntity'.");const updated=formSettings.toDto(),savedSettingsDto=await this.port.request("passbolt.scim.update-settings",id,updated);return new scimSettingsEntity.A(savedSettingsDto)}async disableSettings(id){await this.port.request("passbolt.scim.disable-settings",id)}};var copy=__webpack_require__("./src/img/svg/copy.svg"),refresh=__webpack_require__("./src/img/svg/refresh.svg"),ManagedClipboardServiceProvider=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),Select=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayScimSettingsAdministration extends react.Component{originalSettings=null;formSettings=null;scimSettingsService=null;constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.scimSettingsService=props.scimSettingsServiceWorkerService??new scimSettingsServiceWorkerService(this.props.context.port),this.handleToggleEnabled=this.handleToggleEnabled.bind(this)}get defaultState(){return{isProcessing:!0,hasAlreadyBeenValidated:!1,enabled:!1,settings:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.save=this.save.bind(this),this.handleToggleEnabled=this.handleToggleEnabled.bind(this),this.handleCopyScimUrl=this.handleCopyScimUrl.bind(this),this.handleCopySecretToken=this.handleCopySecretToken.bind(this),this.handleRegenerateSecretToken=this.handleRegenerateSecretToken.bind(this)}async componentDidMount(){this.props.context.users||await this.props.context.port.request("passbolt.users.update-local-storage"),await this.findScimSettings(),this.setState({isProcessing:!1})}componentWillUnmount(){this.clearContext()}get adminUsers(){const adminRole=this.props.context.roles.find((role=>"admin"===role.name)),users=this.props.context.users;return null!==users&&adminRole?users.filter((user=>!0===user.active&&user.role_id===adminRole.id)):[]}get adminUsersForSelect(){return this.adminUsers&&this.adminUsers.map((user=>({value:user.id,label:(0,userUtils.$2)(user,this.props.t,{withUsername:!0})})))}async findScimSettings(){this.setState({isProcessing:!0});try{const scimSettings=await this.scimSettingsService.findSettings();scimSettings&&(this.originalSettings=new scimSettingsFormEntity(scimSettings,{validate:!1}),this.formSettings=new scimSettingsFormEntity(scimSettings,{validate:!1}),this.setState({settings:this.formSettings.toDto(),enabled:!0}))}catch(error){await this.handleUnexpectedError(error),this.setDefaultSettings()}this.setState({isProcessing:!1})}handleToggleEnabled(){this.state.enabled||(this.formSettings=scimSettingsFormEntity.createFromDefault(this.adminUsers[0].id),this.setState({settings:this.formSettings.toDto()})),this.setState({enabled:!this.state.enabled})}hasSettingsChanges=(0,memoize_one_esm.A)(((originalSettings,formSettings,settings)=>originalSettings?.hasDiffProps(formSettings)||!1));handleInputChange(event){if(this.hasAllInputDisabled())return;const{type,checked,name}=event.target,parsedValue="checkbox"===type?checked:event.target.value;this.setFormPropertyValue(name,parsedValue)}setFormPropertyValue(name,parsedValue){this.formSettings.set(name,parsedValue,{validate:!1}),this.setState({settings:this.formSettings.toDto()})}hasAllInputDisabled(){return this.state.isProcessing}async handleCopyScimUrl(){await this.props.clipboardContext.copy(this.scimUrl,this.props.t("The SCIM URL has been copied to the clipboard."))}async handleCopySecretToken(){await this.props.clipboardContext.copy(this.state.settings.secret_token,this.props.t("The SCIM secret token has been copied to the clipboard."))}handleRegenerateSecretToken(){const secretToken=scimSettingsEntity.A.generateScimSecretToken();this.setFormPropertyValue("secret_token",secretToken)}handleFormSubmit(event){event.preventDefault(),this.save()}async save(){if(this.state.isProcessing)return;this.setState({isProcessing:!0});const validationError=this.validateForm();if(validationError?.hasErrors())this.setState({isProcessing:!1,hasAlreadyBeenValidated:!0});else{try{const result=await this.saveScimSettings();this.formSettings=result?new scimSettingsFormEntity(result,{validate:!1}):null,this.originalSettings=result?new scimSettingsFormEntity(this.formSettings.toDto(),{validate:!1}):null,this.setState({settings:result?this.formSettings.toDto():null,enabled:null!==result}),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The SCIM settings were updated."))}catch(error){await this.handleUnexpectedError(error)}this.setState({isProcessing:!1})}}validateForm(){return this.formSettings?this.formSettings.validate():null}async saveScimSettings(){if(this.state.enabled){let scimSettingResult;return scimSettingResult=this.originalSettings?await this.scimSettingsService.updateSettings(this.formSettings,this.originalSettings.id):await this.scimSettingsService.createSettings(this.formSettings),scimSettingResult}return this.originalSettings&&await this.scimSettingsService.disableSettings(this.originalSettings.id),null}handleUnexpectedError(error){if(console.error(error),"UserAbortsOperationError"!==error.name)return this.props.dialogContext.open(NotifyError.A,{error})}clearContext(){this.setState(this.defaultState)}get scimUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/scim/v2/${this.state.settings.setting_id}`}render(){const errors=this.state.hasAlreadyBeenValidated?this.validateForm():null,hasSettingsChanges=this.hasSettingsChanges(this.originalSettings,this.formSettings,this.state.settings);return react.createElement("div",{className:"row"},react.createElement("div",{id:"scim-settings",className:"main-column"},react.createElement("div",{className:"main-content"},react.createElement("form",{onSubmit:this.handleFormSubmit,"data-testid":"submit-form"},react.createElement("h3",{className:"title"},react.createElement("span",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"enabled",onChange:this.handleToggleEnabled,checked:this.state.enabled,disabled:this.hasAllInputDisabled(),id:"scimSettingsToggle"}),react.createElement("label",{htmlFor:"scimSettingsToggle"},react.createElement(es.x6,null,"SCIM")))),react.createElement("p",{className:"description"},react.createElement(es.x6,null,"SCIM is a standard protocol that automates user provisioning and deprovisioning with identity providers.")),this.state.enabled&&react.createElement(react.Fragment,null,react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"SCIM URL")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"scim-url-input",type:"text",className:"fluid form-element disabled",name:"scim_url",value:this.scimUrl,readOnly:!0,disabled:!0}),react.createElement("button",{type:"button",onClick:this.handleCopyScimUrl,className:"copy-to-clipboard button button-icon"},react.createElement(copy.A,null))),react.createElement("p",null,react.createElement(es.x6,null,"The URL to enter in your provider when configuring user provisioning."))),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret Token")),react.createElement("div",{className:"button-inline"},react.createElement(Password.A,{id:"scim-secret-token-input",className:"fluid form-element",autoComplete:"off",name:"scim_secret_token",value:this.state.settings.secret_token,preview:!0,disabled:this.state.settings.secret_token===scimSettingsEntity.A.EMPTY_SECRET_VALUE}),react.createElement("button",{type:"button",disabled:this.state.settings.secret_token===scimSettingsEntity.A.EMPTY_SECRET_VALUE,onClick:this.handleCopySecretToken,className:"copy-to-clipboard button button-icon"},react.createElement(copy.A,null)),react.createElement("button",{type:"button",onClick:this.handleRegenerateSecretToken,className:"copy-to-clipboard button button-icon"},react.createElement(refresh.A,null)))),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"SCIM User")),react.createElement(Select.A,{items:this.adminUsersForSelect,name:"scim_user_id",className:"users",value:this.state.settings.scim_user_id,onChange:this.handleInputChange,disabled:this.state.isProcessing,search:!0,direction:"bottom"}),react.createElement("p",null,react.createElement(es.x6,null,"The SCIM user is the user that will perform the operation in the logs."))),react.createElement("div",{className:"section"},react.createElement("label",null,react.createElement(es.x6,null,"Synchronisation")),react.createElement("span",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordUpdate",disabled:!0,checked:!0,id:"send-password-update-toggle-button"}),react.createElement("label",{className:"text",htmlFor:"send-password-update-toggle-button"},react.createElement(es.x6,null,"Users."))),react.createElement("span",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordUpdate",disabled:!0,checked:!1,id:"send-password-update-toggle-button"}),react.createElement("label",{className:"text",htmlFor:"send-password-update-toggle-button"},react.createElement(es.x6,null,"Groups (Not supported)."))))))),react.createElement("div",{className:"warning message"},!this.formSettings?.id&&this.state.enabled&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Please save the settings to enable the feature."))),this.formSettings?.id&&!this.state.enabled&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Please save the settings to disable the feature."))),!hasSettingsChanges&&this.state.enabled&&this.formSettings?.id&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement("b",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"if you think the secret has been compromised please regenerate and update it in your provider settings."))),hasSettingsChanges&&this.state.enabled&&this.formSettings.id&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))),errors?.hasErrors()&&react.createElement("div",{className:"form-banner"},react.createElement("p",null,react.createElement("b",null,react.createElement(es.x6,null,"Warning:"))," ",react.createElement(es.x6,null,"Please fix the errors in the form before saving."))))),react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{type:"button",className:"button primary",disabled:this.state.isProcessing||errors?.hasErrors(),onClick:this.handleFormSubmit},react.createElement("span",null,react.createElement(es.x6,null,"Save")))))}}DisplayScimSettingsAdministration.propTypes={context:prop_types_default().object,actionFeedbackContext:prop_types_default().object,dialogContext:prop_types_default().object,clipboardContext:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,scimSettingsServiceWorkerService:prop_types_default().object,t:prop_types_default().func};const DisplayScimSettingsAdministration_DisplayScimSettingsAdministration=(0,AdministrationWorkspaceContext.Kk)((0,DialogContext.z9)((0,ActionFeedbackContext.ot)((0,ManagedClipboardServiceProvider.nJ)((0,AppContext.L)((0,es.CI)("common")(DisplayScimSettingsAdministration))))));DisplayScimSettingsAdministration.__docgenInfo={description:"This component allows to display the SCIM settings for the administration",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"adminUsers",docblock:"Get admin users\n@returns {Array} Array of active admin users",modifiers:["get"],params:[],returns:{description:"Array of active admin users",type:{name:"Array"}},description:"Get admin users"},{name:"adminUsersForSelect",docblock:"Get admin users formatted for select input\n@returns {Array<{value: string, label: string}>} Array of admin users formatted for select input",modifiers:["get"],params:[],returns:{description:"Array of admin users formatted for select input",type:{name:"Array",elements:[]}},description:"Get admin users formatted for select input"},{name:"findScimSettings",docblock:"Find the SCIM settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the SCIM settings"},{name:"handleToggleEnabled",docblock:"Enable/Disable the settings",modifiers:[],params:[],returns:null,description:"Enable/Disable the settings"},{name:"handleInputChange",docblock:"Handle form input changes.\n@param {ReactEvent} event The react event\n@returns {void}",modifiers:[],params:[{name:"event",description:"The react event",type:{name:"ReactEvent"},optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"setFormPropertyValue",docblock:"Set a form property value. Trigger the validation if the form has already been submitted once.\n@param {string} name The property name\n@param {*} parsedValue The parsed value",modifiers:[],params:[{name:"name",description:"The property name",type:{name:"string"},optional:!1},{name:"parsedValue",description:"The parsed value",type:{name:"mixed"},optional:!1}],returns:null,description:"Set a form property value. Trigger the validation if the form has already been submitted once."},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"handleCopyScimUrl",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"handleCopySecretToken",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"handleRegenerateSecretToken",docblock:"Handle the regeneration of the secret token",modifiers:[],params:[],returns:null,description:"Handle the regeneration of the secret token"},{name:"handleFormSubmit",docblock:"Handle form submission that can be triggered when hitting `enter`\n@param {Event} event The html event triggering the form submit.",modifiers:[],params:[{name:"event",description:"The html event triggering the form submit.",type:{name:"Event"},optional:!1}],returns:null,description:"Handle form submission that can be triggered when hitting `enter`"},{name:"save",docblock:"Save the settings.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Save the settings."},{name:"validateForm",docblock:"Validate form.\n@return {EntityValidationError|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"EntityValidationError"}]}},description:"Validate form."},{name:"saveScimSettings",docblock:"Save the SCIM settings.\n@returns {Promise<ScimSettingsEntity|null>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"union",elements:[{name:"ScimSettingsEntity"}]}]}},description:"Save the SCIM settings."},{name:"handleUnexpectedError",docblock:"Handle unexpected error\n@param {Error} error The error\n@returns {Promise<string>} Return the dialog key identifier.",modifiers:[],params:[{name:"error",description:"The error",type:{name:"Error"},optional:!1}],returns:{description:"Return the dialog key identifier.",type:{name:"Promise",elements:[{name:"string"}]}},description:"Handle unexpected error"},{name:"clearContext",docblock:"Puts the state to its default in order to avoid keeping the data users didn't want to save.",modifiers:[],params:[],returns:null,description:"Puts the state to its default in order to avoid keeping the data users didn't want to save."},{name:"scimUrl",docblock:"Return the formatted scim url\n@returns {string} the formated scim url",modifiers:["get"],params:[],returns:{description:"the formated scim url",type:{name:"string"}},description:"Return the formatted scim url"}],displayName:"DisplayScimSettingsAdministration",props:{context:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},scimSettingsServiceWorkerService:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplaySelfRegistrationAdministration/DisplaySelfRegistrationAdministration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplaySelfRegistrationAdministration_DisplaySelfRegistrationAdministration});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),DomainUtil=__webpack_require__("./src/react-extension/lib/Domain/DomainUtil.js"),MapObject=__webpack_require__("./src/react-extension/lib/Map/MapObject.js"),AdministrationSelfRegistrationContext=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationSelfRegistration/AdministrationSelfRegistrationContext.js");const map=new Map;function setRef(key){if("string"!=typeof key)return console.warn("useDynamicRefs: Cannot set ref without key");const ref=react.createRef();return map.set(key,ref),ref}function getRef(key){return key?map.get(key):console.warn("useDynamicRefs: Cannot get ref without key")}const DynamicRef=function useDynamicRefs(){return{getRef,setRef}};var DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),SelfRegistrationDomainsViewModel=__webpack_require__("./src/shared/models/selfRegistration/SelfRegistrationDomainsViewModel.js"),dist=__webpack_require__("./node_modules/debounce-promise/dist/index.js"),dist_default=__webpack_require__.n(dist),portals=__webpack_require__("./src/shared/utils/portals.js"),file_text=__webpack_require__("./src/img/svg/file_text.svg");class DisplayAdministrationSelfRegistrationActions extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleSave=this.handleSave.bind(this)}get allowedDomains(){return this.props.adminSelfRegistrationContext.getAllowedDomains()}isSaveEnabled(){let isFirstUsageWithoutChanges=!1;return this.props.adminSelfRegistrationContext.getCurrentSettings()?.provider||(isFirstUsageWithoutChanges=!this.props.adminSelfRegistrationContext.hasSettingsChanges()),!this.props.adminSelfRegistrationContext.isProcessing()&&!isFirstUsageWithoutChanges}async handleSave(){this.isSaveEnabled()&&this.props.adminSelfRegistrationContext.save()}render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("button",{className:"button primary form",type:"button",disabled:!this.isSaveEnabled(),id:"save-settings",onClick:this.handleSave},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationSelfRegistrationActions.propTypes={adminSelfRegistrationContext:prop_types_default().object,t:prop_types_default().func};const DisplayAdministrationSelfRegistrationActions_DisplayAdministrationSelfRegistrationActions=(0,es.CI)("common")((0,AdministrationSelfRegistrationContext.v6)(DisplayAdministrationSelfRegistrationActions));DisplayAdministrationSelfRegistrationActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"allowedDomains",docblock:"return the allowed domains",modifiers:["get"],params:[],returns:null,description:"return the allowed domains"},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"},{name:"handleSave",docblock:"Handle the save action.\nIn case we have more than one domain and we have changes, we should display a confirmation dialog to inform the user\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the save action.\nIn case we have more than one domain and we have changes, we should display a confirmation dialog to inform the user"}],displayName:"DisplayAdministrationSelfRegistrationActions",props:{adminSelfRegistrationContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var add=__webpack_require__("./src/img/svg/add.svg"),svg_delete=__webpack_require__("./src/img/svg/delete.svg");class DisplaySelfRegistrationAdministration extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.dynamicRefs=DynamicRef(),this.checkForPublicDomainDebounce=dist_default()(this.checkForWarnings,300),this.bindCallbacks()}async componentDidMount(){await this.findSettings()}componentDidUpdate(){this.shouldFocusOnError(),this.shouldCheckWarnings()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSelfRegistrationContext.clearContext()}get defaultState(){return{isEnabled:!1,warnings:new Map}}bindCallbacks(){this.handleToggleClicked=this.handleToggleClicked.bind(this),this.handleAddRowClick=this.handleAddRowClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleDeleteRow=this.handleDeleteRow.bind(this)}get currentUser(){return this.props.context.loggedInUser}get allowedDomains(){return this.props.adminSelfRegistrationContext.getAllowedDomains()}async findSettings(){await this.props.adminSelfRegistrationContext.findSettings(),this.setState({isEnabled:this.allowedDomains.size>0}),this.checkForWarnings(),this.validateForm()}checkForWarnings(){this.setState({warnings:new Map},(()=>{this.allowedDomains.forEach(((value,key)=>this.checkDomainIsProfessional(key,value)))}))}setupSettings(){if(this.props.adminSelfRegistrationContext.setDomains(new SelfRegistrationDomainsViewModel.A(this.props.adminSelfRegistrationContext.getCurrentSettings())),this.checkForWarnings(),0===this.allowedDomains.size){const domain=DomainUtil.A.extractDomainFromEmail(this.currentUser?.username);DomainUtil.A.checkDomainValidity(domain),this.populateUserDomain(domain)}}shouldFocusOnError(){const onFocus=this.props.adminSelfRegistrationContext.shouldFocus(),[error]=this.props.adminSelfRegistrationContext.getErrors().keys();if(error&&onFocus){this.dynamicRefs.getRef(error).current.focus(),this.props.adminSelfRegistrationContext.setFocus(!1)}}shouldCheckWarnings(){this.props.adminSelfRegistrationContext.isSaved()&&(this.props.adminSelfRegistrationContext.setSaved(!1),this.checkForWarnings())}populateUserDomain(domain){const row=DomainUtil.A.isProfessional(domain)?domain:"";this.addRow(row)}addRow(value=""){const uuid=(0,v4.A)();this.props.adminSelfRegistrationContext.setAllowedDomains(uuid,value,(()=>{const inputRef=this.dynamicRefs.getRef(uuid);inputRef?.current.focus()}))}handleDeleteRow(key){if(this.canDelete()){const domains=this.allowedDomains;domains.delete(key),this.props.adminSelfRegistrationContext.setDomains({allowedDomains:domains}),this.validateForm(),this.checkForWarnings()}}hasWarnings(){return this.state.warnings.size>0}hasAllInputDisabled(){return this.props.adminSelfRegistrationContext.isProcessing()}handleToggleClicked(){this.setState({isEnabled:!this.state.isEnabled},(()=>{this.state.isEnabled?this.setupSettings():(this.props.adminSelfRegistrationContext.setDomains({allowedDomains:new Map}),this.props.adminSelfRegistrationContext.setErrors(new Map))}))}handleAddRowClick(){this.addRow()}checkDomainIsProfessional(uuid,value){this.setState((prevState=>{const warnings=MapObject.A.clone(prevState.warnings);return DomainUtil.A.isProfessional(value)?warnings.delete(uuid):warnings.set(uuid,"This is not a safe professional domain"),{warnings}}))}handleInputChange(event){const value=event.target.value,uuid=event.target.name;this.props.adminSelfRegistrationContext.setAllowedDomains(uuid,value,(()=>this.validateForm())),this.checkForPublicDomainDebounce()}validateForm(){this.props.adminSelfRegistrationContext.validateForm()}canDelete(){return this.allowedDomains.size>1}render(){const isSubmitted=this.props.adminSelfRegistrationContext.isSubmitted(),errors=this.props.adminSelfRegistrationContext.getErrors();return react.createElement("div",{className:"row"},react.createElement(react.Fragment,null,react.createElement("div",{className:"self-registration main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",null,react.createElement("span",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"settings-toggle",onChange:this.handleToggleClicked,checked:this.state.isEnabled,disabled:this.hasAllInputDisabled(),id:"settings-toggle"}),react.createElement("label",{htmlFor:"settings-toggle"},react.createElement(es.x6,null,"Self Registration")))),!this.state.isEnabled&&react.createElement("p",{className:"description",id:"disabled-description"},react.createElement(es.x6,null,"User self registration is disabled.")," ",react.createElement(es.x6,null,"Only administrators can invite users to register.")),this.state.isEnabled&&react.createElement("div",{className:"self-registration-form"},react.createElement("div",{id:"self-registration-subtitle",className:`input ${this.hasWarnings()&&"warning"} ${isSubmitted&&errors.size>0&&"error"}`},react.createElement("label",{id:"enabled-label"},react.createElement(es.x6,null,"Email domain safe list"))),react.createElement("p",{className:"description",id:"enabled-description"},react.createElement(es.x6,null,"All the users with an email address ending with the domain in the safe list are allowed to register on passbolt.")),MapObject.A.iterators(this.allowedDomains).map((key=>react.createElement("div",{key,className:"input"},react.createElement("div",{className:"domain-row"},react.createElement("input",{type:"text",className:"full-width",onChange:this.handleInputChange,id:`input-${key}`,name:key,value:this.allowedDomains.get(key),disabled:!this.hasAllInputDisabled,ref:this.dynamicRefs.setRef(key),placeholder:this.props.t("domain")}),react.createElement("button",{type:"button",disabled:!this.canDelete(),className:"button-icon",id:`delete-${key}`,onClick:()=>this.handleDeleteRow(key)},react.createElement(svg_delete.A,null))),this.hasWarnings()&&this.state.warnings.get(key)&&react.createElement("div",{id:"domain-name-input-feedback",className:"warning-message"},react.createElement(es.x6,null,this.state.warnings.get(key))),errors.get(key)&&isSubmitted&&react.createElement("div",{className:"error-message"},react.createElement(es.x6,null,errors.get(key)))))),react.createElement("div",{className:"domain-add"},react.createElement("button",{type:"button",onClick:this.handleAddRowClick},react.createElement(add.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Add")))))),this.props.adminSelfRegistrationContext.hasSettingsChanges()&&react.createElement("div",{className:"warning message",id:"self-registration-setting-overridden-banner"},react.createElement("div",null,react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayAdministrationSelfRegistrationActions_DisplayAdministrationSelfRegistrationActions,null)),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"What is user self registration?")),react.createElement("p",null,react.createElement(es.x6,null,"User self registration enables users with an email from a whitelisted domain to create their passbolt account without prior admin invitation.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/user-provisioning/self-registration/",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplaySelfRegistrationAdministration.propTypes={dialogContext:prop_types_default().any,context:prop_types_default().any,adminSelfRegistrationContext:prop_types_default().object,administrationWorkspaceContext:prop_types_default().object,t:prop_types_default().func};const DisplaySelfRegistrationAdministration_DisplaySelfRegistrationAdministration=(0,AppContext.L)((0,DialogContext.z9)((0,AdministrationSelfRegistrationContext.v6)((0,AdministrationWorkspaceContext.Kk)((0,es.CI)("common")(DisplaySelfRegistrationAdministration)))));DisplaySelfRegistrationAdministration.__docgenInfo={description:"This component allows to display the Self registration for the administration",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"currentUser",docblock:"return the current user",modifiers:["get"],params:[],returns:null,description:"return the current user"},{name:"allowedDomains",docblock:"return the allowed domains",modifiers:["get"],params:[],returns:null,description:"return the allowed domains"},{name:"findSettings",docblock:"Bind callbacks methods",modifiers:["async"],params:[],returns:null,description:"Bind callbacks methods"},{name:"checkForWarnings",docblock:"We check for warnings and errors into the form",modifiers:[],params:[],returns:null,description:"We check for warnings and errors into the form"},{name:"setupSettings",docblock:"setup settings for the first time",modifiers:[],params:[],returns:null,description:"setup settings for the first time"},{name:"shouldFocusOnError",docblock:"set focus to the first input error",modifiers:[],params:[],returns:null,description:"set focus to the first input error"},{name:"shouldCheckWarnings",docblock:"in case of saved settings we should check warnings again",modifiers:[],params:[],returns:null,description:"in case of saved settings we should check warnings again"},{name:"populateUserDomain",docblock:"Check domain and populate it if it is a professional\n@param {string} domain",modifiers:[],params:[{name:"domain",type:{name:"string"},optional:!1}],returns:null,description:"Check domain and populate it if it is a professional"},{name:"addRow",docblock:"Check domain and populate it if is a professional domain\n@param {string} domain",modifiers:[],params:[{name:"value",optional:!0}],returns:null,description:"Check domain and populate it if is a professional domain"},{name:"handleDeleteRow",docblock:"Remove a domain row\n@param {string} key",modifiers:[],params:[{name:"key",type:{name:"string"},optional:!1}],returns:null,description:"Remove a domain row"},{name:"hasWarnings",docblock:"Check if inputs has warnings",modifiers:[],params:[],returns:null,description:"Check if inputs has warnings"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"handleToggleClicked",docblock:"Handle the click on the self registration title\n@param {UserDirectory} userDirectory state",modifiers:[],params:[],returns:null,description:"Handle the click on the self registration title"},{name:"handleAddRowClick",docblock:"Handle the click on the add button",modifiers:[],params:[],returns:null,description:"Handle the click on the add button"},{name:"checkDomainIsProfessional",docblock:"check if domain is a professional one",modifiers:[],params:[{name:"uuid",optional:!1},{name:"value",optional:!1}],returns:null,description:"check if domain is a professional one"},{name:"handleInputChange",docblock:"Handle input change\n@param event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle input change"},{name:"validateForm",docblock:"validate the form\n@returns {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"validate the form"},{name:"canDelete",docblock:"we cannot delete a row if we have only one domaine\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"we cannot delete a row if we have only one domaine"}],displayName:"DisplaySelfRegistrationAdministration",props:{dialogContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},adminSelfRegistrationContext:{description:"",type:{name:"object"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplaySubscriptionKey/DisplaySubscriptionKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplaySubscriptionKey_DisplaySubscriptionKey});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),AnimatedFeedback=__webpack_require__("./src/shared/components/Icons/AnimatedFeedback.js"),EditSubscriptionKey=__webpack_require__("./src/react-extension/components/Administration/EditSubscriptionKey/EditSubscriptionKey.js");class SubscriptionActionService{constructor(props){this.context=props.context,this.dialogContext=props.dialogContext,this.subscriptionContext=props.adminSubscriptionContext}static getInstance(context){return this.instance||(this.instance=new SubscriptionActionService(context)),this.instance}static killInstance(){this.instance=null}editSubscription(){const editSubscriptionKey={key:this.subscriptionContext.getSubscription().data};this.context.setContext({editSubscriptionKey}),this.dialogContext.open(EditSubscriptionKey.A)}}const subscription_SubscriptionActionService=SubscriptionActionService;var AdministrationSubscription=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationSubscription/AdministrationSubscription.js"),dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js"),portals=__webpack_require__("./src/shared/utils/portals.js"),email=__webpack_require__("./src/img/svg/email.svg");class DisplaySubscriptionKey extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.subscriptionActionService=subscription_SubscriptionActionService.getInstance(this.props)}get defaultState(){return{activeUsers:null}}async componentDidMount(){this.findActiveUsers(),await this.findSubscriptionKey()}componentWillUnmount(){this.props.adminSubscriptionContext.clearContext(),subscription_SubscriptionActionService.killInstance(),this.mfaFormService=null}bindCallbacks(){this.handleRenewKey=this.handleRenewKey.bind(this),this.handleUpdateKey=this.handleUpdateKey.bind(this)}async findActiveUsers(){const activeUsers=await this.props.adminSubscriptionContext.getActiveUsers();this.setState({activeUsers})}async findSubscriptionKey(){this.props.adminSubscriptionContext.findSubscriptionKey()}handleRenewKey(){const subscription=this.props.adminSubscriptionContext.getSubscription();this.hasLimitUsersExceeded()?this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/qty?subscription_id=${subscription.subscriptionId}&customer_id=${subscription.customerId}`):(this.hasSubscriptionKeyExpired()||this.hasSubscriptionKeyGoingToExpire())&&this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/renew?subscription_id=${subscription.subscriptionId}&customer_id=${subscription.customerId}`)}handleUpdateKey(){this.subscriptionActionService.editSubscription()}hasSubscriptionKeyExpired(){return luxon.c9.fromISO(this.props.adminSubscriptionContext.getSubscription().expiry)<luxon.c9.now()}hasSubscriptionKeyGoingToExpire(){return luxon.c9.fromISO(this.props.adminSubscriptionContext.getSubscription().expiry)<luxon.c9.now().plus({days:30})&&!this.hasSubscriptionKeyExpired()}hasSubscriptionKey(){return Boolean(this.props.adminSubscriptionContext.getSubscription().data)}get shouldShowRenewKey(){return this.hasSubscriptionKey()&&(this.hasLimitUsersExceeded()||this.hasSubscriptionKeyExpired()||this.hasSubscriptionKeyGoingToExpire())}hasLimitUsersExceeded(){return this.props.adminSubscriptionContext.getSubscription().users<this.state.activeUsers}hasValidSubscription(){return this.hasSubscriptionKey()&&!this.hasLimitUsersExceeded()&&!this.hasSubscriptionKeyExpired()}hasInvalidSubscription(){return!this.hasSubscriptionKey()||this.hasLimitUsersExceeded()||this.hasSubscriptionKeyExpired()}formatDate(date){try{return luxon.c9.fromISO(date).setLocale(this.props.context.locale).toLocaleString(luxon.c9.DATE_SHORT)}catch(error){return""}}get translate(){return this.props.t}render(){const subscription=this.props.adminSubscriptionContext.getSubscription(),isProcessing=this.props.adminSubscriptionContext.isProcessing();return react.createElement("div",{className:"row"},!isProcessing&&react.createElement(react.Fragment,null,react.createElement("div",{className:"subscription-key main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{className:"title"},react.createElement(es.x6,null,"Subscription key details")),react.createElement("div",{className:"feedback-card"},this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&react.createElement(AnimatedFeedback.A,{name:"success"}),this.hasInvalidSubscription()&&react.createElement(AnimatedFeedback.A,{name:"error"}),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&react.createElement(AnimatedFeedback.A,{name:"warning"}),react.createElement("div",{className:"subscription-information"},!this.hasSubscriptionKey()&&react.createElement(react.Fragment,null,react.createElement("h4",{className:"subscription-information-subtitle"},react.createElement(es.x6,null,"Your subscription key is either missing or not valid.")),react.createElement("p",null,react.createElement(es.x6,null,"Sorry your subscription is either missing or not readable."),react.createElement("br",null),react.createElement(es.x6,null,"Update the subscription key and try again.")," ",react.createElement(es.x6,null,"If this does not work get in touch with support."))),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&react.createElement("h4",{className:"subscription-information-subtitle"},react.createElement(es.x6,null,"Your subscription key is going to expire.")),this.hasSubscriptionKey()&&this.hasInvalidSubscription()&&react.createElement("h4",{className:"subscription-information-subtitle"},react.createElement(es.x6,null,"Your subscription key is not valid.")),this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&react.createElement("h4",{className:"subscription-information-subtitle"},react.createElement(es.x6,null,"Your subscription key is valid and up to date!")),this.hasSubscriptionKey()&&react.createElement("div",{className:"information"},react.createElement("div",{className:"information-label"},react.createElement("span",{className:"customer-id label"},react.createElement(es.x6,null,"Customer id:")),react.createElement("span",{className:"subscription-id label"},react.createElement(es.x6,null,"Subscription id:")),react.createElement("span",{className:"email label"},react.createElement(es.x6,null,"Email:")),react.createElement("span",{className:"users label"},react.createElement(es.x6,null,"Users limit:")),react.createElement("span",{className:"created label"},react.createElement(es.x6,null,"Valid from:")),react.createElement("span",{className:"expiry label"},react.createElement(es.x6,null,"Expires on:"))),react.createElement("div",{className:"information-value"},react.createElement("span",{className:"customer-id value"},subscription.customerId),react.createElement("span",{className:"subscription-id value"},subscription.subscriptionId),react.createElement("span",{className:"email value"},subscription.email),react.createElement("span",{className:"users value "+(this.hasLimitUsersExceeded()?"error":"")},subscription.users," ",react.createElement("span",{className:"secondary-information"},"(",react.createElement(es.x6,null,"currently:")," ",this.state.activeUsers,")")),react.createElement("span",{className:"created value"},this.formatDate(subscription.created)),react.createElement("span",{className:`expiry value ${this.hasSubscriptionKeyExpired()?"error":""} ${this.hasSubscriptionKeyGoingToExpire()?"warning":""}`},this.formatDate(subscription.expiry)," ",react.createElement("span",{className:"secondary-information"},"(",`${this.hasSubscriptionKeyExpired()?this.translate("expired "):""}${(0,dateUtils.kD)(subscription.expiry,this.props.t,this.props.context.locale)}`,")")))))))),react.createElement("div",{className:"actions-wrapper"},this.shouldShowRenewKey&&react.createElement("button",{className:"button secondary",type:"button",onClick:this.handleRenewKey},react.createElement(es.x6,null,"Renew key")),this.hasSubscriptionKey()?react.createElement("button",{className:"button primary form",type:"button",onClick:this.handleUpdateKey},react.createElement(es.x6,null,"Update key")):react.createElement("button",{className:"button primary form",type:"button",onClick:this.handleUpdateKey},react.createElement(es.x6,null,"Add key")))),(0,portals.m)(react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Need help?")),react.createElement("p",null,react.createElement(es.x6,null,"For any change or question related to your passbolt subscription, kindly contact our sales team.")),react.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},react.createElement(email.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Contact Sales")))),document.getElementById("administration-help-panel")))}}DisplaySubscriptionKey.propTypes={context:prop_types_default().any,navigationContext:prop_types_default().any,administrationWorkspaceContext:prop_types_default().object,adminSubscriptionContext:prop_types_default().object,dialogContext:prop_types_default().any,t:prop_types_default().func};const DisplaySubscriptionKey_DisplaySubscriptionKey=(0,AppContext.L)((0,NavigationContext.qN)((0,AdministrationSubscription.j$)((0,AdministrationWorkspaceContext.Kk)((0,DialogContext.z9)((0,es.CI)("common")(DisplaySubscriptionKey))))));DisplaySubscriptionKey.__docgenInfo={description:"This component allows to display the subscription key for the administration",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"findActiveUsers",docblock:"fetch the active users",modifiers:["async"],params:[],returns:null,description:"fetch the active users"},{name:"findSubscriptionKey",docblock:"fetch the subscription key",modifiers:["async"],params:[],returns:null,description:"fetch the subscription key"},{name:"handleRenewKey",docblock:"Handle renew key click event",modifiers:[],params:[],returns:null,description:"Handle renew key click event"},{name:"handleUpdateKey",docblock:"Handle update key click event",modifiers:[],params:[],returns:null,description:"Handle update key click event"},{name:"hasSubscriptionKeyExpired",docblock:"Has subscription key expired\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has subscription key expired"},{name:"hasSubscriptionKeyGoingToExpire",docblock:"Has subscription key going to expire\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has subscription key going to expire"},{name:"hasSubscriptionKey",docblock:"Has no subscription key\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has no subscription key"},{name:"shouldShowRenewKey",docblock:"Should show renew key\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Should show renew key"},{name:"hasLimitUsersExceeded",docblock:"Has limit of users exceeded\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has limit of users exceeded"},{name:"hasValidSubscription",docblock:"Has valid subscription\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has valid subscription"},{name:"hasInvalidSubscription",docblock:"Has invalid subscription\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has invalid subscription"},{name:"formatDate",docblock:"Format a date.\n@string {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"date",optional:!1}],returns:{type:{name:"string"}},description:"Format a date."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplaySubscriptionKey",props:{context:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminSubscriptionContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplaySubscriptionKeyTeasing/DisplaySubscriptionKeyTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_email_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/email.svg"),_shared_components_Icons_AnimatedFeedback__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/components/Icons/AnimatedFeedback.js");class DisplaySubscriptionKeyTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subscription-key-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Subscription")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:""},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Details")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subscription-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"edition label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Edition:")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"server-version label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Server version:")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"client-version label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Client version:"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"edition value"},this.props.context.siteSettings.isCommunityEdition?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Community Edition"):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Pro Edition")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"server-version value"},this.props.context.siteSettings.version),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"client-version value"},this.props.context.extensionVersion)))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",{className:""},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Subscription Key")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subscription-key-teasing-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_AnimatedFeedback__WEBPACK_IMPORTED_MODULE_6__.A,{name:"infinity_illustration"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Passbolt CE is free forever!")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Passbolt Community Edition (CE) includes all essential features for team collaboration at no cost."),"",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"For advanced needs such as Single Sign-On (SSO), AD or SCIM integration, consider upgrading to Passbolt Pro."),"",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The Pro version also offers premium technical support from our engineering team to ensure smooth operation and expert assistance.")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Upgrade to Passbolt Pro")))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Need help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"For any change or question related to your passbolt subscription, kindly contact our sales team.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_email_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Contact Sales")))),document.getElementById("administration-help-panel")))}}DisplaySubscriptionKeyTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_3__.qN)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplaySubscriptionKeyTeasing)));DisplaySubscriptionKeyTeasing.__docgenInfo={description:"This component allows to display the subscription key for the administration",methods:[],displayName:"DisplaySubscriptionKeyTeasing",props:{context:{description:"",type:{name:"any"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/DisplayUserDirectoryAdministrationTeasing/DisplayUserDirectoryAdministrationTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/file_text.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class DisplayUserDirectoryAdministrationTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ldap-settings-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"ldap-settings-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Users Directory"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Simplify user management provisioning through integration with existing directories.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ldap-settings-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"ldap-settings-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Automate user onboarding and offboarding.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Sync user attributes efficiently.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Ensure data consistency and security compliance."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/pro/enterprise",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Check out our ldap configuration guide.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://www.passbolt.com/docs/admin/user-provisioning/users-directory/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayUserDirectoryAdministrationTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayUserDirectoryAdministrationTeasing));DisplayUserDirectoryAdministrationTeasing.__docgenInfo={description:"This component displays the User Directory for CE adminstrators",methods:[],displayName:"DisplayUserDirectoryAdministrationTeasing",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/EditSubscriptionKey/EditSubscriptionKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_react_extension_components_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_react_extension_components_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_react_extension_components_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_AdministrationWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_Administration_AdministrationSubscription_AdministrationSubscription__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationSubscription/AdministrationSubscription.js");class EditSubscriptionKey extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.initEventHandlers(),this.createInputRef()}getDefaultState(){return{selectedFile:null,key:"",keyError:"",processing:!1,hasBeenValidated:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyInputKeyUp=this.handleKeyInputKeyUp.bind(this),this.handleSelectSubscriptionKeyFile=this.handleSelectSubscriptionKeyFile.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this)}createInputRef(){this.keyInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.fileUploaderRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){this.setState({key:this.props.context.editSubscriptionKey.key||""})}async handleFormSubmit(event){event.preventDefault(),this.state.processing||await this.save()}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}handleKeyInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const state=this.validateNameInput();this.setState(state)}}handleCloseClick(){this.props.context.setContext({editSubscriptionKey:null}),this.props.onClose()}handleSelectFile(){this.fileUploaderRef.current.click()}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}async handleSelectSubscriptionKeyFile(event){const[subscriptionFile]=event.target.files,subscriptionKey=await this.readSubscriptionKeyFile(subscriptionFile);this.setState({key:subscriptionKey,selectedFile:subscriptionFile}),this.state.hasBeenValidated&&await this.validate()}readSubscriptionKeyFile(subscriptionFile){const reader=new FileReader;return new Promise(((resolve,reject)=>{reader.onloadend=()=>{try{resolve(reader.result)}catch(e){reject(e)}},reader.readAsText(subscriptionFile)}))}async save(){if(this.state.processing)return;if(await this.setState({hasBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();const keyDto={data:this.state.key};try{await this.props.administrationWorkspaceContext.onUpdateSubscriptionKeyRequested(keyDto),await this.handleSaveSuccess(),await this.props.adminSubscriptionContext.findSubscriptionKey()}catch(error){await this.toggleProcessing(),this.handleSaveError(error),this.focusFieldError()}}handleValidateError(){this.focusFieldError()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The subscription key has been updated successfully.")),this.props.administrationWorkspaceContext.onMustRefreshSubscriptionKey(),this.props.context.setContext({editSubscriptionKey:null,refreshSubscriptionAnnouncement:!0}),this.props.onClose()}async handleSaveError(error){if("PassboltSubscriptionError"===error.name)this.setState({keyError:error.message});else if("EntityValidationError"===error.name)this.setState({keyError:this.translate("The subscription key is invalid.")});else if("PassboltApiFetchError"===error.name&&error.data&&400===error.data.code)this.setState({keyError:error.message});else{console.error(error);const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_5__.A,errorDialogProps)}}focusFieldError(){this.state.keyError&&this.keyInputRef.current.focus()}validateKeyInput(){const key=this.state.key.trim();let keyError="";return key.length||(keyError=this.translate("A subscription key is required.")),new Promise((resolve=>{this.setState({keyError},resolve)}))}async validate(){return this.setState({keyError:""}),await this.validateKeyInput(),""===this.state.keyError}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{title:this.translate("Edit subscription key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"edit-subscription-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input textarea required ${this.state.keyError?"error":""} ${this.hasAllInputDisabled()?"disabled":""}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"edit-tag-form-name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Subscription key")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{id:"edit-subscription-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required full_report",required:"required",autoComplete:"off",autoFocus:!0})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input file "+(this.hasAllInputDisabled()?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"file",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectSubscriptionKeyFile}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-file-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No key file selected"),value:this.selectedFilename}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button primary",onClick:this.handleSelectFile,disabled:this.hasAllInputDisabled()},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Choose a file")))),this.state.keyError&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"key error-message"},this.state.keyError))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}))))}}EditSubscriptionKey.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,adminSubscriptionContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,administrationWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_Administration_AdministrationSubscription_AdministrationSubscription__WEBPACK_IMPORTED_MODULE_10__.j$)((0,_contexts_AdministrationWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__.Kk)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(EditSubscriptionKey))))));EditSubscriptionKey.__docgenInfo={description:"Component allows the user to edit the subscription key from a dialog",methods:[{name:"getDefaultState",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"createInputRef",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@return {Promise}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise"}},description:"Handle form submit event."},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handleKeyInputKeyUp",docblock:"Handle key input keyUp event.",modifiers:[],params:[],returns:null,description:"Handle key input keyUp event."},{name:"handleCloseClick",docblock:"Handle close button click.",modifiers:[],params:[],returns:null,description:"Handle close button click."},{name:"handleSelectFile",docblock:"Handle the selection of a file by file explorer",modifiers:[],params:[],returns:null,description:"Handle the selection of a file by file explorer"},{name:"selectedFilename",docblock:"Returns the selected file's name",modifiers:["get"],params:[],returns:null,description:"Returns the selected file's name"},{name:"handleSelectSubscriptionKeyFile",docblock:"Whenever the user select a subscription key file\n@param event The file dom event",modifiers:["async"],params:[{name:"event",description:"The file dom event",optional:!1}],returns:null,description:"Whenever the user select a subscription key file"},{name:"readSubscriptionKeyFile",docblock:"Read the selected subscription key file and returns its content in a base 64\n@param subscriptionFile A subscription key file",modifiers:[],params:[{name:"subscriptionFile",description:"A subscription key file",optional:!1}],returns:null,description:"Read the selected subscription key file and returns its content in a base 64"},{name:"save",docblock:"Save the changes.",modifiers:["async"],params:[],returns:null,description:"Save the changes."},{name:"handleValidateError",docblock:"Handle validation error.",modifiers:[],params:[],returns:null,description:"Handle validation error."},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:["async"],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"focusFieldError",docblock:"Focus the field of the form which is in error state.",modifiers:[],params:[],returns:null,description:"Focus the field of the form which is in error state."},{name:"validateKeyInput",docblock:"Validate the key input.\n@return {Promise}",modifiers:[],params:[],returns:{type:{name:"Promise"}},description:"Validate the key input."},{name:"validate",docblock:"Validate the form.\n@return {Promise<boolean>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"boolean"}]}},description:"Validate the form."},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:["async"],params:[],returns:null,description:"Toggle the processing mode"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"EditSubscriptionKey",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},adminSubscriptionContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/ManageAccountRecoveryAdministrationSettingsTeasing/ManageAccountRecoveryAdministrationSettingsTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/buoy.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class ManageAccountRecoveryAdministrationSettingsTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"recover-account-settings-teasing main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"recover-account-settings-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Account Recovery"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Recover lost user accounts.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"recover-account-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"recover-account-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"In case of passphrase loss.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"In case of private key loss.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Configurable with an Organisation Recovery Key."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about account recovery, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/account-recovery/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}ManageAccountRecoveryAdministrationSettingsTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ManageAccountRecoveryAdministrationSettingsTeasing));ManageAccountRecoveryAdministrationSettingsTeasing.__docgenInfo={description:"",methods:[],displayName:"ManageAccountRecoveryAdministrationSettingsTeasing",props:{context:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/ManageSmtpAdministrationSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ManageSmtpAdministrationSettings_ManageSmtpAdministrationSettings});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),SmtpProviders_data=__webpack_require__("./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/SmtpProviders.data.js"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),Select=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),AdminSmtpSettingsContext=__webpack_require__("./src/react-extension/contexts/AdminSmtpSettingsContext.js"),SendTestMailDialog=__webpack_require__("./src/react-extension/components/Administration/SendTestMailDialog/SendTestMailDialog.js"),plug=__webpack_require__("./src/img/svg/plug.svg");class DisplayAdministrationWorkspaceActions extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.dialogId=null}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleTestClick=this.handleTestClick.bind(this),this.handleCloseDialog=this.handleCloseDialog.bind(this)}async handleSaveClick(){if(this.smtpSettings.isProcessing())return;this.smtpSettings.validateData()&&await this.smtpSettings.saveSmtpSettings()}async handleTestClick(){if(this.smtpSettings.isProcessing())return;this.smtpSettings.validateData()&&(null!==this.dialogId&&this.handleCloseDialog(),this.dialogId=await this.props.dialogContext.open(SendTestMailDialog.A,{handleClose:this.handleCloseDialog}))}handleCloseDialog(){this.props.dialogContext.close(this.dialogId),this.dialogId=null}isSaveEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}isTestEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}get smtpSettings(){return this.props.adminSmtpSettingsContext}render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("div",{className:"left-actions-wrapper"},react.createElement("button",{type:"button",className:"button secondary",disabled:!this.isTestEnabled(),id:"send-test-email",onClick:this.handleTestClick},react.createElement(plug.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Send test email")))),react.createElement("button",{type:"button",className:"button primary form",id:"save-settings",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationWorkspaceActions.propTypes={adminSmtpSettingsContext:prop_types_default().object,dialogContext:prop_types_default().object};const DisplayAdministrationSmtpSettingsActions=(0,AdminSmtpSettingsContext.fZ)((0,DialogContext.z9)((0,es.CI)("common")(DisplayAdministrationWorkspaceActions)));DisplayAdministrationWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSaveClick",docblock:"Handle save settings",modifiers:["async"],params:[],returns:null,description:"Handle save settings"},{name:"handleTestClick",docblock:"Handle save settings",modifiers:["async"],params:[],returns:null,description:"Handle save settings"},{name:"handleCloseDialog",docblock:"Handle close dialog",modifiers:[],params:[],returns:null,description:"Handle close dialog"},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"},{name:"isTestEnabled",docblock:"Is test button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is test button enable"},{name:"smtpSettings",docblock:"Returns the adminSmtpSettingsContext props\n@returns {object}\n@private",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the adminSmtpSettingsContext props"}],displayName:"DisplayAdministrationWorkspaceActions",props:{adminSmtpSettingsContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}};var portals=__webpack_require__("./src/shared/utils/portals.js"),caret_down=__webpack_require__("./src/img/svg/caret_down.svg"),caret_right=__webpack_require__("./src/img/svg/caret_right.svg"),email=__webpack_require__("./src/img/svg/email.svg"),file_text=__webpack_require__("./src/img/svg/file_text.svg"),svg_link=__webpack_require__("./src/img/svg/link.svg");class ManageSmtpAdministrationSettings extends react.Component{static get AUTHENTICATION_METHOD_NONE(){return"None"}static get AUTHENTICATION_METHOD_USERNAME(){return"Username only"}static get AUTHENTICATION_METHOD_USERNAME_PASSWORD(){return"Username & password"}constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{showAdvancedSettings:!1,source:"db"}}createRefs(){this.usernameFieldRef=react.createRef(),this.passwordFieldRef=react.createRef(),this.hostFieldRef=react.createRef(),this.portFieldRef=react.createRef(),this.clientFieldRef=react.createRef(),this.senderEmailFieldRef=react.createRef(),this.senderNameFieldRef=react.createRef()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(DisplayAdministrationSmtpSettingsActions),await this.props.adminSmtpSettingsContext.findSmtpSettings();const settings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();this.setState({showAdvancedSettings:"other"===settings.provider?.id})}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSmtpSettingsContext.clearContext()}componentDidUpdate(){const smtpContext=this.props.adminSmtpSettingsContext,fieldToFocus=smtpContext.getFieldToFocus();fieldToFocus&&this[`${fieldToFocus}FieldRef`]?.current?.focus(),smtpContext.hasProviderChanged()&&this.setState({showAdvancedSettings:"other"===smtpContext.getCurrentSmtpSettings().provider?.id})}bindCallbacks(){this.handleAdvancedSettingsToggle=this.handleAdvancedSettingsToggle.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleProviderChange=this.handleProviderChange.bind(this),this.handleAuthenticationMethodChange=this.handleAuthenticationMethodChange.bind(this)}handleProviderChange(event){const providerId=event.target.value,provider=SmtpProviders_data.A.find((item=>item.id===providerId));this.props.adminSmtpSettingsContext.changeProvider(provider)}handleAuthenticationMethodChange(event){let username=null,password=null;"Username only"===event.target.value?username="":"Username & password"===event.target.value&&(username="",password=""),this.props.adminSmtpSettingsContext.setData({username,password})}handleInputChange(event){const target=event.target;this.props.adminSmtpSettingsContext.setData({[target.name]:target.value})}handleAdvancedSettingsToggle(){this.setState({showAdvancedSettings:!this.state.showAdvancedSettings})}isProcessing(){return this.props.adminSmtpSettingsContext.isProcessing()}get providerList(){return SmtpProviders_data.A.map((item=>({value:item.id,label:item.name})))}get authenticationMethodList(){return[{value:"None",label:this.translate("None")},{value:"Username only",label:this.translate("Username only")},{value:"Username & password",label:this.translate("Username & password")}]}get tlsSelectList(){return[{value:!0,label:this.translate("Yes")},{value:!1,label:this.translate("No")}]}get authenticationMethod(){const smtpSettings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();return null===smtpSettings?.username?"None":null===smtpSettings?.password?"Username only":"Username & password"}shouldDisplayUsername(){return"Username only"===this.authenticationMethod||"Username & password"===this.authenticationMethod}shouldDisplayPassword(){return"Username & password"===this.authenticationMethod}shouldShowSourceWarningMessage(){const smtpContext=this.props.adminSmtpSettingsContext;return"db"!==smtpContext.getCurrentSmtpSettings().source&&smtpContext.isSettingsModified()}isReady(){return this.props.adminSmtpSettingsContext.isDataReady()}get settingsSource(){return this.props.adminSmtpSettingsContext?.getCurrentSmtpSettings()?.source}get configurationSource(){return{env:this.props.t("environment variables"),file:this.props.t("file"),db:this.props.t("database")}[this.settingsSource]||this.props.t("unknown")}get translate(){return this.props.t}render(){const settings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings(),errors=this.props.adminSmtpSettingsContext.getErrors(),smtpProviderName=settings?.provider?.name,hasChanges=this.props.adminSmtpSettingsContext.isSettingsModified(),hasWarnings=hasChanges||this.shouldShowSourceWarningMessage();return react.createElement("div",{className:"row"},react.createElement(react.Fragment,null,react.createElement("div",{className:"third-party-provider-settings smtp-settings main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{className:"title"},react.createElement(es.x6,null,"Email server")),this.isReady()&&!settings?.provider&&react.createElement(react.Fragment,null,react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Select a provider")),react.createElement("div",{className:"provider-list"},SmtpProviders_data.A.map((provider=>react.createElement("div",{key:provider.id,className:"provider button",id:provider.id,onClick:()=>this.props.adminSmtpSettingsContext.changeProvider(provider)},react.createElement("div",{className:"provider-logo"},"other"===provider.id&&react.createElement(email.A,null),"other"!==provider.id&&react.createElement("img",{src:`${this.props.context.trustedDomain}/img/third_party/${provider.icon}`})),react.createElement("p",{className:"provider-name"},provider.name)))))),this.isReady()&&settings?.provider&&react.createElement(react.Fragment,null,react.createElement("form",{className:"form"},react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"SMTP server configuration")),react.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},react.createElement("label",{htmlFor:"smtp-settings-form-provider"},react.createElement(es.x6,null,"Email provider")),react.createElement(Select.A,{id:"smtp-settings-form-provider",name:"provider",items:this.providerList,value:settings.provider.id,onChange:this.handleProviderChange,disabled:this.isProcessing()})),react.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},react.createElement("label",{htmlFor:"smtp-settings-form-authentication-method"},react.createElement(es.x6,null,"Authentication method")),react.createElement(Select.A,{id:"smtp-settings-form-authentication-method",name:"authentication-method",items:this.authenticationMethodList,value:this.authenticationMethod,onChange:this.handleAuthenticationMethodChange,disabled:this.isProcessing()})),this.shouldDisplayUsername()&&react.createElement("div",{className:`input text ${errors.username?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-username"},react.createElement(es.x6,null,"Username")),react.createElement("input",{id:"smtp-settings-form-username",ref:this.usernameFieldRef,name:"username",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.username,onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.isProcessing()}),errors.username&&react.createElement("div",{className:"error-message"},errors.username)),this.shouldDisplayPassword()&&react.createElement("div",{className:`input-password-wrapper input ${errors.password?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-password"},react.createElement(es.x6,null,"Password")),react.createElement(Password.A,{id:"smtp-settings-form-password",name:"password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:settings.password,onChange:this.handleInputChange,disabled:this.isProcessing(),inputRef:this.passwordFieldRef}),errors.password&&react.createElement("div",{className:"password error-message"},errors.password)),react.createElement("div",{className:"accordion-header"},react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleAdvancedSettingsToggle},this.state.showAdvancedSettings?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement(es.x6,null,"Advanced settings"))),this.state.showAdvancedSettings&&react.createElement("div",{className:"advanced-settings"},react.createElement("div",{className:`input text required ${errors.host?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-host"},react.createElement(es.x6,null,"SMTP host")),react.createElement("input",{id:"smtp-settings-form-host",ref:this.hostFieldRef,name:"host","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.host,onChange:this.handleInputChange,placeholder:this.translate("SMTP server address"),disabled:this.isProcessing()}),errors.host&&react.createElement("div",{className:"error-message"},errors.host)),react.createElement("div",{className:`input text required ${errors.tls?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-tls"},react.createElement(es.x6,null,"Use TLS")),react.createElement(Select.A,{id:"smtp-settings-form-tls",name:"tls",items:this.tlsSelectList,value:settings.tls,onChange:this.handleInputChange,disabled:this.isProcessing()})),react.createElement("div",{className:`input text required ${errors.port?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-port"},react.createElement(es.x6,null,"Port")),react.createElement("input",{id:"smtp-settings-form-port","aria-required":!0,ref:this.portFieldRef,name:"port",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.port,onChange:this.handleInputChange,placeholder:this.translate("Port number"),disabled:this.isProcessing()}),errors.port&&react.createElement("div",{className:"error-message"},errors.port)),react.createElement("div",{className:`input text ${errors.client?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-client"},react.createElement(es.x6,null,"SMTP client")),react.createElement("input",{id:"smtp-settings-form-client",ref:this.clientFieldRef,name:"client",maxLength:"2048",type:"text",autoComplete:"off",value:settings.client,onChange:this.handleInputChange,placeholder:this.translate("SMTP client address"),disabled:this.isProcessing()}),errors.client&&react.createElement("div",{className:"error-message"},errors.client))),react.createElement("h4",null,react.createElement(es.x6,null,"Sender configuration")),react.createElement("div",{className:`input text required ${errors.sender_name?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},react.createElement(es.x6,null,"Sender name")),react.createElement("input",{id:"smtp-settings-form-sender-name",ref:this.senderNameFieldRef,name:"sender_name","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.sender_name,onChange:this.handleInputChange,placeholder:this.translate("Sender name"),disabled:this.isProcessing()}),errors.sender_name&&react.createElement("div",{className:"error-message"},errors.sender_name),react.createElement("p",null,react.createElement(es.x6,null,"This is the name users will see in their mailbox when passbolt sends a notification."))),react.createElement("div",{className:`input text required ${errors.sender_email?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},react.createElement(es.x6,null,"Sender email")),react.createElement("input",{id:"smtp-settings-form-sender-email",ref:this.senderEmailFieldRef,name:"sender_email","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.sender_email,onChange:this.handleInputChange,placeholder:this.translate("Sender email"),disabled:this.isProcessing()}),errors.sender_email&&react.createElement("div",{className:"error-message"},errors.sender_email),react.createElement("p",null,react.createElement(es.x6,null,"This is the email address users will see in their mail box when passbolt sends a notification.",react.createElement("br",null),"It's a good practice to provide a working email address that users can reply to.")))))),hasWarnings&&react.createElement("div",{className:"warning message"},this.shouldShowSourceWarningMessage()&&react.createElement("div",{id:"smtp-settings-source-warning"},react.createElement(es.x6,null,"These are the settings provided by a configuration file. If you save it, will ignore the settings on file and use the ones from the database.")),hasChanges&&react.createElement("div",null,react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayAdministrationSmtpSettingsActions,null)),(0,portals.m)(react.createElement(react.Fragment,null,react.createElement("div",{className:"sidebar-help-section",id:"smtp-settings-source"},react.createElement("h3",null,react.createElement(es.x6,null,"Configuration source")),react.createElement("p",null,react.createElement(es.x6,null,"This current configuration source is: "),this.configurationSource,".")),react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Why do I need an SMTP server?")),react.createElement("p",null,react.createElement(es.x6,null,"Passbolt needs an smtp server in order to send invitation emails after an account creation and to send email notifications.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/emails/email-server/",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),settings?.provider&&"other"!==settings?.provider.id&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"How do I configure a ",{smtpProviderName}," SMTP server?")),react.createElement("a",{className:"button",href:settings.provider.help_page,target:"_blank",rel:"noopener noreferrer"},react.createElement(svg_link.A,null),react.createElement("span",null,react.createElement(es.x6,null,"See the ",{smtpProviderName}," documentation")))),settings?.provider&&("google-mail"===settings.provider.id||"google-workspace"===settings.provider.id)&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Why shouldn't I use my login password ?")),react.createElement("p",null,react.createElement(es.x6,null,'In order to use the "Username & Password" authentication method with Google, you will need to enable MFA on your Google Account. The password should not be your login password, you have to create an "App Password" generated by Google.. However, the email remain the same.')),react.createElement("a",{className:"button",href:"https://support.google.com/mail/answer/185833",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"More informations"))))),document.getElementById("administration-help-panel")))}}ManageSmtpAdministrationSettings.propTypes={context:prop_types_default().object,dialogContext:prop_types_default().any,administrationWorkspaceContext:prop_types_default().object,adminSmtpSettingsContext:prop_types_default().object,t:prop_types_default().func};const ManageSmtpAdministrationSettings_ManageSmtpAdministrationSettings=(0,AppContext.L)((0,AdminSmtpSettingsContext.fZ)((0,DialogContext.z9)((0,AdministrationWorkspaceContext.Kk)((0,es.CI)("common")(ManageSmtpAdministrationSettings)))));ManageSmtpAdministrationSettings.__docgenInfo={description:"",methods:[{name:"AUTHENTICATION_METHOD_NONE",docblock:"The no authentication method.\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The no authentication method."},{name:"AUTHENTICATION_METHOD_USERNAME",docblock:"The authentication method username only\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The authentication method username only"},{name:"AUTHENTICATION_METHOD_USERNAME_PASSWORD",docblock:"The authentication method username and password\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The authentication method username and password"},{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"createRefs",docblock:"Creates the React ref for the forms to be able to focus fields having errors",modifiers:[],params:[],returns:null,description:"Creates the React ref for the forms to be able to focus fields having errors"},{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"handleProviderChange",docblock:"Handle provider change from select field.\n@params {ReactEvent} The react event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle provider change from select field."},{name:"handleAuthenticationMethodChange",docblock:"Handle provider change from select field.\n@params {ReactEvent} The react event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle provider change from select field."},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleAdvancedSettingsToggle",docblock:"Handles the click on the advanced settings toggle.",modifiers:[],params:[],returns:null,description:"Handles the click on the advanced settings toggle."},{name:"isProcessing",docblock:"Returns true if there is a processing happening with the SMTP settings.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if there is a processing happening with the SMTP settings."},{name:"providerList",docblock:"Return the list of available providers.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Return the list of available providers."},{name:"authenticationMethodList",docblock:"Return the list of available authentication method.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Return the list of available authentication method."},{name:"tlsSelectList",docblock:"Returns a list of available choice for the 'TLS' select field.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Returns a list of available choice for the 'TLS' select field."},{name:"authenticationMethod",docblock:"Return the selected authentication method.\n@return {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Return the selected authentication method."},{name:"shouldDisplayUsername",docblock:"Return true if the username field should be displayed\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the username field should be displayed"},{name:"shouldDisplayPassword",docblock:"Return true if the password field should be displayed\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the password field should be displayed"},{name:"shouldShowSourceWarningMessage",docblock:"Returns true if the source of the settings is from a config file instead of DB and the user has modified a field.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the source of the settings is from a config file instead of DB and the user has modified a field."},{name:"isReady",docblock:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading."},{name:"settingsSource",docblock:"Returns the source of the settings\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the source of the settings"},{name:"configurationSource",docblock:"Returns the source of the current configuration\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the source of the current configuration"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ManageSmtpAdministrationSettings",props:{context:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminSmtpSettingsContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Administration/ManageSsoSettingsTeasing/ManageSsoSettingsTeasing.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/file_text.svg"),_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/red_check.svg"),_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/Frame.svg");class ManageSsoSettingsTeasing extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"third-party-provider-settings-teasing sso-settings main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title",id:"third-party-provider-settings-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Single Sign-On"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_Frame_svg__WEBPACK_IMPORTED_MODULE_6__.A,{className:"pro-teasing-icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Simplify secure access through integration with identity providers.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"third-party-provider-settings-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"third-party-provider-settings-description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Reduce password fatigue and simplify login.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Centralise user authentication management.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_red_check_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Support major identity providers like Google and Microsoft."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button primary",href:"https://www.passbolt.com/contact/sales?utm_campaign=21060976-CE%20to%20Pro&utm_source=product",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Upgrade to Passbolt Pro")))))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_3__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need some help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about SSO, checkout the dedicated page on the help website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/sso/",target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_file_text_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}ManageSsoSettingsTeasing.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ManageSsoSettingsTeasing));ManageSsoSettingsTeasing.__docgenInfo={description:"This component displays the SSO administration settings for CE",methods:[],displayName:"ManageSsoSettingsTeasing",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayHttpError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get errorTitle(){return{403:this.props.t("Whoops... access is denied"),404:this.props.t("Whoops... looks like you are lost.")}[this.props.errorCode]||""}get errorDescription(){return{403:this.props.t("Access is restricted to authorized users only."),404:this.props.t("We could not find the page you are looking for.")}[this.props.errorCode]||""}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"http-error main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.props.errorCode),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,this.errorTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.errorDescription)))))}}DisplayHttpError.propTypes={errorCode:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayHttpError);DisplayHttpError.__docgenInfo={description:"This component allows to display an HTTP error page",methods:[{name:"errorTitle",docblock:"Returns the title text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the title text associated to the HTTP error code passed as props."},{name:"errorDescription",docblock:"Returns the description text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the description text associated to the HTTP error code passed as props."}],displayName:"DisplayHttpError",props:{errorCode:{description:"",type:{name:"number"},required:!0},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Range/Range.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class Range extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleRangeOptionClick=this.handleRangeOptionClick.bind(this),this.handleRangeChange=this.handleRangeChange.bind(this)}handleRangeOptionClick(value){this.props.disabled||this.props.onChange(this.props.id,value)}handleRangeChange(e){const target=e.target;this.props.onChange(target.name,this.values[target.value].value)}getComputedStyleForEntropyStep(index,valueCount){return{left:`${index*(100/(valueCount-1))}%`}}getValueIndex(value){return this.values.findIndex((v=>v.value===value))}get values(){return[{label:"50 bits",value:50},{label:"64 bits",value:64},{label:"80 bits",value:80},{label:"96 bits",value:96},{label:"128 bits",value:128},{label:"160 bits",value:160},{label:"192 bits",value:192},{label:"224 bits",value:224}]}render(){const values=this.values,valueCount=values.length,{id,value}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"range-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"range-labels"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{key:"min"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Weak")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{key:"max"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Secure"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"range-input-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",className:"range-input",id,name:id,min:0,max:values.length-1,value:this.getValueIndex(value),list:`${this.props.id}-values`,onChange:this.handleRangeChange,required:!0,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"range-options"},values.map(((v,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:`li-${index}`,onClick:()=>this.handleRangeOptionClick(v.value),style:this.getComputedStyleForEntropyStep(index,valueCount),className:"range-option "+(value===v.value?"range-option--active":""),disabled:this.props.disabled},v.label))))))}}Range.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number.isRequired,id:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,disabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(Range);Range.__docgenInfo={description:"Display of the Range component",methods:[{name:"bindHandlers",docblock:"Binds the component handlers",modifiers:[],params:[],returns:null,description:"Binds the component handlers"},{name:"handleRangeOptionClick",docblock:"Handles click on range options\n@param {number} value",modifiers:[],params:[{name:"value",type:{name:"number"},optional:!1}],returns:null,description:"Handles click on range options"},{name:"handleRangeChange",docblock:"Handles input range change event\n@param {ReactEvent} e",modifiers:[],params:[{name:"e",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handles input range change event"},{name:"getComputedStyleForEntropyStep",docblock:"Returns the computed style to apply to an option based on its index\n@param {number} index the index number in the list\n@param {number} valueCount the size of the list\n@returns {Object}",modifiers:[],params:[{name:"index",description:"the index number in the list",type:{name:"number"},optional:!1},{name:"valueCount",description:"the size of the list",type:{name:"number"},optional:!1}],returns:{type:{name:"Object"}},description:"Returns the computed style to apply to an option based on its index"},{name:"getValueIndex",docblock:"Returns the index in the values list of the given value\n@param {number} value\n@returns {number}",modifiers:[],params:[{name:"value",type:{name:"number"},optional:!1}],returns:{type:{name:"number"}},description:"Returns the index in the values list of the given value"},{name:"values",docblock:"Returns the list of available values\n@returns {Array<{label: string, value: number}>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[]}},description:"Returns the list of available values"}],displayName:"Range",props:{value:{description:"",type:{name:"number"},required:!0},id:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/contexts/Administration/AdministrationInternationalizationContext/AdministrationInternationalizationContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m$:()=>AdminInternationalizationContextProvider,A3:()=>withAdminInternationalization});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),apiClient=__webpack_require__("./src/shared/lib/apiClient/apiClient.js");const Internationalisation_InternationalisationService=class InternationalisationService{constructor(apiClientOptions){apiClientOptions.setResourceName("locale/settings"),this.apiClient=new apiClient.O(apiClientOptions)}async save(lang){return(await this.apiClient.create(lang)).body}},AdminInternationalizationContext=react.createContext({getCurrentLocale:()=>{},getLocale:()=>{},supportedLocales:()=>{},setLocale:()=>{},hasLocaleChanges:()=>{},findLocale:()=>{},save:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{}});class AdminInternationalizationContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState;const apiClientOptions=props.context.getApiClientOptions();this.internalisationService=new Internationalisation_InternationalisationService(apiClientOptions)}get defaultState(){return{currentLocale:null,locale:"en-UK",processing:!0,getCurrentLocale:this.getCurrentLocale.bind(this),getLocale:this.getLocale.bind(this),setLocale:this.setLocale.bind(this),findLocale:this.findLocale.bind(this),hasLocaleChanges:this.hasLocaleChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),save:this.save.bind(this),clearContext:this.clearContext.bind(this)}}findLocale(){this.setProcessing(!0);const result=this.props.context.siteSettings.locale;this.setState({currentLocale:result,locale:result,processing:!1})}getCurrentLocale(){return this.state.currentLocale}getLocale(){return this.state.locale}async setLocale(locale){await this.setState({locale})}isProcessing(){return this.state.processing}setProcessing(processing){this.setState({processing})}hasLocaleChanges(){return this.state.locale!==this.state.currentLocale}clearContext(){const{currentLocale,locale,processing}=this.defaultState;this.setState({currentLocale,locale,processing})}async save(){this.setProcessing(!0),await this.internalisationService.save({value:this.state.locale}),this.props.context.onRefreshLocaleRequested(this.state.locale),this.findLocale()}render(){return react.createElement(AdminInternationalizationContext.Provider,{value:this.state},this.props.children)}}AdminInternationalizationContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any};(0,AppContext.L)(AdminInternationalizationContextProvider);function withAdminInternationalization(WrappedComponent){return class WithAdminInternationalization extends react.Component{render(){return react.createElement(AdminInternationalizationContext.Consumer,null,(adminInternationalizationContext=>react.createElement(WrappedComponent,{adminInternationalizationContext,...this.props})))}}}AdminInternationalizationContextProvider.__docgenInfo={description:"The Administration Internationalization context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findLocale",docblock:"Find locale from API",modifiers:[],params:[],returns:null,description:"Find locale from API"},{name:"getCurrentLocale",docblock:"Returns the locale actually saved\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the locale actually saved"},{name:"getLocale",docblock:"Returns the locale that have been fetch previously.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the locale that have been fetch previously."},{name:"setLocale",docblock:"Handle locale changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:["async"],params:[{name:"locale",optional:!1}],returns:{type:{name:"void"}},description:"Handle locale changes."},{name:"isProcessing",docblock:"Returns true when the data is under processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data is under processing"},{name:"setProcessing",docblock:"Handle processing change.\n@params {Boolean} processing value\n@returns {void}",modifiers:[],params:[{name:"processing",optional:!1}],returns:{type:{name:"void"}},description:"Handle processing change."},{name:"hasLocaleChanges",docblock:"Check if there are changes to apply\n@returns {Boolean}",modifiers:[],params:[],returns:{type:{name:"Boolean"}},description:"Check if there are changes to apply"},{name:"clearContext",docblock:"Puts the state to its default in order to avoid keeping the data users didn't want to save.",modifiers:[],params:[],returns:null,description:"Puts the state to its default in order to avoid keeping the data users didn't want to save."},{name:"save",docblock:"Whenever the save has been requested",modifiers:["async"],params:[],returns:null,description:"Whenever the save has been requested"}],displayName:"AdminInternationalizationContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/Administration/AdministrationMfaPolicy/AdministrationMfaPolicyContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sO:()=>AdminMfaPolicyContextProvider,yS:()=>withAdminMfaPolicy});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const mfaPolicy_MfaPolicyViewModel=class MfaPolicyViewModel{constructor(settings={remember_me_for_a_month:!1}){this.policy=settings.policy,this.rememberMeForAMonth=settings.remember_me_for_a_month}};var apiClient=__webpack_require__("./src/shared/lib/apiClient/apiClient.js");const mfaPolicy_MfaPolicyService=class MfaPolicyService{constructor(apiClientOptions){apiClientOptions.setResourceName("mfa-policies/settings"),this.apiClient=new apiClient.O(apiClientOptions)}async find(){return(await this.apiClient.findAll()).body}async save(dto){await this.apiClient.create(dto)}};var MfaPolicyEnumeration=__webpack_require__("./src/shared/models/mfaPolicy/MfaPolicyEnumeration.js");const mfaPolicy_MfaPolicyDto=class MfaPolicyDto{constructor(settings={rememberMeForAMonth:!1}){this.policy=settings.policy||MfaPolicyEnumeration.F.OPTIN,this.remember_me_for_a_month=settings.rememberMeForAMonth}},AdminMfaPolicyContext=react.createContext({getCurrentSettings:()=>{},getSettings:()=>{},setSettings:()=>{},hasSettingsChanges:()=>{},findSettings:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},save:()=>{}});class AdminMfaPolicyContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState;const apiClientOptions=props.context.getApiClientOptions();this.mfaPolicyService=new mfaPolicy_MfaPolicyService(apiClientOptions)}get defaultState(){return{settings:new mfaPolicy_MfaPolicyViewModel,currentSettings:new mfaPolicy_MfaPolicyViewModel,processing:!0,getCurrentSettings:this.getCurrentSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),findSettings:this.findSettings.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),clearContext:this.clearContext.bind(this),save:this.save.bind(this)}}async findSettings(callback=()=>{}){this.setProcessing(!0);const result=await this.mfaPolicyService.find(),currentSettings=new mfaPolicy_MfaPolicyViewModel(result);this.setState({currentSettings}),this.setState({settings:currentSettings},callback),this.setProcessing(!1)}async save(){this.setProcessing(!0);const newSettings=new mfaPolicy_MfaPolicyDto(this.state.settings);await this.mfaPolicyService.save(newSettings),await this.findSettings()}getCurrentSettings(){return this.state.currentSettings}getSettings(){return this.state.settings}setSettings(key,value,callback=()=>{}){const newSettings=Object.assign({},this.state.settings,{[key]:value});this.setState({settings:newSettings},callback)}isProcessing(){return this.state.processing}setProcessing(processing){this.setState({processing})}hasSettingsChanges(){return JSON.stringify(this.state.currentSettings)!==JSON.stringify(this.state.settings)}clearContext(){const{currentSettings,settings,processing}=this.defaultState;this.setState({currentSettings,settings,processing})}render(){return react.createElement(AdminMfaPolicyContext.Provider,{value:this.state},this.props.children)}}AdminMfaPolicyContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any,t:prop_types_default().any,actionFeedbackContext:prop_types_default().object};(0,AppContext.L)(AdminMfaPolicyContextProvider);function withAdminMfaPolicy(WrappedComponent){return class WithAdminMfaPolicy extends react.Component{render(){return react.createElement(AdminMfaPolicyContext.Consumer,null,(adminMfaPolicyContext=>react.createElement(WrappedComponent,{adminMfaPolicyContext,...this.props})))}}}AdminMfaPolicyContextProvider.__docgenInfo={description:"The Administration mfa policy context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findSettings",docblock:"Find the self registration settings\n@return {Promise<void>}",modifiers:["async"],params:[{name:"callback",optional:!0}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the self registration settings"},{name:"save",docblock:"Whenever the save has been requested",modifiers:["async"],params:[],returns:null,description:"Whenever the save has been requested"},{name:"getCurrentSettings",docblock:"Returns the setting actually saved inside DB\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the setting actually saved inside DB"},{name:"getSettings",docblock:"Returns the settings that have been fetch previously.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the settings that have been fetch previously."},{name:"setSettings",docblock:"Handle settings changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"key",optional:!1},{name:"value",optional:!1},{name:"callback",optional:!0}],returns:{type:{name:"void"}},description:"Handle settings changes."},{name:"isProcessing",docblock:"Returns true when the data is under processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data is under processing"},{name:"setProcessing",docblock:"Handle processing change.\n@params {Boolean} processing value\n@returns {void}",modifiers:[],params:[{name:"processing",optional:!1}],returns:{type:{name:"void"}},description:"Handle processing change."},{name:"hasSettingsChanges",docblock:"Check if there are changes to apply\n@returns {Boolean}",modifiers:[],params:[],returns:{type:{name:"Boolean"}},description:"Check if there are changes to apply"},{name:"clearContext",docblock:"Puts the state to its default in order to avoid keeping the data users didn't want to save.",modifiers:[],params:[],returns:null,description:"Puts the state to its default in order to avoid keeping the data users didn't want to save."}],displayName:"AdminMfaPolicyContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/Administration/AdministrationUserPassphrasePoliciesContext/AdministrationUserPassphrasePoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>AdministrationUserPassphrasePoliciesContext_AdministrationUserPassphrasePoliciesContext,pE:()=>withAdminUserPassphrasePolicies});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),entity=__webpack_require__("./src/shared/models/entity/abstract/entity.js");class UserPassphrasePoliciesEntity extends entity.A{constructor(userPassphrasePoliciesDto,options={}){super(entitySchema.A.validate(UserPassphrasePoliciesEntity.ENTITY_NAME,userPassphrasePoliciesDto,UserPassphrasePoliciesEntity.getSchema()),options)}static getSchema(){return{type:"object",required:["entropy_minimum","external_dictionary_check"],properties:{id:{type:"string",format:"uuid"},entropy_minimum:{type:"integer",minimum:50,maximum:224},external_dictionary_check:{type:"boolean"},created:{type:"string",format:"date-time"},created_by:{type:"string",format:"uuid"},modified:{type:"string",format:"date-time"},modified_by:{type:"string",format:"uuid"}}}}static get ENTITY_NAME(){return"UserPassphrasePolicies"}static createFromDefault(data={}){const dto=Object.assign({entropy_minimum:50,external_dictionary_check:!0},data);return new UserPassphrasePoliciesEntity(dto)}}const userPassphrasePoliciesEntity=UserPassphrasePoliciesEntity;class UserPassphrasePoliciesViewModel{constructor(settings={}){this.external_dictionary_check=settings?.external_dictionary_check,this.entropy_minimum=settings?.entropy_minimum}static getSchema(){const baseEntitySchema=userPassphrasePoliciesEntity.getSchema();return{type:"object",required:["entropy_minimum","external_dictionary_check"],properties:{entropy_minimum:baseEntitySchema.properties.entropy_minimum,external_dictionary_check:baseEntitySchema.properties.external_dictionary_check}}}static fromEntityDto(entityDto){const data={entropy_minimum:parseInt(entityDto?.entropy_minimum,10)||50,external_dictionary_check:Boolean(entityDto?.external_dictionary_check)};return new UserPassphrasePoliciesViewModel(data)}static isDataDifferent(a,b){return["entropy_minimum","external_dictionary_check"].some((key=>a[key]!==b[key]))}toEntityDto(){return{entropy_minimum:this.entropy_minimum,external_dictionary_check:this.external_dictionary_check}}cloneWithMutation(field,value){const clone={...this,[field]:value};return new UserPassphrasePoliciesViewModel(clone)}validate(){const schema=UserPassphrasePoliciesViewModel.getSchema();try{entitySchema.A.validate(this.constructor.name,this,schema)}catch(e){return e}return new entityValidationError.A}}const userPassphrasePolicies_UserPassphrasePoliciesViewModel=UserPassphrasePoliciesViewModel,AdministrationUserPassphrasePoliciesContext=react.createContext({getSettings:()=>{},setSettings:()=>{},findSettings:()=>{},isProcessing:()=>{},validateData:()=>{},save:()=>{},getErrors:()=>{},hasSettingsChanges:()=>{}});class AdministrationUserPassphrasePoliciesContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{processing:!1,errors:null,hasBeenValidated:!1,isDataModified:!1,settings:new userPassphrasePolicies_UserPassphrasePoliciesViewModel,findSettings:this.findSettings.bind(this),getSettings:this.getSettings.bind(this),setSettings:this.setSettings.bind(this),isProcessing:this.isProcessing.bind(this),validateData:this.validateData.bind(this),save:this.save.bind(this),getErrors:this.getErrors.bind(this),hasSettingsChanges:this.hasSettingsChanges.bind(this)}}async findSettings(){this.setState({processing:!0});const result=await this.props.context.port.request("passbolt.user-passphrase-policies.find"),settings=userPassphrasePolicies_UserPassphrasePoliciesViewModel.fromEntityDto(result);this.setState({settings,currentSettings:settings,processing:!1})}getSettings(){return this.state.settings}setSettings(key,value){const settings=this.state.settings.cloneWithMutation(key,value),isDataModified=userPassphrasePolicies_UserPassphrasePoliciesViewModel.isDataDifferent(settings,this.state.currentSettings);if(!this.state.hasBeenValidated)return void this.setState({settings,isDataModified});const errors=settings.validate();this.setState({errors,settings,isDataModified})}isProcessing(){return this.state.processing}validateData(){const validattionError=this.state.settings.validate(),hasErrors=validattionError.hasErrors(),errors=hasErrors?validattionError:null;return this.setState({errors,hasBeenValidated:!0}),!hasErrors}async save(){this.setState({processing:!0});try{const settingsDto=this.state.settings.toEntityDto(),result=await this.props.context.port.request("passbolt.user-passphrase-policies.save",settingsDto),settings=userPassphrasePolicies_UserPassphrasePoliciesViewModel.fromEntityDto(result);this.setState({settings,currentSettings:settings,processing:!1,isDataModified:!1})}finally{this.setState({processing:!1})}}getErrors(){return this.state.errors}hasSettingsChanges(){return this.state.isDataModified}render(){return react.createElement(AdministrationUserPassphrasePoliciesContext.Provider,{value:this.state},this.props.children)}}AdministrationUserPassphrasePoliciesContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any,t:prop_types_default().any};const AdministrationUserPassphrasePoliciesContext_AdministrationUserPassphrasePoliciesContext=(0,AppContext.L)((0,es.CI)("common")(AdministrationUserPassphrasePoliciesContextProvider));function withAdminUserPassphrasePolicies(WrappedComponent){return class WithAdminUserPassphrasePolicies extends react.Component{render(){return react.createElement(AdministrationUserPassphrasePoliciesContext.Consumer,null,(adminUserPassphrasePoliciesContext=>react.createElement(WrappedComponent,{adminUserPassphrasePoliciesContext,...this.props})))}}}AdministrationUserPassphrasePoliciesContextProvider.__docgenInfo={description:"The Administration User passphrase Policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findSettings",docblock:"Find the User Passphrase Policies\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the User Passphrase Policies"},{name:"getSettings",docblock:"Returns the settings that have been fetch previously.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the settings that have been fetch previously."},{name:"setSettings",docblock:"Set the givent field with the given value.",modifiers:[],params:[{name:"key",optional:!1},{name:"value",optional:!1}],returns:null,description:"Set the givent field with the given value."},{name:"isProcessing",docblock:"Returns true if data is under processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if data is under processing"},{name:"validateData",docblock:"runs the current data validation\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"runs the current data validation"},{name:"save",docblock:"Saves the data on the API",modifiers:["async"],params:[],returns:null,description:"Saves the data on the API"},{name:"getErrors",docblock:"Returns the latest validation errors available\n@returns {EntityValidationError|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"EntityValidationError"}]}},description:"Returns the latest validation errors available"},{name:"hasSettingsChanges",docblock:"Returns true if the data has changed\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the data has changed"}],displayName:"AdministrationUserPassphrasePoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/AnnouncementContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>AnnouncementContextProvider,w2:()=>withAnnouncement});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const AnnouncementContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({announcements:[],show:()=>{},close:()=>{}});class AnnouncementContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(Announcement,AnnouncementProps)=>{const announcementKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({announcements:[...this.state.announcements,{key:announcementKey,Announcement,AnnouncementProps}]}),announcementKey},close:async announcementKey=>await this.setState({announcements:this.state.announcements.filter((announcement=>announcementKey!==announcement.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Provider,{value:this.state},this.props.children)}}function withAnnouncement(WrappedComponent){return class WithAnnouncement extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Consumer,null,(announcementContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{announcementContext,...this.props})))}}}AnnouncementContextProvider.displayName="AnnouncementContextProvider",AnnouncementContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},AnnouncementContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"AnnouncementContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ContextualMenuContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>ContextualMenuContextProvider,t6:()=>withContextualMenu,wp:()=>ContextualMenuContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const ContextualMenuContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({ContextualMenu:null,show:()=>{},hide:()=>{}});class ContextualMenuContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{contextualMenus:[],show:(ContextualMenuComponent,componentProps)=>this.setState({contextualMenus:[...this.state.contextualMenus,{ContextualMenuComponent,componentProps}]}),hide:index=>this.setState({contextualMenus:this.state.contextualMenus.filter(((_,contextualMenuIndex)=>contextualMenuIndex!==index))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Provider,{value:this.state},this.props.children)}}function withContextualMenu(WrappedComponent){return class WithContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Consumer,null,(contextualMenuContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{contextualMenuContext,...this.props})))}}}ContextualMenuContextProvider.displayName="ContextualMenuContextProvider",ContextualMenuContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},ContextualMenuContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"ContextualMenuContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/scimSettings/scimSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entitySchema__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),_abstract_entityV2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class ScimSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_1__.A{static getSchema(){return{type:"object",required:["scim_user_id"],properties:{id:{type:"string",format:"uuid",nullable:!0},scim_user_id:{type:"string",format:"uuid"},setting_id:{type:"string",format:"uuid",nullable:!0},secret_token:{type:"string",length:46,pattern:"^pb_[A-Za-z0-9]{43}$",nullable:!0}}}}toDto(){return Object.assign({},this._props)}get id(){return this._props.id||null}get scimUserId(){return this._props.scim_user_id}get settingId(){return this._props.setting_id}get secretToken(){return this._props.secret_token||null}set secretToken(secretToken){_abstract_entitySchema__WEBPACK_IMPORTED_MODULE_0__.A.validateProp("secret_token",secretToken,this.cachedSchema.properties.secret_token),this._props.secret_token=secretToken}static get SECRET_TOKEN_LENGTH(){return 46}static get EMPTY_SECRET_VALUE(){return"pb_0000000000000000000000000000000000000000000"}static generateScimSecretToken(){const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",secretLength=ScimSettingsEntity.SECRET_TOKEN_LENGTH-3,secret=[],randomValues=new Uint8Array(2*secretLength);for(;secret.length<secretLength;){window.crypto.getRandomValues(randomValues);for(let i=0;i<randomValues.length&&secret.length<secretLength;i++){const v=randomValues[i];v<248&&secret.push(chars[v%62])}}return"pb_"+secret.join("")}static createFromScimSettingsFind(scimSettingsDto){const scimSettingsEntity=new ScimSettingsEntity(scimSettingsDto),entityValidationError=new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_2__.A;if(scimSettingsEntity.id||entityValidationError.addError("id","required","SCIM settings id is mandatory"),scimSettingsEntity.secretToken&&entityValidationError.addError("secretToken","empty","SCIM settings should not contain secret_token"),entityValidationError.hasErrors())throw entityValidationError;return scimSettingsEntity.secretToken="pb_0000000000000000000000000000000000000000000",scimSettingsEntity}static createFromScimSettingsCreation(scimSettingsDto){const scimSettingsEntity=new ScimSettingsEntity(scimSettingsDto),entityValidationError=new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_2__.A;if(scimSettingsEntity.secretToken||entityValidationError.addError("secretToken","required","SCIM settings secret_token is mandatory."),entityValidationError.hasErrors())throw entityValidationError;return scimSettingsEntity}static createFromScimSettingsUpdate(scimSettingsDto){delete scimSettingsDto.setting_id;return new ScimSettingsEntity(scimSettingsDto)}}const __WEBPACK_DEFAULT_EXPORT__=ScimSettingsEntity}}]);