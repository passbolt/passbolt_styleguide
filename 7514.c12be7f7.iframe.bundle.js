/*! For license information please see 7514.c12be7f7.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[7514],{"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/components/Common/Tooltip/TooltipPortal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/utils/portals.js");class TooltipPortal extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{hasToDisplayTooltip:!1,direction:"",top:0,left:0}}bindCallbacks(){this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.findBestPosition=this.findBestPosition.bind(this)}createRefs(){this.tooltipRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.tooltipTextRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleMouseEnter(){this.props.onMouseHover?.(),this.setState({hasToDisplayTooltip:!0},this.findBestPosition)}handleMouseLeave(){this.setState({hasToDisplayTooltip:!1,direction:""})}findBestPosition(){const tooltipContainer=this.tooltipRef.current.getBoundingClientRect(),tooltipText=this.tooltipTextRef.current.getBoundingClientRect(),{innerHeight,innerWidth}=window,topTooltipText=tooltipContainer.top+tooltipContainer.height/2-tooltipText.height/2,leftTooltipText=tooltipContainer.left+tooltipContainer.width/2-tooltipText.width/2;topTooltipText+tooltipText.height<=innerHeight&&topTooltipText>=0?tooltipContainer.right+tooltipText.width<=innerWidth?this.setState({direction:"right",left:tooltipContainer.right+10,top:topTooltipText}):tooltipContainer.left-tooltipText.width>0&&this.setState({direction:"left",left:tooltipContainer.left-tooltipText.width-10,top:topTooltipText}):leftTooltipText>=0&&leftTooltipText+tooltipText.width<=innerWidth?tooltipContainer.top-tooltipText.height<=0?this.setState({direction:"bottom",left:leftTooltipText,top:tooltipContainer.bottom+10}):tooltipContainer.top-tooltipText.height<=innerHeight&&this.setState({direction:"top",left:leftTooltipText,top:tooltipContainer.top-tooltipText.height-10}):this.findPositionWithMoreSpace(tooltipContainer,tooltipText,topTooltipText,leftTooltipText)}findPositionWithMoreSpace(tooltipContainer,tooltipText,topTooltipText,leftTooltipText){const{innerHeight,innerWidth}=window,topSpace=innerHeight-tooltipContainer.top+innerWidth-leftTooltipText,bottomSpace=innerHeight-tooltipContainer.bottom+innerWidth-leftTooltipText,rightSpace=innerWidth-tooltipContainer.right+innerHeight-topTooltipText,leftSpace=innerWidth-tooltipContainer.left+innerHeight-topTooltipText;rightSpace>leftSpace&&rightSpace>topSpace&&rightSpace>bottomSpace?this.setState({direction:"right",left:tooltipContainer.right-tooltipContainer.width/2,top:topTooltipText}):leftSpace>topSpace&&leftSpace>bottomSpace?this.setState({direction:"left",left:tooltipContainer.left+tooltipContainer.width/2,top:topTooltipText}):topSpace>bottomSpace?this.setState({direction:"top",left:leftTooltipText,top:tooltipContainer.top-tooltipText.height}):this.setState({direction:"bottom",left:leftTooltipText,top:tooltipContainer.bottom})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tooltip-portal",tabIndex:"0",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{ref:this.tooltipRef},this.props.children),this.state.hasToDisplayTooltip&&(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_2__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{ref:this.tooltipTextRef,className:`tooltip-portal-text ${this.state.direction} ${this.props.className}`,style:{top:`${this.state.top}px`,left:`${this.state.left}px`}},this.props.message),document.body))}}TooltipPortal.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,message:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any.isRequired,onMouseHover:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string};const __WEBPACK_DEFAULT_EXPORT__=TooltipPortal;TooltipPortal.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Initialize the bindCallback",modifiers:[],params:[],returns:null,description:"Initialize the bindCallback"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleMouseEnter",docblock:"Handle mouse over event",modifiers:[],params:[],returns:null,description:"Handle mouse over event"},{name:"handleMouseLeave",docblock:"Handle mouse out event",modifiers:[],params:[],returns:null,description:"Handle mouse out event"},{name:"findBestPosition",docblock:"Find the best position to display the tooltip",modifiers:[],params:[],returns:null,description:"Find the best position to display the tooltip"},{name:"findPositionWithMoreSpace",docblock:"Check which side have more space around the container and display the tooltip\n@param tooltipContainer\n@param tooltipText\n@param topTooltipText\n@param leftTooltipText",modifiers:[],params:[{name:"tooltipContainer",optional:!1},{name:"tooltipText",optional:!1},{name:"topTooltipText",optional:!1},{name:"leftTooltipText",optional:!1}],returns:null,description:"Check which side have more space around the container and display the tooltip"}],displayName:"TooltipPortal",props:{children:{description:"",type:{name:"any"},required:!1},message:{description:"",type:{name:"any"},required:!0},onMouseHover:{description:"",type:{name:"func"},required:!1},className:{description:"",type:{name:"string"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourceUrisBadge/DisplayResourceUrisBadge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/lib/Sanitize/sanitizeUrl.js"),_Common_Tooltip_TooltipPortal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Tooltip/TooltipPortal.js");const linkAuthorizedProtocols=[_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.FTP,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.FTPS,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.HTTPS,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.HTTP,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.SSH];class DisplayResourceUrisBadge extends react__WEBPACK_IMPORTED_MODULE_0__.Component{safeLink(link){return(0,_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.A)(link,{whiteListedProtocols:linkAuthorizedProtocols,defaultProtocol:_lib_Sanitize_sanitizeUrl__WEBPACK_IMPORTED_MODULE_2__.P.HTTPS})||""}handleClick(safeUri){window.open(safeUri,"_blank","noopener,noreferrer")}get additionalUrisLinks(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"list-uris"},this.props.additionalUris?.map((uri,index)=>{const safeUri=this.safeLink(uri);return safeUri?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link",key:index,type:"button",onClick:()=>this.handleClick(safeUri)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"ellipsis"},uri)):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"link ellipsis",key:index},uri)}))}get numberOfUris(){const urisLength=this.props.additionalUris?.length;return urisLength>99?"99+":`+${urisLength}`}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"badge"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_TooltipPortal__WEBPACK_IMPORTED_MODULE_3__.A,{direction:"bottom",message:this.additionalUrisLinks,className:"additional-uris"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"count"},this.numberOfUris)))}}DisplayResourceUrisBadge.propTypes={additionalUris:prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().string)};const __WEBPACK_DEFAULT_EXPORT__=DisplayResourceUrisBadge;DisplayResourceUrisBadge.__docgenInfo={description:"",methods:[{name:"safeLink",docblock:"Get safe uri of a resource\n@param {string} link The resource to get the safe uri for\n@return {string}",modifiers:[],params:[{name:"link",description:"The resource to get the safe uri for",type:{name:"string"},optional:!1}],returns:{type:{name:"string"}},description:"Get safe uri of a resource"},{name:"handleClick",docblock:"Handle click on uri\n@param {string} safeUri The safe URI to open in the new window.",modifiers:[],params:[{name:"safeUri",description:"The safe URI to open in the new window.",type:{name:"string"},optional:!1}],returns:null,description:"Handle click on uri"},{name:"additionalUrisLinks",docblock:"Get the additional uris links\n@returns {Element}",modifiers:["get"],params:[],returns:{type:{name:"Element"}},description:"Get the additional uris links"},{name:"numberOfUris",docblock:"Get the number of additional uris\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the number of additional uris"}],displayName:"DisplayResourceUrisBadge",props:{additionalUris:{description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1}}}},"./src/react-quickaccess/contexts/AppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>defaultAppContext});var _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_react_extension_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),_react_extension_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),_react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/test/mock/MockStorage.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_react_extension_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),_shared_models_entity_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");function defaultAppContext(data={}){const siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.A(_react_extension_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__.A);return{locale:"en-UK",userSettings:new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_4__.A(_react_extension_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_5__.A),siteSettings,port:new _react_extension_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_2__.A,storage:new _react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_3__.A,loggedInUser:(0,_shared_models_entity_user_userEntity_test_data__WEBPACK_IMPORTED_MODULE_6__.cI)(),users:[],resources:[],focusSearch:jest.fn(),updateSearch:jest.fn(),getOpenerTabId:()=>1,search:"",searchHistory:{},...data}}},"./src/react-quickaccess/contexts/ResourceLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GZ:()=>withResourcesLocalStorage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_utils_sortUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/utils/sortUtils.js");const ResourceLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},resources:null,updateLocalStorage:()=>{}});class ResourceLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),resources:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes.resources&&this.set(changes.resources.newValue)}set(resources){(0,_shared_utils_sortUtils__WEBPACK_IMPORTED_MODULE_3__.H)(resources),this.setState({resources})}get(){return null===this.state.resources?(this.loadLocalStorage(),null):this.state.resources}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get(["resources"]);storageData.resources?this.set(storageData.resources):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.resources.update-local-storage"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceLocalStorageContext.Provider,{value:this.state},this.props.children)}}ResourceLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(ResourceLocalStorageContextProvider);function withResourcesLocalStorage(WrappedComponent){return class withResourcesLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourceLocalStorageContext.Consumer,null,resourceLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{resourcesLocalStorageContext:resourceLocalStorageContext,resources:resourceLocalStorageContext.get(),...this.props}))}}}ResourceLocalStorageContextProvider.__docgenInfo={description:"The resource local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the resources in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the resources in the local storage."},{name:"set",docblock:"Set resources. Resources are sorted alphabetically.\n@param {Array<Object>} resources The resources to set.\n@private",modifiers:[],params:[{name:"resources",description:"The resources to set.",type:{name:"Array",elements:[{name:"Object"}]},optional:!1}],returns:null,description:"Set resources. Resources are sorted alphabetically."},{name:"get",docblock:"Get the resources from the local storage and/or init them if not the case already.\n@returns {Array<Object>|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"Array",elements:[{name:"Object"}]}]}},description:"Get the resources from the local storage and/or init them if not the case already."},{name:"loadLocalStorage",docblock:"Load the resources from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the resources from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the resources in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the resources in the local storage."}],displayName:"ResourceLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XF:()=>withMetadataKeysSettingsLocalStorage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js");const MetadataKeysSettingsLocalStorageContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({get:()=>{},metadataKeysSettings:null,updateLocalStorage:()=>{}});class MetadataKeysSettingsLocalStorageContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.runningLocalStorageUpdatePromise=null,this.initEventHandlers()}get defaultState(){return{get:this.get.bind(this),metadataKeysSettings:null,updateLocalStorage:this.updateLocalStorage.bind(this)}}initEventHandlers(){this.handleStorageChange=this.handleStorageChange.bind(this)}componentDidMount(){this.props.context.storage.onChanged.addListener(this.handleStorageChange)}componentWillUnmount(){this.props.context.storage.onChanged.removeListener(this.handleStorageChange)}handleStorageChange(changes){changes[this.storageKey]&&this.set(changes[this.storageKey].newValue)}set(metadataKeysSettings){const metadataKeysSettingsEntity=new _models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_3__.A(metadataKeysSettings);this.setState({metadataKeysSettings:metadataKeysSettingsEntity})}get(){return null===this.state.metadataKeysSettings?(this.loadLocalStorage(),null):this.state.metadataKeysSettings}get storageKey(){return`metadata_keys_settings-${this.props.context.account?.id}`}async loadLocalStorage(){const storageData=await this.props.context.storage.local.get([this.storageKey]);storageData[this.storageKey]?this.set(storageData[this.storageKey]):this.updateLocalStorage()}async updateLocalStorage(){null===this.runningLocalStorageUpdatePromise?(this.runningLocalStorageUpdatePromise=this.props.context.port.request("passbolt.metadata.get-or-find-metadata-keys-settings"),await this.runningLocalStorageUpdatePromise,this.runningLocalStorageUpdatePromise=null):await this.runningLocalStorageUpdatePromise}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataKeysSettingsLocalStorageContext.Provider,{value:this.state},this.props.children)}}MetadataKeysSettingsLocalStorageContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(MetadataKeysSettingsLocalStorageContextProvider);function withMetadataKeysSettingsLocalStorage(WrappedComponent){return class withMetadataKeysSettingsKeysLocalStorage extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MetadataKeysSettingsLocalStorageContext.Consumer,null,metadataKeysSettingsLocalStorageContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{metadataKeysSettingsLocalStorageContext,metadataKeysSettings:metadataKeysSettingsLocalStorageContext.get(),...this.props}))}}}MetadataKeysSettingsLocalStorageContextProvider.__docgenInfo={description:"The metadata key settings local storage context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"handleStorageChange",docblock:"Handles update of the metadata key settings in the local storage.",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handles update of the metadata key settings in the local storage."},{name:"set",docblock:"Set metadataKeysSettings.\n@param {Object} metadataKeysSettings The metadata keys settings to set.\n@private",modifiers:[],params:[{name:"metadataKeysSettings",description:"The metadata keys settings to set.",type:{name:"Object"},optional:!1}],returns:null,description:"Set metadataKeysSettings."},{name:"get",docblock:"Get the metadata key settings from the local storage and/or init them if not the case already.\n@returns {MetadataKeysSettingsEntity|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"MetadataKeysSettingsEntity"}]}},description:"Get the metadata key settings from the local storage and/or init them if not the case already."},{name:"storageKey",docblock:"Get the storage key.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Get the storage key."},{name:"loadLocalStorage",docblock:"Load the metadata key settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation.\n@returns {Promise<void>}\n@private",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Load the metadata key settings from the local storage if it is available.\nIf the local storage is not yet initialised, then it asks for its initialisation."},{name:"updateLocalStorage",docblock:"Forces the update of the metadata key settings in the local storage.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the metadata key settings in the local storage."}],displayName:"MetadataKeysSettingsLocalStorageContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/metadata/metadataKeysSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>defaultMetadataKeysSettingsDto});var _metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const defaultMetadataKeysSettingsDto=(data={},options={})=>{const defaultData={allow_usage_of_personal_keys:!0,zero_knowledge_key_share:!1};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,_metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mr)({metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)()},options?.withMetadataPrivateKeys)]),Object.assign(defaultData,data)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mr:()=>defaultMetadataPrivateKeyDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),user_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),data_signed_by_current_user:null,modified:"2022-10-11T08:09:00+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),...data})},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_5:()=>defaultMetadataTypesSettingsV6Dto,nB:()=>defaultMetadataTypesSettingsV50FreshDto,qh:()=>defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto,uc:()=>defaultMetadataTypesSettingsV4Dto});const defaultMetadataTypesSettingsV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV6Dto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v5",default_tag_type:"v5",default_comment_type:"v5",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!0,allow_creation_of_v5_tags:!0,allow_creation_of_v5_comments:!0,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!1,allow_creation_of_v4_tags:!1,allow_creation_of_v4_comments:!1,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50FreshDto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!0,allow_v5_v4_downgrade:!0},data)},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto,XB:()=>resourceTypesV4CollectionDto,Yd:()=>resourceTypesV5CollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()],resourceTypesV4CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)()],resourceTypesV5CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()]},"./src/shared/utils/filterUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>filterResourcesBySearch,N:()=>escapeRegExp});const escapeRegExp=value=>value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),filterResourcesBySearch=(resources,needle,limit=Number.MAX_SAFE_INTEGER)=>{const regexes=needle.split(/\s+/).map(needle=>new RegExp(escapeRegExp(needle),"i"));let filterCount=0;return resources.filter(resource=>{if(filterCount>=limit)return!1;for(const i in regexes){if(!(regexes[i].test(resource.metadata.name)||regexes[i].test(resource.metadata.username)||regexes[i].test(resource.metadata.uris?.[0])||regexes[i].test(resource.metadata.description)))return!1}return filterCount++,!0})}},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}},"./src/shared/utils/sortUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>sortResourcesAlphabetically});const sortResourcesAlphabetically=resources=>{resources?.sort((resource1,resource2)=>{const resource1Name=resource1.metadata.name.toUpperCase(),resource2Name=resource2.metadata.name.toUpperCase();return resource1Name.localeCompare(resource2Name)})}}}]);