/*! For license information please see 7385.467f778d.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[7385],{"./src/img/svg/dice.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDice(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.597 7.5h-6a1.5 1.5 0 0 0-1.5 1.5v6a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V9a1.5 1.5 0 0 0-1.5-1.5M14.037 10.5l2.625-2.625a1.68 1.68 0 0 0 0-2.25l-3.75-3.69a1.68 1.68 0 0 0-2.25 0L8.097 4.5M5.097 13.5h.007M8.097 10.5h.007M11.847 4.5h.007M14.097 6.75h.007"})))}},"./src/img/svg/info.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgInfo(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:18,fill:"none",viewBox:"0 0 17 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8.5 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15M8.5 12V9M8.5 6h.008"})))}},"./src/react-extension/components/Common/Tab/Tab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Tab extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.onClick(this.props.name)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"tab "+(this.props.isActive?"active":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"tab-link",onClick:this.handleClick},this.props.name))}}Tab.propTypes={name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string.isRequired,isActive:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=Tab;Tab.__docgenInfo={description:"Display of the Tab component",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"handleClick",docblock:"Handle click\n@param event",modifiers:[],params:[],returns:null,description:"Handle click"}],displayName:"Tab",props:{name:{description:"",type:{name:"string"},required:!1},type:{description:"",type:{name:"string"},required:!0},isActive:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Tab/Tabs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_Tab__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js");class Tabs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(props),this.bindCallback()}getDefaultState(props){return{activeTabName:props.activeTabName}}bindCallback(){this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(tabItem){this.setState({activeTabName:tabItem.type}),"function"==typeof tabItem.onClick&&tabItem.onClick()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tabs"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"tabs-nav"},this.props.children.map((({key,props})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tab__WEBPACK_IMPORTED_MODULE_1__.A,{key,name:props.name,type:props.type,onClick:()=>this.handleTabClick(props),isActive:props.type===this.state.activeTabName})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tabs-active-content"},this.props.children.find((tab=>tab.props.type===this.state.activeTabName)).props.children))}}Tabs.propTypes={activeTabName:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=Tabs;Tabs.__docgenInfo={description:"Tabs component to handle the display of selected tab",methods:[{name:"getDefaultState",docblock:"Default state\n@param props Component props",modifiers:[],params:[{name:"props",description:"Component props",optional:!1}],returns:null,description:"Default state"},{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"handleTabClick",docblock:"Toggle currently active tab\n@param tabItem The item which represents the tab",modifiers:[],params:[{name:"tabItem",description:"The item which represents the tab",optional:!1}],returns:null,description:"Toggle currently active tab"}],displayName:"Tabs",props:{activeTabName:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Resource/ResourceForm/AddResourcePassword.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/components/Password/Password.js"),_img_svg_dice_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/dice.svg"),_shared_components_PasswordComplexity_PasswordComplexity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/components/PasswordComplexity/PasswordComplexity.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/caret_right.svg"),_Common_Tab_Tabs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Tab/Tabs.js"),_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js"),_shared_components_GeneratePassword_ConfigurePasswordGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePasswordGenerator.js"),_shared_components_GeneratePassword_ConfigurePassphraseGenerator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/components/GeneratePassword/ConfigurePassphraseGenerator.js"),_contexts_ResourcePasswordGeneratorContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/contexts/ResourcePasswordGeneratorContext.js"),_shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGenerator.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/img/svg/attention.svg");class AddResourcePassword extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createReferences()}get defaultState(){return{displayPasswordGenerator:!1,generatorSettings:null}}componentDidMount(){this.setState({generatorSettings:this.props.resourcePasswordGeneratorContext.getSettings()})}bindCallbacks(){this.handleDisplayPasswordGeneratorClick=this.handleDisplayPasswordGeneratorClick.bind(this),this.handlePassphraseGeneratorConfigurationChanged=this.handlePassphraseGeneratorConfigurationChanged.bind(this),this.handleGeneratorTypeChanged=this.handleGeneratorTypeChanged.bind(this),this.handlePasswordGeneratorConfigurationChanged=this.handlePasswordGeneratorConfigurationChanged.bind(this),this.handleGeneratePasswordClick=this.handleGeneratePasswordClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleGeneratorConfigurationChanged(generatorSettings){const generatedPassword=this.generatePassword(generatorSettings);this.setState({generatorSettings}),this.handleInputChange({target:{name:"secret.password",value:generatedPassword}})}createReferences(){this.passwordInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}generatePassword(generatorConfiguration){return _shared_lib_SecretGenerator_SecretGenerator__WEBPACK_IMPORTED_MODULE_12__.M.generate(generatorConfiguration)}async componentDidUpdate(){this.props.consumePasswordEntropyError()&&this.passwordInputRef.current.focus()}handleDisplayPasswordGeneratorClick(){this.setState({displayPasswordGenerator:!this.state.displayPasswordGenerator})}handleGeneratorTypeChanged(generatorType){const generatorSettings=JSON.parse(JSON.stringify(this.state.generatorSettings));generatorSettings.default_generator=generatorType,this.handleGeneratorConfigurationChanged(generatorSettings)}handlePassphraseGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.passphrase_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handlePasswordGeneratorConfigurationChanged(generator){const settings=JSON.parse(JSON.stringify(this.state.generatorSettings));settings.password_generator_settings=generator,this.handleGeneratorConfigurationChanged(settings)}handleGeneratePasswordClick(){const generatedPassword=this.generatePassword(this.state.generatorSettings);this.handleInputChange({target:{name:"secret.password",value:generatedPassword}})}get canUsePasswordGenerator(){return this.props.context.siteSettings.canIUse("passwordGenerator")}get translate(){return this.props.t}handleInputChange(event){this.props.onChange&&this.props.onChange(event)}isMaxLengthWarnings(propName,association){return!this.isMaxLengthError(propName,association)&&this.props.warnings?.hasError(propName,"maxLength")}isMaxLengthError(propName,association){if(propName.includes(".")){const segments=propName.split("."),propArrayName=segments[0],propsArrayIndex=segments[1];return this.props.errors?.details?.[association]?.details?.[propArrayName]?.[propsArrayIndex]?.maxLength}return this.props.errors?.details?.[association]?.hasError(propName,"maxLength")}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Password"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-fields"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-uri"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"URI"),this.isMaxLengthWarnings("uris.0","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_14__.A,{className:"attention-required"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"resource-uri",disabled:this.props.disabled,name:"metadata.uris.0",maxLength:"1024",type:"text",autoComplete:"off",placeholder:this.translate("URI"),value:this.props.resource?.metadata?.uris?.[0],onChange:this.handleInputChange}),this.isMaxLengthError("uris.0","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"uri error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"This is the maximum size for this field, make sure your data was not truncated.")),this.isMaxLengthWarnings("uris.0","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"uri warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Warning:"))," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"this is the maximum size for this field, make sure your data was not truncated."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-username"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Username"),this.isMaxLengthWarnings("username","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_14__.A,{className:"attention-required"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"resource-username",disabled:this.props.disabled,name:"metadata.username",type:"text",className:"fluid",maxLength:"255",autoComplete:"off",placeholder:this.translate("Username"),value:this.props.resource?.metadata?.username,onChange:this.handleInputChange}),this.isMaxLengthError("username","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"username error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"This is the maximum size for this field, make sure your data was not truncated.")),this.isMaxLengthWarnings("username","metadata")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"username warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Warning:"))," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"this is the maximum size for this field, make sure your data was not truncated."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-password-wrapper input "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"resource-password"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Password"),this.isMaxLengthWarnings("password","secret")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_14__.A,{className:"attention-required"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-button-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_2__.A,{id:"resource-password",name:"secret.password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:this.props.resource?.secret?.password,onChange:this.handleInputChange,inputRef:this.passwordInputRef,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.props.disabled,className:"password-generate button-icon",onClick:this.handleGeneratePasswordClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_dice_svg__WEBPACK_IMPORTED_MODULE_3__.A,null))),this.isMaxLengthError("password","secret")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"This is the maximum size for this field, make sure your data was not truncated.")),this.isMaxLengthWarnings("password","secret")&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Warning:"))," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"this is the maximum size for this field, make sure your data was not truncated.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_PasswordComplexity_PasswordComplexity__WEBPACK_IMPORTED_MODULE_4__.A,{entropy:this.props.passwordEntropy}))),this.canUsePasswordGenerator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"additional-information"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"section-header no-border",onClick:this.handleDisplayPasswordGeneratorClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Advanced password generation")),this.state.displayPasswordGenerator?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__.A,null)),this.state.displayPasswordGenerator&&this.state.generatorSettings?.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tabs__WEBPACK_IMPORTED_MODULE_7__.A,{activeTabName:this.state.generatorSettings.default_generator},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__.A,{key:"password",name:this.props.t("password"),type:"password",onClick:()=>this.handleGeneratorTypeChanged("password")},"password"===this.state.generatorSettings.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_GeneratePassword_ConfigurePasswordGenerator__WEBPACK_IMPORTED_MODULE_9__.A,{disabled:this.props.disabled,configuration:this.state.generatorSettings.password_generator_settings,onConfigurationChanged:this.handlePasswordGeneratorConfigurationChanged})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tab_Tab__WEBPACK_IMPORTED_MODULE_8__.A,{key:"passphrase",name:this.props.t("passphrase"),type:"passphrase",onClick:()=>this.handleGeneratorTypeChanged("passphrase")},"passphrase"===this.state.generatorSettings.default_generator&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_GeneratePassword_ConfigurePassphraseGenerator__WEBPACK_IMPORTED_MODULE_10__.A,{disabled:this.props.disabled,configuration:this.state.generatorSettings.passphrase_generator_settings,onConfigurationChanged:this.handlePassphraseGeneratorConfigurationChanged}))))))}}AddResourcePassword.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,passwordEntropy:prop_types__WEBPACK_IMPORTED_MODULE_15___default().number,consumePasswordEntropyError:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,resourcePasswordGeneratorContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,resource:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object,onChange:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,t:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func,warnings:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object,errors:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object,disabled:prop_types__WEBPACK_IMPORTED_MODULE_15___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_13__.L)((0,_contexts_ResourcePasswordGeneratorContext__WEBPACK_IMPORTED_MODULE_11__.Yv)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(AddResourcePassword)));AddResourcePassword.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleGeneratorConfigurationChanged",docblock:"Handle when the generator configuration has changed\n@param {Object} generatorSettings The generator configuration",modifiers:[],params:[{name:"generatorSettings",description:"The generator configuration",type:{name:"Object"},optional:!1}],returns:null,description:"Handle when the generator configuration has changed"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"generatePassword",docblock:"Generate the password\n@param {object} generatorConfiguration the configuration to be sued to generate a new password",modifiers:[],params:[{name:"generatorConfiguration",description:"the configuration to be sued to generate a new password",type:{name:"object"},optional:!1}],returns:null,description:"Generate the password"},{name:"handleDisplayPasswordGeneratorClick",docblock:"Handles the click on the display secrets button.",modifiers:[],params:[],returns:null,description:"Handles the click on the display secrets button."},{name:"handleGeneratorTypeChanged",docblock:"Handle when the secret generator type is changed.\n@param {string} generatorType",modifiers:[],params:[{name:"generatorType",type:{name:"string"},optional:!1}],returns:null,description:"Handle when the secret generator type is changed."},{name:"handlePassphraseGeneratorConfigurationChanged",docblock:"Handle when the passphrase generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the passphrase generator configuration has changed"},{name:"handlePasswordGeneratorConfigurationChanged",docblock:"Handle when the password generator configuration has changed\n@param generator The generator configuration",modifiers:[],params:[{name:"generator",description:"The generator configuration",optional:!1}],returns:null,description:"Handle when the password generator configuration has changed"},{name:"handleGeneratePasswordClick",docblock:"Handle when the generate password has been clicked",modifiers:[],params:[],returns:null,description:"Handle when the generate password has been clicked"},{name:"canUsePasswordGenerator",docblock:"Returns true if the logged in user can use the password generator capability.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the logged in user can use the password generator capability."},{name:"translate",docblock:"Get the translation function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translation function"},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"isMaxLengthWarnings",docblock:"Checks if there is a max length warning for a specific property.\n\n@param {string} propName - The name of the property to check for max length warnings.\n@param {string} association - The association name.\n@returns {boolean} - Returns true if there is a max length warning for the property, false otherwise.",modifiers:[],params:[{name:"propName",description:"The name of the property to check for max length warnings.",type:{name:"string"},optional:!1},{name:"association",description:"The association name.",type:{name:"string"},optional:!1}],returns:{description:"Returns true if there is a max length warning for the property, false otherwise.",type:{name:"boolean"}},description:"Checks if there is a max length warning for a specific property."},{name:"isMaxLengthError",docblock:"Checks if there is a max length error for a specific property.\n\n@param {string} propName - The name of the property to check for max length errors.\n@param {string} association - The association name.\n@returns {boolean} - Returns true if there is a max length error for the property, false otherwise.",modifiers:[],params:[{name:"propName",description:"The name of the property to check for max length errors.",type:{name:"string"},optional:!1},{name:"association",description:"The association name.",type:{name:"string"},optional:!1}],returns:{description:"Returns true if there is a max length error for the property, false otherwise.",type:{name:"boolean"}},description:"Checks if there is a max length error for a specific property."}],displayName:"AddResourcePassword",props:{context:{description:"",type:{name:"any"},required:!1},passwordEntropy:{description:"",type:{name:"number"},required:!1},consumePasswordEntropyError:{description:"",type:{name:"func"},required:!1},resourcePasswordGeneratorContext:{description:"",type:{name:"any"},required:!1},resource:{description:"",type:{name:"object"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1},warnings:{description:"",type:{name:"object"},required:!1},errors:{description:"",type:{name:"object"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/contexts/ResourcePasswordGeneratorContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,EH:()=>ResourcePasswordGeneratorContext,Yv:()=>withResourcePasswordGeneratorContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_context_PasswordPoliciesContext_PasswordPoliciesContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js");const ResourcePasswordGeneratorContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({settings:null,lastGeneratedPassword:null,getSettings:()=>{},onPasswordGenerated:()=>{},consumeLastGeneratedPassword:()=>{},resetSecretGeneratorSettings:()=>{}});class ResourcePasswordGeneratorContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{settings:null,lastGeneratedPassword:null,onPasswordGenerated:this.onPasswordGenerated.bind(this),getSettings:this.getSettings.bind(this),consumeLastGeneratedPassword:this.consumeLastGeneratedPassword.bind(this),resetSecretGeneratorSettings:this.resetSecretGeneratorSettings.bind(this)}}componentDidMount(){this.resetSecretGeneratorSettings()}async resetSecretGeneratorSettings(){await this.props.passwordPoliciesContext.findPolicies();const passwordPolicies=this.props.passwordPoliciesContext.getPolicies();this.setState({settings:passwordPolicies})}getSettings(){return this.state.settings}onPasswordGenerated(password,generatorSettings){this.setState({lastGeneratedPassword:password,settings:generatorSettings})}consumeLastGeneratedPassword(){const password=this.state.lastGeneratedPassword;return this.setState({lastGeneratedPassword:null}),password}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourcePasswordGeneratorContext.Provider,{value:this.state},this.props.children)}}ResourcePasswordGeneratorContextProvider.displayName="ResourcePasswordGeneratorContextProvider",ResourcePasswordGeneratorContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,passwordPoliciesContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_PasswordPoliciesContext_PasswordPoliciesContext__WEBPACK_IMPORTED_MODULE_2__.WJ)(ResourcePasswordGeneratorContextProvider));function withResourcePasswordGeneratorContext(WrappedComponent){return class WithResourcePasswordGenerator extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResourcePasswordGeneratorContext.Consumer,null,(ResourcePasswordGeneratorContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{resourcePasswordGeneratorContext:ResourcePasswordGeneratorContext,...this.props})))}}}ResourcePasswordGeneratorContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"resetSecretGeneratorSettings",docblock:"Initialize the secret generator settings.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Initialize the secret generator settings."},{name:"getSettings",docblock:"Returns the current generator settings\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Returns the current generator settings"},{name:"onPasswordGenerated",docblock:"Whenever a password has been generated with the generator\n@param password The generated password\n@param generator The updated generator",modifiers:[],params:[{name:"password",description:"The generated password",optional:!1},{name:"generatorSettings",optional:!1}],returns:null,description:"Whenever a password has been generated with the generator"},{name:"consumeLastGeneratedPassword",docblock:"Consumes the last generated password if any.\n@returns {string|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Consumes the last generated password if any."}],displayName:"ResourcePasswordGeneratorContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},passwordPoliciesContext:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/components/GeneratePassword/ConfigurePassphraseGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_react_extension_components_Common_Select_Select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js");class ConfigurePassphraseGenerator extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.initEventHandlers()}initEventHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleWordCountChange=this.handleWordCountChange.bind(this)}handleInputChange(event){const target=event.target,value=target.value,name=target.name,configuration={...this.props.configuration};configuration[name]=value,this.props.onConfigurationChanged(configuration)}handleWordCountChange(event){const configuration={...this.props.configuration,words:event.target.value};this.props.onConfigurationChanged(configuration)}get numberOfWords(){const config=this.props.configuration;return{default:config.words,min:config.min_words,max:config.max_words}}get separator(){return this.props.configuration.word_separator}get wordCase(){return this.props.configuration.word_case}get wordCaseList(){return[{value:"lowercase",label:this.translate("Lower case")},{value:"uppercase",label:this.translate("Upper case")},{value:"camelcase",label:this.translate("Camel case")}]}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-word-count"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Number of words")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,type:"range",onChange:this.handleInputChange,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"number",id:"configure-passphrase-generator-form-word-count",name:"words",min:this.numberOfWords.min,max:this.numberOfWords.max,value:this.numberOfWords.default,onChange:this.handleWordCountChange,disabled:this.props.disabled}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-separator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Words separator")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",id:"configure-passphrase-generator-form-words-separator",name:"word_separator",value:this.separator,onChange:this.handleInputChange,placeholder:this.translate("Type one or more characters"),disabled:this.props.disabled})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-passphrase-generator-form-words-case"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Words case")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Select_Select__WEBPACK_IMPORTED_MODULE_2__.A,{id:"configure-passphrase-generator-form-words-case",name:"word_case",items:this.wordCaseList,value:this.wordCase,onChange:this.handleInputChange,disabled:this.props.disabled})))}}ConfigurePassphraseGenerator.propTypes={configuration:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired,onConfigurationChanged:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ConfigurePassphraseGenerator);ConfigurePassphraseGenerator.__docgenInfo={description:"",methods:[{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handleWordCountChange",docblock:"Handle form word count input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form word count input change."},{name:"numberOfWords",docblock:"Returns the current number of words option\n@return {{default: number, min: number, max: number}}",modifiers:["get"],params:[],returns:{},description:"Returns the current number of words option"},{name:"separator",docblock:"Returns the current separator option\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current separator option"},{name:"wordCase",docblock:"Returns the current word case option\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the current word case option"},{name:"wordCaseList",docblock:"Get word case list\n@returns {Array<{label: string, value: string}>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[]}},description:"Get word case list"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ConfigurePassphraseGenerator",props:{configuration:{description:"",type:{name:"object"},required:!0},onConfigurationChanged:{description:"",type:{name:"func"},required:!0},disabled:{description:"",type:{name:"bool"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/shared/components/GeneratePassword/ConfigurePasswordGenerator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js");class ConfigurePasswordGenerator extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleLengthChanged=this.handleLengthChanged.bind(this),this.handleMaskToggled=this.handleMaskToggled.bind(this),this.handleExcludeLookAlikeCharactersToggled=this.handleExcludeLookAlikeCharactersToggled.bind(this)}handleLengthChanged(event){const value=event.target.value,configuration={...this.props.configuration};configuration.length=value,this.props.onConfigurationChanged(configuration)}handleMaskToggled(maskName,event){event.preventDefault();const configuration={...this.props.configuration};configuration[maskName]=!configuration[maskName],this.props.onConfigurationChanged(configuration)}handleExcludeLookAlikeCharactersToggled(){const configuration={...this.props.configuration};configuration.exclude_look_alike_chars=!configuration.exclude_look_alike_chars,this.props.onConfigurationChanged(configuration)}render(){const config=this.props.configuration,maskNames=Object.entries(_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.MU);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-generator-length input text "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-length"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Length")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{name:"length",min:config.min_length,max:config.max_length,value:config.length,step:"1",type:"range",onChange:this.handleLengthChanged,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"configure-password-generator-form-length",type:"number",min:config.min_length,max:config.max_length,value:config.length,onChange:this.handleLengthChanged,disabled:this.props.disabled}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input text ${this.props.disabled?"disabled":""} select-button`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-masks"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Character Types")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button-group button-group--nowrap"},maskNames.map((([maskName])=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{key:maskName,type:"button",className:"button button-toggle "+(config[maskName]?"selected":""),onClick:event=>this.handleMaskToggled(maskName,event),disabled:this.props.disabled},_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.MU[maskName].label))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"configure-password-generator-form-exclude-look-alike",type:"checkbox",name:"exclude-look-alike",checked:config.exclude_look_alike_chars,onChange:this.handleExcludeLookAlikeCharactersToggled,disabled:this.props.disabled}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"configure-password-generator-form-exclude-look-alike"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Exclude look-alike characters")))))}}ConfigurePasswordGenerator.propTypes={configuration:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object.isRequired,onConfigurationChanged:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(ConfigurePasswordGenerator);ConfigurePasswordGenerator.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleLengthChanged",docblock:"Whenever the length option value has been changed",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Whenever the length option value has been changed"},{name:"handleMaskToggled",docblock:"Whenever a mask has been toggled on/off\n@param maskName The name of a mask\n@param event Dom Click event",modifiers:[],params:[{name:"maskName",description:"The name of a mask",optional:!1},{name:"event",description:"Dom Click event",optional:!1}],returns:null,description:"Whenever a mask has been toggled on/off"},{name:"handleExcludeLookAlikeCharactersToggled",docblock:"Whenever the exclude-look-alike-character option has been toggled on/off",modifiers:[],params:[],returns:null,description:"Whenever the exclude-look-alike-character option has been toggled on/off"}],displayName:"ConfigurePasswordGenerator",props:{configuration:{description:"",type:{name:"object"},required:!0},onConfigurationChanged:{description:"",type:{name:"func"},required:!0},disabled:{description:"",type:{name:"bool"},required:!1}}}},"./src/shared/components/PasswordComplexity/PasswordComplexity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/lib/SecretGenerator/SecretGeneratorComplexity.js"),_react_extension_components_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/info.svg");const COLOR_GRADIENT={COLOR_1:hexToRgb("#BA2809"),COLOR_2:hexToRgb("#FFA724"),COLOR_3:hexToRgb("#0EAA00")};function hexToRgb(hex){const result=new RegExp("^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$","i").exec(hex.trim());if(result){return{red:parseInt(result[1],16),green:parseInt(result[2],16),blue:parseInt(result[3],16)}}return null}class PasswordComplexity extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get entropy(){return(this.props.entropy||0).toFixed(1)}get tooltipMessage(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Entropy:")," ",this.entropy," bits")}get passwordStrengthLabel(){if(!(this.hasEntropy()||this.hasError()))return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Quality");const strength=_lib_SecretGenerator_SecretGeneratorComplexity__WEBPACK_IMPORTED_MODULE_2__.CH.strength(this.props.entropy);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,strength.label)}hasEntropy(){return null!==this.props.entropy&&void 0!==this.props.entropy}hasError(){return this.props.error}getProgresseBarStyle(){const relativePositionForEntropy=this.getRelativeEntropyPosition();return{width:`${relativePositionForEntropy}%`,backgroundColor:this.colorGradient(relativePositionForEntropy)}}colorGradient(fadeFraction){let rgbColor1,rgbColor2,fade=fadeFraction/100*2;fade>=1?(fade-=1,rgbColor1=COLOR_GRADIENT.COLOR_2,rgbColor2=COLOR_GRADIENT.COLOR_3):(rgbColor1=COLOR_GRADIENT.COLOR_1,rgbColor2=COLOR_GRADIENT.COLOR_2);return`rgb(${Math.floor(rgbColor1.red+(rgbColor2.red-rgbColor1.red)*fade)},${Math.floor(rgbColor1.green+(rgbColor2.green-rgbColor1.green)*fade)},${Math.floor(rgbColor1.blue+(rgbColor2.blue-rgbColor1.blue)*fade)})`}getRelativeEntropyPosition(){return 100-99/(1+Math.pow(this.props.entropy/90,10))}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-complexity"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"complexity-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_react_extension_components_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_3__.A,{message:this.tooltipMessage},this.passwordStrengthLabel," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_4__.A,null))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar background"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar foreground "+(this.hasError()?"error":""),style:this.hasEntropy()?this.getProgresseBarStyle(this.props.entropy):null})))}}PasswordComplexity.defaultProps={entropy:null},PasswordComplexity.propTypes={entropy:prop_types__WEBPACK_IMPORTED_MODULE_5___default().number,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(PasswordComplexity);PasswordComplexity.__docgenInfo={description:"This component represents a password complexity with the strength, an entropy and a bar",methods:[{name:"entropy",docblock:"Get the entropy value formatted for display.\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Get the entropy value formatted for display."},{name:"tooltipMessage",docblock:"Get the translated tooltip message.\n@returns {JSX}",modifiers:["get"],params:[],returns:{type:{name:"JSX"}},description:"Get the translated tooltip message."},{name:"passwordStrengthLabel",docblock:"Get the password strength label to display based on the actual entropy or error state.\n@returns {JSX};",modifiers:["get"],params:[],returns:{description:";",type:{name:"JSX"}},description:"Get the password strength label to display based on the actual entropy or error state."},{name:"hasEntropy",docblock:"Has entropy\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has entropy"},{name:"hasError",docblock:"Has error\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has error"},{name:"getProgresseBarStyle",docblock:"Get the dynamic part style of the entropy progression bar.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get the dynamic part style of the entropy progression bar."},{name:"colorGradient",docblock:"Get the rgb color at a specific position in percentage\n@param {number} fadeFraction The fade fraction\n@returns {string} the color in rgb(0,0,0)",modifiers:[],params:[{name:"fadeFraction",description:"The fade fraction",type:{name:"number"},optional:!1}],returns:{description:"the color in rgb(0,0,0)",type:{name:"string"}},description:"Get the rgb color at a specific position in percentage"},{name:"getRelativeEntropyPosition",docblock:"Return a percentage value matching the position of the given entropy compared to the full value possible.\n@returns {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Return a percentage value matching the position of the given entropy compared to the full value possible."}],displayName:"PasswordComplexity",props:{entropy:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},error:{description:"",type:{name:"bool"},required:!1}}}},"./src/shared/context/PasswordPoliciesContext/PasswordPoliciesContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,WJ:()=>withPasswordPolicies});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const PasswordPoliciesContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({policies:null,getPolicies:()=>{},findPolicies:()=>{},shouldRunDictionaryCheck:()=>{}});class PasswordPoliciesContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{policies:null,getPolicies:this.getPolicies.bind(this),findPolicies:this.findPolicies.bind(this),shouldRunDictionaryCheck:this.shouldRunDictionaryCheck.bind(this)}}async findPolicies(){if(null!==this.getPolicies())return;const policies=await this.props.context.port.request("passbolt.password-policies.get");this.setState({policies})}getPolicies(){return this.state.policies}shouldRunDictionaryCheck(){return Boolean(this.state.policies?.external_dictionary_check)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Provider,{value:this.state},this.props.children)}}PasswordPoliciesContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(PasswordPoliciesContextProvider);function withPasswordPolicies(WrappedComponent){return class WithPasswordPolicies extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PasswordPoliciesContext.Consumer,null,(passwordPoliciesContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{passwordPoliciesContext,...this.props})))}}}PasswordPoliciesContextProvider.__docgenInfo={description:"The Password policies context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicies",docblock:"Find the password policies settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the password policies settings"},{name:"getPolicies",docblock:"Returns the policies for password setting.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policies for password setting."},{name:"shouldRunDictionaryCheck",docblock:"Returns true if the password policies allows external dictionary checks\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the password policies allows external dictionary checks"}],displayName:"PasswordPoliciesContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/resource/resourceFormEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>resourceFormEntity});var entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),resourceMetadataEntity=__webpack_require__("./src/shared/models/entity/resource/metadata/resourceMetadataEntity.js"),secretDataEntity=__webpack_require__("./src/shared/models/entity/secretData/secretDataEntity.js"),assertString=__webpack_require__("./node_modules/validator/es/lib/util/assertString.js");class SecretDataV4DefaultEntity extends secretDataEntity.A{constructor(dto={},options={}){super(dto,options)}static getSchema(){return{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096},description:{type:"string",maxLength:1e4,nullable:!0}}}}static createFromDefault(data={},options){return new SecretDataV4DefaultEntity({password:"",description:"",...data},options)}static getDefaultProp(propName){switch((0,assertString.A)(propName),propName){case"password":case"description":return"";default:return}}areSecretsDifferent(secretDto){return this.password!==secretDto.password||this.description!==secretDto.description}get password(){return this._props.password}get description(){return this._props.description}}const secretDataV4DefaultEntity=SecretDataV4DefaultEntity;class SecretDataV5DefaultEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["object_type","password"],properties:{...secretDataEntity.A.getSchema().properties,password:{type:"string",maxLength:4096,nullable:!0},description:{type:"string",maxLength:1e4,nullable:!0}}}}marshall(){this._props.object_type||(this._props.object_type=secretDataEntity.h)}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:""};return new SecretDataV5DefaultEntity({...defaultData,...data},options)}static getDefaultProp(propName){switch((0,assertString.A)(propName),propName){case"password":case"description":return"";default:return}}areSecretsDifferent(secretDto){return this.password!==secretDto.password||this.description!==secretDto.description}get password(){return this._props.password}get description(){return this._props.description}}const secretDataV5DefaultEntity=SecretDataV5DefaultEntity;var totpEntity=__webpack_require__("./src/shared/models/entity/totp/totpEntity.js");class SecretDataV5DefaultTotpEntity extends secretDataV5DefaultEntity{static getSchema(){return{type:"object",required:["object_type","password","totp"],properties:{...secretDataV5DefaultEntity.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}marshall(){this._props.object_type||(this._props.object_type=secretDataEntity.h)}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:"",totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV5DefaultTotpEntity({...defaultData,...data},options)}static getDefaultProp(propName){switch((0,assertString.A)(propName),propName){case"password":case"description":return"";case"totp":return totpEntity.A.createFromDefault({},{validate:!1}).toDto();default:return}}areSecretsDifferent(secretDto){const totp=this.totp.toDto(),isTotpDifferent=Object.keys(totp).some((key=>totp[key]!==secretDto.totp?.[key]));return this.password!==secretDto.password||isTotpDifferent||this.description!==secretDto.description}toDto(){const result=Object.assign({},this._props);return this.totp&&(result.totp=this.totp.toDto()),result}get totp(){return this._totp}}const secretDataV5DefaultTotpEntity=SecretDataV5DefaultTotpEntity;class SecretDataV5StandaloneTotpEntity extends secretDataEntity.A{constructor(dto,options={}){super(dto,options),this._props.totp&&(this._totp=new totpEntity.A(this._props.totp,{...options,clone:!1}),delete this._props.totp)}static getSchema(){return{type:"object",required:["object_type","totp"],properties:{...secretDataEntity.A.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}marshall(){this._props.object_type||(this._props.object_type=secretDataEntity.h)}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV5StandaloneTotpEntity({...defaultData,...data},options)}static getDefaultProp(propName){if((0,assertString.A)(propName),"totp"===propName)return totpEntity.A.createFromDefault({},{validate:!1}).toDto()}areSecretsDifferent(secretDto){const totp=this.totp.toDto();return Object.keys(totp).some((key=>totp[key]!==secretDto.totp?.[key]))}toDto(){const result=Object.assign({},this._props);return this.totp&&(result.totp=this.totp.toDto()),result}get totp(){return this._totp}}const secretDataV5StandaloneTotpEntity=SecretDataV5StandaloneTotpEntity;class SecretDataV5PasswordStringEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["object_type","password"],properties:{...secretDataEntity.A.getSchema().properties,password:{type:"string",maxLength:4096,nullable:!0}}}}marshall(){this._props.object_type||(this._props.object_type=secretDataEntity.h)}static createFromDefault(data={},options){const defaultData={object_type:secretDataEntity.h,password:""};return new SecretDataV5PasswordStringEntity({...defaultData,...data},options)}static getDefaultProp(propName){if((0,assertString.A)(propName),"password"===propName)return""}areSecretsDifferent(secretDto){return this.password!==secretDto.password}get password(){return this._props.password}}const secretDataV5PasswordStringEntity=SecretDataV5PasswordStringEntity;class SecretDataV4DefaultTotpEntity extends secretDataV4DefaultEntity{static getSchema(){return{type:"object",required:["password","totp"],properties:{...secretDataV4DefaultEntity.getSchema().properties,totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={password:"",totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV4DefaultTotpEntity({...defaultData,...data},options)}static getDefaultProp(propName){switch((0,assertString.A)(propName),propName){case"password":case"description":return"";case"totp":return totpEntity.A.createFromDefault({},{validate:!1}).toDto();default:return}}areSecretsDifferent(secretDto){const totp=this.totp.toDto(),isTotpDifferent=Object.keys(totp).some((key=>totp[key]!==secretDto.totp?.[key]));return this.password!==secretDto.password||isTotpDifferent||this.description!==secretDto.description}toDto(){const result=Object.assign({},this._props);return this.totp&&(result.totp=this.totp.toDto()),result}get totp(){return this._totp}}const secretDataV4DefaultTotpEntity=SecretDataV4DefaultTotpEntity;class SecretDataV4StandaloneTotpEntity extends secretDataEntity.A{constructor(dto,options={}){super(dto,options),this._props.totp&&(this._totp=new totpEntity.A(this._props.totp,{...options,clone:!1}),delete this._props.totp)}static getSchema(){return{type:"object",required:["totp"],properties:{totp:totpEntity.A.getSchema()}}}static get associations(){return{totp:totpEntity.A}}static createFromDefault(data={},options){const defaultData={totp:totpEntity.A.createFromDefault({},{validate:!1}).toDto()};return new SecretDataV4StandaloneTotpEntity({...defaultData,...data},options)}static getDefaultProp(propName){if((0,assertString.A)(propName),"totp"===propName)return totpEntity.A.createFromDefault({},{validate:!1}).toDto()}areSecretsDifferent(secretDto){const totp=this.totp.toDto();return Object.keys(totp).some((key=>totp[key]!==secretDto.totp?.[key]))}toDto(){const result=Object.assign({},this._props);return this.totp&&(result.totp=this.totp.toDto()),result}get totp(){return this._totp}}const secretDataV4StandaloneTotpEntity=SecretDataV4StandaloneTotpEntity;class secretDataV4PasswordStringEntity extends secretDataEntity.A{static getSchema(){return{type:"object",required:["password"],properties:{password:{type:"string",maxLength:4096}}}}static createFromDefault(data={},options){return new secretDataV4PasswordStringEntity({password:"",...data},options)}static getDefaultProp(propName){if((0,assertString.A)(propName),"password"===propName)return""}areSecretsDifferent(secretDto){return this.password!==secretDto.password}get password(){return this._props.password}}const secretData_secretDataV4PasswordStringEntity=secretDataV4PasswordStringEntity;var resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypeSchemasDefinition=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),ResourceEditCreateFormEnumerationTypes=__webpack_require__("./src/shared/models/resource/ResourceEditCreateFormEnumerationTypes.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class ResourceFormEntity extends entityV2.A{constructor(dtos={},options={}){super(dtos,options)}static get associations(){return{metadata:resourceMetadataEntity.A,secret:secretDataEntity.A}}static getSchema(){return{type:"object",required:["metadata","resource_type_id","secret"],properties:{id:{type:"string",format:"uuid"},resource_type_id:{type:"string",format:"uuid"},folder_parent_id:{type:"string",format:"uuid",nullable:!0},expired:{type:"string",format:"date-time",nullable:!0},metadata:resourceMetadataEntity.A.getSchema(),secret:{anyOf:[secretDataV5DefaultEntity.getSchema(),secretDataV5DefaultTotpEntity.getSchema(),secretDataV5StandaloneTotpEntity.getSchema(),secretDataV5PasswordStringEntity.getSchema(),secretDataV4DefaultEntity.getSchema(),secretDataV4DefaultTotpEntity.getSchema(),secretDataV4StandaloneTotpEntity.getSchema(),secretData_secretDataV4PasswordStringEntity.getSchema()]}}}}createAssociations(options={}){const validationErrors=new entityValidationError.A;if(this._props.resource_type_id&&options.resourceTypes instanceof resourceTypesCollection.A){this.resourceTypes=options.resourceTypes;const resourceType=this.resourceTypes.getFirstById(this._props.resource_type_id),secretEntityClass=this.getSecretEntityClassByResourceType(resourceType.slug);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");try{this._props.secret?this._secret=new secretEntityClass(this._props.secret,options):this._secret=secretEntityClass.createFromDefault(this._props.secret,options)}catch(error){validationErrors.addAssociationError("secret",error)}delete this._props.secret}try{super.createAssociations(options)}catch(error){Object.assign(validationErrors.details,error.details)}if(validationErrors.hasErrors())throw validationErrors}getSecretEntityClassByResourceType(resourceTypeSlug){switch((0,assertString.A)(resourceTypeSlug),resourceTypeSlug){case resourceTypeSchemasDefinition.gG:return secretDataV5DefaultEntity;case resourceTypeSchemasDefinition.a5:return secretDataV5DefaultTotpEntity;case resourceTypeSchemasDefinition.uQ:return secretDataV5StandaloneTotpEntity;case resourceTypeSchemasDefinition.Eh:return secretDataV5PasswordStringEntity;case resourceTypeSchemasDefinition.Bo:return secretDataV4DefaultEntity;case resourceTypeSchemasDefinition.fl:return secretDataV4DefaultTotpEntity;case resourceTypeSchemasDefinition.KY:return secretDataV4StandaloneTotpEntity;case resourceTypeSchemasDefinition._w:return secretData_secretDataV4PasswordStringEntity;default:return null}}addSecret(secret,options){if((0,assertString.A)(secret),!Object.values(ResourceEditCreateFormEnumerationTypes.D).includes(secret))return;const currentResourceType=this.resourceTypes.getFirstById(this.resourceTypeId),secretPropName=secret.match(/secret\.(.+)$/)?.[1];if(!this.isResourceTypeHasSecretProperty(currentResourceType,secret)){const resourceDto=this.toDto();resourceDto.secret[secretPropName]="";const mutateResourceType=this.resourceTypes.getResourceTypeMatchingResource(resourceDto,currentResourceType.version),secretEntityClass=this.getSecretEntityClassByResourceType(mutateResourceType.slug);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this.set("secret",new secretEntityClass(this.secret.toDto(),{validate:!1})),currentResourceType.isV4()&&currentResourceType.isPasswordString()&&(this.set("secret.description",this.metadata?.description||"",options),this.set("metadata.description",null,options)),this.set("resource_type_id",mutateResourceType.id),this.set("metadata.resource_type_id",mutateResourceType.id)}this.set(secret,this.secret.constructor.getDefaultProp(secretPropName),options)}deleteSecret(secret,options){if((0,assertString.A)(secret),!Object.values(ResourceEditCreateFormEnumerationTypes.D).includes(secret))return;const secretPropName=secret.match(/secret\.(.+)$/)?.[1],resourceDto=this.toDto();delete resourceDto.secret[secretPropName];const currentResourceType=this.resourceTypes.getFirstById(this.resourceTypeId),mutateResourceType=this.resourceTypes.getResourceTypeMatchingResource(resourceDto,currentResourceType.version);if(currentResourceType.id!==mutateResourceType.id){const secretEntityClass=this.getSecretEntityClassByResourceType(mutateResourceType.slug);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this.set("secret",new secretEntityClass(resourceDto.secret,options)),this.set("resource_type_id",mutateResourceType.id),this.set("metadata.resource_type_id",mutateResourceType.id)}else this.set("secret",new this._secret.constructor(resourceDto.secret,options))}convertToNote(options){const resourceType=this.resourceTypes.getFirstBySlug(resourceTypeSchemasDefinition.Bo),secretEntityClass=this.getSecretEntityClassByResourceType(resourceType?.slug);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this.set("secret",new secretEntityClass(this.secret.toDto(),options)),this.set("secret.description",this.metadata?.description||"",options),this.set("metadata.description",null,options),this.set("resource_type_id",resourceType.id),this.set("metadata.resource_type_id",resourceType.id)}convertToMetadataDescription(options){const resourceType=this.resourceTypes.getFirstBySlug(resourceTypeSchemasDefinition._w),secretEntityClass=this.getSecretEntityClassByResourceType(resourceType?.slug);if(!secretEntityClass)throw new Error("No secret association class has been found in resource types.");this.set("metadata.description",this.secret?.description||"",options),this.set("secret.description",null,options),this.set("secret",new secretEntityClass(this.secret.toDto(),options)),this.set("resource_type_id",resourceType.id),this.set("metadata.resource_type_id",resourceType.id)}isResourceTypeHasSecretProperty(resourceType,secretProp){switch((0,assertString.A)(secretProp),secretProp){case ResourceEditCreateFormEnumerationTypes.D.PASSWORD:return resourceType.hasPassword();case ResourceEditCreateFormEnumerationTypes.D.TOTP:return resourceType.hasTotp();case ResourceEditCreateFormEnumerationTypes.D.NOTE:return resourceType.hasSecretDescription();default:return!1}}get resourceTypeId(){return this._props.resource_type_id}get metadata(){return this._metadata}get secret(){return this._secret}toDto(){const result=Object.assign({},this._props);return this._metadata&&(result.metadata=this.metadata.toDto()),this._secret&&(result.secret=this.secret.toDto()),result}toResourceDto(){const result=Object.assign({},this._props);return this._metadata&&(result.metadata=this.metadata.toDto()),result}toSecretDto(){return this._secret?this.secret.toDto():null}verifyHealth(){let validationError=null;return this.secret&&(validationError=this.validateMaxLengthAgainstSchema(this.secret.toDto(),this.secret,validationError),this.secret.totp&&(validationError=this.validateMaxLengthAgainstSchema(this.secret.totp.toDto(),this.secret.totp,validationError))),this.metadata&&(validationError=this.validateMaxLengthAgainstSchema(this.metadata.toDto(),this.metadata,validationError)),validationError}validateMaxLengthAgainstSchema(dataObject,entity,currentError){let error=currentError;return Object.entries(dataObject).forEach((([fieldName,fieldValue])=>{const fieldSchema=entity.constructor.getSchema().properties[fieldName];if(fieldSchema)if("array"===fieldSchema.type&&Array.isArray(fieldValue)){const maxItemLength=fieldSchema.items?.maxLength;void 0!==maxItemLength&&fieldValue.forEach(((value,index)=>{value?.length>=maxItemLength&&(error=error||new entityValidationError.A,error.addError(`${fieldName}.${index}`,"maxLength",`${fieldName} at index ${index} exceeds maximum length limit`))}))}else{const maxLength=fieldSchema.maxLength;void 0!==maxLength&&fieldValue?.length>=maxLength&&(error=error||new entityValidationError.A,error.addError(fieldName,"maxLength",`${fieldName} exceeds maximum length limit`))}})),error}validate(options={}){return super.validate(Object.assign(options,{skipSchemaAssociationValidation:!0}))}removeEmptySecret(options){(this.secret instanceof secretDataV4DefaultTotpEntity||this.secret instanceof secretDataV5DefaultTotpEntity)&&(this.secret.totp.hasSecretKey||this.deleteSecret(ResourceEditCreateFormEnumerationTypes.D.TOTP,options))}addRequiredSecret(options){const resourceType=this.resourceTypes.getFirstById(this._props.resource_type_id);resourceType.hasPassword()&&null==this.secret.password&&(resourceType.isV5()?this.secret.set("password",null,options):resourceType.isV4()&&this.secret.set("password","",options))}marshall(){this._props.metadata||(this._props.metadata={resource_type_id:this._props.resource_type_id,name:"",uris:[],object_type:resourceMetadataEntity.A.METADATA_OBJECT_TYPE})}}const resourceFormEntity=ResourceFormEntity},"./src/shared/models/entity/secretData/secretDataEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,h:()=>SECRET_DATA_OBJECT_TYPE});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SECRET_DATA_OBJECT_TYPE="PASSBOLT_SECRET_DATA";class SecretDataEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:[],properties:{object_type:{type:"string",enum:[SECRET_DATA_OBJECT_TYPE]}}}}get objectType(){return this._props.object_type}}const __WEBPACK_DEFAULT_EXPORT__=SecretDataEntity},"./src/shared/models/entity/totp/totpEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,e:()=>SUPPORTED_TOTP_ALGORITHMS});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");const SUPPORTED_TOTP_ALGORITHMS=["SHA1","SHA256","SHA512"],DEFAULT_ALGORITHM=SUPPORTED_TOTP_ALGORITHMS[0];class TotpEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["secret_key","period","digits","algorithm"],properties:{secret_key:{type:"string",minLength:1,pattern:/^[A-Z2-7]+=*$/,maxLength:1024},period:{type:"integer",minimum:1},digits:{type:"integer",minimum:6,maximum:8},algorithm:{type:"string",enum:SUPPORTED_TOTP_ALGORITHMS}}}}marshall(){"string"==typeof this._props.secret_key&&(this._props.secret_key=this._props.secret_key?.replace(/(\W|_|\s)/g,"").toUpperCase()),"string"==typeof this._props.algorithm&&(this._props.algorithm=this._props.algorithm?.toUpperCase()),super.marshall()}static createFromDefault(data={},options){return new TotpEntity({...{secret_key:"",period:30,digits:6,algorithm:DEFAULT_ALGORITHM},...data},options)}static createTotpFromUrl(url,options){const totp={secret_key:url.searchParams.get("secret"),algorithm:url.searchParams.get("algorithm")||DEFAULT_ALGORITHM,digits:parseInt(url.searchParams.get("digits"),10)||6,period:parseInt(url.searchParams.get("period"),10)||30};return new TotpEntity(totp,options)}get secretKey(){return this._props.secret_key}get period(){return this._props.period}get digits(){return this._props.digits}get algorithm(){return this._props.algorithm}get hasSecretKey(){return this.secretKey?.length>0}}const __WEBPACK_DEFAULT_EXPORT__=TotpEntity},"./src/shared/models/resource/ResourceEditCreateFormEnumerationTypes.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ResourceEditCreateFormEnumerationTypes});const ResourceEditCreateFormEnumerationTypes={PASSWORD:"secret.password",TOTP:"secret.totp",NOTE:"secret.description",DESCRIPTION:"metadata.description",URIS:"metadata.uris"}}}]);