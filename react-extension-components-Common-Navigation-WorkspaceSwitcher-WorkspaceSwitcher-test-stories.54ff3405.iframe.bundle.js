/*! For license information please see react-extension-components-Common-Navigation-WorkspaceSwitcher-WorkspaceSwitcher-test-stories.54ff3405.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[3989],{"./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultWorkspaceSwitcher:()=>DefaultWorkspaceSwitcher,__namedExportsOrder:()=>__namedExportsOrder,default:()=>WorkspaceSwitcher_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),WorkspaceSwitcher=__webpack_require__("./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js");const WorkspaceSwitcher_test_stories={title:"Foundations/WorkspaceSwitcher",component:WorkspaceSwitcher.A},DefaultWorkspaceSwitcher={args:((data={})=>({isUserAdmin:!0,isUserWorkspaceVisible:!0,...data}))(),render:args=>react.createElement("div",{style:{paddingLeft:"25rem",display:"flex"}},react.createElement(WorkspaceSwitcher.A,args))},__namedExportsOrder=["DefaultWorkspaceSwitcher"];DefaultWorkspaceSwitcher.parameters={...DefaultWorkspaceSwitcher.parameters,docs:{...DefaultWorkspaceSwitcher.parameters?.docs,source:{originalSource:'{\n  args: defaultProps(),\n  render: args => <div style={{\n    paddingLeft: "25rem",\n    display: "flex"\n  }}>\n    <WorkspaceSwitcher {...args} />\n  </div>\n}',...DefaultWorkspaceSwitcher.parameters?.docs?.source}}}},"./src/img/svg/settings.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSettings(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M24.5 4.667h-8.167M11.667 4.667H3.5M24.5 14H14M9.333 14H3.5M24.5 23.333h-5.833M14 23.333H3.5M16.333 2.333V7M9.333 11.667v4.667M18.667 21v4.667"})))}},"./src/img/svg/users.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUsers(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none",viewBox:"0 0 18 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.741 14.338V12.89a2.77 2.77 0 0 0-.826-2.04 2.82 2.82 0 0 0-2.04-.825H4.248a2.825 2.825 0 0 0-2.723 2.865v1.448M7.143 7.26a2.815 2.815 0 1 0-2.815-2.814 2.825 2.825 0 0 0 2.815 2.815M16.994 14.338V12.89a2.85 2.85 0 0 0-.592-1.724 2.8 2.8 0 0 0-1.52-1.02M12.068 1.724a2.74 2.74 0 0 1 1.52 1.02 2.804 2.804 0 0 1 0 3.446 2.74 2.74 0 0 1-1.52 1.02"})))}},"./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,K:()=>WORKSPACE_ENUM});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/settings.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/users.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js");const WORKSPACE_ENUM={RESOURCE:"RESOURCE",ORGANISATION_SETTINGS:"ORGANISATION_SETTINGS",USER_AND_GROUPS:"USER_AND_GROUPS",USER_PROFILE:"USER_PROFILE"};class WorkspaceSwitcher extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){return this.props.isUserAdmin||this.props.isUserWorkspaceVisible?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"workspace-switcher"},this.props.isUserAdmin?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__.A,{className:"button-transparent"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_7__.A,{direction:"over"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.ORGANISATION_SETTINGS?"active":""),onClick:this.props.navigationContext.onGoToAdministrationRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Organisation Settings")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.USER_AND_GROUPS?"active":""),onClick:this.props.navigationContext.onGoToUsersRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Manage Users & Groups")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__.A,null))))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent",onClick:this.props.navigationContext.onGoToUsersRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__.A,null))):null}}WorkspaceSwitcher.propTypes={isUserAdmin:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,isUserWorkspaceVisible:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,currentWorkspace:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_9__.qN)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__.x6)(WorkspaceSwitcher));WorkspaceSwitcher.__docgenInfo={description:"",methods:[],displayName:"WorkspaceSwitcher",props:{isUserAdmin:{description:"",type:{name:"bool"},required:!1},isUserWorkspaceVisible:{description:"",type:{name:"bool"},required:!1},currentWorkspace:{description:"",type:{name:"string"},required:!1},navigationContext:{description:"",type:{name:"object"},required:!1}}}},"./src/shared/context/Rbac/RbacContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{eu:()=>RbacContext,Ay:()=>Rbac_RbacContext,x6:()=>withRbac});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js"),denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js");class GetControlFunctionService{static getByRbac(rbac){const controlFunction=controlFunctionEnumeration.HJ[rbac.controlFunction];return controlFunction||(console.warn(`Could not find control function for the given rbac entity (${rbac.id})`),denyControlFunction.A)}static getDefaultForAdminAndUiAction(uiActionName){return controlFunctionEnumeration.Y9[uiActionName]||allowControlFunction.A}static getDefaultForUserAndUiAction(uiActionName){return controlFunctionEnumeration.uy[uiActionName]||allowControlFunction.A}}var roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class CanUse{static canRoleUseUiAction(user,rbacs,actionName){if(window.chrome?.webview){const rbac=rbacs.findRbacByActionName(actionName);return this.getByRbacOrDefault(rbac,actionName,user)}const role=new roleEntity.A(user.role);if(role.isAdmin()){return GetControlFunctionService.getDefaultForAdminAndUiAction(actionName).execute()}const rbac=rbacs.findRbacByRoleAndUiActionName(role,actionName);return this.getByRbacOrDefault(rbac,actionName,user)}static getByRbacOrDefault(rbac,actionName,user){if(rbac){return GetControlFunctionService.getByRbac(rbac).execute(user)}return GetControlFunctionService.getDefaultForUserAndUiAction(actionName).execute()}}const RbacContext=react.createContext({canIUseUiAction:()=>{}});class RbacContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{canIUseUiAction:this.canIUseUiAction.bind(this)}}canIUseUiAction(actionName){return CanUse.canRoleUseUiAction(this.props.context.loggedInUser,this.props.context.rbacs,actionName)}render(){return react.createElement(RbacContext.Provider,{value:this.state},this.props.children)}}RbacContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any};const Rbac_RbacContext=(0,AppContext.L)(RbacContextProvider);function withRbac(WrappedComponent){return class WithRbac extends react.Component{render(){return react.createElement(RbacContext.Consumer,null,(rbacContext=>react.createElement(WrappedComponent,{rbacContext,...this.props})))}}}RbacContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"canIUseUiAction",docblock:"Check if the user can use the given ui action.\n@param {string} actionName The name of the UI action to check for.\n@return {boolean}",modifiers:[],params:[{name:"actionName",description:"The name of the UI action to check for.",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Check if the user can use the given ui action."}],displayName:"RbacContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/role/roleEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class RoleEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",enum:[RoleEntity.ROLE_ADMIN,RoleEntity.ROLE_USER,RoleEntity.ROLE_GUEST,RoleEntity.ROLE_ROOT]},description:{type:"string",maxLength:255},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get name(){return this._props.name}get description(){return this._props.description||null}get created(){return this._props.created||null}get modified(){return this._props.modified||null}isAdmin(){return this.name===RoleEntity.ROLE_ADMIN}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_ROOT(){return"root"}}const __WEBPACK_DEFAULT_EXPORT__=RoleEntity},"./src/shared/services/rbacs/controlFunctionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HJ:()=>controlFunctionResolutions,HK:()=>controlFunctions,Y9:()=>defaultAdminUiActionControlResolution,uy:()=>defaultUserUiActionControlResolution});var allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js"),ControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowIfGroupManagerInOneGroupFunction extends ControlFunction.A{static execute(user){return user.groups_users.some((group=>group.is_admin))}}var denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");const controlFunctions={ALLOW:"Allow",DENY:"Deny",ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP:"AllowIfGroupManagerInOneGroup"},controlFunctionResolutions={[controlFunctions.ALLOW]:allowControlFunction.A,[controlFunctions.DENY]:denyControlFunction.A,[controlFunctions.ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP]:AllowIfGroupManagerInOneGroupFunction},defaultAdminUiActionControlResolution={[uiActionEnumeration.e.FOLDERS_USE]:controlFunctionResolutions[controlFunctions.ALLOW]},defaultUserUiActionControlResolution={[uiActionEnumeration.e.ADMINSTRATION_VIEW_WORKSPACE]:controlFunctionResolutions[controlFunctions.DENY]}},"./src/shared/services/rbacs/controlFunctions/ControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ControlFunction});class ControlFunction{}},"./src/shared/services/rbacs/controlFunctions/allowControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AllowControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!0}}},"./src/shared/services/rbacs/controlFunctions/denyControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DenyControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class DenyControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!1}}},"./src/shared/services/rbacs/uiActionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>uiActions});const uiActions={FOLDERS_USE:"Folders.use",RESOURCES_IMPORT:"Resources.import",RESOURCES_EXPORT:"Resources.export",RESOURCES_SEE_ACTIVITIES:"Resources.seeActivities",RESOURCES_SEE_COMMENTS:"Resources.seeComments",SECRETS_PREVIEW:"Secrets.preview",SECRETS_COPY:"Secrets.copy",SHARE_VIEW_LIST:"Share.viewList",TAGS_USE:"Tags.use",USERS_VIEW_WORKSPACE:"Users.viewWorkspace",MOBILE_TRANSFER:"Mobile.transfer",DESKTOP_TRANSFER:"Desktop.transfer",PROFIL_ACCOUNT_RECOVERY:"Profil.accountRecovery",ADMINSTRATION_VIEW_WORKSPACE:"Administration.viewWorkspace",DUO_CONFIGURATION:"Duo.configuration",AVATAR_UPLOAD:"Avatar.upload",SHARE_FOLDER:"Folders.share"}},"./node_modules/validator/es/lib/util/assertString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function assertString(input){if(!("string"==typeof input||input instanceof String)){var invalidType=_typeof(input);throw null===input?invalidType="null":"object"===invalidType&&(invalidType=input.constructor.name),new TypeError("Expected a string but received a ".concat(invalidType))}}__webpack_require__.d(__webpack_exports__,{A:()=>assertString})}}]);