/*! For license information please see react-extension-components-Administration-DisplayAdministrationMetadataGettingStarted-DisplayAdministrationMetadataGettingStarted-test-stories.ab1655ac.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[9977],{"./src/react-extension/components/Administration/DisplayAdministrationMetadataGettingStarted/DisplayAdministrationMetadataGettingStarted.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Disabled:()=>Disabled,Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayAdministrationMetadataGettingStarted_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),ActionFeedbackContext_test_data=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.test.data.js");const defaultAdministrationEncryptedMetadataGettingStartedContext=(data={})=>({get:jest.fn(),metadataKeysGettingStarted:null,updateLocalStorage:jest.fn(),service:{findGettingStartedSettings:jest.fn()},...data});var AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),AdministrationWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.test.data.js"),ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");function defaultProps(data={}){const defaultData={context:(0,ExtAppContext_test_data.st)(),administrationEncryptedMetadataGettingStartedContext:defaultAdministrationEncryptedMetadataGettingStartedContext(),metadataGettingStartedSettings:{enabled:!0},administrationWorkspaceContext:(0,AdministrationWorkspaceContext_test_data.M)({selectedAdministration:AdministrationWorkspaceContext.UZ.METADATA_GETTING_STARTED}),actionFeedbackContext:(0,ActionFeedbackContext_test_data.M)(),history:{push:jest.fn()},createPortal:jest.fn,t:text=>text};return defaultData.context.siteSettings.canIUse=()=>!0,Object.assign(defaultData,data)}var DisplayAdministrationMetadataGettingStarted=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationMetadataGettingStarted/DisplayAdministrationMetadataGettingStarted.js"),react_router_dom_min=__webpack_require__("./node_modules/react-router-dom/cjs/react-router-dom.min.js"),DisplayAdministrationWorkspaceBreadcrumb=__webpack_require__("./src/react-extension/components/Administration/DisplayAdministrationWorkspaceBreadcrumb/DisplayAdministrationWorkspaceBreadcrumb.js"),TranslationProvider=__webpack_require__("./src/react-extension/components/Common/Internationalisation/TranslationProvider.js");const DisplayAdministrationMetadataGettingStarted_test_stories={title:"Components/Administration/DisplayAdministrationMetadataGettingStarted",component:DisplayAdministrationMetadataGettingStarted.A,decorators:[(Story,{args})=>react.createElement(react_router_dom_min.fS,{initialEntries:["/app/administration/content-types/metadata-getting-started"]},react.createElement(TranslationProvider.A,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},react.createElement("div",{id:"container",className:"page administration"},react.createElement("div",{id:"app",className:"app",style:{margin:"-1rem"}},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel left"},react.createElement("div",{className:"sidebar-content"},react.createElement("div",{className:"top-bar-left-navigation"},react.createElement("div",{className:"navigation"})),react.createElement("div",{className:"sidebar-content-left"}))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"}),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(DisplayAdministrationWorkspaceBreadcrumb.A,{administrationWorkspaceContext:args.administrationWorkspaceContext})),react.createElement("div",{className:"main-page"},react.createElement(Story,args))),react.createElement("div",{className:"help-panel"},react.createElement("div",{className:"sidebar-help"},react.createElement("div",{id:"administration-help-panel"}))))))))))]},Initial={args:defaultProps()},Disabled={args:function defaultDisabledProps(data={}){return defaultProps({...data,administrationEncryptedMetadataGettingStartedContext:defaultAdministrationEncryptedMetadataGettingStartedContext(),metadataGettingStartedSettings:{enabled:!1}})}()},__namedExportsOrder=["Initial","Disabled"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:"{\n  args: defaultProps()\n}",...Initial.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"{\n  args: defaultDisabledProps()\n}",...Disabled.parameters?.docs?.source}}}},"./node_modules/react-router-dom/cjs/react-router-dom.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var reactRouter=__webpack_require__("./node_modules/react-router/esm/react-router.js"),React=_interopDefault(__webpack_require__("./node_modules/react/index.js")),history=__webpack_require__("./node_modules/history/esm/history.js");__webpack_require__("./node_modules/prop-types/index.js"),__webpack_require__("./node_modules/tiny-warning/dist/tiny-warning.esm.js");var invariant=_interopDefault(__webpack_require__("./node_modules/tiny-invariant/dist/tiny-invariant.cjs.js"));function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),_setPrototypeOf(e.prototype.constructor=e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n}var BrowserRouter=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).history=history.createBrowserHistory(e.props),e}return _inheritsLoose(e,n),e.prototype.render=function(){return React.createElement(reactRouter.Router,{history:this.history,children:this.props.children})},e}(React.Component),HashRouter=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).history=history.createHashHistory(e.props),e}return _inheritsLoose(e,n),e.prototype.render=function(){return React.createElement(reactRouter.Router,{history:this.history,children:this.props.children})},e}(React.Component),resolveToLocation=function(e,t){return"function"==typeof e?e(t):e},normalizeToLocation=function(e,t){return"string"==typeof e?history.createLocation(e,null,null,t):e},forwardRefShim=function(e){return e},forwardRef=React.forwardRef;void 0===forwardRef&&(forwardRef=forwardRefShim);var LinkAnchor=forwardRef((function(e,t){var r=e.innerRef,o=e.navigate,n=e.onClick,a=_objectWithoutPropertiesLoose(e,["innerRef","navigate","onClick"]),i=a.target,c=_extends({},a,{onClick:function(t){try{n&&n(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||i&&"_self"!==i||function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),o())}});return c.ref=forwardRefShim!==forwardRef&&t||r,React.createElement("a",c)})),Link=forwardRef((function(e,a){var t=e.component,i=void 0===t?LinkAnchor:t,c=e.replace,u=e.to,f=e.innerRef,s=_objectWithoutPropertiesLoose(e,["component","replace","to","innerRef"]);return React.createElement(reactRouter.__RouterContext.Consumer,null,(function(r){r||invariant(!1);var o=r.history,e=normalizeToLocation(resolveToLocation(u,r.location),r.location),t=e?o.createHref(e):"",n=_extends({},s,{href:t,navigate:function(){var e=resolveToLocation(u,r.location),t=history.createPath(r.location)===history.createPath(normalizeToLocation(e));(c||t?o.replace:o.push)(e)}});return forwardRefShim!==forwardRef?n.ref=a||f:n.innerRef=f,React.createElement(i,n)}))})),forwardRefShim$1=function(e){return e},forwardRef$1=React.forwardRef;void 0===forwardRef$1&&(forwardRef$1=forwardRefShim$1);var NavLink=forwardRef$1((function(e,s){var t=e["aria-current"],l=void 0===t?"page":t,r=e.activeClassName,p=void 0===r?"active":r,R=e.activeStyle,h=e.className,y=e.exact,d=e.isActive,m=e.location,v=e.sensitive,b=e.strict,P=e.style,w=e.to,x=e.innerRef,g=_objectWithoutPropertiesLoose(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return React.createElement(reactRouter.__RouterContext.Consumer,null,(function(e){e||invariant(!1);var t=m||e.location,r=normalizeToLocation(resolveToLocation(w,t),t),o=r.pathname,n=o&&o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),a=n?reactRouter.matchPath(t.pathname,{path:n,exact:y,sensitive:v,strict:b}):null,i=!!(d?d(a,t):a),c="function"==typeof h?h(i):h,u="function"==typeof P?P(i):P;i&&(c=function joinClassnames(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(c,p),u=_extends({},u,R));var f=_extends({"aria-current":i&&l||null,className:c,style:u,to:r},g);return forwardRefShim$1!==forwardRef$1?f.ref=s||x:f.innerRef=x,React.createElement(Link,f)}))}));Object.defineProperty(exports,"fS",{enumerable:!0,get:function(){return reactRouter.MemoryRouter}}),Object.defineProperty(exports,"y",{enumerable:!0,get:function(){return reactRouter.withRouter}})},"./src/react-extension/components/Administration/DisplayAdministrationMetadataGettingStarted/DisplayAdministrationMetadataGettingStarted.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/utils/portals.js"),_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/info.svg"),_contexts_Administration_AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/Administration/AdministrationEncryptedMetadataGettingStartedContext/AdministrationEncryptedMetadataGettingStartedContext.js"),_shared_services_serviceWorker_metadata_gettingStartedWithEncryptedMetadataServiceWorkerService__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/services/serviceWorker/metadata/gettingStartedWithEncryptedMetadataServiceWorkerService.js"),react_router_dom_cjs_react_router_dom_min__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-router-dom/cjs/react-router-dom.min.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayAdministrationMetadataGettingStarted extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}componentDidUpdate(_,prevState){if(null!==prevState.canBeConfigured)return;const canBeConfigured=!0===this.props.metadataGettingStartedSettings?.enabled;this.setState({canBeConfigured})}get defaultState(){return{canBeConfigured:this.props.metadataGettingStartedSettings?.enabled??null,isProcessing:!1,enableEncryptedMetadata:!0}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.save=this.save.bind(this)}handleInputChange(event){if(this.hasAllInputDisabled())return;const{value,name}=event.target;this.setState({[name]:"true"===value})}hasAllInputDisabled(){return!0!==this.state.canBeConfigured||this.props.context.siteSettings.isFeatureBeta("metadata")||this.state.isProcessing}handleFormSubmit(event){event.preventDefault(),this.save()}async save(){if(this.state.isProcessing)return;const service=new _shared_services_serviceWorker_metadata_gettingStartedWithEncryptedMetadataServiceWorkerService__WEBPACK_IMPORTED_MODULE_7__.A(this.props.context.port);this.setState({isProcessing:!0});try{this.state.enableEncryptedMetadata?await service.enableEncryptedMetadata():await service.keepLegacyClearTextMetadata(),await this.props.administrationEncryptedMetadataGettingStartedContext.update(),await this.props.actionFeedbackContext.displaySuccess(this.props.t("The metadata encryption strategy has been saved successfully.")),this.props.history.push("/app/administration")}catch(error){console.error(error),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_9__.A,{error})}this.setState({isProcessing:!1})}render(){const isFeatureBeta=this.props.context.siteSettings.isFeatureBeta("metadata");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"metadata-getting-started",className:"main-column"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,"data-testid":"submit-form"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Getting started"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Some of the latest features such as the new resource types require the encrypted metadata feature to be enabled."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Here you can choose to enable it or do it later when ready. We recommend making a backup before, just in case.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enable Encrypted Metadata")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"radiolist-alt"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input radio "+(this.state.enableEncryptedMetadata?"checked":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",value:"true",onChange:this.handleInputChange,name:"enableEncryptedMetadata",checked:this.state.enableEncryptedMetadata,id:"enable-encrypted-metadata",disabled:this.hasAllInputDisabled()}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"enable-encrypted-metadata"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name bold"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Enable encrypted metadata and new resource types (recommended)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Selecting this option will improve the security; enable encrypted metadata and new resource types.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input radio "+(this.state.enableEncryptedMetadata?"":"checked")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",value:"false",onChange:this.handleInputChange,name:"enableEncryptedMetadata",checked:!this.state.enableEncryptedMetadata,id:"keep-legacy-cleartext-metadata",disabled:this.hasAllInputDisabled()}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"keep-legacy-cleartext-metadata"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name bold"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Keep legacy cleartext metadata")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Selecting this option will not change your current configuration. You will be able to enable encrypted metadata and new resource types later."))))))),isFeatureBeta&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-banner"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Warning:"))," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Your current API version includes beta support for encrypted metadata and new resource types.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"To ensure stability and avoid potential issues, upgrade to the latest version before enabling these features.")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"save-settings",className:"button primary form",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleFormSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Save")))),(0,_shared_utils_portals__WEBPACK_IMPORTED_MODULE_4__.m)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-help-section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Need help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For more information about the content type support and migration, checkout the dedicated page on the official website.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/docs/admin/metadata-encryption/"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_info_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Read the documentation")))),document.getElementById("administration-help-panel")))}}DisplayAdministrationMetadataGettingStarted.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,metadataGettingStartedSettings:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,administrationEncryptedMetadataGettingStartedContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,createPortal:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,t:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_router_dom_cjs_react_router_dom_min__WEBPACK_IMPORTED_MODULE_11__.y)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_8__.z9)((0,_contexts_Administration_AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext__WEBPACK_IMPORTED_MODULE_6__.Ns)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayAdministrationMetadataGettingStarted))))));DisplayAdministrationMetadataGettingStarted.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"hasAllInputDisabled",docblock:"Check if all inputs are disabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if all inputs are disabled"},{name:"handleFormSubmit",docblock:"Handle form submission that can be trigger when hitting `enter`\n@param {Event} event The html event triggering the form submit.",modifiers:[],params:[{name:"event",description:"The html event triggering the form submit.",type:{name:"Event"},optional:!1}],returns:null,description:"Handle form submission that can be trigger when hitting `enter`"},{name:"save",docblock:"Save the settings\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Save the settings"}],displayName:"DisplayAdministrationMetadataGettingStarted",props:{context:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},metadataGettingStartedSettings:{description:"",type:{name:"object"},required:!1},administrationEncryptedMetadataGettingStartedContext:{description:"",type:{name:"object"},required:!1},createPortal:{description:"",type:{name:"func"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/ActionFeedbackContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>ActionFeedbackContextProvider,b_:()=>ActionFeedbackContext,ot:()=>withActionFeedback});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const ActionFeedbackContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({feedbacks:[],displaySuccess:()=>{},displayWarning:()=>{},displayError:()=>{},remove:()=>{}});class ActionFeedbackContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{feedbacks:[],displaySuccess:this.displaySuccess.bind(this),displayWarning:this.displayWarning.bind(this),displayError:this.displayError.bind(this),remove:this.remove.bind(this)}}displaySuccess(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),type:"success",message:feedbackToAdd}]})}displayWarning(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),type:"warning",message:feedbackToAdd}]})}displayError(feedbackToAdd){this.setState({feedbacks:[...this.state.feedbacks,{id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)(),type:"error",message:feedbackToAdd}]})}remove(feedbackToRemove){this.setState({feedbacks:this.state.feedbacks.filter((feedback=>feedbackToRemove.id!==feedback.id))})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Provider,{value:this.state},this.props.children)}}function withActionFeedback(WrappedComponent){return class WithActionFeedback extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionFeedbackContext.Consumer,null,(actionFeedbackContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{actionFeedbackContext,...this.props})))}}}ActionFeedbackContextProvider.displayName="ActionFeedbackContextProvider",ActionFeedbackContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},ActionFeedbackContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"displaySuccess",docblock:"Display the feedback in a success mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a success mode"},{name:"displayWarning",docblock:"Display the feedback in a warning mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a warning mode"},{name:"displayError",docblock:"Display the feedback in a error mode\n@param feedbackToAdd A feedback",modifiers:[],params:[{name:"feedbackToAdd",description:"A feedback",optional:!1}],returns:null,description:"Display the feedback in a error mode"},{name:"remove",docblock:"Remove the feedback\n@param feedbackToRemove A feedback",modifiers:[],params:[{name:"feedbackToRemove",description:"A feedback",optional:!1}],returns:null,description:"Remove the feedback"}],displayName:"ActionFeedbackContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ActionFeedbackContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultActionFeedbackContext(data={}){const defaultContext={displaySuccess:jest.fn(),displayError:jest.fn(),remove:jest.fn()};return Object.assign(defaultContext,data)}__webpack_require__.d(__webpack_exports__,{M:()=>defaultActionFeedbackContext})},"./src/react-extension/contexts/Administration/AdministrationEncryptedMetadataGettingStartedContext/AdministrationEncryptedMetadataGettingStartedContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext,Ns:()=>withAdministrationEncryptedMetadataGettingStarted});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),metadataGettingStartedSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataGettingStartedSettingsEntity.js"),abstractService=__webpack_require__("./src/shared/services/api/abstract/abstractService.js"),entityV2=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),PassboltResponsePaginationHeaderEntity=__webpack_require__("./src/shared/models/entity/apiService/PassboltResponsePaginationHeaderEntity.js");class PassboltResponseHeaderEntity extends entityV2.A{constructor(dto,options={}){super(dto,options),this._props.pagination&&(this._pagination=new PassboltResponsePaginationHeaderEntity.A(this._props.pagination,options),delete this._props.pagination)}static getSchema(){return{type:"object",required:[],properties:{pagination:{type:"object"}}}}get pagination(){return this._pagination||null}toDto(){const result=Object.assign({},this._props);return this._pagination&&(result.pagination=this._pagination.toDto()),result}}const apiService_PassboltResponseHeaderEntity=PassboltResponseHeaderEntity;class PassboltResponseEntity extends entityV2.A{constructor(dto,options={}){super(dto,options),this._props.header&&(this._header=new apiService_PassboltResponseHeaderEntity(this._props.header,options),delete this._props.header)}static getSchema(){return{type:"object",required:["header","body"],properties:{header:{type:"object"},body:{anyOf:[{type:"string"},{type:"object"}],nullable:!0}}}}get header(){return this._header}get body(){return this._props.body}}const apiService_PassboltResponseEntity=PassboltResponseEntity;class MetadataGettingStartedSettingsApiService extends abstractService.A{constructor(apiClientOptions){super(apiClientOptions,"metadata/settings/")}async get(){const response=await this.apiClient.get("getting-started");return new apiService_PassboltResponseEntity(response)}}var gettingStartedWithEncryptedMetadataServiceWorkerService=__webpack_require__("./src/shared/services/serviceWorker/metadata/gettingStartedWithEncryptedMetadataServiceWorkerService.js");const AdministrationEncryptedMetadataGettingStartedContext=react.createContext({get:()=>{},metadataGettingStartedSettings:null,update:()=>{}});class AdministrationEncryptedMetadataGettingStartedContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.runningUpdatePromise=null}get defaultState(){return{get:this.get.bind(this),metadataGettingStartedSettings:null,update:this.update.bind(this)}}set(metadataGettingStartedSettings){this.setState({metadataGettingStartedSettings})}get(){return null===this.state.metadataGettingStartedSettings?(this.update(),null):this.state.metadataGettingStartedSettings}async update(){if(null===this.runningUpdatePromise){this.runningUpdatePromise=this.props.service.findGettingStartedSettings();const metadataGettingStartedSettings=await this.runningUpdatePromise;this.set(metadataGettingStartedSettings),this.runningUpdatePromise=null}else await this.runningUpdatePromise}render(){return react.createElement(AdministrationEncryptedMetadataGettingStartedContext.Provider,{value:this.state},this.props.children)}}AdministrationEncryptedMetadataGettingStartedContextProvider.propTypes={service:prop_types_default().oneOfType([prop_types_default().instanceOf(class FindMetadataGettingStartedSettingsService{constructor(apiClientOptions){this.metadataGettingStartedSettingsApiService=new MetadataGettingStartedSettingsApiService(apiClientOptions)}async findGettingStartedSettings(){try{const passboltResponse=await this.metadataGettingStartedSettingsApiService.get();return new metadataGettingStartedSettingsEntity.A(passboltResponse.body)}catch(e){return console.error(e),metadataGettingStartedSettingsEntity.A.createFromDefault()}}}),prop_types_default().instanceOf(gettingStartedWithEncryptedMetadataServiceWorkerService.A)]),children:prop_types_default().any};const AdministrationEncryptedMetadataGettingStartedContext_AdministrationEncryptedMetadataGettingStartedContext=AdministrationEncryptedMetadataGettingStartedContextProvider;function withAdministrationEncryptedMetadataGettingStarted(WrappedComponent){return class withAdministrationEncryptedMetadataGettingStarted extends react.Component{render(){return react.createElement(AdministrationEncryptedMetadataGettingStartedContext.Consumer,null,(administrationEncryptedMetadataGettingStartedContext=>react.createElement(WrappedComponent,{administrationEncryptedMetadataGettingStartedContext,metadataGettingStartedSettings:administrationEncryptedMetadataGettingStartedContext.get(),...this.props})))}}}AdministrationEncryptedMetadataGettingStartedContextProvider.__docgenInfo={description:"The metadata getting started context provider",methods:[{name:"defaultState",docblock:"Returns the default component state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Returns the default component state"},{name:"set",docblock:"Set metadataGettingStartedSettings.\n@param {MetadataGettingStartedSettingsEntity} metadataGettingStartedSettings The metadata getting started to set.\n@private",modifiers:[],params:[{name:"metadataGettingStartedSettings",description:"The metadata getting started to set.",type:{name:"MetadataGettingStartedSettingsEntity"},optional:!1}],returns:null,description:"Set metadataGettingStartedSettings."},{name:"get",docblock:"Get the metadata getting started and/or init them if not the case already.\n@returns {MetadataGettingStartedSettingsEntity|null}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"MetadataGettingStartedSettingsEntity"}]}},description:"Get the metadata getting started and/or init them if not the case already."},{name:"update",docblock:"Forces the update of the metadata getting started.\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Forces the update of the metadata getting started."}],displayName:"AdministrationEncryptedMetadataGettingStartedContextProvider",props:{service:{description:"",type:{name:"union",value:[{name:"instanceOf",value:"FindMetadataGettingStartedSettingsService"},{name:"instanceOf",value:"GettingStartedWithEncryptedMetadataServiceWorkerService"}]},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/lib/Error/PassboltApiFetchError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class PassboltApiFetchError extends Error{constructor(message,data){super(message),this.name="PassboltApiFetchError",this.data=data||{}}}const __WEBPACK_DEFAULT_EXPORT__=PassboltApiFetchError},"./src/shared/lib/Error/PassboltServiceUnavailableError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class PassboltServiceUnavailableError extends Error{constructor(message){super(message=message||"The service is unavailable"),this.name="PassboltServiceUnavailableError"}}const __WEBPACK_DEFAULT_EXPORT__=PassboltServiceUnavailableError},"./src/shared/lib/apiClient/apiClient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>ApiClient});var PassboltApiFetchError=__webpack_require__("./src/shared/lib/Error/PassboltApiFetchError.js");class PassboltBadResponseError extends Error{constructor(){super("An internal error occurred. The server response could not be parsed. Please contact your administrator."),this.name="PassboltBadResponseError"}}const Error_PassboltBadResponseError=PassboltBadResponseError;var PassboltServiceUnavailableError=__webpack_require__("./src/shared/lib/Error/PassboltServiceUnavailableError.js");const SUPPORTED_METHODS=["GET","POST","PUT","DELETE"];class ApiClient{constructor(options){if(this.options=options,!this.options.getBaseUrl())throw new TypeError("ApiClient constructor error: baseUrl is required.");if(!this.options.getResourceName())throw new TypeError("ApiClient constructor error: resourceName is required.");try{let rawBaseUrl=this.options.getBaseUrl().toString();rawBaseUrl.endsWith("/")&&(rawBaseUrl=rawBaseUrl.slice(0,-1));let resourceName=this.options.getResourceName();resourceName.startsWith("/")&&(resourceName=resourceName.slice(1)),resourceName.endsWith("/")&&(resourceName=resourceName.slice(0,-1)),this.baseUrl=`${rawBaseUrl}/${resourceName}`,this.baseUrl=new URL(this.baseUrl)}catch(typeError){throw new TypeError("ApiClient constructor error: b.")}this.apiVersion="api-version=v2"}getDefaultHeaders(){return{Accept:"application/json","content-type":"application/json"}}async buildFetchOptions(){const optionHeaders=await this.options.getHeaders();return{credentials:"include",headers:{...this.getDefaultHeaders(),...optionHeaders}}}async get(id,urlOptions){this.assertValidId(id);const url=this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});return this.fetchAndHandleResponse("GET",url)}async delete(id,body,urlOptions,dryRun){let url;this.assertValidId(id),void 0===dryRun&&(dryRun=!1),url=dryRun?this.buildUrl(`${this.baseUrl}/${id}/dry-run`,urlOptions||{}):this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});let bodyString=null;return body&&(bodyString=this.buildBody(body)),this.fetchAndHandleResponse("DELETE",url,bodyString)}async findAll(urlOptions){const url=this.buildUrl(this.baseUrl.toString(),urlOptions||{});return this.fetchAndHandleResponse("GET",url)}async create(body,urlOptions){const url=this.buildUrl(this.baseUrl.toString(),urlOptions||{}),bodyString=this.buildBody(body);return this.fetchAndHandleResponse("POST",url,bodyString)}async update(id,body,urlOptions,dryRun){let url;this.assertValidId(id),void 0===dryRun&&(dryRun=!1),url=dryRun?this.buildUrl(`${this.baseUrl}/${id}/dry-run`,urlOptions||{}):this.buildUrl(`${this.baseUrl}/${id}`,urlOptions||{});let bodyString=null;return body&&(bodyString=this.buildBody(body)),this.fetchAndHandleResponse("PUT",url,bodyString)}async updateAll(body,urlOptions={}){const url=this.buildUrl(this.baseUrl.toString(),urlOptions),bodyString=body?this.buildBody(body):null;return this.fetchAndHandleResponse("PUT",url,bodyString)}assertValidId(id){if(!id)throw new TypeError("ApiClient.assertValidId error: id cannot be empty");if("string"!=typeof id)throw new TypeError("ApiClient.assertValidId error: id should be a string")}assertMethod(method){if("string"!=typeof method)throw new TypeError("ApiClient.assertValidMethod method should be a string.");if(SUPPORTED_METHODS.indexOf(method.toUpperCase())<0)throw new TypeError(`ApiClient.assertValidMethod error: method ${method} is not supported.`)}assertUrl(url){if(!url)throw new TypeError("ApliClient.assertUrl error: url is required.");if(!(url instanceof URL))throw new TypeError("ApliClient.assertUrl error: url should be a valid URL object.");if("https:"!==url.protocol&&"http:"!==url.protocol)throw new TypeError("ApliClient.assertUrl error: url protocol should only be https or http.")}assertBody(body){if(!(body instanceof FormData)&&"string"!=typeof body)throw new TypeError("ApiClient.assertBody error: body should be a string or a FormData.")}buildBody(body){return JSON.stringify(body)}buildUrl(url,urlOptions){if("string"!=typeof url)throw new TypeError("ApiClient.buildUrl error: url should be a string.");const urlObj=new URL(`${url}.json?${this.apiVersion}`);urlOptions=urlOptions||{};for(const[key,value]of Object.entries(urlOptions)){if("string"!=typeof key)throw new TypeError("ApiClient.buildUrl error: urlOptions key should be a string.");if("string"==typeof value)urlObj.searchParams.append(key,value);else{if(!Array.isArray(value))throw new TypeError("ApiClient.buildUrl error: urlOptions value should be a string or array.");value.forEach((v=>{urlObj.searchParams.append(key,v)}))}}return urlObj}async sendRequest(method,url,body,options){this.assertUrl(url),this.assertMethod(method),body&&this.assertBody(body);const fetchStrategy="undefined"!=typeof customApiClientFetch?customApiClientFetch:fetch,fetchOptions={...await this.buildFetchOptions(),...options};fetchOptions.method=method,body&&(fetchOptions.body=body);try{return await fetchStrategy(url.toString(),fetchOptions)}catch(error){throw console.error(error),navigator.onLine?new PassboltServiceUnavailableError.A("Unable to reach the server, an unexpected error occurred"):new PassboltServiceUnavailableError.A("Unable to reach the server, you are not connected to the network")}}async fetchAndHandleResponse(method,url,body,options){const response=await this.sendRequest(method,url,body,options);return this.parseResponseJson(response)}async parseResponseJson(response){let responseJson;try{responseJson=await response.json()}catch(error){throw console.debug(response.url.toString(),error),new Error_PassboltBadResponseError(error,response)}if(!response.ok){const message=responseJson.header.message;throw new PassboltApiFetchError.A(message,{code:response.status,body:responseJson.body})}return responseJson}}},"./src/shared/models/entity/apiService/PassboltResponsePaginationHeaderEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class PassboltResponsePaginationHeaderEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["count","limit","page"],properties:{count:{type:"integer",minimum:0},limit:{type:"integer",minimum:0,nullable:!0},page:{type:"integer",minimum:0}}}}get count(){return this._props.count}get limit(){return this._props.limit}get page(){return this._props.page}get pageCount(){const count=parseInt(this._props.count,10),limit=parseInt(this._props.limit,10);return Math.ceil(count/limit)}}const __WEBPACK_DEFAULT_EXPORT__=PassboltResponsePaginationHeaderEntity},"./src/shared/models/entity/metadata/metadataGettingStartedSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>MetadataGettingStartedSettingsEntity});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class MetadataGettingStartedSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["enabled"],properties:{enabled:{type:"boolean"}}}}static createFromDefault(data={}){const dto={enabled:!1,...data};return new MetadataGettingStartedSettingsEntity(dto)}get enabled(){return this._props.enabled}}},"./src/shared/services/api/abstract/abstractService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _lib_apiClient_apiClient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/apiClient/apiClient.js"),validator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/validator/index.js"),validator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_1__);const __WEBPACK_DEFAULT_EXPORT__=class AbstractService{constructor(apiClientOptions,resourceName){apiClientOptions.setResourceName(resourceName),this.apiClient=new _lib_apiClient_apiClient__WEBPACK_IMPORTED_MODULE_0__.O(apiClientOptions)}formatContainOptions(contain,supportedOptions){const result={};for(const item in contain){if("string"!=typeof item){const details=JSON.stringify(contain);throw new TypeError(`Invalid contain ${details}, items should be a string.`)}supportedOptions.includes(item)&&(result[`contain[${item}]`]=contain[item]?"1":"0")}return result}formatFilterOptions(filter,supportedOptions){const result={};for(const item in filter)if(Object.prototype.hasOwnProperty.call(filter,item)&&supportedOptions.includes(item))if("boolean"==typeof filter[item])result[`filter[${item}]`]=filter[item]?"1":"0";else if("string"==typeof filter[item])result[`filter[${item}]`]=filter[item];else{if(!Array.isArray(filter[item]))throw new TypeError("Service error. Filter option should be an array or a string.");result[`filter[${item}][]`]=filter[item]}return result}formatOrderOptions(orders,supportedOrders){const result={};for(const order in orders)supportedOrders.includes(order)&&(result["order[]"]=order);return result}assertValidId(id){if(!id||"string"!=typeof id||!validator__WEBPACK_IMPORTED_MODULE_1___default().isUUID(id))throw new TypeError(`Service error. The id '${id}' is not a valid uuid.`)}assertNonEmptyData(data){if(!data)throw new TypeError("Service error. Data cannot be empty.")}}},"./src/shared/services/serviceWorker/metadata/gettingStartedWithEncryptedMetadataServiceWorkerService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>GettingStartedWithEncryptedMetadataServiceWorkerService});var _models_entity_metadata_metadataGettingStartedSettingsEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/metadata/metadataGettingStartedSettingsEntity.js");class GettingStartedWithEncryptedMetadataServiceWorkerService{constructor(port){this.port=port}async enableEncryptedMetadata(){await this.port.request("passbolt.metadata.enable-encrypted-metadata-for-existing-instance")}async keepLegacyClearTextMetadata(){await this.port.request("passbolt.metadata.keep-cleartext-metadata-for-existing-instance")}async findGettingStartedSettings(){const result=await this.port.request("passbolt.metadata.find-getting-started-settings");return new _models_entity_metadata_metadataGettingStartedSettingsEntity__WEBPACK_IMPORTED_MODULE_0__.A(result)}}},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}},"./node_modules/tiny-invariant/dist/tiny-invariant.cjs.js":module=>{var prefix="Invariant failed";module.exports=function invariant(condition,message){if(!condition)throw new Error(prefix)}},"./node_modules/tiny-warning/dist/tiny-warning.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function warning(condition,message){}},"./node_modules/uuid/dist/esm-browser/stringify.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});for(var _validate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js"),byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));const __WEBPACK_DEFAULT_EXPORT__=function stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__.A)(uuid))throw TypeError("Stringified UUID is invalid");return uuid}},"./node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var getRandomValues;__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v4});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js");const esm_browser_v4=function v4(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return(0,stringify.A)(rnds)}},"./node_modules/uuid/dist/esm-browser/v5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v5});var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js"),validate=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js");const esm_browser_parse=function parse(uuid){if(!(0,validate.A)(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}const esm_browser_v5=function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return(0,stringify.A)(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}("v5",80,(function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}))},"./node_modules/uuid/dist/esm-browser/validate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_validate});const regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const esm_browser_validate=function validate(uuid){return"string"==typeof uuid&&regex.test(uuid)}},"./node_modules/validator/es/lib/util/assertString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function assertString(input){if(!("string"==typeof input||input instanceof String)){var invalidType=_typeof(input);throw null===input?invalidType="null":"object"===invalidType&&(invalidType=input.constructor.name),new TypeError("Expected a string but received a ".concat(invalidType))}}__webpack_require__.d(__webpack_exports__,{A:()=>assertString})}}]);