/*! For license information please see react-extension-components-Administration-ManageSmtpAdministrationSettings-ManageSmtpAdministrationSettings-test-stories.31d429ac.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[9763],{"./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/ManageSmtpAdministrationSettings.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithErrorFromServer:()=>WithErrorFromServer,WithKnownSmtpSettings:()=>WithKnownSmtpSettings,WithSmtpSettings:()=>WithSmtpSettings,WithSmtpSettingsFromFile:()=>WithSmtpSettingsFromFile,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ManageSmtpAdministrationSettings_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),ManageSmtpAdministrationSettings=__webpack_require__("./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/ManageSmtpAdministrationSettings.js"),ApiAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ApiAppContext.test.data.js");function defaultProps(data={}){const defaultProps1={context:(0,ApiAppContext_test_data.s)(data?.context),administrationWorkspaceContext:{setDisplayAdministrationWorkspaceAction:jest.fn(),resetDisplayAdministrationWorkspaceAction:jest.fn()},actionFeedbackContext:{displaySuccess:jest.fn()}};return delete data.context,Object.assign(defaultProps1,data)}var SmtpProviders_data=__webpack_require__("./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/SmtpProviders.data.js");function defaultSmtpSettings(data={}){return{username:"",password:"",host:"localhost",tls:!1,port:25,sender_email:"",sender_name:"Passbolt",...data}}function withExistingSmtpSettings(data={}){return defaultSmtpSettings({host:"smtp.test.com",tls:!1,port:25,client:null,username:"test username",password:"test password",sender_email:"server@passbolt.com",sender_name:"Passbolt",...data})}var MockFetch=__webpack_require__("./src/react-extension/test/mock/MockFetch.js"),AdminSmtpSettingsContext=__webpack_require__("./src/react-extension/contexts/AdminSmtpSettingsContext.js"),mockApiResponse=__webpack_require__("./test/mocks/mockApiResponse.js");let currentStory=null;const ManageSmtpAdministrationSettings_test_stories={title:"Components/Administration/ManageSmtpAdministrationSettings",component:ManageSmtpAdministrationSettings.A,decorators:[(Story,{args})=>(currentStory=args.id,react.createElement(AdminSmtpSettingsContext.Ay,args,react.createElement("div",{id:"container",className:"page administration"},react.createElement("div",{id:"app",className:"app",tabIndex:"1000"},react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"main-page"},react.createElement(Story,args))))))))))],parameters:{css:"api_main"}};(new MockFetch.A).addGetFetchRequest(/smtp\/settings\.json/,(async()=>{switch(currentStory){case"default":return(0,mockApiResponse._)(function emptySmtpSettings(data={}){return{username:"",password:"",host:"",tls:!1,port:25,sender_email:"",sender_name:"",...data}}());case"with-smtp-settings":return(0,mockApiResponse._)(withExistingSmtpSettings());case"with-smtp-settings-from-file":return(0,mockApiResponse._)(withExistingSmtpSettings({source:"file"}));case"with-known-smtp-settings":return(0,mockApiResponse._)(function withAwsSesSmtpSettings(data={}){return withExistingSmtpSettings({...SmtpProviders_data.A.find((provider=>"aws-ses"===provider.id)).availableConfigurations[0],...data})}());case"with-error-from-server":throw new Error("Something went wrong!")}throw new Error("Unsupported story")}));const Default={args:defaultProps({id:"default"})},WithSmtpSettings={args:defaultProps({id:"with-smtp-settings"})},WithSmtpSettingsFromFile={args:defaultProps({id:"with-smtp-settings-from-file"})},WithKnownSmtpSettings={args:defaultProps({id:"with-known-smtp-settings"})},WithErrorFromServer={args:defaultProps({id:"with-error-from-server"})},__namedExportsOrder=["Default","WithSmtpSettings","WithSmtpSettingsFromFile","WithKnownSmtpSettings","WithErrorFromServer"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: defaultProps({\n    id: "default"\n  })\n}',...Default.parameters?.docs?.source}}},WithSmtpSettings.parameters={...WithSmtpSettings.parameters,docs:{...WithSmtpSettings.parameters?.docs,source:{originalSource:'{\n  args: defaultProps({\n    id: "with-smtp-settings"\n  })\n}',...WithSmtpSettings.parameters?.docs?.source}}},WithSmtpSettingsFromFile.parameters={...WithSmtpSettingsFromFile.parameters,docs:{...WithSmtpSettingsFromFile.parameters?.docs,source:{originalSource:'{\n  args: defaultProps({\n    id: "with-smtp-settings-from-file"\n  })\n}',...WithSmtpSettingsFromFile.parameters?.docs?.source}}},WithKnownSmtpSettings.parameters={...WithKnownSmtpSettings.parameters,docs:{...WithKnownSmtpSettings.parameters?.docs,source:{originalSource:'{\n  args: defaultProps({\n    id: "with-known-smtp-settings"\n  })\n}',...WithKnownSmtpSettings.parameters?.docs?.source}}},WithErrorFromServer.parameters={...WithErrorFromServer.parameters,docs:{...WithErrorFromServer.parameters?.docs,source:{originalSource:'{\n  args: defaultProps({\n    id: "with-error-from-server"\n  })\n}',...WithErrorFromServer.parameters?.docs?.source}}}},"./src/img/svg/email.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEmail(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 3H3a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 3 15h12a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 15 3"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16.5 5.25 9.773 9.525a1.46 1.46 0 0 1-1.546 0L1.5 5.25"})))}},"./src/img/svg/eye_close.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEyeClose(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#eye_close_svg__clip0_27_140048)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M6.587 6.587a2 2 0 1 0 2.826 2.827M7.153 3.386q.422-.052.847-.053C12.667 3.333 14.667 8 14.667 8a8.8 8.8 0 0 1-1.114 1.786"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M4.407 4.406A9 9 0 0 0 1.333 8s2 4.666 6.667 4.666a6.5 6.5 0 0 0 3.593-1.073M1.333 1.333l13.334 13.333"}))))}},"./src/img/svg/eye_open.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEyeOpen(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M1.333 8s2-4.667 6.667-4.667S14.667 8 14.667 8s-2 4.666-6.667 4.666S1.333 8 1.333 8"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4"})))}},"./src/img/svg/file_text.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgFileText(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 2v4a2 2 0 0 0 2 2h4M10 9H8M16 13H8M16 17H8"})))}},"./src/img/svg/link.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLink(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#link_svg__clip0_99_1008536)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M8.33 9.75a3.75 3.75 0 0 0 5.655.405l2.25-2.25a3.75 3.75 0 0 0-5.302-5.303l-1.29 1.283"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.33 8.25a3.75 3.75 0 0 0-5.655-.405l-2.25 2.25a3.75 3.75 0 0 0 5.303 5.302l1.282-1.282"}))))}},"./src/img/svg/plug.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgPlug(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:22,fill:"none",viewBox:"0 0 19 22"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5.21 7.08a4.62 4.62 0 0 0 0 6.514 4.555 4.555 0 0 0 6.476 0l3.23-3.25-6.46-6.513-3.23 3.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m5.21 13.58-3.138 3.156c-1.44 1.447-.414 3.927 1.623 3.927h13.824M11.579 3.308l1.974-1.987M15.437 7.189l1.974-1.987M7.614 2.984 15.68 11.1"})))}},"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/ManageSmtpAdministrationSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ManageSmtpAdministrationSettings_ManageSmtpAdministrationSettings});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),SmtpProviders_data=__webpack_require__("./src/react-extension/components/Administration/ManageSmtpAdministrationSettings/SmtpProviders.data.js"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),Select=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),AdminSmtpSettingsContext=__webpack_require__("./src/react-extension/contexts/AdminSmtpSettingsContext.js"),SendTestMailDialog=__webpack_require__("./src/react-extension/components/Administration/SendTestMailDialog/SendTestMailDialog.js"),plug=__webpack_require__("./src/img/svg/plug.svg");class DisplayAdministrationWorkspaceActions extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.dialogId=null}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleTestClick=this.handleTestClick.bind(this),this.handleCloseDialog=this.handleCloseDialog.bind(this)}async handleSaveClick(){if(this.smtpSettings.isProcessing())return;this.smtpSettings.validateData()&&await this.smtpSettings.saveSmtpSettings()}async handleTestClick(){if(this.smtpSettings.isProcessing())return;this.smtpSettings.validateData()&&(null!==this.dialogId&&this.handleCloseDialog(),this.dialogId=await this.props.dialogContext.open(SendTestMailDialog.A,{handleClose:this.handleCloseDialog}))}handleCloseDialog(){this.props.dialogContext.close(this.dialogId),this.dialogId=null}isSaveEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}isTestEnabled(){return this.smtpSettings.isSettingsModified()&&!this.smtpSettings.isProcessing()}get smtpSettings(){return this.props.adminSmtpSettingsContext}render(){return react.createElement("div",{className:"actions-wrapper"},react.createElement("div",{className:"left-actions-wrapper"},react.createElement("button",{type:"button",className:"button secondary",disabled:!this.isTestEnabled(),id:"send-test-email",onClick:this.handleTestClick},react.createElement(plug.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Send test email")))),react.createElement("button",{type:"button",className:"button primary form",id:"save-settings",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},react.createElement("span",null,react.createElement(es.x6,null,"Save"))))}}DisplayAdministrationWorkspaceActions.propTypes={adminSmtpSettingsContext:prop_types_default().object,dialogContext:prop_types_default().object};const DisplayAdministrationSmtpSettingsActions=(0,AdminSmtpSettingsContext.fZ)((0,DialogContext.z9)((0,es.CI)("common")(DisplayAdministrationWorkspaceActions)));DisplayAdministrationWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSaveClick",docblock:"Handle save settings",modifiers:["async"],params:[],returns:null,description:"Handle save settings"},{name:"handleTestClick",docblock:"Handle save settings",modifiers:["async"],params:[],returns:null,description:"Handle save settings"},{name:"handleCloseDialog",docblock:"Handle close dialog",modifiers:[],params:[],returns:null,description:"Handle close dialog"},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"},{name:"isTestEnabled",docblock:"Is test button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is test button enable"},{name:"smtpSettings",docblock:"Returns the adminSmtpSettingsContext props\n@returns {object}\n@private",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the adminSmtpSettingsContext props"}],displayName:"DisplayAdministrationWorkspaceActions",props:{adminSmtpSettingsContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}};var portals=__webpack_require__("./src/shared/utils/portals.js"),caret_down=__webpack_require__("./src/img/svg/caret_down.svg"),caret_right=__webpack_require__("./src/img/svg/caret_right.svg"),email=__webpack_require__("./src/img/svg/email.svg"),file_text=__webpack_require__("./src/img/svg/file_text.svg"),svg_link=__webpack_require__("./src/img/svg/link.svg");class ManageSmtpAdministrationSettings extends react.Component{static get AUTHENTICATION_METHOD_NONE(){return"None"}static get AUTHENTICATION_METHOD_USERNAME(){return"Username only"}static get AUTHENTICATION_METHOD_USERNAME_PASSWORD(){return"Username & password"}constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{showAdvancedSettings:!1,source:"db"}}createRefs(){this.usernameFieldRef=react.createRef(),this.passwordFieldRef=react.createRef(),this.hostFieldRef=react.createRef(),this.portFieldRef=react.createRef(),this.clientFieldRef=react.createRef(),this.senderEmailFieldRef=react.createRef(),this.senderNameFieldRef=react.createRef()}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(DisplayAdministrationSmtpSettingsActions),await this.props.adminSmtpSettingsContext.findSmtpSettings();const settings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();this.setState({showAdvancedSettings:"other"===settings.provider?.id})}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminSmtpSettingsContext.clearContext()}componentDidUpdate(){const smtpContext=this.props.adminSmtpSettingsContext,fieldToFocus=smtpContext.getFieldToFocus();fieldToFocus&&this[`${fieldToFocus}FieldRef`]?.current?.focus(),smtpContext.hasProviderChanged()&&this.setState({showAdvancedSettings:"other"===smtpContext.getCurrentSmtpSettings().provider?.id})}bindCallbacks(){this.handleAdvancedSettingsToggle=this.handleAdvancedSettingsToggle.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleProviderChange=this.handleProviderChange.bind(this),this.handleAuthenticationMethodChange=this.handleAuthenticationMethodChange.bind(this)}handleProviderChange(event){const providerId=event.target.value,provider=SmtpProviders_data.A.find((item=>item.id===providerId));this.props.adminSmtpSettingsContext.changeProvider(provider)}handleAuthenticationMethodChange(event){let username=null,password=null;"Username only"===event.target.value?username="":"Username & password"===event.target.value&&(username="",password=""),this.props.adminSmtpSettingsContext.setData({username,password})}handleInputChange(event){const target=event.target;this.props.adminSmtpSettingsContext.setData({[target.name]:target.value})}handleAdvancedSettingsToggle(){this.setState({showAdvancedSettings:!this.state.showAdvancedSettings})}isProcessing(){return this.props.adminSmtpSettingsContext.isProcessing()}get providerList(){return SmtpProviders_data.A.map((item=>({value:item.id,label:item.name})))}get authenticationMethodList(){return[{value:"None",label:this.translate("None")},{value:"Username only",label:this.translate("Username only")},{value:"Username & password",label:this.translate("Username & password")}]}get tlsSelectList(){return[{value:!0,label:this.translate("Yes")},{value:!1,label:this.translate("No")}]}get authenticationMethod(){const smtpSettings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings();return null===smtpSettings?.username?"None":null===smtpSettings?.password?"Username only":"Username & password"}shouldDisplayUsername(){return"Username only"===this.authenticationMethod||"Username & password"===this.authenticationMethod}shouldDisplayPassword(){return"Username & password"===this.authenticationMethod}shouldShowSourceWarningMessage(){const smtpContext=this.props.adminSmtpSettingsContext;return"db"!==smtpContext.getCurrentSmtpSettings().source&&smtpContext.isSettingsModified()}isReady(){return this.props.adminSmtpSettingsContext.isDataReady()}get settingsSource(){return this.props.adminSmtpSettingsContext?.getCurrentSmtpSettings()?.source}get configurationSource(){return{env:this.props.t("environment variables"),file:this.props.t("file"),db:this.props.t("database")}[this.settingsSource]||this.props.t("unknown")}get translate(){return this.props.t}render(){const settings=this.props.adminSmtpSettingsContext.getCurrentSmtpSettings(),errors=this.props.adminSmtpSettingsContext.getErrors(),smtpProviderName=settings?.provider?.name,hasChanges=this.props.adminSmtpSettingsContext.isSettingsModified(),hasWarnings=hasChanges||this.shouldShowSourceWarningMessage();return react.createElement("div",{className:"row"},react.createElement(react.Fragment,null,react.createElement("div",{className:"third-party-provider-settings smtp-settings main-column"},react.createElement("div",{className:"main-content"},react.createElement("h3",{className:"title"},react.createElement(es.x6,null,"Email server")),this.isReady()&&!settings?.provider&&react.createElement(react.Fragment,null,react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Select a provider")),react.createElement("div",{className:"provider-list"},SmtpProviders_data.A.map((provider=>react.createElement("div",{key:provider.id,className:"provider button",id:provider.id,onClick:()=>this.props.adminSmtpSettingsContext.changeProvider(provider)},react.createElement("div",{className:"provider-logo"},"other"===provider.id&&react.createElement(email.A,null),"other"!==provider.id&&react.createElement("img",{src:`${this.props.context.trustedDomain}/img/third_party/${provider.icon}`})),react.createElement("p",{className:"provider-name"},provider.name)))))),this.isReady()&&settings?.provider&&react.createElement(react.Fragment,null,react.createElement("form",{className:"form"},react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"SMTP server configuration")),react.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},react.createElement("label",{htmlFor:"smtp-settings-form-provider"},react.createElement(es.x6,null,"Email provider")),react.createElement(Select.A,{id:"smtp-settings-form-provider",name:"provider",items:this.providerList,value:settings.provider.id,onChange:this.handleProviderChange,disabled:this.isProcessing()})),react.createElement("div",{className:"select-wrapper input required "+(this.isProcessing()?"disabled":"")},react.createElement("label",{htmlFor:"smtp-settings-form-authentication-method"},react.createElement(es.x6,null,"Authentication method")),react.createElement(Select.A,{id:"smtp-settings-form-authentication-method",name:"authentication-method",items:this.authenticationMethodList,value:this.authenticationMethod,onChange:this.handleAuthenticationMethodChange,disabled:this.isProcessing()})),this.shouldDisplayUsername()&&react.createElement("div",{className:`input text ${errors.username?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-username"},react.createElement(es.x6,null,"Username")),react.createElement("input",{id:"smtp-settings-form-username",ref:this.usernameFieldRef,name:"username",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.username,onChange:this.handleInputChange,placeholder:this.translate("Username"),disabled:this.isProcessing()}),errors.username&&react.createElement("div",{className:"error-message"},errors.username)),this.shouldDisplayPassword()&&react.createElement("div",{className:`input-password-wrapper input ${errors.password?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-password"},react.createElement(es.x6,null,"Password")),react.createElement(Password.A,{id:"smtp-settings-form-password",name:"password",autoComplete:"new-password",placeholder:this.translate("Password"),preview:!0,value:settings.password,onChange:this.handleInputChange,disabled:this.isProcessing(),inputRef:this.passwordFieldRef}),errors.password&&react.createElement("div",{className:"password error-message"},errors.password)),react.createElement("div",{className:"accordion-header"},react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleAdvancedSettingsToggle},this.state.showAdvancedSettings?react.createElement(caret_down.A,null):react.createElement(caret_right.A,null),react.createElement(es.x6,null,"Advanced settings"))),this.state.showAdvancedSettings&&react.createElement("div",{className:"advanced-settings"},react.createElement("div",{className:`input text required ${errors.host?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-host"},react.createElement(es.x6,null,"SMTP host")),react.createElement("input",{id:"smtp-settings-form-host",ref:this.hostFieldRef,name:"host","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.host,onChange:this.handleInputChange,placeholder:this.translate("SMTP server address"),disabled:this.isProcessing()}),errors.host&&react.createElement("div",{className:"error-message"},errors.host)),react.createElement("div",{className:`input text required ${errors.tls?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-tls"},react.createElement(es.x6,null,"Use TLS")),react.createElement(Select.A,{id:"smtp-settings-form-tls",name:"tls",items:this.tlsSelectList,value:settings.tls,onChange:this.handleInputChange,disabled:this.isProcessing()})),react.createElement("div",{className:`input text required ${errors.port?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-port"},react.createElement(es.x6,null,"Port")),react.createElement("input",{id:"smtp-settings-form-port","aria-required":!0,ref:this.portFieldRef,name:"port",className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.port,onChange:this.handleInputChange,placeholder:this.translate("Port number"),disabled:this.isProcessing()}),errors.port&&react.createElement("div",{className:"error-message"},errors.port)),react.createElement("div",{className:`input text ${errors.client?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-client"},react.createElement(es.x6,null,"SMTP client")),react.createElement("input",{id:"smtp-settings-form-client",ref:this.clientFieldRef,name:"client",maxLength:"2048",type:"text",autoComplete:"off",value:settings.client,onChange:this.handleInputChange,placeholder:this.translate("SMTP client address"),disabled:this.isProcessing()}),errors.client&&react.createElement("div",{className:"error-message"},errors.client))),react.createElement("h4",null,react.createElement(es.x6,null,"Sender configuration")),react.createElement("div",{className:`input text required ${errors.sender_name?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},react.createElement(es.x6,null,"Sender name")),react.createElement("input",{id:"smtp-settings-form-sender-name",ref:this.senderNameFieldRef,name:"sender_name","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.sender_name,onChange:this.handleInputChange,placeholder:this.translate("Sender name"),disabled:this.isProcessing()}),errors.sender_name&&react.createElement("div",{className:"error-message"},errors.sender_name),react.createElement("p",null,react.createElement(es.x6,null,"This is the name users will see in their mailbox when passbolt sends a notification."))),react.createElement("div",{className:`input text required ${errors.sender_email?"error":""} ${this.isProcessing()?"disabled":""}`},react.createElement("label",{htmlFor:"smtp-settings-form-sender-name"},react.createElement(es.x6,null,"Sender email")),react.createElement("input",{id:"smtp-settings-form-sender-email",ref:this.senderEmailFieldRef,name:"sender_email","aria-required":!0,className:"fluid",maxLength:"256",type:"text",autoComplete:"off",value:settings.sender_email,onChange:this.handleInputChange,placeholder:this.translate("Sender email"),disabled:this.isProcessing()}),errors.sender_email&&react.createElement("div",{className:"error-message"},errors.sender_email),react.createElement("p",null,react.createElement(es.x6,null,"This is the email address users will see in their mail box when passbolt sends a notification.",react.createElement("br",null),"It's a good practice to provide a working email address that users can reply to.")))))),hasWarnings&&react.createElement("div",{className:"warning message"},this.shouldShowSourceWarningMessage()&&react.createElement("div",{id:"smtp-settings-source-warning"},react.createElement(es.x6,null,"These are the settings provided by a configuration file. If you save it, will ignore the settings on file and use the ones from the database.")),hasChanges&&react.createElement("div",null,react.createElement("p",null,react.createElement(es.x6,null,"Don't forget to save your settings to apply your modification."))))),react.createElement(DisplayAdministrationSmtpSettingsActions,null)),(0,portals.m)(react.createElement(react.Fragment,null,react.createElement("div",{className:"sidebar-help-section",id:"smtp-settings-source"},react.createElement("h3",null,react.createElement(es.x6,null,"Configuration source")),react.createElement("p",null,react.createElement(es.x6,null,"This current configuration source is: "),this.configurationSource,".")),react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Why do I need an SMTP server?")),react.createElement("p",null,react.createElement(es.x6,null,"Passbolt needs an smtp server in order to send invitation emails after an account creation and to send email notifications.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/emails/email-server/",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),settings?.provider&&"other"!==settings?.provider.id&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"How do I configure a ",{smtpProviderName}," SMTP server?")),react.createElement("a",{className:"button",href:settings.provider.help_page,target:"_blank",rel:"noopener noreferrer"},react.createElement(svg_link.A,null),react.createElement("span",null,react.createElement(es.x6,null,"See the ",{smtpProviderName}," documentation")))),settings?.provider&&("google-mail"===settings.provider.id||"google-workspace"===settings.provider.id)&&react.createElement("div",{className:"sidebar-help-section"},react.createElement("h3",null,react.createElement(es.x6,null,"Why shouldn't I use my login password ?")),react.createElement("p",null,react.createElement(es.x6,null,'In order to use the "Username & Password" authentication method with Google, you will need to enable MFA on your Google Account. The password should not be your login password, you have to create an "App Password" generated by Google.. However, the email remain the same.')),react.createElement("a",{className:"button",href:"https://support.google.com/mail/answer/185833",target:"_blank",rel:"noopener noreferrer"},react.createElement(file_text.A,null),react.createElement("span",null,react.createElement(es.x6,null,"More informations"))))),document.getElementById("administration-help-panel")))}}ManageSmtpAdministrationSettings.propTypes={context:prop_types_default().object,dialogContext:prop_types_default().any,administrationWorkspaceContext:prop_types_default().object,adminSmtpSettingsContext:prop_types_default().object,t:prop_types_default().func};const ManageSmtpAdministrationSettings_ManageSmtpAdministrationSettings=(0,AppContext.L)((0,AdminSmtpSettingsContext.fZ)((0,DialogContext.z9)((0,AdministrationWorkspaceContext.Kk)((0,es.CI)("common")(ManageSmtpAdministrationSettings)))));ManageSmtpAdministrationSettings.__docgenInfo={description:"",methods:[{name:"AUTHENTICATION_METHOD_NONE",docblock:"The no authentication method.\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The no authentication method."},{name:"AUTHENTICATION_METHOD_USERNAME",docblock:"The authentication method username only\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The authentication method username only"},{name:"AUTHENTICATION_METHOD_USERNAME_PASSWORD",docblock:"The authentication method username and password\n@returns {string}",modifiers:["static","get"],params:[],returns:{type:{name:"string"}},description:"The authentication method username and password"},{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"createRefs",docblock:"Creates the React ref for the forms to be able to focus fields having errors",modifiers:[],params:[],returns:null,description:"Creates the React ref for the forms to be able to focus fields having errors"},{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"handleProviderChange",docblock:"Handle provider change from select field.\n@params {ReactEvent} The react event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle provider change from select field."},{name:"handleAuthenticationMethodChange",docblock:"Handle provider change from select field.\n@params {ReactEvent} The react event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle provider change from select field."},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleAdvancedSettingsToggle",docblock:"Handles the click on the advanced settings toggle.",modifiers:[],params:[],returns:null,description:"Handles the click on the advanced settings toggle."},{name:"isProcessing",docblock:"Returns true if there is a processing happening with the SMTP settings.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if there is a processing happening with the SMTP settings."},{name:"providerList",docblock:"Return the list of available providers.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Return the list of available providers."},{name:"authenticationMethodList",docblock:"Return the list of available authentication method.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Return the list of available authentication method."},{name:"tlsSelectList",docblock:"Returns a list of available choice for the 'TLS' select field.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Returns a list of available choice for the 'TLS' select field."},{name:"authenticationMethod",docblock:"Return the selected authentication method.\n@return {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Return the selected authentication method."},{name:"shouldDisplayUsername",docblock:"Return true if the username field should be displayed\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the username field should be displayed"},{name:"shouldDisplayPassword",docblock:"Return true if the password field should be displayed\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the password field should be displayed"},{name:"shouldShowSourceWarningMessage",docblock:"Returns true if the source of the settings is from a config file instead of DB and the user has modified a field.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the source of the settings is from a config file instead of DB and the user has modified a field."},{name:"isReady",docblock:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading."},{name:"settingsSource",docblock:"Returns the source of the settings\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the source of the settings"},{name:"configurationSource",docblock:"Returns the source of the current configuration\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the source of the current configuration"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ManageSmtpAdministrationSettings",props:{context:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminSmtpSettingsContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormCancelButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.disabled||this.props.onClick()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.props.disabled,className:"link cancel",onClick:this.handleClick},this.props.value)}}FormCancelButton.defaultProps={value:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Cancel")},FormCancelButton.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,value:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_2___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_2___default().node),prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,prop_types__WEBPACK_IMPORTED_MODULE_2___default().string])};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(FormCancelButton);FormCancelButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleClick",docblock:"Handle cancel click\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Handle cancel click"}],displayName:"FormCancelButton",props:{value:{defaultValue:{value:"<Trans>Cancel</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FormSubmitButton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let name="button primary form";return this.props.warning?name+=" warning":this.props.attention&&(name+=" attention"),this.props.disabled&&(name+=" disabled"),this.props.processing&&(name+=" processing"),this.props.big&&(name+=" big"),this.props.medium&&(name+=" medium"),this.props.fullWidth&&(name+=" full-width"),name}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:this.getClassName(),disabled:this.props.disabled},this.props.value||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Save"),this.props.processing&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))}}FormSubmitButton.defaultProps={warning:!1,attention:!1},FormSubmitButton.propTypes={processing:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_3___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default().node),prop_types__WEBPACK_IMPORTED_MODULE_3___default().node,prop_types__WEBPACK_IMPORTED_MODULE_3___default().string]),warning:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,attention:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,big:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,medium:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,fullWidth:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FormSubmitButton);FormSubmitButton.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"getClassName",docblock:"Get the input button classname\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the input button classname"}],displayName:"FormSubmitButton",props:{warning:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},attention:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},processing:{description:"",type:{name:"bool"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},big:{description:"",type:{name:"bool"},required:!1},medium:{description:"",type:{name:"bool"},required:!1},fullWidth:{description:"",type:{name:"bool"},required:!1}}}},"./src/react-extension/contexts/ApiAppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>defaultAppContext});var _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),_shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/lib/apiClient/apiClientOptions.js"),_test_mock_MockPort__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),_shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js");function defaultAppContext(appContext={}){const userSettings=new _shared_lib_Settings_UserSettings__WEBPACK_IMPORTED_MODULE_3__.A(_test_fixture_Settings_userSettings__WEBPACK_IMPORTED_MODULE_2__.A),siteSettings=new _shared_lib_Settings_SiteSettings__WEBPACK_IMPORTED_MODULE_0__.A(_test_fixture_Settings_siteSettings__WEBPACK_IMPORTED_MODULE_1__.A),defaultAppContext1={locale:"en-UK",onRefreshLocaleRequested:jest.fn(),userSettings,siteSettings,trustedDomain:"https://localhost:6006",loggedInUser:{id:userSettings.id,username:"user@passbolt.com",role:{name:"admin"}},port:new _test_mock_MockPort__WEBPACK_IMPORTED_MODULE_4__.A,setContext:jest.fn(),baseUrl:"https://localhost:6006",getApiClientOptions:()=>(new _shared_lib_apiClient_apiClientOptions__WEBPACK_IMPORTED_MODULE_5__.k).setBaseUrl("https://localhost:6006")};return Object.assign(defaultAppContext1,appContext)}},"./src/react-extension/contexts/DialogContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>DialogContextProvider,z9:()=>withDialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const DialogContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({dialogs:[],open:()=>{},close:()=>{}});class DialogContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(Dialog,DialogProps)=>{const dialogKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({dialogs:[...this.state.dialogs,{key:dialogKey,Dialog,DialogProps}]}),dialogKey},close:dialogKey=>this.setState({dialogs:this.state.dialogs.filter((dialog=>dialogKey!==dialog.key))}),closeAll:()=>this.setState({dialogs:[]})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Provider,{value:this.state},this.props.children)}}function withDialog(WrappedComponent){return class WithDialog extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(DialogContext.Consumer,null,(dialogContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{dialogContext,...this.props})))}}}DialogContextProvider.displayName="DialogContextProvider",DialogContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},DialogContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"DialogContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/test/fixture/Settings/userSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={"user.settings.trustedDomain":new URL(window.location.href).origin,"user.firstname":"Ada","user.id":"f848277c-5398-58f8-a82a-72397af2d450","user.lastname":"Lovelace","user.settings.securityToken.code":"TST","user.settings.securityToken.color":"#000000","user.settings.securityToken.textColor":"#FFFFFF","user.username":"ada@passbolt.com","user.settings.locale":"en-UK","user.settings.theme":"default"}},"./src/react-extension/test/mock/MockFetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var fetch_mock__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/fetch-mock/dist/esm/index.js");const __WEBPACK_DEFAULT_EXPORT__=class MockFetch{async addGetFetchRequest(name,callback){await fetch_mock__WEBPACK_IMPORTED_MODULE_0__.Ay.get(name,callback)}async addPostFetchRequest(name,callback){await fetch_mock__WEBPACK_IMPORTED_MODULE_0__.Ay.post(name,callback)}async addPutFetchRequest(name,callback){await fetch_mock__WEBPACK_IMPORTED_MODULE_0__.Ay.put(name,callback)}async addDeleteFetchRequest(name,callback){await fetch_mock__WEBPACK_IMPORTED_MODULE_0__.Ay.delete(name,callback)}}},"./src/react-extension/test/mock/MockPort.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function delay(t,v){return new Promise((resolve=>{setTimeout((()=>resolve(v)),t)}))}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=class MockPort{constructor(storage){this.storage=storage,this.onListeners={},this.requestListeners={},this.emitListener={},this.onConnectErrorHandler={}}async emit(name,eventObject){let result;return console.debug(`PORT EMIT: ${name}`),console.debug("Arguments",eventObject),this.emitListener[name]?(result=await this.emitListener[name](eventObject),console.debug("response: ",result)):console.debug(`The emit ${name} has not been mocked`),delay(0,result)}on(name,callback){console.debug(`PORT ON: ${name}`),console.debug("PORT ON PARAMETERS:",callback),this.addOnListener(name,callback)}async request(name){let result;if(console.debug(`PORT REQUEST: ${name}`),console.debug("PORT REQUEST PARAMETERS:",Array.prototype.slice.call(arguments)),this.requestListeners[name]){const listenerArguments=Array.prototype.slice.call(arguments,1,arguments.length);console.debug("listenerArguments",listenerArguments),listenerArguments.push(this.storage),console.debug("listenerArguments",listenerArguments),result=await this.requestListeners[name](...listenerArguments),console.debug("response: ",result)}else console.debug(`The request ${name} has not been mocked`);return delay(0,result)}addEmitListener(name){console.debug(`PORT EMIT: ${name}`),console.debug("PORT EMIT PARAMETERS:",Array.prototype.slice.call(arguments))}addOnListener(name,callback){this.emitListener[name]=callback}addRequestListener(name,callback){this.requestListeners[name]=callback}onConnectError(callback){this.onConnectErrorHandler.callback=callback}}},"./src/shared/components/Password/Password.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_img_svg_eye_open_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/eye_open.svg"),_img_svg_eye_close_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/eye_close.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class Password extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{viewPassword:!1,hasPassphraseFocus:!1,isPassphraseActive:!1}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handlePasswordInputFocus=this.handlePasswordInputFocus.bind(this),this.handlePasswordInputBlur=this.handlePasswordInputBlur.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleInputChange(event){this.props.onChange&&this.props.onChange(event)}handlePasswordInputFocus(){this.setState({hasPassphraseFocus:!0})}handlePasswordInputBlur(){this.setState({hasPassphraseFocus:!1})}handleViewPasswordButtonClick(){this.props.disabled||this.setState({viewPassword:!this.state.viewPassword})}get securityTokenStyle(){const inverseStyle={background:this.props.securityToken.textColor,color:this.props.securityToken.backgroundColor},fullStyle={background:this.props.securityToken.backgroundColor,color:this.props.securityToken.textColor};return this.state.hasPassphraseFocus?inverseStyle:fullStyle}get passphraseInputStyle(){if(!this.state.hasPassphraseFocus)return;const{backgroundColor}=this.props.securityToken,textColor=this.getContrastTextColor(backgroundColor);return{background:backgroundColor,color:textColor,"--passphrase-placeholder-color":textColor}}get previewStyle(){if(!this.state.hasPassphraseFocus)return;const{backgroundColor}=this.props.securityToken;return{"--icon-color":this.getContrastTextColor(backgroundColor),"--icon-background-color":backgroundColor}}getContrastTextColor(backgroundColor){const hex=backgroundColor.replace("#",""),bigint=parseInt(hex,16);return(.299*(bigint>>16&255)+.587*(bigint>>8&255)+.114*(255&bigint))/255>.5?"var(--Token-Token-text-and-icon)":"var(--Token-Token-text-and-icon-reversed)"}handleMouseDown(){this.setState({isPassphraseActive:!0})}handleMouseUp(){this.setState({isPassphraseActive:!1})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input password ${this.props.disabled?"disabled":""} ${this.state.hasPassphraseFocus?"":"no-focus"} ${this.state.isPassphraseActive?"active":""} ${this.props.securityToken?"security":""}`,style:this.props.securityToken?this.passphraseInputStyle:void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:this.props.id,name:this.props.name,maxLength:"4096",placeholder:this.props.placeholder,type:this.state.viewPassword&&!this.props.disabled?"text":"password",onKeyUp:this.props.onKeyUp,value:this.props.value,onFocus:this.handlePasswordInputFocus,onBlur:this.handlePasswordInputBlur,onChange:this.handleInputChange,disabled:this.props.disabled,readOnly:this.props.readOnly,autoComplete:this.props.autoComplete,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,"aria-required":!0,ref:this.props.inputRef}),this.props.preview&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-view-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleViewPasswordButtonClick,style:this.props.securityToken?this.previewStyle:void 0,className:"password-view infield button-transparent "+(this.props.disabled?"disabled":"")},!this.state.viewPassword&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_eye_open_svg__WEBPACK_IMPORTED_MODULE_1__.A,{className:"svg-icon eye-open"}),this.state.viewPassword&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_eye_close_svg__WEBPACK_IMPORTED_MODULE_2__.A,{className:"svg-icon eye-close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"View")))),this.props.securityToken&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"security-token-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"security-token",style:this.securityTokenStyle},this.props.securityToken.code)))}}Password.defaultProps={id:"",name:"",autoComplete:"off"},Password.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any,id:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,name:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,value:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,autoComplete:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,inputRef:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,preview:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,onChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,onKeyUp:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,securityToken:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({code:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,backgroundColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,textColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string})};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(Password);Password.__docgenInfo={description:"This component represent a password input field with some additional properties",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handlePasswordInputFocus",docblock:"Whenever the user focus on the password input",modifiers:[],params:[],returns:null,description:"Whenever the user focus on the password input"},{name:"handlePasswordInputBlur",docblock:"Whenever the user blurs on the password input",modifiers:[],params:[],returns:null,description:"Whenever the user blurs on the password input"},{name:"handleViewPasswordButtonClick",docblock:"Handle view password button click.",modifiers:[],params:[],returns:null,description:"Handle view password button click."},{name:"securityTokenStyle",docblock:"Returns the style of the security token (color and text color)",modifiers:["get"],params:[],returns:null,description:"Returns the style of the security token (color and text color)"},{name:"passphraseInputStyle",docblock:"Get the passphrase input style.\n@return {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get the passphrase input style."},{name:"previewStyle",docblock:"Returns the style of preview (icon color and icon background color)",modifiers:["get"],params:[],returns:null,description:"Returns the style of preview (icon color and icon background color)"},{name:"getContrastTextColor",docblock:"Calculate the luminance of a color and return the appropriate text color variable.\n@param {string} backgroundColor - The background color in hex format.\n@returns {string} - The CSS variable for text color.",modifiers:[],params:[{name:"backgroundColor",description:"The background color in hex format.",type:{name:"string"},optional:!1}],returns:{description:"The CSS variable for text color.",type:{name:"string"}},description:"Calculate the luminance of a color and return the appropriate text color variable."},{name:"handleMouseDown",docblock:"Handle the mouse down to set active item",modifiers:[],params:[],returns:null,description:"Handle the mouse down to set active item"},{name:"handleMouseUp",docblock:"Handle the mouse down to set active item to false",modifiers:[],params:[],returns:null,description:"Handle the mouse down to set active item to false"}],displayName:"Password",props:{id:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},name:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},autoComplete:{defaultValue:{value:'"off"',computed:!1},description:"",type:{name:"string"},required:!1},context:{description:"",type:{name:"any"},required:!1},value:{description:"",type:{name:"string"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},inputRef:{description:"",type:{name:"object"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},readOnly:{description:"",type:{name:"bool"},required:!1},preview:{description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},onKeyUp:{description:"",type:{name:"func"},required:!1},securityToken:{description:"",type:{name:"shape",value:{code:{name:"string",required:!1},backgroundColor:{name:"string",required:!1},textColor:{name:"string",required:!1}}},required:!1}}}},"./src/shared/lib/Settings/UserSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>UserSettings});class UserSettings{constructor(settings){this.settings=settings}get id(){return this.settings["user.id"]}get fullName(){return`${this.settings["user.firstname"]} ${this.settings["user.lastname"]}`}get username(){return this.settings["user.username"]}getTheme(){return this.settings["user.settings.theme"]}getTrustedDomain(){return this.settings["user.settings.trustedDomain"]}getSecurityToken(){return{code:this.settings["user.settings.securityToken.code"],backgroundColor:this.settings["user.settings.securityToken.color"],textColor:this.settings["user.settings.securityToken.textColor"]}}get locale(){return this.settings["user.settings.locale"]}}},"./src/shared/lib/apiClient/apiClientOptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ApiClientOptions});class ApiClientOptions{setBaseUrl(baseUrl){if(!baseUrl)throw new TypeError("ApiClientOption baseUrl is required.");if("string"==typeof baseUrl)try{this.baseUrl=new URL(baseUrl)}catch(e){throw new TypeError("ApiClientOption baseUrl is invalid.")}else{if(!(baseUrl instanceof URL))throw new TypeError("ApiClientOptions baseurl should be a string or URL");this.baseUrl=baseUrl}return this}setResourceName(resourceName){if(!resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName is required.");if("string"!=typeof resourceName)throw new TypeError("ApiClientOptions.setResourceName resourceName should be a valid string.");return this.resourceName=resourceName,this}getBaseUrl(){return this.baseUrl}getResourceName(){return this.resourceName}async getHeaders(){const csrfToken=await this.getCsrfToken();if(csrfToken)return{"X-CSRF-Token":csrfToken}}async getCsrfToken(){if("undefined"==typeof browser||void 0===browser.cookies){const csrfToken=document?.cookie?.split("; ")?.find((row=>row.startsWith("csrfToken")))?.split("=");return csrfToken&&2===csrfToken.length?csrfToken[1]:null}const stringUrl=this.baseUrl.toString(),url="/"===stringUrl.slice(-1)?stringUrl:`${stringUrl}/`,csrfCookie=await browser.cookies.get({name:"csrfToken",url});return csrfCookie?.value||null}}},"./src/shared/models/entity/role/roleEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class RoleEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["id","name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",enum:[RoleEntity.ROLE_ADMIN,RoleEntity.ROLE_USER,RoleEntity.ROLE_GUEST,RoleEntity.ROLE_ROOT]},description:{type:"string",maxLength:255},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}get id(){return this._props.id}get name(){return this._props.name}get description(){return this._props.description||null}get created(){return this._props.created||null}get modified(){return this._props.modified||null}isAdmin(){return this.name===RoleEntity.ROLE_ADMIN}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_ROOT(){return"root"}}const __WEBPACK_DEFAULT_EXPORT__=RoleEntity},"./src/shared/services/validator/AppEmailValidatorService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AppEmailValidatorService});var SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),lib=__webpack_require__("./node_modules/xregexp/lib/index.js"),lib_default=__webpack_require__.n(lib);class IsEmailValidator{static validate(value){return"string"==typeof value&&lib_default()("^[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})$","i").test(value)}}class IsRegexValidator{constructor(regex){if("string"!=typeof regex)throw Error("The regex should be a string.");this.regex=new(lib_default())(regex)}validate(value){return"string"==typeof value&&this.regex.test(value)}}class AppEmailValidatorService{static validate(value,appSettings){return AppEmailValidatorService.getValidator(appSettings).validate(value)}static getValidator(appSettings){return appSettings&&appSettings instanceof SiteSettings.A&&appSettings.emailValidateRegex?new IsRegexValidator(appSettings.emailValidateRegex):IsEmailValidator}}},"./src/shared/utils/portals.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>createSafePortal});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");function createSafePortal(children,domNode,key){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,domNode&&(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(children,domNode,key))}createSafePortal.__docgenInfo={description:'Create a portal in a "safe" mode.\n"Safe" mode only means that if the given HTML element doesn\'t exist, the method doesn\'t crash.\nIt will simply ignore the rendering if it happens.\n@param {ReactNode} children the elements to render in the portal\n@param {Element | DocumentFragment} domNode the target where to render the children.\n@param {null | string} [key] a React compatible key to be passed to `createPortal` if any\n@returns {JSX}',methods:[],displayName:"createSafePortal"}},"./test/mocks/mockApiResponse.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>mockApiResponse});const mockApiResponse=(body={},header={})=>Promise.resolve(JSON.stringify({header,body}))}}]);