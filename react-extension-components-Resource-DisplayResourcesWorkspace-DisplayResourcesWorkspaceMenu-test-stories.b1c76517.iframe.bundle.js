/*! For license information please see react-extension-components-Resource-DisplayResourcesWorkspace-DisplayResourcesWorkspaceMenu-test-stories.b1c76517.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[2700],{"./src/img/svg/download_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDownloadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 13.5V9M6.75 11.25 9 13.5l2.25-2.25"})))}},"./src/img/svg/more_horizontal.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgMoreHorizontal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333M12.667 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333M3.333 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333"})))}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultipleResource:()=>MultipleResource,MultipleResourceNotOwned:()=>MultipleResourceNotOwned,MultipleResourcesNotOwnedWithAllDenyOnRBAC:()=>MultipleResourcesNotOwnedWithAllDenyOnRBAC,OneResourceOwned:()=>OneResourceOwned,ResourceNotOwned:()=>ResourceNotOwned,ResourceStandaloneTotpOwned:()=>ResourceStandaloneTotpOwned,ResourceWithTotpOwned:()=>ResourceWithTotpOwned,WithAllFeatureDisplayed:()=>WithAllFeatureDisplayed,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesWorkspaceMenu_test_stories});var RbacContext_test_data=__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),PasswordExpirySettingsDto_test_data=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js"),PasswordExpirySettingsContext_test_data=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),DisplayResourcesWorkspaceMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js"),MockPort=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),userSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js"),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),Settings_siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),resourceEntity_test_data=__webpack_require__("./src/shared/models/entity/resource/resourceEntity.test.data.js"),DialogContext_test_data=__webpack_require__("./src/react-extension/contexts/DialogContext.test.data.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),ManagedClipboardServiceProvider_test_data=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.test.data.js"),metadataKeysSettingsEntity=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),metadataKeysSettingsEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.test.data.js"),secretRevisionsSettingsEntity=(__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js"),__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js")),secretRevisionsSettingsEntity_test_data=__webpack_require__("./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.test.data.js");const defaultAppContext=(appContext={})=>{const siteSettings=new SiteSettings.A(Settings_siteSettings.A),defaultAppContext={port:new MockPort.A,userSettings:new UserSettings.A(userSettings.A),siteSettings,setContext:()=>jest.fn()};return Object.assign(defaultAppContext,appContext)},defaultProps=(data={})=>({context:defaultAppContext(),rbacContext:(0,RbacContext_test_data.E2)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),dialogContext:(0,DialogContext_test_data.L)(),clipboardContext:(0,ManagedClipboardServiceProvider_test_data.H)(),metadataKeysSettings:new metadataKeysSettingsEntity.A((0,metadataKeysSettingsEntity_test_data.L)()),secretRevisionsSettings:new secretRevisionsSettingsEntity.A((0,secretRevisionsSettingsEntity_test_data.C)()),...data}),defaultPropsOneTotpResourceOwned=(data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[3]],lockDisplayDetail:!0}),...data}),defaultPropsMultipleResource=(data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:resourcesMock,lockDisplayDetail:!0}),...data}),resourcesMock=[(0,resourceEntity_test_data.oS)({name:"apache"}),(0,resourceEntity_test_data.j8)({name:"bower"}),(0,resourceEntity_test_data.Jn)({name:"test"}),(0,resourceEntity_test_data.f1)({name:"totp"}),(0,resourceEntity_test_data.Ge)({name:"standalone totp"})];var react=__webpack_require__("./node_modules/react/index.js");const DisplayResourcesWorkspaceMenu_test_stories={title:"Components/Resource/DisplayResourcesWorkspaceMenu",decorators:[Story=>react.createElement("div",{className:"top-bar"},react.createElement("div",{className:"action-bar"},react.createElement("div",{className:"actions-wrapper"},react.createElement(Story,null))))],component:DisplayResourcesWorkspaceMenu.A,parameters:{docs:{description:{component:"DisplayResourcesWorkspaceMenu stories"}}}},OneResourceOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[0]],lockDisplayDetail:!0}),...data}))()},ResourceWithTotpOwned={args:defaultPropsOneTotpResourceOwned()},ResourceStandaloneTotpOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[4]],lockDisplayDetail:!0}),...data}))()},ResourceNotOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[2]],lockDisplayDetail:!1}),...data}))()},MultipleResourcesNotOwnedWithAllDenyOnRBAC={args:defaultPropsMultipleResource({rbacContext:(0,RbacContext_test_data.UO)()})},MultipleResource={args:((data={})=>{const selectedResources=[resourcesMock[0],resourcesMock[1]];return defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources,lockDisplayDetail:!0}),passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)({policy_override:!0}),...data})})()},MultipleResourceNotOwned={args:defaultPropsMultipleResource()},WithAllFeatureDisplayed={args:defaultPropsOneTotpResourceOwned({passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)({getSettings:PasswordExpirySettingsDto_test_data.om})})},__namedExportsOrder=["OneResourceOwned","ResourceWithTotpOwned","ResourceStandaloneTotpOwned","ResourceNotOwned","MultipleResourcesNotOwnedWithAllDenyOnRBAC","MultipleResource","MultipleResourceNotOwned","WithAllFeatureDisplayed"];OneResourceOwned.parameters={...OneResourceOwned.parameters,docs:{...OneResourceOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneResourceOwned()\n}",...OneResourceOwned.parameters?.docs?.source}}},ResourceWithTotpOwned.parameters={...ResourceWithTotpOwned.parameters,docs:{...ResourceWithTotpOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneTotpResourceOwned()\n}",...ResourceWithTotpOwned.parameters?.docs?.source}}},ResourceStandaloneTotpOwned.parameters={...ResourceStandaloneTotpOwned.parameters,docs:{...ResourceStandaloneTotpOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneStandaloneTotpResourceOwned()\n}",...ResourceStandaloneTotpOwned.parameters?.docs?.source}}},ResourceNotOwned.parameters={...ResourceNotOwned.parameters,docs:{...ResourceNotOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneResourceNotOwned()\n}",...ResourceNotOwned.parameters?.docs?.source}}},MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters={...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters,docs:{...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResource({\n    rbacContext: denyRbacContext()\n  })\n}",...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters?.docs?.source}}},MultipleResource.parameters={...MultipleResource.parameters,docs:{...MultipleResource.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResourceUpdateRights()\n}",...MultipleResource.parameters?.docs?.source}}},MultipleResourceNotOwned.parameters={...MultipleResourceNotOwned.parameters,docs:{...MultipleResourceNotOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResource()\n}",...MultipleResourceNotOwned.parameters?.docs?.source}}},WithAllFeatureDisplayed.parameters={...WithAllFeatureDisplayed.parameters,docs:{...WithAllFeatureDisplayed.parameters?.docs,source:{originalSource:"{\n  args: propsResourcesWithAllFeatures\n}",...WithAllFeatureDisplayed.parameters?.docs?.source}}}},"./src/react-extension/components/Resource/ExportResources/ExportResources.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_ExportResourcesCredentials__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/Resource/ExportResources/ExportResourcesCredentials.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Select_Select__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js");class ExportResources extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{selectedExportFormat:this.exportFormats[0].value,actions:{processing:!1}}}bindHandlers(){this.handleExport=this.handleExport.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleClose=this.handleClose.bind(this),this.handleExportFormatSelected=this.handleExportFormatSelected.bind(this)}componentDidMount(){this.findContentToExport()}findContentToExport(){const foldersIds=this.findFoldersIdsToExport(),resourcesIds=this.findResourcesIdsToExport(foldersIds);this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds,foldersIds})}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}get hasFoldersToExport(){const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds;return foldersIds&&foldersIds.length>0}get hasResourcesToExport(){const resourcesIds=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return resourcesIds&&resourcesIds.length>0}findFoldersIdsToExport(){if(!this.hasFoldersToExport)return[];const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,childrenFoldersIds=foldersIds.map(folderId=>this.getChildrenFoldersIds(folderId)).flat();return[...foldersIds,...childrenFoldersIds]}getChildrenFoldersIds(folderId){const childrenFoldersIds=this.props.context.folders.filter(folder=>folder.folder_parent_id===folderId).map(folder=>folder.id);if(0!==childrenFoldersIds.length){const grandChildrenFolders=childrenFoldersIds.map(childFolderId=>this.getChildrenFoldersIds(childFolderId));return[...childrenFoldersIds,...grandChildrenFolders.flat()]}return[]}findResourcesIdsToExport(foldersIds){const resourcesIdsOfFoldersIds=this.getResourcesIdsOfFoldersToExport(foldersIds),resourcesIdsToExport=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds||[];return Array.from(new Set([...resourcesIdsToExport,...resourcesIdsOfFoldersIds]))}getResourcesIdsOfFoldersToExport(foldersIds){return this.props.context.resources.filter(resource=>foldersIds.some(folderId=>folderId===resource.folder_parent_id)).map(resource=>resource.id)}get exportFormats(){return[{label:"kdbx (keepass)",value:"kdbx"},{label:"kdbx (keepassXC & others)",value:"kdbx-others"},{label:"csv (keepass)",value:"csv-kdbx"},{label:"csv (lastpass)",value:"csv-lastpass"},{label:"csv (1password)",value:"csv-1password"},{label:"csv (chromium based browsers)",value:"csv-chromium"},{label:"csv (bitwarden)",value:"csv-bitwarden"},{label:"csv (mozilla)",value:"csv-mozilla"},{label:"csv (safari)",value:"csv-safari"},{label:"csv (dashlane)",value:"csv-dashlane"},{label:"csv (nordpass)",value:"csv-nordpass"},{label:"csv (logmeonce)",value:"csv-logmeonce"}]}handleExportFormatSelected(event){this.selectFormat(event.target.value)}async handleExport(event){event.preventDefault();this.state.selectedExportFormat.startsWith("csv")?(await this.setState({actions:{processing:!0}}),this.export().then(this.onExportSuccess.bind(this)).catch(this.onExportFailure.bind(this))):(await this.props.dialogContext.open(_ExportResourcesCredentials__WEBPACK_IMPORTED_MODULE_10__.A,{format:this.state.selectedExportFormat}),this.close())}async handleCancel(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}async handleClose(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}selectFormat(selectedExportFormat){this.setState({selectedExportFormat})}async export(){const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,resourcesIds=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds,exportDto={format:this.state.selectedExportFormat,folders_ids:foldersIds,resources_ids:resourcesIds};await this.props.context.port.request("passbolt.export-resources.export-to-file",exportDto)}async onExportSuccess(){await this.setState({actions:{processing:!1}}),await this.props.actionFeedbackContext.displaySuccess(this.translate("The passwords have been exported successfully")),await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}onExportFailure(error){if("UserAbortsOperationError"===error.name)return void this.setState({actions:{processing:!1}});const errorDialogProps={error};this.setState({actions:{processing:!1}}),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A,errorDialogProps)}close(){this.props.onClose()}get translate(){return this.props.t}render(){const foldersIdsToExport=this.hasFoldersToExport&&this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,resourcesIdsToExport=this.hasResourcesToExport&&this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_5__.A,{title:this.translate("Export passwords"),onClose:this.handleClose,disabled:!this.areActionsAllowed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleExport,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input required "+(this.areActionsAllowed?"":"disabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"export-format"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Choose the export format (csv and kdbx are supported)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_12__.A,{id:"export-format",value:this.state.selectedExportFormat,items:this.exportFormats,onChange:this.handleExportFormatSelected,disabled:!this.areActionsAllowed})),this.hasFoldersToExport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",null,this.translate("{{count}} folder is going to be exported.",{count:foldersIdsToExport.length}))),this.hasResourcesToExport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",null,this.translate("{{count}} password is going to be exported.",{count:resourcesIdsToExport.length})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:!this.areActionsAllowed,processing:this.isProcessing,onClick:this.handleCancel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Export")}))))}}ExportResources.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.CI)("common")(ExportResources)))));ExportResources.__docgenInfo={description:"This component allows to export resources to a specified format",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"findContentToExport",docblock:"Find the content to export and update the context.",modifiers:[],params:[],returns:null,description:"Find the content to export and update the context."},{name:"isProcessing",docblock:"Return trus if the export is processing",modifiers:["get"],params:[],returns:null,description:"Return trus if the export is processing"},{name:"areActionsAllowed",docblock:"Returns true if actions can be performed",modifiers:["get"],params:[],returns:null,description:"Returns true if actions can be performed"},{name:"hasFoldersToExport",docblock:"Returns true if some folders must be exported",modifiers:["get"],params:[],returns:null,description:"Returns true if some folders must be exported"},{name:"hasResourcesToExport",docblock:"Returns true if some resources must be exported",modifiers:["get"],params:[],returns:null,description:"Returns true if some resources must be exported"},{name:"findFoldersIdsToExport",docblock:"Returns the folders identifiers to export",modifiers:[],params:[],returns:null,description:"Returns the folders identifiers to export"},{name:"getChildrenFoldersIds",docblock:"Returns the children folders ids of the given folder\n@param folderId A folder identifier",modifiers:[],params:[{name:"folderId",description:"A folder identifier",optional:!1}],returns:null,description:"Returns the children folders ids of the given folder"},{name:"findResourcesIdsToExport",docblock:"Returns the resources identifiers to export\n@param {array} foldersIds The list of folders to crawl for resources",modifiers:[],params:[{name:"foldersIds",description:"The list of folders to crawl for resources",type:{name:"array"},optional:!1}],returns:null,description:"Returns the resources identifiers to export"},{name:"getResourcesIdsOfFoldersToExport",docblock:"Returns the resources ids of the folders to export\n@param foldersIds The folders to look into",modifiers:[],params:[{name:"foldersIds",description:"The folders to look into",optional:!1}],returns:null,description:"Returns the resources ids of the folders to export"},{name:"exportFormats",docblock:"Returns the list of available export formats",modifiers:["get"],params:[],returns:null,description:"Returns the list of available export formats"},{name:"handleExportFormatSelected",docblock:"Whenever the user selects an export format\n@param event Select DOM event",modifiers:[],params:[{name:"event",description:"Select DOM event",optional:!1}],returns:null,description:"Whenever the user selects an export format"},{name:"handleExport",docblock:"Whenever the export is submitted\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Whenever the export is submitted"},{name:"handleCancel",docblock:"Whenever the export is cancelled",modifiers:["async"],params:[],returns:null,description:"Whenever the export is cancelled"},{name:"handleClose",docblock:"Whenever the dialog is closed",modifiers:["async"],params:[],returns:null,description:"Whenever the dialog is closed"},{name:"selectFormat",docblock:"Select the export format\n@param selectedExportFormat The selected export format",modifiers:[],params:[{name:"selectedExportFormat",description:"The selected export format",optional:!1}],returns:null,description:"Select the export format"},{name:"export",docblock:"Export the selected resources or folders",modifiers:["async"],params:[],returns:null,description:"Export the selected resources or folders"},{name:"onExportSuccess",docblock:"Whenever the export has been performed successfully",modifiers:["async"],params:[],returns:null,description:"Whenever the export has been performed successfully"},{name:"onExportFailure",docblock:"Whenever the export has been performed with failure",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Whenever the export has been performed with failure"},{name:"close",docblock:"Close the dialog",modifiers:[],params:[],returns:null,description:"Close the dialog"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ExportResources",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Share/SharePermissionItemSkeleton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class SharePermissionItemSkeleton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"row skeleton"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"avatar"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-details"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select rights"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"shimmer"}))}}SharePermissionItemSkeleton.propTypes={};const __WEBPACK_DEFAULT_EXPORT__=SharePermissionItemSkeleton;SharePermissionItemSkeleton.__docgenInfo={description:"",methods:[],displayName:"SharePermissionItemSkeleton"}},"./src/react-extension/contexts/DialogContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultDialogContext(context={}){const defaultContext={dialogs:[],open:jest.fn(),close:jest.fn(),closeAll:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{L:()=>defaultDialogContext})},"./src/shared/models/entity/metadata/metadataKeysSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>defaultMetadataKeysSettingsDto});var _metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const defaultMetadataKeysSettingsDto=(data={},options={})=>{const defaultData={allow_usage_of_personal_keys:!0,zero_knowledge_key_share:!1};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,_metadataPrivateKeyEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mr)({metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)()},options?.withMetadataPrivateKeys)]),Object.assign(defaultData,data)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mr:()=>defaultMetadataPrivateKeyDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),user_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),data_signed_by_current_user:null,modified:"2022-10-11T08:09:00+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),...data})},"./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js");class SecretRevisionsSettingsEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["max_revisions","allow_sharing_revisions"],properties:{id:{type:"string",format:"uuid"},max_revisions:{type:"integer",minimum:1},allow_sharing_revisions:{type:"boolean"}}}}static createFromDefault(data={}){return new SecretRevisionsSettingsEntity({max_revisions:1,allow_sharing_revisions:!1,...data})}get id(){return this._props.id}get maxRevisions(){return this._props.max_revisions}get allowSharingRevisions(){return this._props.allow_sharing_revisions}get isFeatureEnabled(){return this.maxRevisions>1}}const __WEBPACK_DEFAULT_EXPORT__=SecretRevisionsSettingsEntity},"./src/shared/models/entity/secretRevision/secretRevisionsSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>defaultSecretRevisionsSettingsDto});const defaultSecretRevisionsSettingsDto=(data={})=>Object.assign({max_revisions:3,allow_sharing_revisions:!1},data)}}]);