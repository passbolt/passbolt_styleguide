/*! For license information please see 2218.3728f6b7.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[2218],{"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_25__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Resource/DeleteResource/DeleteResource.js"),_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Resource/EditResource/EditResource.js"),_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Share/ShareDialog.js"),_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Resource/ExportResources/ExportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/services/otp/TotpCodeGeneratorService.js"),_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflowMode.js"),_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js"),_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/shared/utils/dateUtils.js"),luxon__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js");class DisplayResourcesWorkspaceMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.createRefs(),this.bindCallbacks()}get defaultState(){return{moreMenuOpen:!1,viewColumnsMenuOpen:!1}}createRefs(){this.moreMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.viewColumnsMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleCopyPermalinkClickEvent=this.handleCopyPermalinkClickEvent.bind(this),this.handleCopyUsernameClickEvent=this.handleCopyUsernameClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleCopySecretClickEvent=this.handleCopySecretClickEvent.bind(this),this.handleCopyTotpClickEvent=this.handleCopyTotpClickEvent.bind(this),this.handleViewDetailClickEvent=this.handleViewDetailClickEvent.bind(this),this.handleExportClickEvent=this.handleExportClickEvent.bind(this),this.handleViewColumnsClickEvent=this.handleViewColumnsClickEvent.bind(this),this.handleOnChangeColumnView=this.handleOnChangeColumnView.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this),this.handleSetExpiryDateClickEvent=this.handleSetExpiryDateClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}handleDocumentClickEvent(event){this.moreMenuRef.current.contains(event.target)?this.handleCloseViewColumnsMenu():this.viewColumnsMenuRef.current.contains(event.target)?this.handleCloseMoreMenu():(this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu())}handleDocumentContextualMenuEvent(event){this.moreMenuRef.current.contains(event.target)?this.handleCloseViewColumnsMenu():this.viewColumnsMenuRef.current.contains(event.target)?this.handleCloseMoreMenu():(this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu())}handleDocumentDragStartEvent(){this.handleCloseMoreMenu(),this.handleCloseViewColumnsMenu()}handleMoreClickEvent(){const moreMenuOpen=!this.state.moreMenuOpen;this.setState({moreMenuOpen})}handleDeleteClickEvent(){this.props.dialogContext.open(_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_6__.A,{resources:this.selectedResources}),this.handleCloseMoreMenu()}async handleMarkAsExpiredClick(){this.handleCloseMoreMenu();const resourcesExpiryDateToUpdate=this.selectedResources.map((resource=>({id:resource.id,expired:(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_20__.B7)(luxon__WEBPACK_IMPORTED_MODULE_21__.c9.utc())})));try{await this.props.context.port.request("passbolt.resources.set-expiration-date",resourcesExpiryDateToUpdate),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:resourcesExpiryDateToUpdate.length}))}catch(error){await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:resourcesExpiryDateToUpdate.length}))}finally{this.handleCloseMoreMenu()}}handleEditClickEvent(){this.isStandaloneTotpResource?this.props.workflowContext.start(_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_16__.A,{mode:_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_15__._.EDIT_STANDALONE_TOTP}):this.props.dialogContext.open(_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_7__.A,{resource:this.selectedResources[0]})}async handleShareClickEvent(){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.context.setContext({shareDialogProps:{resourcesIds}}),this.props.dialogContext.open(_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_8__.A)}async handleCopyPermalinkClickEvent(){this.handleCloseMoreMenu();const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.selectedResources[0].id}`;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_24__.A.copy(permalink,this.props.context.port),this.displaySuccessNotification(this.translate("The permalink has been copied to clipboard"))}async handleCopyUsernameClickEvent(){this.handleCloseMoreMenu(),await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_24__.A.copy(this.selectedResources[0].metadata.username,this.props.context.port),this.displaySuccessNotification(this.translate("The username has been copied to clipboard"))}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.selectedResources[0].id)}async copyPasswordToClipboard(plaintextSecretDto){const password=plaintextSecretDto.password;if(!password)throw new TypeError(this.translate("The password is empty."));await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_24__.A.copy(password,this.props.context.port)}async handleCopySecretClickEvent(){let plaintextSecretDto;this.handleCloseMoreMenu(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}this.props.progressContext.close(),plaintextSecretDto?.password?.length?(await this.copyPasswordToClipboard(plaintextSecretDto),this.props.resourceWorkspaceContext.onResourceCopied(),this.props.actionFeedbackContext.displaySuccess(this.translate("The secret has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard."))}async handleCopyTotpClickEvent(){let plaintextSecretDto,code;this.handleCloseMoreMenu(),this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}if(this.props.progressContext.close(),plaintextSecretDto)if(plaintextSecretDto.totp){try{code=_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_14__.l.generate(plaintextSecretDto.totp)}catch(error){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_24__.A.copy(code,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleSetExpiryDateClickEvent(){this.handleCloseMoreMenu(),this.props.dialogContext.open(_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_18__.A,{resources:this.selectedResources})}handleExportClickEvent(){this.export()}handleViewColumnsClickEvent(){const viewColumnsMenuOpen=!this.state.viewColumnsMenuOpen;this.setState({viewColumnsMenuOpen})}handleOnChangeColumnView(event){const target=event.target;this.props.resourceWorkspaceContext.onChangeColumnView(target.id,target.checked)}displaySuccessNotification(message){this.props.actionFeedbackContext.displaySuccess(message)}handleCloseMoreMenu(){this.setState({moreMenuOpen:!1})}handleCloseViewColumnsMenu(){this.setState({viewColumnsMenuOpen:!1})}get filteredResources(){return this.props.resourceWorkspaceContext.filteredResources}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}hasResourceSelected(){return this.selectedResources.length>0}hasOneResourceSelected(){return 1===this.selectedResources.length}hasMultipleResourcesSelected(){return this.selectedResources.length>1}canUpdate(){return this.hasResourceSelected()&&this.selectedResources.every((resource=>resource.permission.type>=7))}canShare(){return this.hasResourceSelected()&&this.selectedResources.every((resource=>15===resource.permission.type))}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__.e.RESOURCES_EXPORT)}canCopyUsername(){return this.hasOneResourceSelected()&&this.selectedResources[0].metadata?.username}canCopyPassword(){return this.hasOneResourceSelected()&&this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasPassword()}canCopyTotp(){return this.hasOneResourceSelected()&&this.isTotpResources}get isTotpResources(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id).isStandaloneTotp()}hasMoreActionAllowed(){return!!this.hasOneResourceSelected()||!!this.hasMultipleResourcesSelected&&this.canUpdate()}handleViewDetailClickEvent(){this.props.resourceWorkspaceContext.onLockDetail()}hasLockDetail(){return this.props.resourceWorkspaceContext.lockDisplayDetail}async export(){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds}),await this.props.dialogContext.open(_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_9__.A)}get columnsResourceSetting(){return this.props.resourceWorkspaceContext.columnsResourceSetting?.items}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canOverridePasswordExpiry(){const passwordExpirySettings=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&passwordExpirySettings?.policy_override}get translate(){return this.props.t}render(){const canCopySecret=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__.e.SECRETS_COPY),canViewShare=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_12__.e.SHARE_VIEW_LIST);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col2_3 actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,canCopySecret&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"password_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected(),onClick:this.handleCopySecretClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"copy-to-clipboard"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"edit_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected()||!this.canUpdate(),onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"edit"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Edit")))),canViewShare&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"share_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.hasResourceSelected()||!this.canShare(),onClick:this.handleShareClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"share"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Share")))),this.canExport()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"export_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.hasResourceSelected(),onClick:this.handleExportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"download"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Export")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown",ref:this.moreMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"more "+(this.state.moreMenuOpen?"open":""),disabled:!this.hasMoreActionAllowed(),onClick:this.handleMoreClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"More")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"caret-down"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"dropdown-content menu right "+(this.state.moreMenuOpen?"visible":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"username_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canCopyUsername(),className:"link no-border",onClick:this.handleCopyUsernameClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy username to clipboard"))))))),canCopySecret&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"secret_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canCopyPassword(),className:"link no-border",onClick:this.handleCopySecretClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy password to clipboard"))))))),this.canUseTotp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"totp_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canCopyTotp(),className:"link no-border",onClick:this.handleCopyTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy TOTP to clipboard"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"permalink_action",className:"separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.hasOneResourceSelected(),className:"link no-border",onClick:this.handleCopyPermalinkClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Copy permalink to clipboard"))))))),this.canOverridePasswordExpiry&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"set_expiry_date_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleSetExpiryDateClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Set expiry date"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"mark_as_expired_action",className:"ready separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleMarkAsExpiredClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Mark as expired")))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"delete_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canUpdate(),className:"link no-border",onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Delete")))))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions secondary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown",ref:this.viewColumnsMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-icon "+(this.state.viewColumnsMenuOpen?"open":""),onClick:this.handleViewColumnsClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"columns"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"caret-down"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"dropdown-content menu left "+(this.state.viewColumnsMenuOpen?"visible":"")},this.columnsResourceSetting?.map((column=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:column.id,className:""+("uri"===column.id?"separator-after":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"checkbox",checked:column.show,id:column.id,name:column.id,onChange:this.handleOnChangeColumnView}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:column.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,column.label)))))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-toggle button-action-icon info "+(this.hasLockDetail()?"selected":""),onClick:this.handleViewDetailClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_4__.A,{name:"info-circle",big:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"View detail")))))))}}DisplayResourcesWorkspaceMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_25___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_23__.A),passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,progressContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_25___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_25___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_11__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_17__.AV)((0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_13__.E0)((0,_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_19__.f4)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_22__.KH)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.CI)("common")(DisplayResourcesWorkspaceMenu))))))))));DisplayResourcesWorkspaceMenu.__docgenInfo={description:"This component allows the current user to add a new comment on a resource",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"handleMoreClickEvent",docblock:"open or close the more menu",modifiers:[],params:[],returns:null,description:"open or close the more menu"},{name:"handleDeleteClickEvent",docblock:"handle delete one or more resources",modifiers:[],params:[],returns:null,description:"handle delete one or more resources"},{name:"handleMarkAsExpiredClick",docblock:"Handle mark as expired\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle mark as expired"},{name:"handleEditClickEvent",docblock:"handle edit one resource",modifiers:[],params:[],returns:null,description:"handle edit one resource"},{name:"handleShareClickEvent",docblock:"handle share resources",modifiers:["async"],params:[],returns:null,description:"handle share resources"},{name:"handleCopyPermalinkClickEvent",docblock:"handle copy permalink of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy permalink of one resource"},{name:"handleCopyUsernameClickEvent",docblock:"handle copy username of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy username of one resource"},{name:"decryptResourceSecret",docblock:"Decrypt the resource secret\n@returns {Promise<object>} The secret in plaintext format\n@throw UserAbortsOperationError If the user cancel the operation",modifiers:[],params:[],returns:{description:"The secret in plaintext format",type:{name:"Promise",elements:[{name:"object"}]}},description:"Decrypt the resource secret"},{name:"copyPasswordToClipboard",docblock:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)\n\n@param {object} plaintextSecretDto The plaintext secret DTO.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"plaintextSecretDto",description:"The plaintext secret DTO.",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)"},{name:"handleCopySecretClickEvent",docblock:"handle copy to clipboard the secret of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the secret of the selected resource"},{name:"handleCopyTotpClickEvent",docblock:"handle copy to clipboard the totp of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the totp of the selected resource"},{name:"handleSetExpiryDateClickEvent",docblock:"Whenever the user intends to set the expiration date on the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to set the expiration date on the selected resources"},{name:"handleExportClickEvent",docblock:"Whenever the user intends to export the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to export the selected resources"},{name:"handleViewColumnsClickEvent",docblock:"open or close the more menu",modifiers:[],params:[],returns:null,description:"open or close the more menu"},{name:"handleOnChangeColumnView",docblock:null,modifiers:[],params:[{name:"event",optional:!1,type:null}],returns:null},{name:"displaySuccessNotification",docblock:"display a success notification message\n@param message",modifiers:[],params:[{name:"message",optional:!1}],returns:null,description:"display a success notification message"},{name:"handleCloseMoreMenu",docblock:"Close the more menu",modifiers:[],params:[],returns:null,description:"Close the more menu"},{name:"handleCloseViewColumnsMenu",docblock:"Close the more menu",modifiers:[],params:[],returns:null,description:"Close the more menu"},{name:"filteredResources",docblock:"selected resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"selected resources"},{name:"selectedResources",docblock:"selected resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"selected resources"},{name:"hasResourceSelected",docblock:"has at least one resource selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has at least one resource selected"},{name:"hasOneResourceSelected",docblock:"has at least one resource selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has at least one resource selected"},{name:"hasMultipleResourcesSelected",docblock:"has multiple resources selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has multiple resources selected"},{name:"canUpdate",docblock:"Can update the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the selected resources"},{name:"canShare",docblock:"Can share the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can share the selected resources"},{name:"canExport",docblock:"Check if the user can export.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can export."},{name:"canCopyUsername",docblock:"Can copy username\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy username"},{name:"canCopyPassword",docblock:"Can copy password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy password"},{name:"isPasswordResources",docblock:"Is password resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is password resource"},{name:"canCopyTotp",docblock:"Can copy totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy totp"},{name:"isTotpResources",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"isStandaloneTotpResource",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"hasMoreActionAllowed",docblock:"Has at least one action of the more menu allowed.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has at least one action of the more menu allowed."},{name:"handleViewDetailClickEvent",docblock:"handle view detail click event",modifiers:[],params:[],returns:null,description:"handle view detail click event"},{name:"hasLockDetail",docblock:"Has lock for the detail display\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has lock for the detail display"},{name:"export",docblock:"Exports the selected resources",modifiers:["async"],params:[],returns:null,description:"Exports the selected resources"},{name:"columnsResourceSetting",docblock:"Get the columns list of resource\n@return {[Object]}",modifiers:["get"],params:[],returns:{type:{name:"tuple",elements:[{name:"Object"}]}},description:"Get the columns list of resource"},{name:"canUseTotp",docblock:"Can use Totp\n@return {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Can use Totp"},{name:"canOverridePasswordExpiry",docblock:"Can use password expiry\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use password expiry"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourcesWorkspaceMenu",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},progressContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}}}]);