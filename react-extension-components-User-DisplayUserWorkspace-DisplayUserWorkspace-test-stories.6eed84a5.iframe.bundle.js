/*! For license information please see react-extension-components-User-DisplayUserWorkspace-DisplayUserWorkspace-test-stories.6eed84a5.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[490],{"./src/react-extension/components/User/DisplayUserWorkspace/DisplayUserWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,ceVersion:()=>ceVersion,default:()=>DisplayUserWorkspace_test_stories,proVersion:()=>proVersion});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),DisplayUsers=__webpack_require__("./src/react-extension/components/User/DisplayUsers/DisplayUsers.js"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),AccountRecoveryUserContext=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),DisplayUserDetailsInformation=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js"),DisplayUserDetailsGroups=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js"),DisplayUserDetailsPublicKey=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DisplayUserDetailsAccountRecovery=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js"),clipBoard=__webpack_require__("./src/shared/lib/Browser/clipBoard.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get user(){return this.props.userWorkspaceContext.details.user}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.user.id}`;await clipBoard.A.copy(permalink,this.props.context.port),await this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}isAccountRecoveryEnabled(){return this.props.accountRecoveryContext.isPolicyEnabled()}get hasAttentionRequired(){return this.isAccountRecoveryEnabled()&&Boolean(this.user.pending_account_recovery_request)}isUserSuspended(user){return this.props.context.siteSettings.canIUse("disableUser")&&(0,userUtils.B7)(user)}render(){return react.createElement("div",{className:"panel aside ready"},react.createElement("div",{className:"sidebar user"},react.createElement("div",{className:"sidebar-header "+(this.isUserSuspended(this.user)?"suspended":"")},react.createElement("div",{className:"teaser-image  "+(this.hasAttentionRequired?"attention-required":"")},react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl,attentionRequired:this.hasAttentionRequired})),react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this user"),onClick:this.handlePermalinkClick},react.createElement(Icon.A,{name:"link"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this user")))),react.createElement("span",{className:"subtitle"},this.user.username)),react.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},react.createElement(Icon.A,{name:"close"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Close")))),react.createElement(DisplayUserDetailsInformation.A,null),this.user.active&&react.createElement(DisplayUserDetailsGroups.A,null),this.user.active&&react.createElement(DisplayUserDetailsPublicKey.A,null),this.isAccountRecoveryEnabled()&&this.user.active&&this.isLoggedInUserAdmin()&&react.createElement(DisplayUserDetailsAccountRecovery.A,null)))}}DisplayUserDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,accountRecoveryContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserDetails_DisplayUserDetails=(0,AppContext.L)((0,AccountRecoveryUserContext.Le)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(DisplayUserDetails)))));DisplayUserDetails.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"isLoggedInUserAdmin",docblock:"Is the logged in user admin\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the logged in user admin"},{name:"isAccountRecoveryEnabled",docblock:"Is the account recovery enabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the account recovery enabled"},{name:"hasAttentionRequired",docblock:"Get attention required\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Get attention required"},{name:"isUserSuspended",docblock:"Returns true if the feature flag disableUser is enabled and the given user is suspended.\n@param {object} user\n@returns {boolean}",modifiers:[],params:[{name:"user",type:{name:"object"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the feature flag disableUser is enabled and the given user is suspended."}],displayName:"DisplayUserDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayUserWorkspaceActions=__webpack_require__("./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js"),Logo=__webpack_require__("./src/react-extension/components/Common/Navigation/Header/Logo.js"),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),FilterUsersByGroup=__webpack_require__("./src/react-extension/components/User/FilterUsersByGroups/FilterUsersByGroup.js"),FilterUsersByShortcut=__webpack_require__("./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js"),FilterUsersByText=__webpack_require__("./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js"),DisplayUserGroupDetailsInformation=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js"),GroupAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),DisplayUserGroupDetailsMembers=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js");class DisplayUserGroupDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/groups/view/${this.group.id}`;await clipBoard.A.copy(permalink,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}render(){return react.createElement("div",{className:"panel aside ready"},react.createElement("div",{className:"sidebar user"},react.createElement("div",{className:"sidebar-header"},react.createElement("div",{className:"teaser-image"},react.createElement(GroupAvatar.A,{group:this.group})),react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name sidebar-header-title"},this.group.name),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this group"),onClick:this.handlePermalinkClick},react.createElement(Icon.A,{name:"link"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this group")))),react.createElement("span",{className:"subtitle"},react.createElement(es.x6,null,"Group"))),react.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},react.createElement(Icon.A,{name:"close"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Close"))))),react.createElement(DisplayUserGroupDetailsInformation.A,null),react.createElement(DisplayUserGroupDetailsMembers.A,null))}}DisplayUserGroupDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,t:prop_types_default().func};const DisplayUserGroupDetails_DisplayUserGroupDetails=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetails))));DisplayUserGroupDetails.__docgenInfo={description:"This component displays the details of a users group",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"group",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var CreateUser=__webpack_require__("./src/react-extension/components/User/CreateUser/CreateUser.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),CreateUserGroup=__webpack_require__("./src/react-extension/components/UserGroup/CreateUserGroup/CreateUserGroup.js");class DisplayUserWorkspaceMainActions extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{createMenuOpen:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleCreateClickEvent=this.handleCreateClickEvent.bind(this),this.handleCreateMenuUserClickEvent=this.handleCreateMenuUserClickEvent.bind(this),this.handleCreateMenuGroupClickEvent=this.handleCreateMenuGroupClickEvent.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.createMenuRef=react.createRef()}handleDocumentClickEvent(event){this.createMenuRef.current&&this.createMenuRef.current.contains(event.target)||this.handleCloseCreateMenu()}handleDocumentContextualMenuEvent(event){this.createMenuRef.current.contains(event.target)||this.handleCloseCreateMenu()}handleDocumentDragStartEvent(){this.handleCloseCreateMenu()}handleCreateClickEvent(){const createMenuOpen=!this.state.createMenuOpen;this.setState({createMenuOpen})}handleCreateMenuUserClickEvent(){this.openCreateUserDialog(),this.handleCloseCreateMenu()}openCreateUserDialog(){this.props.dialogContext.open(CreateUser.A)}handleCreateMenuGroupClickEvent(){this.openCreateGroupDialog(),this.handleCloseCreateMenu()}openCreateGroupDialog(){this.props.dialogContext.open(CreateUserGroup.A)}handleCloseCreateMenu(){this.setState({createMenuOpen:!1})}canIUseCreate(){return this.isLoggedInUserAdmin()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}render(){return react.createElement("div",{className:"col1 main-action-wrapper"},this.canIUseCreate()&&react.createElement("div",{className:"dropdown",ref:this.createMenuRef},react.createElement("button",{type:"button",className:"create primary "+(this.state.createMenuOpen?"open":""),onClick:this.handleCreateClickEvent},react.createElement(Icon.A,{name:"add"}),react.createElement("span",null,react.createElement(es.x6,null,"Create"))),react.createElement("ul",{className:"dropdown-content menu right "+(this.state.createMenuOpen?"visible":"")},react.createElement("li",{id:"user_action"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuUserClickEvent},react.createElement("span",null,react.createElement(es.x6,null,"New user"))))))),react.createElement("li",{id:"group_action"},react.createElement("div",{className:"row"},react.createElement("div",{className:"main-cell-wrapper"},react.createElement("div",{className:"main-cell"},react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleCreateMenuGroupClickEvent},react.createElement("span",null,react.createElement(es.x6,null,"New group"))))))))))}}DisplayUserWorkspaceMainActions.propTypes={context:prop_types_default().any,dialogContext:prop_types_default().any};const DisplayUserWorkspaceMainActions_DisplayUserWorkspaceMainActions=(0,AppContext.L)((0,DialogContext.z9)((0,es.CI)("common")(DisplayUserWorkspaceMainActions)));DisplayUserWorkspaceMainActions.__docgenInfo={description:"This component is a container of multiple actions applicable on user",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"handleCreateClickEvent",docblock:"Handle create click event",modifiers:[],params:[],returns:null,description:"Handle create click event"},{name:"handleCreateMenuUserClickEvent",docblock:"Handle user click event",modifiers:[],params:[],returns:null,description:"Handle user click event"},{name:"openCreateUserDialog",docblock:"Open create user dialog",modifiers:[],params:[],returns:null,description:"Open create user dialog"},{name:"handleCreateMenuGroupClickEvent",docblock:"Handle group click event",modifiers:[],params:[],returns:null,description:"Handle group click event"},{name:"openCreateGroupDialog",docblock:"Open create group dialog",modifiers:[],params:[],returns:null,description:"Open create group dialog"},{name:"handleCloseCreateMenu",docblock:"Close the create menu",modifiers:[],params:[],returns:null,description:"Close the create menu"},{name:"canIUseCreate",docblock:"Check if the user can use the create capability.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can use the create capability."},{name:"isLoggedInUserAdmin",docblock:"Can update the resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the resource"}],displayName:"DisplayUserWorkspaceMainActions",props:{context:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1}}};var FilterUsersByBreadcrumb=__webpack_require__("./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js"),HandleReviewAccountRecoveryRequestWorkflow=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js");class HandleReviewAccountRecoveryRequestRoute extends react.Component{componentDidMount(){this.handleRoute()}async handleRoute(){const accountRecoveryRequestId=this.props.match.params.accountRecoveryRequestId;let accountRecoveryRequest;try{accountRecoveryRequest=await this.props.context.port.request("passbolt.account-recovery.get-request",accountRecoveryRequestId)}catch(error){return void this.handleAccountRecoveryRequestNotFound()}const user=this.props.context.users.find((user=>user.id===accountRecoveryRequest.user_id));user?(await this.props.userWorkspaceContext.onUserSelected.single(user),this.props.workflowContext.start(HandleReviewAccountRecoveryRequestWorkflow.A,{accountRecoveryRequest})):this.handleAccountRecoveryRequestUserNotFound()}handleAccountRecoveryRequestNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The account recovery request does not exist."))}handleAccountRecoveryRequestUserNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The user who requested an account recovery does not exist."))}render(){return react.createElement(react.Fragment,null)}}HandleReviewAccountRecoveryRequestRoute.propTypes={actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,history:prop_types_default().object,match:prop_types_default().object,t:prop_types_default().func,userWorkspaceContext:prop_types_default().any,workflowContext:prop_types_default().any};const HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,WorkflowContext.AV)((0,react_router.y)((0,es.CI)("common")(HandleReviewAccountRecoveryRequestRoute))))));HandleReviewAccountRecoveryRequestRoute.__docgenInfo={description:"Handle the review account recovery request route.\n- Select the user in the grid.\n-Display the review account recovery request dialog.",methods:[{name:"handleRoute",docblock:"Handle the review account recovery request route.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the review account recovery request route."},{name:"handleAccountRecoveryRequestNotFound",docblock:"The account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The account recovery request cannot be found."},{name:"handleAccountRecoveryRequestUserNotFound",docblock:"The user who created the account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The user who created the account recovery request cannot be found."}],displayName:"HandleReviewAccountRecoveryRequestRoute",props:{actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},match:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1}}};var DisplayHttpError=__webpack_require__("./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js");class DisplayUserWorkspace extends react.Component{get mustDisplayUserDetails(){const{details}=this.props.userWorkspaceContext;return details.user&&details.locked}get mustDisplayGroupDetails(){const{details}=this.props.userWorkspaceContext;return details.group&&details.locked}get isAccessAllowed(){return this.props.userWorkspaceContext.isAccessAllowed()}render(){return react.createElement("div",null,this.props.context.users&&react.createElement(react_router.qh,{path:"/app/account-recovery/requests/review/:accountRecoveryRequestId",component:HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute}),react.createElement("div",{className:"header second"},react.createElement(Logo.A,null),react.createElement(FilterUsersByText.A,null),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),react.createElement("div",{className:"header third"},react.createElement(DisplayUserWorkspaceMainActions_DisplayUserWorkspaceMainActions,null),this.isAccessAllowed&&react.createElement(DisplayUserWorkspaceActions.A,null)),react.createElement("div",{className:"panel main"},this.isAccessAllowed?react.createElement(react.Fragment,null,react.createElement("div",{className:"panel left"},react.createElement(FilterUsersByShortcut.A,null),react.createElement(FilterUsersByGroup.A,null)),react.createElement("div",{className:"panel middle"},react.createElement(FilterUsersByBreadcrumb.A,null),react.createElement(DisplayUsers.A,null),this.mustDisplayUserDetails&&react.createElement(DisplayUserDetails_DisplayUserDetails,null),this.mustDisplayGroupDetails&&react.createElement(DisplayUserGroupDetails_DisplayUserGroupDetails,null))):react.createElement(DisplayHttpError.A,{errorCode:403})))}}DisplayUserWorkspace.propTypes={context:prop_types_default().any,history:prop_types_default().any,userWorkspaceContext:prop_types_default().any};const DisplayUserWorkspace_DisplayUserWorkspace=(0,AppContext.L)((0,react_router.y)((0,UserWorkspaceContext.zY)(DisplayUserWorkspace)));DisplayUserWorkspace.__docgenInfo={description:"This component is a container for all the user workspace features",methods:[{name:"mustDisplayUserDetails",docblock:"Returns true if the user details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user details must be displayed"},{name:"mustDisplayGroupDetails",docblock:"Returns true if the group details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the group details must be displayed"},{name:"isAccessAllowed",docblock:"Returns true if current user is allowed to access the user workspace\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if current user is allowed to access the user workspace"}],displayName:"DisplayUserWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1}}};var ManageContextualMenu=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js");class ManageWorkflows extends react.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.stop=this.stop.bind(this)}async stop(index){this.props.workflowContext.stop(index)}render(){return react.createElement(react.Fragment,null,this.props.workflowContext.workflows.map((({key,Workflow,workflowProps})=>react.createElement(Workflow,{key,onStop:()=>this.stop(key),...workflowProps}))),this.props.children)}}ManageWorkflows.propTypes={workflowContext:prop_types_default().any,children:prop_types_default().any};const ManageWorkflows_ManageWorkflows=(0,WorkflowContext.AV)(ManageWorkflows);ManageWorkflows.__docgenInfo={description:"This component acts as an anchor for the different project workflows.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"stop",docblock:"Removes the index-th workflow",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th workflow"}],displayName:"ManageWorkflows",props:{workflowContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}};var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const AnnouncementContext=react.createContext({announcements:[],show:()=>{},close:()=>{}});class AnnouncementContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(Announcement,AnnouncementProps)=>{const announcementKey=(0,v4.A)();return this.setState({announcements:[...this.state.announcements,{key:announcementKey,Announcement,AnnouncementProps}]}),announcementKey},close:async announcementKey=>await this.setState({announcements:this.state.announcements.filter((announcement=>announcementKey!==announcement.key))})}}render(){return react.createElement(AnnouncementContext.Provider,{value:this.state},this.props.children)}}AnnouncementContextProvider.displayName="AnnouncementContextProvider",AnnouncementContextProvider.propTypes={children:prop_types_default().any},AnnouncementContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"AnnouncementContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}};class ManageAnnouncements extends react.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){this.props.announcementContext.close(index)}render(){return react.createElement(react.Fragment,null,this.props.announcementContext.announcements.map((({key,Announcement,AnnouncementProps})=>react.createElement(Announcement,{key,onClose:()=>this.close(key),...AnnouncementProps}))),this.props.children)}}ManageAnnouncements.propTypes={announcementContext:prop_types_default().any,children:prop_types_default().any};const ManageAnnouncements_ManageAnnouncements=function withAnnouncement(WrappedComponent){return class WithAnnouncement extends react.Component{render(){return react.createElement(AnnouncementContext.Consumer,null,(announcementContext=>react.createElement(WrappedComponent,{announcementContext,...this.props})))}}}(ManageAnnouncements);ManageAnnouncements.__docgenInfo={description:"This component acts as an anchor for the different project announcements.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th announcement",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th announcement"}],displayName:"ManageAnnouncements",props:{announcementContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}};var ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),ExtAppContext=__webpack_require__("./src/react-extension/contexts/ExtAppContext.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),DisplayMainMenu=__webpack_require__("./src/react-extension/components/Common/Menu/DisplayMainMenu.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js");const DisplayUserWorkspace_test_stories={title:"Workspaces/User",component:DisplayUserWorkspace_DisplayUserWorkspace,parameters:{docs:{description:{component:"DisplayUserWorkspace stories"}}}},Template=({...args})=>react.createElement(react_router.fS,{initialEntries:["/app/users"]},react.createElement(ExtAppContext.A,{storage:args.storage,port:args.port},react.createElement(RbacContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(NavigationContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(UserWorkspaceContext.Ay,null,react.createElement(ManageDialogs.A,null),react.createElement(ManageWorkflows_ManageWorkflows,null),react.createElement(ManageContextualMenu.A,null),react.createElement(ManageAnnouncements_ManageAnnouncements,null),react.createElement("div",{id:"container",className:"page user"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000"},react.createElement("div",{className:"header first"},react.createElement(DisplayMainMenu.A,null)),react.createElement(DisplayUserWorkspace_DisplayUserWorkspace,null)))))))))),storage=(0,mockStorage.A)(),port=(0,mockPort.A)(storage),proVersion=Template.bind({});proVersion.args={port,storage};const ceStorage=(0,mockStorage.A)(),cePort=(0,mockPort.A)(ceStorage);cePort.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B));const ceVersion=Template.bind({});ceVersion.args={port:cePort,storage:ceStorage};const __namedExportsOrder=["proVersion","ceVersion"];proVersion.parameters={...proVersion.parameters,docs:{...proVersion.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <MemoryRouter initialEntries={[\'/app/users\']}>\n    <ExtAppContextProvider storage={args.storage} port={args.port}>\n      <RbacContextProvider>\n        <DialogContextProvider>\n          <NavigationContextProvider>\n            <ContextualMenuContextProvider>\n              <UserWorkspaceContextProvider>\n                <ManageDialogs />\n                <ManageWorkflows />\n                <ManageContextualMenu />\n                <ManageAnnouncements />\n                <div id="container" className="page user">\n                  <div id="app" className="app ready" tabIndex="1000">\n                    <div className="header first">\n                      <DisplayMainMenu />\n                    </div>\n                    <DisplayUserWorkspace />\n                  </div>\n                </div>\n              </UserWorkspaceContextProvider>\n            </ContextualMenuContextProvider>\n          </NavigationContextProvider>\n        </DialogContextProvider>\n      </RbacContextProvider>\n    </ExtAppContextProvider>\n  </MemoryRouter>',...proVersion.parameters?.docs?.source}}},ceVersion.parameters={...ceVersion.parameters,docs:{...ceVersion.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <MemoryRouter initialEntries={[\'/app/users\']}>\n    <ExtAppContextProvider storage={args.storage} port={args.port}>\n      <RbacContextProvider>\n        <DialogContextProvider>\n          <NavigationContextProvider>\n            <ContextualMenuContextProvider>\n              <UserWorkspaceContextProvider>\n                <ManageDialogs />\n                <ManageWorkflows />\n                <ManageContextualMenu />\n                <ManageAnnouncements />\n                <div id="container" className="page user">\n                  <div id="app" className="app ready" tabIndex="1000">\n                    <div className="header first">\n                      <DisplayMainMenu />\n                    </div>\n                    <DisplayUserWorkspace />\n                  </div>\n                </div>\n              </UserWorkspaceContextProvider>\n            </ContextualMenuContextProvider>\n          </NavigationContextProvider>\n        </DialogContextProvider>\n      </RbacContextProvider>\n    </ExtAppContextProvider>\n  </MemoryRouter>',...ceVersion.parameters?.docs?.source}}}},"./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayHttpError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get errorTitle(){return{403:this.props.t("Whoops... access is denied"),404:this.props.t("Whoops... looks like you are lost.")}[this.props.errorCode]||""}get errorDescription(){return{403:this.props.t("Access is restricted to authorized users only."),404:this.props.t("We could not find the page you are looking for.")}[this.props.errorCode]||""}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"http-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.props.errorCode),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,this.errorTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.errorDescription)))}}DisplayHttpError.propTypes={errorCode:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayHttpError);DisplayHttpError.__docgenInfo={description:"This component allows to display an HTTP error page",methods:[{name:"errorTitle",docblock:"Returns the title text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the title text associated to the HTTP error code passed as props."},{name:"errorDescription",docblock:"Returns the description text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the description text associated to the HTTP error code passed as props."}],displayName:"DisplayHttpError",props:{errorCode:{description:"",type:{name:"number"},required:!0},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_15__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/User/EditUser/EditUser.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUser.js"),_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUserWithConflicts.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/User/ConfirmDisableUserMFA/ConfirmDisableUserMFA.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js");class DisplayUserWorkspaceActions extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{moreMenuOpen:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDetailsLockedEvent=this.handleDetailsLockedEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this),this.handleDisableMfaEvent=this.handleDisableMfaEvent.bind(this),this.handleCopyPermalinkEvent=this.handleCopyPermalinkEvent.bind(this),this.handleResendInviteClickEvent=this.handleResendInviteClickEvent.bind(this),this.handleReviewRecoveryRequestEvent=this.handleReviewRecoveryRequestEvent.bind(this)}createRefs(){this.moreMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0})}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0})}get canDelete(){const isNotCurrentUser=this.selectedUser&&this.props.context.loggedInUser.id!==this.selectedUser.id;return!this.isButtonDisabled()&&isNotCurrentUser}handleDetailsLockedEvent(){this.props.userWorkspaceContext.onDetailsLocked()}handleCopyPermalinkEvent(){this.copyPermalink()}handleResendInviteClickEvent(){this.resendInvite()}hasDetailsLocked(){return this.props.userWorkspaceContext.details.locked}handleEditClickEvent(){const editUserDialogProps={id:this.selectedUser.id};this.props.context.setContext({editUserDialogProps}),this.props.dialogContext.open(_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_4__.A)}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.users.delete-dry-run",this.selectedUser.id),this.displayDeleteUserDialog()}catch(error){"DeleteDryRunError"===error.name?this.displayDeleteUserWithConflictsDialog(error.errors):this.handleError(error)}}displayDeleteUserDialog(){const deleteUserDialogProps={user:this.selectedUser};this.props.context.setContext({deleteUserDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_6__.A)}displayDeleteUserWithConflictsDialog(errors){const deleteUserWithConflictsDialogProps={user:this.selectedUser,errors};this.props.context.setContext({deleteUserWithConflictsDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_7__.A)}handleError(error){const errorDialogProps={message:error.message};this.props.context.setContext({errorDialogProps}),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A)}handleMoreClickEvent(){this.toggleMoreMenu()}handleDisableMfaEvent(){this.disableMFA()}handleDocumentClickEvent(event){this.moreMenuRef.current&&this.moreMenuRef.current.contains(event.target)||this.closeMoreMenu()}handleReviewRecoveryRequestEvent(){this.closeMoreMenu();const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_12__.A,{accountRecoveryRequestId})}get selectedUser(){return this.props.userWorkspaceContext.selectedUsers[0]}get hasMoreActionAllowed(){return this.hasOneUserSelected()}get canCopyPermalink(){return Boolean(this.selectedUser)}get canIUseMfa(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canDisableMfaForUser(){return this.selectedUser&&this.selectedUser.is_mfa_enabled}get canIUseResend(){return this.isLoggedInUserAdmin()}get canResendInviteToUser(){return this.selectedUser&&!this.selectedUser.active}canIReviewAccountRecoveryRequest(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}hasPendingAccountRecoveryRequest(){return this.selectedUser&&Boolean(this.selectedUser.pending_account_recovery_request)}hasOneUserSelected(){return 1===this.props.userWorkspaceContext.selectedUsers.length}isButtonDisabled(){return!this.hasOneUserSelected()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}disableMFA(){this.closeMoreMenu(),this.props.dialogContext.open(_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_10__.A)}toggleMoreMenu(){const moreMenuOpen=!this.state.moreMenuOpen;this.setState({moreMenuOpen})}closeMoreMenu(){this.setState({moreMenuOpen:!1})}async copyPermalink(){this.closeMoreMenu();const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.selectedUser.id}`;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_14__.A.copy(permalink,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}resendInvite(){this.props.context.port.request("passbolt.users.resend-invite",this.selectedUser.username).then(this.onResendInviteSuccess.bind(this)).catch(this.onResendInviteFailure.bind(this))}onResendInviteSuccess(){this.props.actionFeedbackContext.displaySuccess(this.translate("The invite has been resent successfully")),this.toggleMoreMenu()}onResendInviteFailure(error){const errorDialogProps={error};this.toggleMoreMenu(),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A,errorDialogProps)}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col2_3 actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"},this.isLoggedInUserAdmin()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.isButtonDisabled(),onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"edit"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Edit")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canDelete,onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"trash"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Delete")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown",ref:this.moreMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"more "+(this.state.moreMenuOpen?"open":""),disabled:!this.hasMoreActionAllowed,onClick:this.handleMoreClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"More")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"caret-down"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"dropdown-content menu right "+(this.state.moreMenuOpen?"visible":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"copy-user-permalink",className:"separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleCopyPermalinkEvent,disabled:!this.canCopyPermalink,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy permalink to clipboard"))))))),this.canIUseResend&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"resend-invite-user",className:"separator-after"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleResendInviteClickEvent,disabled:!this.canResendInviteToUser,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Resend invite"))))))),this.canIUseMfa&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"disable-mfa-action",className:""},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"disable-mfa",onClick:this.handleDisableMfaEvent,disabled:!this.canDisableMfaForUser,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Disable MFA"))))))),this.canIReviewAccountRecoveryRequest()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:"review-recovery-user"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",id:"review-recovery",onClick:this.handleReviewRecoveryRequestEvent,disabled:!this.hasPendingAccountRecoveryRequest(),className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Review recovery request"))))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions secondary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-toggle button-action-icon info "+(this.hasDetailsLocked()?"selected":""),onClick:this.handleDetailsLockedEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"info-circle",big:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"View detail")))))))}}DisplayUserWorkspaceActions.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_15___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_15___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__.ot)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_13__.AV)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.CI)("common")(DisplayUserWorkspaceActions))))));DisplayUserWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on user",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"canDelete",docblock:"Returns true if the current user can delete the current selected user",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can delete the current selected user"},{name:"handleDetailsLockedEvent",docblock:"Handle view detail click event",modifiers:[],params:[],returns:null,description:"Handle view detail click event"},{name:"handleCopyPermalinkEvent",docblock:"Handle the will of copying the user permalink",modifiers:[],params:[],returns:null,description:"Handle the will of copying the user permalink"},{name:"handleResendInviteClickEvent",docblock:"Handle the will of",modifiers:[],params:[],returns:null,description:"Handle the will of"},{name:"hasDetailsLocked",docblock:"Has lock for the detail display\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has lock for the detail display"},{name:"handleEditClickEvent",docblock:"Handle edit click event",modifiers:[],params:[],returns:null,description:"Handle edit click event"},{name:"handleDeleteClickEvent",docblock:"Handle delete click event",modifiers:["async"],params:[],returns:null,description:"Handle delete click event"},{name:"displayDeleteUserDialog",docblock:"Display delete user dialog when there is not conflict to solve",modifiers:[],params:[],returns:null,description:"Display delete user dialog when there is not conflict to solve"},{name:"displayDeleteUserWithConflictsDialog",docblock:"Display delete user dialog when there is conflict to solve.",modifiers:[],params:[{name:"errors",optional:!1}],returns:null,description:"Display delete user dialog when there is conflict to solve."},{name:"handleError",docblock:"Display error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Display error dialog"},{name:"handleMoreClickEvent",docblock:"Handle the open or close the more menu",modifiers:[],params:[],returns:null,description:"Handle the open or close the more menu"},{name:"handleDisableMfaEvent",docblock:"Handle the will of disable MFA for a user",modifiers:[],params:[],returns:null,description:"Handle the will of disable MFA for a user"},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleReviewRecoveryRequestEvent",docblock:"Handle review recovery request click event",modifiers:[],params:[],returns:null,description:"Handle review recovery request click event"},{name:"selectedUser",docblock:"Get selected user\n@returns {user|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"user"}]}},description:"Get selected user"},{name:"hasMoreActionAllowed",docblock:"Returns true if the more actions are available",modifiers:["get"],params:[],returns:null,description:"Returns true if the more actions are available"},{name:"canCopyPermalink",docblock:"Returns true if the current user can copy a user permalink",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can copy a user permalink"},{name:"canIUseMfa",docblock:"Can the logged in user use the mfa capability.",modifiers:["get"],params:[],returns:null,description:"Can the logged in user use the mfa capability."},{name:"canDisableMfaForUser",docblock:"Returns true if the current user can disable the MFA of a user",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can disable the MFA of a user"},{name:"canIUseResend",docblock:"Returns true if the logged in user can use the resend capability.",modifiers:["get"],params:[],returns:null,description:"Returns true if the logged in user can use the resend capability."},{name:"canResendInviteToUser",docblock:"Returns true if the logged in user can resend an invite to the user",modifiers:["get"],params:[],returns:null,description:"Returns true if the logged in user can resend an invite to the user"},{name:"canIReviewAccountRecoveryRequest",docblock:"Check if the user can use the review recovery request capability.",modifiers:[],params:[],returns:null,description:"Check if the user can use the review recovery request capability."},{name:"hasPendingAccountRecoveryRequest",docblock:"Has a pending account recovery for the user.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has a pending account recovery for the user."},{name:"hasOneUserSelected",docblock:"Check if the users workspace has one user selected.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the users workspace has one user selected."},{name:"isButtonDisabled",docblock:"Check if the button is disabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the button is disabled."},{name:"isLoggedInUserAdmin",docblock:"Can update the resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the resource"},{name:"disableMFA",docblock:"Disable the selected user's MFA",modifiers:[],params:[],returns:null,description:"Disable the selected user's MFA"},{name:"toggleMoreMenu",docblock:"Toggles the more menu",modifiers:[],params:[],returns:null,description:"Toggles the more menu"},{name:"closeMoreMenu",docblock:"Close the more menu",modifiers:[],params:[],returns:null,description:"Close the more menu"},{name:"copyPermalink",docblock:"Copy the user permalink",modifiers:["async"],params:[],returns:null,description:"Copy the user permalink"},{name:"resendInvite",docblock:"Resend an invite to the given user",modifiers:[],params:[],returns:null,description:"Resend an invite to the given user"},{name:"onResendInviteSuccess",docblock:"Whenever the resend invite succeeds",modifiers:[],params:[],returns:null,description:"Whenever the resend invite succeeds"},{name:"onResendInviteFailure",docblock:"Whenever the resend invite fails\n@param error An error",modifiers:[],params:[{name:"error",description:"An error",optional:!1}],returns:null,description:"Whenever the resend invite fails"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserWorkspaceActions",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByBreadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get items(){const items=[this.allUsersBreadcrumb];switch(this.props.userWorkspaceContext.filter.type){case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.NONE:return[];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.ALL:return items;case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT:{const isEmptySearchText=!this.props.userWorkspaceContext.filter.payload,currentSearchText=this.props.userWorkspaceContext.filter.payload;return isEmptySearchText?items:[...items,this.getLastBreadcrumb(`${this.translate("Search:")} ${currentSearchText}`)]}case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.SUSPENDED_USER:return[...items,this.getLastBreadcrumb(this.translate("Suspended users"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.RECENTLY_MODIFIED:return[...items,this.getLastBreadcrumb(this.translate("Recently modified"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.GROUP:{const group=this.props.userWorkspaceContext.filter.payload.group,currentGroupName=group&&group.name||this.translate("N/A");return[...items,this.getLastBreadcrumb(`${currentGroupName} ${this.translate("(group)")}`)]}}return[]}get allUsersBreadcrumb(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested})}getLastBreadcrumb(name){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name,onClick:this.onLastBreadcrumbClick.bind(this)})}async onLastBreadcrumbClick(){const pathname=this.props.location.pathname;this.props.history.push({pathname})}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.A,{items:this.items},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"chips"},this.props.userWorkspaceContext.filteredUsers.length))}}FilterUsersByBreadcrumb.propTypes={userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,location:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.y)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__.qN)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(FilterUsersByBreadcrumb))));FilterUsersByBreadcrumb.__docgenInfo={description:"The component displays a navigation breadcrumb given the applied users filter",methods:[{name:"items",docblock:"Returns the current list of breadcrumb items",modifiers:["get"],params:[],returns:null,description:"Returns the current list of breadcrumb items"},{name:"allUsersBreadcrumb",docblock:"Returns the all users breadcrumb items\n@return {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Returns the all users breadcrumb items"},{name:"getLastBreadcrumb",docblock:"Return the last breadcrumb\n@param {string} name the breadcrumb name\n@return {JSX.Element}",modifiers:[],params:[{name:"name",description:"the breadcrumb name",type:{name:"string"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Return the last breadcrumb"},{name:"onLastBreadcrumbClick",docblock:"Whenever the user click on the last breadcrumb\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user click on the last breadcrumb"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"FilterUsersByBreadcrumb",props:{userWorkspaceContext:{description:"",type:{name:"object"},required:!1},location:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByShortcut extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this),this.handleRecentlyModifiedClick=this.handleRecentlyModifiedClick.bind(this),this.handleSuspendedUsersClick=this.handleSuspendedUsersClick.bind(this)}get isAllItemsSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL}get isRecentlyModifiedSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED}get isSuspendedUsersSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER}handleAllItemsClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL};this.props.history.push({pathname:"/app/users",state:{filter}})}handleRecentlyModifiedClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED};this.props.history.push({pathname:"/app/users",state:{filter}})}handleSuspendedUsersClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER};this.props.history.push({pathname:"/app/users",state:{filter}})}get shouldDisplaySuspendedUsersFilter(){return this.props.userWorkspaceContext.shouldDisplaySuspendedUsersFilter()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary navigation-shortcuts"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isAllItemsSelected?"selected":""),onClick:this.handleAllItemsClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"all-users"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"All users"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isRecentlyModifiedSelected?"selected":""),onClick:this.handleRecentlyModifiedClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"recently-modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Recently modified"))))))),this.shouldDisplaySuspendedUsersFilter&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isSuspendedUsersSelected?"selected":""),onClick:this.handleSuspendedUsersClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"suspended-users"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Suspended users")))))))))}}FilterUsersByShortcut.propTypes={history:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.y)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FilterUsersByShortcut)));FilterUsersByShortcut.__docgenInfo={description:"This component allows to select shortcut filters applied on users",methods:[{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"isAllItemsSelected",docblock:"Returns true if the All Items shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the All Items shortcut is currently selected"},{name:"isRecentlyModifiedSelected",docblock:"Returns true if the Recently Modified shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Recently Modified shortcut is currently selected"},{name:"isSuspendedUsersSelected",docblock:"Returns true if the Suspended users shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Suspended users shortcut is currently selected"},{name:"handleAllItemsClick",docblock:'Whenever the shortcut "All items" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "All items" has been selected'},{name:"handleRecentlyModifiedClick",docblock:'Whenever the shortcut "Recently modified" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Recently modified" has been selected'},{name:"handleSuspendedUsersClick",docblock:'Whenever the shortcut "Suspended users" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Suspended users" has been selected'},{name:"shouldDisplaySuspendedUsersFilter",docblock:"Returns true if the 'Suspended users' filter should be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the 'Suspended users' filter should be displayed"}],displayName:"FilterUsersByShortcut",props:{history:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Search/SearchBar.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByText extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(previousProps){this.handleFilterChanged(previousProps.userWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(previousFilter){const wasTextFilter=previousFilter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,isTextFilter=this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT;wasTextFilter&&!isTextFilter&&this.setState({text:""})}handleSearchEvent(text){this.search(text)}search(text){clearTimeout(this.state.debounceTimeoutId);const debounceTimeoutId=setTimeout((()=>{const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,payload:text};this.props.history.push({pathname:"/app/users",state:{filter}})}),300);this.setState({debounceTimeoutId,text})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__.A,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.t("Search users"),value:this.state.text})}}FilterUsersByText.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.y)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(FilterUsersByText)));FilterUsersByText.__docgenInfo={description:"This component allows to filter the list of users by text",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"handleFilterChanged",docblock:"Whenever the user filter changed",modifiers:[],params:[{name:"previousFilter",optional:!1}],returns:null,description:"Whenever the user filter changed"},{name:"handleSearchEvent",docblock:"Handle search input change\n@params {string} text The entered text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Handle search input change"},{name:"search",docblock:"Search for the text\n@param text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Search for the text"}],displayName:"FilterUsersByText",props:{disabled:{description:"",type:{name:"bool"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/dateUtils.js");class DisplayUserDetailsAccountRecovery extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{loading:!0,open:!1,userRequests:[]}}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user),await this.handleUserPendingAccountRecoveryRequestChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){if(this.selectedUser.id!==previousUser.id&&this.state.open){const state=Object.assign({},this.defaultState,{open:!0});await this.setState(state),await this.findUserRequests(),this.setState({loading:!1})}}async handleUserPendingAccountRecoveryRequestChange(user){this.state.open&&user?.pending_account_recovery_request?.status!==this.props.userWorkspaceContext.details.user?.pending_account_recovery_request?.status&&(await this.setState({loading:!0}),await this.findUserRequests(),await this.setState({loading:!1}))}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleReviewClicked=this.handleReviewClicked.bind(this)}async handleTitleClicked(){if(this.state.open){const defaultState=this.defaultState;this.setState(defaultState)}else await this.setState({loading:!0,open:!0}),await this.findUserRequests(),this.setState({loading:!1})}handleReviewClicked(){const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_5__.A,{accountRecoveryRequestId})}async findUserRequests(){const userRequests=(await this.props.context.port.request("passbolt.account-recovery.get-user-requests",this.selectedUser.id)).sort(((a,b)=>new Date(b.created)-new Date(a.created)));this.setState({userRequests})}get selectedUser(){return this.props.userWorkspaceContext.details.user}get isAccountRecoveryPending(){return Boolean(this.selectedUser.pending_account_recovery_request)}get hasUserRequests(){return this.state.userRequests.length>0}get previousAccountRecoveryRequest(){return this.isAccountRecoveryPending?this.state.userRequests.length>1?this.state.userRequests[1]:null:this.hasUserRequests?this.state.userRequests[0]:null}capitalizeFirstLetter(string){return string[0].toUpperCase()+string.slice(1)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-account-recovery accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Account recovery"),this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"exclamation",baseline:!0})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"spinner"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Retrieving account recovery"))),!this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"pending-request-status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Current status")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleReviewClicked},"Review")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"previous-request"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Previous recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.previousAccountRecoveryRequest?`${this.capitalizeFirstLetter(this.previousAccountRecoveryRequest.status)} ${(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(this.previousAccountRecoveryRequest.created,this.props.t,this.props.context.locale)}`:"Never")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"requests-count"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Number of recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.userRequests.length)))))}}DisplayUserDetailsAccountRecovery.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_6__.AV)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUserDetailsAccountRecovery))));DisplayUserDetailsAccountRecovery.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"handleUserPendingAccountRecoveryRequestChange",docblock:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content.\n@param {object} user The previous user",modifiers:["async"],params:[{name:"user",description:"The previous user",type:{name:"object"},optional:!1}],returns:null,description:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content."},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"handleReviewClicked",docblock:"Handle the click on the review button",modifiers:[],params:[],returns:null,description:"Handle the click on the review button"},{name:"findUserRequests",docblock:"Find the user account recovery request and populate the state.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the user account recovery request and populate the state."},{name:"selectedUser",docblock:"Get the selected user\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get the selected user"},{name:"isAccountRecoveryPending",docblock:"Is account recovery pending\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is account recovery pending"},{name:"hasUserRequests",docblock:"Has user requests\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Has user requests"},{name:"previousAccountRecoveryRequest",docblock:"The previous account recovery requests\n@returns {*|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"mixed"}]}},description:"The previous account recovery requests"},{name:"capitalizeFirstLetter",docblock:"Capitalize first letter\n@param string\n@returns {string}",modifiers:[],params:[{name:"string",optional:!1}],returns:{type:{name:"string"}},description:"Capitalize first letter"}],displayName:"DisplayUserDetailsAccountRecovery",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayUserDetailsGroups extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get groups(){const{groups}=this.props.context;if(!groups)return[];const selectedUser=this.props.userWorkspaceContext.details.user;if(selectedUser){const belongsToGroup=group=>group.groups_users.some((group_user=>group_user.user_id===selectedUser.id)),groupUser=group=>group.groups_users.find((group_user=>group_user.user_id===selectedUser.id)),userRole=groupUser=>groupUser.is_admin?this.translate("Group manager"):this.translate("Member"),roleMapper=group=>Object.assign({},group,{role:userRole(groupUser(group))});return groups.filter(belongsToGroup).map(roleMapper)}return[]}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const groups=this.groups,hasGroups=groups.length>0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-user-groups accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},"Groups",this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,this.state.open&&hasGroups&&groups.map((group=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:group.id,className:"permission usercard-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},group.name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo"},group.role))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{group})))),!hasGroups&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",{className:"empty-feedback empty-group-feedback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"The user is not a member of any group yet")))))}}DisplayUserDetailsGroups.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserDetailsGroups)));DisplayUserDetailsGroups.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"groups",docblock:"The groups the current selected user belongs to",modifiers:["get"],params:[],returns:null,description:"The groups the current selected user belongs to"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsGroups",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/utils/dateUtils.js"),_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}get user(){return this.props.userWorkspaceContext.details.user}getRoleName(){if(this.props.context.roles){const role=this.props.context.roles.find((role=>role.id===this.user.role_id));return role?role.name:""}return""}handleTitleClicked(){this.setState({open:!this.state.open})}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasMfaSection(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()&&this.user.active}hasDisableUserSection(){return this.props.context.siteSettings.canIUse("disableUser")}hasAccountRecoverySection(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()&&this.user.active}get translate(){return this.props.t}render(){const role=this.getRoleName(),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__.kD)(this.user.modified,this.props.t,this.props.context.locale),status=this.user.active?this.translate("Activated"):this.translate("Activation pending");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Information"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"role"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value capitalize"},role)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.user.modified},modified)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Status")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},status)),this.hasAccountRecoverySection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"account-recovery-status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Account recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{approved:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Approved"),rejected:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Rejected"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Pending")}[this.user?.account_recovery_user_setting?.status])),this.hasMfaSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"mfa"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"MFA")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Enabled"),[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Disabled"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Disabled")}[this.user?.is_mfa_enabled])),this.hasDisableUserSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"suspended"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Suspended")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"No"),[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Yes")}[(0,_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_7__.B7)(this.user)])))))}}DisplayUserDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_5__.Le)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplayUserDetailsInformation))));DisplayUserDetailsInformation.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"getRoleName",docblock:"Get user role name",modifiers:[],params:[],returns:null,description:"Get user role name"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"isLoggedInUserAdmin",docblock:"Check if the logged in user is admin\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the logged in user is admin"},{name:"hasMfaSection",docblock:"Returns true if the mfa feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the mfa feature is enabled and if the logged in user is an admin."},{name:"hasDisableUserSection",docblock:"Returns true if the disablUser feature is enabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the disablUser feature is enabled."},{name:"hasAccountRecoverySection",docblock:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),luxon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/luxon/src/luxon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js");class DisplayUserDetailsPublicKey extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1,gpgkeyInfo:{},loading:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handlePublicKeyCopy=this.handlePublicKeyCopy.bind(this)}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){this.state.open&&this.user.id!==previousUser.id&&await this.fetchGpgkeyInfo()}async fetchGpgkeyInfo(){const gpgkeyInfo=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),fingerprint=gpgkeyInfo.fingerprint,type=this.gpgkeyType[gpgkeyInfo.algorithm],created=this.formatDate(gpgkeyInfo.created);let expires;expires=null===gpgkeyInfo.expires?"n/a":"Infinity"===gpgkeyInfo.expires?this.translate("Never"):this.formatDate(gpgkeyInfo.expires);const formatedGpgkeyInfo={fingerprint,type,created,expires,armoredKey:gpgkeyInfo.armored_key};this.setState({gpgkeyInfo:formatedGpgkeyInfo})}formatDate(data){try{return luxon__WEBPACK_IMPORTED_MODULE_5__.c9.fromJSDate(new Date(data)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_5__.c9.DATETIME_FULL)}catch(error){return""}}get gpgkeyType(){return{rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"}}get user(){return this.props.userWorkspaceContext.details.user}formatFingerprint(fingerprint){const result=(fingerprint=fingerprint||"").toUpperCase().replace(/.{4}/g,"$& ");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,result.substr(0,24),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),result.substr(25))}async handleTitleClicked(){this.state.open?await this.setState({gpgkeyInfo:{},open:!1}):(await this.setState({open:!0,loading:!0}),await this.fetchGpgkeyInfo(),await this.setState({loading:!1}))}async handlePublicKeyCopy(){const armoredKey=this.state.gpgkeyInfo.armoredKey;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_7__.A.copy(armoredKey,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The public key has been copied to clipboard"))}get translate(){return this.props.t}render(){const isLoading=this.state.loading;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"key-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleTitleClicked,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Public key"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"spinner"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Retrieving public key")))),!isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"fingerprint"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Fingerprint")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.formatFingerprint(this.state.gpgkeyInfo.fingerprint))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"type"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Type")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.type)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"created"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.created)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"expires"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Expires")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.expires)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"key"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Public key")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-icon copy-public-key",onClick:this.handlePublicKeyCopy},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"copy-to-clipboard"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"gpgkey"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{className:"code",value:this.state.gpgkeyInfo.armoredKey,disabled:!0})))))}}DisplayUserDetailsPublicKey.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,i18n:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__.ot)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayUserDetailsPublicKey))));DisplayUserDetailsPublicKey.__docgenInfo={description:"This component displays the user details about public key",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"fetchGpgkeyInfo",docblock:"Fetch the user gpgkey info.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Fetch the user gpgkey info."},{name:"formatDate",docblock:"Format a date.\n@string {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"data",optional:!1}],returns:{type:{name:"string"}},description:"Format a date."},{name:"gpgkeyType",docblock:"Get the list of gpgkey types associated to their algorithms.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the list of gpgkey types associated to their algorithms."},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"formatFingerprint",docblock:"get fingerprint\n@param fingerprint\n@returns {JSX.Element}",modifiers:[],params:[{name:"fingerprint",optional:!1}],returns:{type:{name:"JSX.Element"}},description:"get fingerprint"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"handlePublicKeyCopy",docblock:"Handle the copy of the public key",modifiers:["async"],params:[],returns:null,description:"Handle the copy of the public key"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsPublicKey",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/utils/dateUtils.js");class DisplayUserGroupDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const created=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.group.created,this.props.t,this.props.context.locale),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.group.modified,this.props.t,this.props.context.locale),modifiedByUser=this.props.context.users.find((user=>user.id===this.group.modified_by)),modifiedByUserName=modifiedByUser?`${modifiedByUser.profile.first_name} ${modifiedByUser.profile.last_name}`:this.translate("Unknown user"),membersCount=this.group.groups_users.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Information"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"created"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.group.created},created)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.group.modified},modified)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified-by"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified by")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},modifiedByUserName)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"members"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Members")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},membersCount)))))}}DisplayUserGroupDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplayUserGroupDetailsInformation)));DisplayUserGroupDetailsInformation.__docgenInfo={description:"This component displays the group details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserGroupDetailsMembersGroupMember extends react.Component{get user(){return this.props.context.users.find((user=>user.id===this.props.groupUser.user_id))}get roleName(){return this.props.groupUser.is_admin?"Group manager":"Member"}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}render(){const isSuspended=this.props.context.siteSettings.canIUse("siteSettings")&&(0,userUtils.B7)(this.user);return react.createElement("li",{key:this.user.id,className:"permission usercard-col-2 "+(isSuspended?"suspended":"")},react.createElement("div",{className:"content-wrapper"},react.createElement("div",{className:"content"},react.createElement("div",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`,isSuspended&&react.createElement("span",{className:"suspended"}," ",react.createElement(es.x6,null,"(suspended)"))),react.createElement("div",{className:"subinfo"},this.props.t(this.roleName)))),react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl}))}}DisplayUserGroupDetailsMembersGroupMember.propTypes={context:prop_types_default().any,groupUser:prop_types_default().object,userWorkspaceContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembersGroupMember)));DisplayUserGroupDetailsMembersGroupMember.__docgenInfo={description:"This component displays a group member for the group details members",methods:[{name:"user",docblock:"Get the user associated to the group user\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user associated to the group user"},{name:"roleName",docblock:"Get the user role name in this group.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user role name in this group."},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"}],displayName:"DisplayUserGroupDetailsMembersGroupMember",props:{context:{description:"",type:{name:"any"},required:!1},groupUser:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var EditUserGroup=__webpack_require__("./src/react-extension/components/UserGroup/EditUserGroup/EditUserGroup.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js");class DisplayUserGroupDetailsMembers extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleEditGroup=this.handleEditGroup.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}async handleEditGroup(){await this.props.userWorkspaceContext.onGroupToEdit(this.group),this.props.dialogContext.open(EditUserGroup.A)}isLoading(){return!this.props.context.users}render(){return react.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react.createElement("div",{className:"accordion-header"},react.createElement("h4",null,react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react.createElement(es.x6,null,"Group members"),this.state.open&&react.createElement(Icon.A,{name:"caret-down"}),!this.state.open&&react.createElement(Icon.A,{name:"caret-right"})))),react.createElement("div",{className:"accordion-content"},react.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.handleEditGroup},react.createElement(Icon.A,{name:"edit"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Edit"))),this.isLoading()&&react.createElement("div",{className:"processing-wrapper"},react.createElement(Icon.A,{name:"spinner"}),react.createElement("span",{className:"processing-text"},react.createElement(es.x6,null,"Retrieving group members"))),!this.isLoading()&&this.state.open&&react.createElement(react.Fragment,null,react.createElement("ul",null,this.group.groups_users.map((groupUser=>react.createElement(DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember,{key:groupUser.id,groupUser})))))))}}DisplayUserGroupDetailsMembers.propTypes={context:prop_types_default().any,userWorkspaceContext:prop_types_default().object,dialogContext:prop_types_default().object};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers=(0,AppContext.L)((0,DialogContext.z9)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembers))));DisplayUserGroupDetailsMembers.__docgenInfo={description:"This component displays the group details about members",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"handleEditGroup",docblock:"Whenever the user wants to edit the current group",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to edit the current group"},{name:"isLoading",docblock:"Check if the component is loading\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component is loading"}],displayName:"DisplayUserGroupDetailsMembers",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/shared/models/entity/abstract/entityCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityCollectionError.js"),_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class EntityCollection{constructor(dtos=[],options={}){const clone=options?.clone??!0;this._items=[],clone&&(dtos=JSON.parse(JSON.stringify(dtos))),this._props=dtos}toDto(){return JSON.parse(JSON.stringify(this._items))}toJSON(){return this.toDto()}get items(){return this._items}get length(){return this._items.length}[Symbol.iterator](){let i=0;return{next:()=>i<this._items.length?{value:this._items[i++],done:!1}:{done:!0}}}getAll(propName,search){if("string"!=typeof propName)throw new TypeError("EntityCollection excludeAll expects propName to be string.");if("string"!=typeof search)throw new TypeError("EntityCollection excludeAll expects search to be string.");return this._items.filter((item=>Object.prototype.hasOwnProperty.call(item._props,propName)&&item._props[propName]===search))}getFirst(propName,search){if("string"!=typeof propName||"string"!=typeof search)throw new TypeError("EntityCollection getFirst by expect propName and search to be strings");const found=this.getAll(propName,search);if(found&&found.length)return found[0]}extract(propName){if("string"!=typeof propName)throw new TypeError("EntityCollection extract expects propName to be a string.");return this._items.reduce(((accumulator,item)=>(void 0!==item._props[propName]&&accumulator.push(item._props[propName]),accumulator)),[])}push(item){return this._items.push(item),this._items.length}unshift(item){return this._items.unshift(item),this._items.length}filterByPropertyValueIn(propName,needles,excludeUndefined=!0){if("string"!=typeof propName)throw new TypeError("EntityCollection filterByPropertyValueIn expects propName to be a string.");if(!Array.isArray(needles))throw new TypeError("EntityCollection filterByPropertyValueIn expects needles to be an array.");this.filterByCallback((item=>{const isPropertyDefined=Object.prototype.hasOwnProperty.call(item._props,propName);return!(excludeUndefined&&!isPropertyDefined||isPropertyDefined&&!needles.includes(item._props[propName]))}))}filterByCallback(callback){if("function"!=typeof callback)throw new TypeError("EntityCollection filterByCallback expects callback to be a function.");for(let currentIndex=this._items.length-1;currentIndex>=0;currentIndex--)callback(this._items[currentIndex])||this._items.splice(currentIndex,1)}assertUniqueByProperty(propName,message){const ruleId=`unique_${propName}`,propValues=this.extract(propName),uniqueElements=new Set;message=message||`The collection should only contain items with unique values for the property: ${propName}.`,propValues.forEach(((propValue,index)=>{if(uniqueElements.add(propValue),index!==uniqueElements.size-1)throw new _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__.A(index,ruleId,message)}))}assertNotExist(propName,propValue,options={}){if(void 0===propValue)return;let haystackSet=options?.haystackSet;if(!haystackSet){const propValues=this.extract(propName);haystackSet=new Set(propValues)}if(haystackSet.has(propValue)){const error=new _entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A,message=options?.message||`The collection already includes an element that has a property (${propName}) with an identical value.`;throw error.addError(propName,"unique",message),error}}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollection},"./src/shared/models/entity/abstract/entityCollectionError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class EntityCollectionError extends Error{constructor(position,rule,message){if(super(message=message||"Entity collection error."),"number"!=typeof position)throw new TypeError("EntityCollectionError requires a valid position");if(!rule||"string"!=typeof rule)throw new TypeError("EntityCollectionError requires a valid rule");if(!message||"string"!=typeof message)throw new TypeError("EntityCollectionError requires a valid message");this.position=position,this.rule=rule}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollectionError}}]);