/*! For license information please see 6119.32ecf10f.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[6119],{"./src/react-extension/contexts/AdministrationWorkspaceContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,IB:()=>AdministrationWorkspaceFeatureFlag,IZ:()=>PRO_TEASING_MENUITEMS,Kk:()=>withAdministrationWorkspace,UZ:()=>AdministrationWorkspaceMenuTypes});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_LoadingContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/LoadingContext.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");const AdministrationWorkspaceContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({selectedAdministration:null,can:{save:!1},must:{save:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:null,setDisplayAdministrationWorkspaceAction:()=>{},resetDisplayAdministrationWorkspaceAction:()=>{},onUpdateSubscriptionKeyRequested:()=>{},onSaveEnabled:()=>{},onMustSaveSettings:()=>{},onMustEditSubscriptionKey:()=>{},onMustRefreshSubscriptionKey:()=>{},onResetActionsSettings:()=>{}});class AdministrationWorkspaceContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{selectedAdministration:AdministrationWorkspaceMenuTypes.NONE,can:{save:!1},must:{save:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),setDisplayAdministrationWorkspaceAction:this.setDisplayAdministrationWorkspaceAction.bind(this),resetDisplayAdministrationWorkspaceAction:this.resetDisplayAdministrationWorkspaceAction.bind(this),onUpdateSubscriptionKeyRequested:this.onUpdateSubscriptionKeyRequested.bind(this),onSaveEnabled:this.handleSaveEnabled.bind(this),onMustSaveSettings:this.handleMustSaveSettings.bind(this),onMustEditSubscriptionKey:this.handleMustEditSubscriptionKey.bind(this),onMustRefreshSubscriptionKey:this.handleMustRefreshSubscriptionKey.bind(this),onResetActionsSettings:this.handleResetActionsSettings.bind(this)}}componentDidMount(){this.handleAdministrationMenuRouteChange()}componentDidUpdate(prevProps){this.handleRouteChange(prevProps.location)}handleSaveEnabled(){this.setState({can:{...this.state.can,save:!0}})}handleMustSaveSettings(){this.setState({must:{...this.state.must,save:!0}})}handleMustEditSubscriptionKey(){this.setState({must:{...this.state.must,editSubscriptionKey:!0}})}handleMustRefreshSubscriptionKey(){this.setState({must:{...this.state.must,refreshSubscriptionKey:!0}})}handleResetActionsSettings(){this.setState({must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}})}handleRouteChange(previousLocation){this.props.location.key!==previousLocation.key&&this.handleAdministrationMenuRouteChange()}handleAdministrationMenuRouteChange(){const newState={can:{save:!1,test:!1,synchronize:!1},must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}};if(!this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_6__.e.ADMINSTRATION_VIEW_WORKSPACE))return newState.selectedAdministration=AdministrationWorkspaceMenuTypes.HTTP_403_ACCESS_DENIED,void this.setState(newState);const location=this.props.location.pathname,isAdminHomePageLocation=ADMIN_URL_REGEXP.homePage.test(location),isMfaLocation=ADMIN_URL_REGEXP.mfa.test(location),isMfaPolicyLocation=ADMIN_URL_REGEXP.mfaPolicy.test(location),isPasswordPoliciesLocation=ADMIN_URL_REGEXP.passwordPolicies.test(location),isUserDirectoryLocation=ADMIN_URL_REGEXP.usersDirectory.test(location),isEmailNotificationLocation=ADMIN_URL_REGEXP.emailNotification.test(location),isSubscriptionLocation=ADMIN_URL_REGEXP.subscription.test(location),isInternationalizationLocation=ADMIN_URL_REGEXP.internationalization.test(location),isAccountRecoveryLocation=ADMIN_URL_REGEXP.accountRecovery.test(location),isSmtpSettingsLocation=ADMIN_URL_REGEXP.smtpSettings.test(location),isSelfRegistrationLocation=ADMIN_URL_REGEXP.selfRegistration.test(location),isSso=ADMIN_URL_REGEXP.sso.test(location),rbac=ADMIN_URL_REGEXP.rbac.test(location),isUserPassphrasePolicies=ADMIN_URL_REGEXP.userPassphrasePolicies.test(location),isPasswordExpirySettings=ADMIN_URL_REGEXP.passwordExpirySettings.test(location),healthcheck=ADMIN_URL_REGEXP.healthcheck.test(location),contentTypesEncryptedMetadata=ADMIN_URL_REGEXP.contentTypesEncryptedMetadata.test(location),contentTypesMetadataKey=ADMIN_URL_REGEXP.contentTypesMetadataKey.test(location),migrateMetadata=ADMIN_URL_REGEXP.migrateEncryptedMetadata.test(location),allowContentType=ADMIN_URL_REGEXP.allowContentTypes.test(location),gettingStarted=ADMIN_URL_REGEXP.gettingStarted.test(location),scim=ADMIN_URL_REGEXP.scim.test(location),secretHistory=ADMIN_URL_REGEXP.secretHistory.test(location),isMfaPolicyLocationTeasing=ADMIN_URL_REGEXP.mfaPolicyTeasing.test(location),isPasswordPoliciesLocationTeasing=ADMIN_URL_REGEXP.passwordPoliciesTeasing.test(location),isUserDirectoryLocationTeasing=ADMIN_URL_REGEXP.usersDirectoryTeasing.test(location),isSubscriptionLocationTeasing=ADMIN_URL_REGEXP.subscriptionTeasing.test(location),isAccountRecoveryLocationTeasing=ADMIN_URL_REGEXP.accountRecoveryTeasing.test(location),isUserPassphrasePoliciesTeasing=ADMIN_URL_REGEXP.userPassphrasePoliciesTeasing.test(location),isSsoTeasing=ADMIN_URL_REGEXP.ssoTeasing.test(location),scimTeasing=ADMIN_URL_REGEXP.scimTeasing.test(location);let selectedAdministration;isAdminHomePageLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.HOME:isMfaPolicyLocation||isMfaPolicyLocationTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.MFA_POLICY:isPasswordPoliciesLocation||isPasswordPoliciesLocationTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.PASSWORD_POLICIES:isMfaLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.MFA:isUserDirectoryLocation||isUserDirectoryLocationTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.USER_DIRECTORY:isEmailNotificationLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.EMAIL_NOTIFICATION:isSubscriptionLocation||isSubscriptionLocationTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.SUBSCRIPTION:isInternationalizationLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.INTERNATIONALIZATION:isAccountRecoveryLocation||isAccountRecoveryLocationTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.ACCOUNT_RECOVERY:isSmtpSettingsLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.SMTP_SETTINGS:isSelfRegistrationLocation?selectedAdministration=AdministrationWorkspaceMenuTypes.SELF_REGISTRATION:isSso||isSsoTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.SSO:rbac?selectedAdministration=AdministrationWorkspaceMenuTypes.RBAC:isUserPassphrasePolicies||isUserPassphrasePoliciesTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.USER_PASSPHRASE_POLICIES:isPasswordExpirySettings?selectedAdministration=AdministrationWorkspaceMenuTypes.PASSWORD_EXPIRY:healthcheck?selectedAdministration=AdministrationWorkspaceMenuTypes.HEALTHCHECK:contentTypesEncryptedMetadata?selectedAdministration=AdministrationWorkspaceMenuTypes.CONTENT_TYPES_ENCRYPTED_METADATA:contentTypesMetadataKey?selectedAdministration=AdministrationWorkspaceMenuTypes.CONTENT_TYPES_METADATA_KEY:migrateMetadata?selectedAdministration=AdministrationWorkspaceMenuTypes.MIGRATE_METADATA:allowContentType?selectedAdministration=AdministrationWorkspaceMenuTypes.ALLOW_CONTENT_TYPES:gettingStarted?selectedAdministration=AdministrationWorkspaceMenuTypes.METADATA_GETTING_STARTED:scim||scimTeasing?selectedAdministration=AdministrationWorkspaceMenuTypes.SCIM:secretHistory&&(selectedAdministration=AdministrationWorkspaceMenuTypes.SECRET_HISTORY);if(!selectedAdministration)return newState.selectedAdministration=AdministrationWorkspaceMenuTypes.HTTP_404_NOT_FOUND,void this.setState(newState);const currentFeatureFlag=AdministrationWorkspaceFeatureFlag?.[selectedAdministration];newState.selectedAdministration=currentFeatureFlag&&!(this.props.context.siteSettings.canIUse(currentFeatureFlag)||PRO_TEASING_MENUITEMS.includes(selectedAdministration)&&this.props.context.siteSettings.isCommunityEdition)?AdministrationWorkspaceMenuTypes.HTTP_404_NOT_FOUND:selectedAdministration,this.setState(newState)}setDisplayAdministrationWorkspaceAction(administrationWorkspaceAction){this.setState({administrationWorkspaceAction})}resetDisplayAdministrationWorkspaceAction(){this.setState({administrationWorkspaceAction:()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)})}onUpdateSubscriptionKeyRequested(keyDto){return this.props.context.port.request("passbolt.subscription.update",keyDto)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AdministrationWorkspaceContext.Provider,{value:this.state},this.props.children)}}AdministrationWorkspaceContextProvider.displayName="AdministrationWorkspaceContextProvider",AdministrationWorkspaceContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,location:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,match:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,loadingContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.withRouter)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_5__.x6)((0,_LoadingContext__WEBPACK_IMPORTED_MODULE_4__.$A)(AdministrationWorkspaceContextProvider))));function withAdministrationWorkspace(WrappedComponent){return class WithAdministrationWorkspace extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AdministrationWorkspaceContext.Consumer,null,administrationWorkspaceContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{administrationWorkspaceContext,...this.props}))}}}const AdministrationWorkspaceMenuTypes={NONE:"NONE",HOME:"HOME",MFA:"MFA",MFA_POLICY:"MFA-POLICY",PASSWORD_POLICIES:"PASSWORD-POLICIES",USER_DIRECTORY:"USER-DIRECTORY",EMAIL_NOTIFICATION:"EMAIL-NOTIFICATION",SUBSCRIPTION:"SUBSCRIPTION",INTERNATIONALIZATION:"INTERNATIONALIZATION",ACCOUNT_RECOVERY:"ACCOUNT-RECOVERY",SMTP_SETTINGS:"SMTP-SETTINGS",SELF_REGISTRATION:"SELF-REGISTRATION",SSO:"SSO",RBAC:"RBAC",USER_PASSPHRASE_POLICIES:"USER-PASSPHRASE-POLICIES",PASSWORD_EXPIRY:"PASSWORD-EXPIRY",HTTP_403_ACCESS_DENIED:"403-ACCESS-DENIED",HTTP_404_NOT_FOUND:"404-NOT-FOUND",HEALTHCHECK:"HEALTHCHECK",CONTENT_TYPES_ENCRYPTED_METADATA:"CONTENT_TYPES_ENCRYPTED_METADATA",CONTENT_TYPES_METADATA_KEY:"CONTENT_TYPES_METADATA_KEY",MIGRATE_METADATA:"MIGRATE_METADATA",ALLOW_CONTENT_TYPES:"ALLOW_CONTENT_TYPES",METADATA_GETTING_STARTED:"METADATA_GETTING_STARTED",SCIM:"SCIM",SECRET_HISTORY:"SECRET_HISTORY"},AdministrationWorkspaceFeatureFlag={[AdministrationWorkspaceMenuTypes.MFA]:"multiFactorAuthentication",[AdministrationWorkspaceMenuTypes.MFA_POLICY]:"mfaPolicies",[AdministrationWorkspaceMenuTypes.PASSWORD_POLICIES]:"passwordPoliciesUpdate",[AdministrationWorkspaceMenuTypes.USER_DIRECTORY]:"directorySync",[AdministrationWorkspaceMenuTypes.SUBSCRIPTION]:"ee",[AdministrationWorkspaceMenuTypes.INTERNATIONALIZATION]:"locale",[AdministrationWorkspaceMenuTypes.ACCOUNT_RECOVERY]:"accountRecovery",[AdministrationWorkspaceMenuTypes.SMTP_SETTINGS]:"smtpSettings",[AdministrationWorkspaceMenuTypes.SELF_REGISTRATION]:"selfRegistration",[AdministrationWorkspaceMenuTypes.SSO]:"sso",[AdministrationWorkspaceMenuTypes.RBAC]:"rbacs",[AdministrationWorkspaceMenuTypes.USER_PASSPHRASE_POLICIES]:"userPassphrasePolicies",[AdministrationWorkspaceMenuTypes.PASSWORD_EXPIRY]:"passwordExpiry",[AdministrationWorkspaceMenuTypes.HEALTHCHECK]:"healthcheckUi",[AdministrationWorkspaceMenuTypes.CONTENT_TYPES_ENCRYPTED_METADATA]:"metadata",[AdministrationWorkspaceMenuTypes.CONTENT_TYPES_METADATA_KEY]:"metadata",[AdministrationWorkspaceMenuTypes.MIGRATE_METADATA]:"metadata",[AdministrationWorkspaceMenuTypes.ALLOW_CONTENT_TYPES]:"metadata",[AdministrationWorkspaceMenuTypes.METADATA_GETTING_STARTED]:"metadata",[AdministrationWorkspaceMenuTypes.SCIM]:"scim",[AdministrationWorkspaceMenuTypes.SECRET_HISTORY]:"secretRevisions"},ADMIN_URL_REGEXP={homePage:/^\/app\/administration\/?$/,mfa:/^\/app\/administration\/mfa\/?$/,mfaPolicy:/^\/app\/administration\/mfa-policy\/?$/,mfaPolicyTeasing:/^\/app\/administration\/mfa-policy-teasing\/?$/,passwordPolicies:/^\/app\/administration\/password-policies\/?$/,passwordPoliciesTeasing:/^\/app\/administration\/password-policies-teasing\/?$/,usersDirectory:/^\/app\/administration\/users-directory\/?$/,usersDirectoryTeasing:/^\/app\/administration\/users-directory-teasing\/?$/,emailNotification:/^\/app\/administration\/email-notification\/?$/,subscription:/^\/app\/administration\/subscription\/?$/,subscriptionTeasing:/^\/app\/administration\/subscription-teasing\/?$/,internationalization:/^\/app\/administration\/internationalization\/?$/,accountRecovery:/^\/app\/administration\/account-recovery\/?$/,accountRecoveryTeasing:/^\/app\/administration\/account-recovery-teasing\/?$/,smtpSettings:/^\/app\/administration\/smtp-settings\/?$/,selfRegistration:/^\/app\/administration\/self-registration\/?$/,sso:/^\/app\/administration\/sso\/?$/,ssoTeasing:/^\/app\/administration\/sso-teasing\/?$/,rbac:/^\/app\/administration\/rbacs\/?$/,userPassphrasePolicies:/^\/app\/administration\/user-passphrase-policies\/?$/,userPassphrasePoliciesTeasing:/^\/app\/administration\/user-passphrase-policies-teasing\/?$/,passwordExpirySettings:/^\/app\/administration\/password-expiry\/?$/,healthcheck:/^\/app\/administration\/healthcheck\/?$/,contentTypesEncryptedMetadata:/^\/app\/administration\/content-types\/metadata\/?$/,contentTypesMetadataKey:/^\/app\/administration\/content-types\/metadata-key\/?$/,migrateEncryptedMetadata:/^\/app\/administration\/migrate-metadata\/?$/,allowContentTypes:/^\/app\/administration\/allow-content-types\/?$/,gettingStarted:/^\/app\/administration\/content-types\/metadata-getting-started\/?$/,scim:/^\/app\/administration\/user-provisionning\/scim\/?$/,scimTeasing:/^\/app\/administration\/scim-teasing\/?$/,secretHistory:/^\/app\/administration\/secret-history\/?$/},PRO_TEASING_MENUITEMS=[AdministrationWorkspaceMenuTypes.SUBSCRIPTION,AdministrationWorkspaceMenuTypes.PASSWORD_POLICIES,AdministrationWorkspaceMenuTypes.USER_PASSPHRASE_POLICIES,AdministrationWorkspaceMenuTypes.ACCOUNT_RECOVERY,AdministrationWorkspaceMenuTypes.SSO,AdministrationWorkspaceMenuTypes.MFA_POLICY,AdministrationWorkspaceMenuTypes.USER_DIRECTORY,AdministrationWorkspaceMenuTypes.SCIM];AdministrationWorkspaceContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"handleSaveEnabled",docblock:"Handle save enabled",modifiers:[],params:[],returns:null,description:"Handle save enabled"},{name:"handleMustSaveSettings",docblock:"Handle must save settings",modifiers:[],params:[],returns:null,description:"Handle must save settings"},{name:"handleMustEditSubscriptionKey",docblock:"Handle must edit subscription key",modifiers:[],params:[],returns:null,description:"Handle must edit subscription key"},{name:"handleMustRefreshSubscriptionKey",docblock:"Handle must refresh subscription key",modifiers:[],params:[],returns:null,description:"Handle must refresh subscription key"},{name:"handleResetActionsSettings",docblock:"Handle reset state settings",modifiers:[],params:[],returns:null,description:"Handle reset state settings"},{name:"handleRouteChange",docblock:"Handle the route location change\n@param previousLocation Previous router location",modifiers:[],params:[{name:"previousLocation",description:"Previous router location",optional:!1}],returns:null,description:"Handle the route location change"},{name:"handleAdministrationMenuRouteChange",docblock:"Handle the administration menu route change",modifiers:[],params:[],returns:null,description:"Handle the administration menu route change"},{name:"setDisplayAdministrationWorkspaceAction",docblock:"Set the display of the administration workspace action\n@param administrationWorkspaceAction",modifiers:[],params:[{name:"administrationWorkspaceAction",optional:!1}],returns:null,description:"Set the display of the administration workspace action"},{name:"resetDisplayAdministrationWorkspaceAction",docblock:"Reset the display of the administration workspace action",modifiers:[],params:[],returns:null,description:"Reset the display of the administration workspace action"},{name:"onUpdateSubscriptionKeyRequested",docblock:"Whenever the update of the subscription is requested.\n@param keyDto The new subscription key\n@return {Promise<object>}",modifiers:[],params:[{name:"keyDto",description:"The new subscription key",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"object"}]}},description:"Whenever the update of the subscription is requested."}],displayName:"AdministrationWorkspaceContextProvider",props:{context:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"any"},required:!1},location:{description:"",type:{name:"object"},required:!1},match:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},loadingContext:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/LoadingContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$A:()=>withLoading,Ay:()=>LoadingContextProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const LoadingContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({counter:[],add:()=>{},remove:()=>{}});class LoadingContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{counter:0,add:()=>{this.setState({counter:this.state.counter+1})},remove:()=>{this.setState({counter:Math.min(this.state.counter-1,0)})}}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingContext.Provider,{value:this.state},this.props.children)}}function withLoading(WrappedComponent){return class WithLoading extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingContext.Consumer,null,loadingContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{loadingContext,...this.props}))}}}LoadingContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},LoadingContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"The component default state",modifiers:["get"],params:[],returns:null,description:"The component default state"}],displayName:"LoadingContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/context/Rbac/RbacContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{eu:()=>RbacContext,Ay:()=>Rbac_RbacContext,x6:()=>withRbac});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),controlFunctionEnumeration=__webpack_require__("./src/shared/services/rbacs/controlFunctionEnumeration.js"),denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js");class GetControlFunctionService{static getByRbac(rbac){const controlFunction=controlFunctionEnumeration.HJ[rbac.controlFunction];return controlFunction||(console.warn(`Could not find control function for the given rbac entity (${rbac.id})`),denyControlFunction.A)}static getDefaultForAdminAndUiAction(uiActionName){return controlFunctionEnumeration.Y9[uiActionName]||allowControlFunction.A}static getDefaultForUserAndUiAction(uiActionName){return controlFunctionEnumeration.uy[uiActionName]||allowControlFunction.A}}var roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js");class CanUse{static canRoleUseUiAction(user,rbacs,actionName){if(window.chrome?.webview){const rbac=rbacs.findRbacByActionName(actionName);return this.getByRbacOrDefault(rbac,actionName,user)}const role=new roleEntity.A(user.role);if(role.isAdmin()){return GetControlFunctionService.getDefaultForAdminAndUiAction(actionName).execute()}const rbac=rbacs.findRbacByRoleAndUiActionName(role,actionName);return this.getByRbacOrDefault(rbac,actionName,user)}static getByRbacOrDefault(rbac,actionName,user){if(rbac){return GetControlFunctionService.getByRbac(rbac).execute(user)}return GetControlFunctionService.getDefaultForUserAndUiAction(actionName).execute()}}const RbacContext=react.createContext({canIUseUiAction:()=>{}});class RbacContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{canIUseUiAction:this.canIUseUiAction.bind(this)}}canIUseUiAction(actionName){return CanUse.canRoleUseUiAction(this.props.context.loggedInUser,this.props.context.rbacs,actionName)}render(){return react.createElement(RbacContext.Provider,{value:this.state},this.props.children)}}RbacContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any};const Rbac_RbacContext=(0,AppContext.L)(RbacContextProvider);function withRbac(WrappedComponent){return class WithRbac extends react.Component{render(){return react.createElement(RbacContext.Consumer,null,rbacContext=>react.createElement(WrappedComponent,{rbacContext,...this.props}))}}}RbacContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"canIUseUiAction",docblock:"Check if the user can use the given ui action.\n@param {string} actionName The name of the UI action to check for.\n@return {boolean}",modifiers:[],params:[{name:"actionName",description:"The name of the UI action to check for.",type:{name:"string"},optional:!1}],returns:{type:{name:"boolean"}},description:"Check if the user can use the given ui action."}],displayName:"RbacContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/services/rbacs/controlFunctionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HJ:()=>controlFunctionResolutions,HK:()=>controlFunctions,Y9:()=>defaultAdminUiActionControlResolution,uy:()=>defaultUserUiActionControlResolution});var allowControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/allowControlFunction.js"),ControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowIfGroupManagerInOneGroupFunction extends ControlFunction.A{static execute(user){return user.groups_users.some(group=>group.is_admin)}}var denyControlFunction=__webpack_require__("./src/shared/services/rbacs/controlFunctions/denyControlFunction.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js");const controlFunctions={ALLOW:"Allow",DENY:"Deny",ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP:"AllowIfGroupManagerInOneGroup"},controlFunctionResolutions={[controlFunctions.ALLOW]:allowControlFunction.A,[controlFunctions.DENY]:denyControlFunction.A,[controlFunctions.ALLOW_IF_GROUP_MANAGER_IN_ONE_GROUP]:AllowIfGroupManagerInOneGroupFunction},defaultAdminUiActionControlResolution={[uiActionEnumeration.e.FOLDERS_USE]:controlFunctionResolutions[controlFunctions.ALLOW]},defaultUserUiActionControlResolution={[uiActionEnumeration.e.ADMINSTRATION_VIEW_WORKSPACE]:controlFunctionResolutions[controlFunctions.DENY]}},"./src/shared/services/rbacs/controlFunctions/ControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ControlFunction});class ControlFunction{}},"./src/shared/services/rbacs/controlFunctions/allowControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>AllowControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class AllowControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!0}}},"./src/shared/services/rbacs/controlFunctions/denyControlFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DenyControlFunction});var _ControlFunction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/services/rbacs/controlFunctions/ControlFunction.js");class DenyControlFunction extends _ControlFunction__WEBPACK_IMPORTED_MODULE_0__.A{static execute(){return!1}}},"./src/shared/services/rbacs/uiActionEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>uiActions});const uiActions={FOLDERS_USE:"Folders.use",RESOURCES_IMPORT:"Resources.import",RESOURCES_EXPORT:"Resources.export",RESOURCES_SEE_ACTIVITIES:"Resources.seeActivities",RESOURCES_SEE_COMMENTS:"Resources.seeComments",SECRETS_PREVIEW:"Secrets.preview",SECRETS_COPY:"Secrets.copy",SHARE_VIEW_LIST:"Share.viewList",TAGS_USE:"Tags.use",USERS_VIEW_WORKSPACE:"Users.viewWorkspace",MOBILE_TRANSFER:"Mobile.transfer",DESKTOP_TRANSFER:"Desktop.transfer",PROFIL_ACCOUNT_RECOVERY:"Profil.accountRecovery",ADMINSTRATION_VIEW_WORKSPACE:"Administration.viewWorkspace",DUO_CONFIGURATION:"Duo.configuration",AVATAR_UPLOAD:"Avatar.upload",SHARE_FOLDER:"Folders.share"}}}]);