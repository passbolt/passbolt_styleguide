/*! For license information please see react-extension-components-Sso-DisplaySsoDisabledError-test-stories.809fab06.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[2224],{"./src/react-extension/components/Sso/DisplaySsoDisabledError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplaySsoDisabledError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{hasAccepted:!1,hasBeenValidated:!1,errors:{hasNotAccepted:!1}}}get isValid(){return Object.values(this.state.errors).every(value=>!value)}get mustBeDisabled(){return this.state.hasBeenValidated&&!this.isValid}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleAcceptChange=this.handleAcceptChange.bind(this)}handleSubmit(event){event.preventDefault(),this.validate(this.state.hasAccepted)&&this.accept()}handleAcceptChange(){const hasAccepted=!this.state.hasAccepted;this.setState({hasAccepted}),this.state.hasBeenValidated&&this.validate(hasAccepted)}async accept(){this.props.onSignInWithPassphraseClick()}validate(hasAccepted){const isValid=hasAccepted;return this.setState({hasBeenValidated:!0,errors:{hasNotAccepted:!isValid}}),isValid}render(){const disabledClassName=this.mustBeDisabled?"disabled":"";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sso-disabled-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"SSO feature has been disabled")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"For security reasons please check with your administrator that this is a change that they initiated.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{acceptCharset:"utf-8",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox "+(this.state.hasBeenValidated&&this.state.errors.hasNotAccepted?"error":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"confirm-sso-disabled",type:"checkbox",name:"confirm-sso-disabled",value:this.state.hasAccepted,onChange:this.handleAcceptChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"confirm-sso-disabled"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Yes I checked and it is all fine."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:`button primary big full-width ${disabledClassName}`,role:"button",disabled:this.mustBeDisabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Sign in with my passphrase")))))}}DisplaySsoDisabledError.propTypes={onSignInWithPassphraseClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplaySsoDisabledError);DisplaySsoDisabledError.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"handleSubmit",docblock:"Whenever the users\n@param event Dom event",modifiers:[],params:[{name:"event",description:"Dom event",optional:!1}],returns:null,description:"Whenever the users"},{name:"handleAcceptChange",docblock:"Whenever the user changes the accept new key checkbox",modifiers:[],params:[],returns:null,description:"Whenever the user changes the accept new key checkbox"},{name:"accept",docblock:"Accepts the new SSO provider",modifiers:["async"],params:[],returns:null,description:"Accepts the new SSO provider"},{name:"validate",docblock:"Validate the security token data\n@param {boolean} hasAccepted the value to validate",modifiers:[],params:[{name:"hasAccepted",description:"the value to validate",type:{name:"boolean"},optional:!1}],returns:null,description:"Validate the security token data"}],displayName:"DisplaySsoDisabledError",props:{onSignInWithPassphraseClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Sso/DisplaySsoDisabledError.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplaySsoDisabledError_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),DisplaySsoDisabledError=__webpack_require__("./src/react-extension/components/Sso/DisplaySsoDisabledError.js");const DisplaySsoDisabledError_test_stories={title:"Components/Authentication/DisplaySsoDisabledError",component:DisplaySsoDisabledError.A},Initial=(args=>react.createElement("div",{id:"container",className:"container page login"},react.createElement("div",{className:"content"},react.createElement("div",{className:"login-form"},react.createElement(DisplaySsoDisabledError.A,args))))).bind({});Initial.args=function defaultProps(props={}){const defaultProps1={onSignInWithPassphraseClick:jest.fn()};return Object.assign(defaultProps1,props)}(),Initial.parameters={css:"ext_authentication"};const __namedExportsOrder=["Initial"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:'args => <div id="container" className="container page login">\n    <div className="content">\n      <div className="login-form">\n        <DisplaySsoDisabledError {...args} />\n      </div>\n    </div>\n  </div>',...Initial.parameters?.docs?.source}}}}}]);