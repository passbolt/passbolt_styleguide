/*! For license information please see 6575.931e712c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[3724,5664,6575],{"./src/img/svg/cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#cog_svg__clip0_93_844425)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 15.51a6.51 6.51 0 1 0 0-13.019 6.51 6.51 0 0 0 0 13.019"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.83 10.627a1.628 1.628 0 1 0 0-3.255 1.628 1.628 0 0 0 0 3.255M9.83.862V2.49M9.83 17.137V15.51M13.899 16.046l-.814-1.407M9.016 7.592 5.76 1.953M16.876 13.069l-1.407-.814M2.783 4.932l1.408.813M11.457 9h6.51M1.693 9H3.32M16.876 4.932l-1.407.813M2.783 13.069l1.408-.814M13.899 1.953l-.814 1.408M9.016 10.407l-3.255 5.64"}))))}},"./src/img/svg/heart.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHeart(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#heart_svg__clip0_93_734678)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.497 9.333c.993-.973 2-2.14 2-3.666A3.667 3.667 0 0 0 11.83 2c-1.173 0-2 .333-3 1.333-1-1-1.827-1.333-3-1.333a3.667 3.667 0 0 0-3.667 3.667c0 1.533 1 2.7 2 3.666L8.83 14z"}))))}},"./src/img/svg/help.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHelp(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#help_svg__clip0_93_844469)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M6.818 6.75a2.25 2.25 0 0 1 4.372.75c0 1.5-2.25 2.25-2.25 2.25M9 12.75h.008"}))))}},"./src/img/svg/logout.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLogout(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6.75 15.75h-3a1.5 1.5 0 0 1-1.5-1.5V3.75a1.5 1.5 0 0 1 1.5-1.5h3M12 12.75 15.75 9 12 5.25M15.75 9h-9"})))}},"./src/img/svg/profile.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,_path3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgProfile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.75 13.5a1.5 1.5 0 0 0-1.5-1.5h-4.5a1.5 1.5 0 0 0-1.5 1.5"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.25 3H3.75a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V4.5a1.5 1.5 0 0 0-1.5-1.5"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M6 1.5V3M12 1.5V3"})))}},"./src/img/svg/settings.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSettings(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:28,height:28,fill:"none",viewBox:"0 0 28 28"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M24.5 4.667h-8.167M11.667 4.667H3.5M24.5 14H14M9.333 14H3.5M24.5 23.333h-5.833M14 23.333H3.5M16.333 2.333V7M9.333 11.667v4.667M18.667 21v4.667"})))}},"./src/img/svg/users.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUsers(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none",viewBox:"0 0 18 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.741 14.338V12.89a2.77 2.77 0 0 0-.826-2.04 2.82 2.82 0 0 0-2.04-.825H4.248a2.825 2.825 0 0 0-2.723 2.865v1.448M7.143 7.26a2.815 2.815 0 1 0-2.815-2.814 2.825 2.825 0 0 0 2.815 2.815M16.994 14.338V12.89a2.85 2.85 0 0 0-.592-1.724 2.8 2.8 0 0 0-1.52-1.02M12.068 1.724a2.74 2.74 0 0 1 1.52 1.02 2.804 2.804 0 0 1 0 3.446 2.74 2.74 0 0 1-1.52 1.02"})))}},"./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageDialogs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){const dialog=this.props.dialogContext.dialogs.find(({key})=>key===index);dialog?.DialogProps?.onClose&&dialog.DialogProps.onClose(),this.props.dialogContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.dialogContext.dialogs.map(({key,Dialog,DialogProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Dialog,{key,...DialogProps,onClose:()=>this.close(key)})),this.props.children)}}ManageDialogs.propTypes={dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__.z9)(ManageDialogs);ManageDialogs.__docgenInfo={description:"This component acts as an anchor for the different project dialogs.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th dialog",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th dialog"}],displayName:"ManageDialogs",props:{dialogContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Footer/Footer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/heart.svg"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js");class Footer extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://www.passbolt.com/docs/hosting/faq/why-I-see-unsafe-mode-banner/"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const versions=[],serverVersion=this.props.context.siteSettings.version;return serverVersion&&versions.push(`${this.props.t("Server")} ${serverVersion}`),this.props.context.extensionVersion&&versions.push(`${this.props.t("Client")} ${this.props.context.extensionVersion}`),versions.join(" / ")}get isUnsafeMode(){if(!this.props.context.siteSettings)return!1;const debug=this.props.context.siteSettings.debug,isHttpMode=this.props.context.siteSettings.url.startsWith("http://");return debug||isHttpMode}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("footer",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Unsafe mode"))),this.termsUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Terms"))),this.privacyUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Privacy"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Credits"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__.A,{message:this.versions,direction:"left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))),!this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null)))))}}Footer.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(Footer));Footer.__docgenInfo={description:"The application footer",methods:[{name:"privacyUrl",docblock:"Returns the terms link url",modifiers:["get"],params:[],returns:null,description:"Returns the terms link url"},{name:"creditsUrl",docblock:"Returns the credits link url",modifiers:["get"],params:[],returns:null,description:"Returns the credits link url"},{name:"unsafeUrl",docblock:"Returns the unsafe url.",modifiers:["get"],params:[],returns:null,description:"Returns the unsafe url."},{name:"termsUrl",docblock:"Returns the privacy link url",modifiers:["get"],params:[],returns:null,description:"Returns the privacy link url"},{name:"versions",docblock:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION",modifiers:["get"],params:[],returns:null,description:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION"},{name:"isUnsafeMode",docblock:"Returns true if the application is in an unsafe mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the application is in an unsafe mode"}],displayName:"Footer",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Breadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border inline ellipsis",onClick:this.props.onClick},this.props.name)}}Breadcrumb.propTypes={name:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=Breadcrumb;Breadcrumb.__docgenInfo={description:"",methods:[],displayName:"Breadcrumb",props:{name:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Breadcrumbs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){let index=0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"breadcrumbs"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"menu"},this.props.items&&this.props.items.map(breadcrumb=>(index++,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:index},breadcrumb)))),this.props.children)}}Breadcrumbs.propTypes={items:prop_types__WEBPACK_IMPORTED_MODULE_1___default().array,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=Breadcrumbs;Breadcrumbs.__docgenInfo={description:"",methods:[],displayName:"Breadcrumbs",props:{items:{description:"",type:{name:"array"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,K:()=>WORKSPACE_ENUM});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/settings.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/users.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/cog.svg"),_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/help.svg");const WORKSPACE_ENUM={RESOURCE:"RESOURCE",ORGANISATION_SETTINGS:"ORGANISATION_SETTINGS",USER_AND_GROUPS:"USER_AND_GROUPS",USER_PROFILE:"USER_PROFILE"};class WorkspaceSwitcher extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent{render(){return this.props.isUserAdmin||this.props.isUserWorkspaceVisible?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"workspace-switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_4__.A,{className:"button-transparent switcher"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_cog_svg__WEBPACK_IMPORTED_MODULE_10__.A,{className:"cog"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_7__.A,{direction:"left",className:"menu-switcher"},this.props.isUserAdmin&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.ORGANISATION_SETTINGS?"active":""),onClick:this.props.navigationContext.onGoToAdministrationRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_settings_svg__WEBPACK_IMPORTED_MODULE_1__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Organisation Settings")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border "+(this.props.currentWorkspace===WORKSPACE_ENUM.USER_AND_GROUPS?"active":""),onClick:this.props.navigationContext.onGoToUsersRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Manage Users & Groups")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_8__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.props.navigationContext.onGoToHelpRequested},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_help_svg__WEBPACK_IMPORTED_MODULE_11__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Help"))))))):null}}WorkspaceSwitcher.propTypes={isUserAdmin:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,isUserWorkspaceVisible:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,currentWorkspace:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_9__.qN)(WorkspaceSwitcher);WorkspaceSwitcher.__docgenInfo={description:"",methods:[],displayName:"WorkspaceSwitcher",props:{isUserAdmin:{description:"",type:{name:"bool"},required:!1},isUserWorkspaceVisible:{description:"",type:{name:"bool"},required:!1},currentWorkspace:{description:"",type:{name:"string"},required:!1},navigationContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/MFAContext.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/profile.svg"),_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/logout.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/close.svg"),_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/img/svg/attention.svg"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js");class DisplayUserBadgeMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}getDefaultState(){return{open:!1}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleToggleMenuClick=this.handleToggleMenuClick.bind(this),this.handleProfileClick=this.handleProfileClick.bind(this),this.handleSignOutClick=this.handleSignOutClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.addEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0}),this.props.context.siteSettings.canIUse("mfaPolicies")&&this.props.mfaContext.checkMfaChoiceRequired()}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent,{capture:!0}),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent,{capture:!0}),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent,{capture:!0})}createRefs(){this.userBadgeMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleDocumentClickEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentContextualMenuEvent(event){this.userBadgeMenuRef.current.contains(event.target)||this.closeUserBadgeMenu()}handleDocumentDragStartEvent(){this.closeUserBadgeMenu()}closeUserBadgeMenu(){this.setState({open:!1})}getUserFullName(){return this.props.user&&this.props.user.profile?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:"..."}getUserUsername(){return this.props.user&&this.props.user.username?`${this.props.user.username}`:"..."}handleToggleMenuClick(e){e.preventDefault();const open=!this.state.open;this.setState({open})}handleProfileClick(){this.props.navigationContext.onGoToUserSettingsProfileRequested(),this.closeUserBadgeMenu()}async handleSignOutClick(){try{await this.props.context.onLogoutRequested()}catch(error){this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_14__.A,{error})}finally{this.closeUserBadgeMenu()}}get attentionRequired(){return this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()||this.props.mfaContext.isMfaChoiceRequired()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"profile-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"user profile dropdown",ref:this.userBadgeMenuRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"avatar-with-name button avatar-button "+(this.state.open?"open":""),onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_5__.A,{user:this.props.user,baseUrl:this.props.baseUrl,attentionRequired:this.attentionRequired})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dropdown-content left visible"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button button-transparent user-profile-close",role:"button",onClick:this.handleToggleMenuClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_11__.A,{className:"svg-icon close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},"Close")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_5__.A,{user:this.props.user,baseUrl:this.props.baseUrl}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"informations"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},this.getUserFullName()),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"email"},this.getUserUsername())),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"manage-account"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary",onClick:this.handleProfileClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_profile_svg__WEBPACK_IMPORTED_MODULE_9__.A,null)," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Manage account"),this.attentionRequired&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_attention_svg__WEBPACK_IMPORTED_MODULE_12__.A,{className:"attention-required"}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border sign-out",onClick:this.handleSignOutClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_logout_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Sign out")))))}}DisplayUserBadgeMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,mfaContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,baseUrl:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,user:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_8__.x6)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_3__.qN)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_13__.z9)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_4__.Le)((0,_contexts_MFAContext__WEBPACK_IMPORTED_MODULE_7__.dg)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayUserBadgeMenu)))))));DisplayUserBadgeMenu.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleDocumentClickEvent",docblock:"Handle click events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle click events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentContextualMenuEvent",docblock:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component.\n@param {ReactEvent} event The event",modifiers:[],params:[{name:"event",description:"The event",type:{name:"ReactEvent"},optional:!1}],returns:null,description:"Handle contextual menu events on document. Hide the component if the click occurred outside of the component."},{name:"handleDocumentDragStartEvent",docblock:"Handle drag start event on document. Hide the component if any.",modifiers:[],params:[],returns:null,description:"Handle drag start event on document. Hide the component if any."},{name:"closeUserBadgeMenu",docblock:"Close the user badge menu",modifiers:[],params:[],returns:null,description:"Close the user badge menu"},{name:"getUserFullName",docblock:"Get the user full name\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user full name"},{name:"getUserUsername",docblock:"Get the user username\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the user username"},{name:"handleToggleMenuClick",docblock:"Handle click on menu (toggle open state)\n@param {Event} e\n@return {void}",modifiers:[],params:[{name:"e",type:{name:"Event"},optional:!1}],returns:{type:{name:"void"}},description:"Handle click on menu (toggle open state)"},{name:"handleProfileClick",docblock:"Whenever the user wants to navigate to the users settings workspace profile section.",modifiers:[],params:[],returns:null,description:"Whenever the user wants to navigate to the users settings workspace profile section."},{name:"handleSignOutClick",docblock:"Handles the click on Sign out button\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handles the click on Sign out button"},{name:"attentionRequired",docblock:"Returns true if the account recovery needs to be configured.\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the account recovery needs to be configured."}],displayName:"DisplayUserBadgeMenu",props:{context:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},mfaContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},baseUrl:{description:"",type:{name:"string"},required:!1},user:{description:"",type:{name:"object"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/ContextualMenuContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>ContextualMenuContextProvider,t6:()=>withContextualMenu,wp:()=>ContextualMenuContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const ContextualMenuContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({ContextualMenu:null,show:()=>{},hide:()=>{}});class ContextualMenuContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{contextualMenus:[],show:(ContextualMenuComponent,componentProps)=>this.setState({contextualMenus:[...this.state.contextualMenus,{ContextualMenuComponent,componentProps}]}),hide:index=>this.setState({contextualMenus:this.state.contextualMenus.filter((_,contextualMenuIndex)=>contextualMenuIndex!==index)})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Provider,{value:this.state},this.props.children)}}function withContextualMenu(WrappedComponent){return class WithContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ContextualMenuContext.Consumer,null,contextualMenuContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{contextualMenuContext,...this.props}))}}}ContextualMenuContextProvider.displayName="ContextualMenuContextProvider",ContextualMenuContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any},ContextualMenuContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"ContextualMenuContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ExtAppContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ExtAppContext});var react=__webpack_require__("./node_modules/react/index.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),rbac_rbacsCollection=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.js"),accountEntity=__webpack_require__("./src/shared/models/entity/account/accountEntity.js"),roleServiceWorkerService=__webpack_require__("./src/shared/services/serviceWorker/role/roleServiceWorkerService.js");class RbacServiceWorkerService{constructor(port){this.port=port}async findMe(){const rbacsCollection=await this.port.request("passbolt.rbacs.find-me");return new rbac_rbacsCollection.A(rbacsCollection)}}class ExtAppContextProvider extends react.Component{constructor(props){super(props),this.state=this.getDefaultState(props),this.roleServiceWorkerService=new roleServiceWorkerService.Ay(props.port),this.rbacServiceWorkerService=new RbacServiceWorkerService(props.port),this.bindCallbacks(),this.initEventHandlers(),this.hierarchyFolderCache={}}async componentDidMount(){await this.getSiteSettings(),await this.getExtensionVersion(),this.getUserSettings(),this.getLoggedInUser(),this.initLocale(),this.getResources(),this.getFolders(),await this.getAccount(),this.getGroups(),this.getUsers();const skeleton=document.getElementById("temporary-skeleton");skeleton&&skeleton.remove()}bindCallbacks(){this.handleStorageChange=this.handleStorageChange.bind(this),this.handleIsReadyEvent=this.handleIsReadyEvent.bind(this)}initEventHandlers(){this.props.storage.onChanged.addListener(this.handleStorageChange)}getDefaultState(props){return{name:"browser-extension",port:props.port,storage:props.storage,user:null,resources:null,folders:null,foldersMapById:[],users:null,groups:null,loggedInUser:null,account:null,rbacs:null,siteSettings:null,userSettings:null,extensionVersion:null,locale:null,isSessionLogoutByUser:!1,setContext:context=>{this.setState(context)},passphraseRequestId:"",folder:{},folderMoveStrategyProps:{requestId:null,folderId:null,foldersIds:[],resourcesIds:[]},shareDialogProps:{foldersIds:null,resourcesIds:null},editUserDialogProps:{id:null},deleteUserDialogProps:{user:null},deleteUserWithConflictsDialogProps:{user:null,errors:{}},tagToEdit:null,tagToDelete:null,deleteGroupDialogProps:{group:null,numberResourcesOwned:null},deleteGroupWithConflictsDialogProps:{group:null,errors:{}},resourceCommentId:null,mustRefreshComments:!1,onLogoutRequested:()=>this.onLogoutRequested(),onExpiredSession:this.onExpiredSession.bind(this),onGetSubscriptionKeyRequested:()=>this.onGetSubscriptionKeyRequested(),onUpdateLocaleRequested:this.onUpdateLocaleRequested.bind(this),getHierarchyFolderCache:this.getHierarchyFolderCache.bind(this)}}handleIsReadyEvent(requestId){this.isReady()?this.props.port.emit(requestId,"SUCCESS"):this.props.port.emit(requestId,"ERROR")}isReady(){return null!==this.state.loggedInUser&&null!==this.state.rbacs&&null!==this.state.userSettings&&null!==this.state.siteSettings&&null!==this.state.locale}async getLoggedInUser(){const canIUseRbac=this.state.siteSettings.canIUse("rbacs"),loggedInUser=await this.props.port.request("passbolt.users.find-logged-in-user"),rbacsDto=canIUseRbac?await this.rbacServiceWorkerService.findMe():[],rbacs=new rbac_rbacsCollection.A(rbacsDto);this.setState({loggedInUser,rbacs})}async getSiteSettings(){const settings=await this.props.port.request("passbolt.organization-settings.get"),siteSettings=new SiteSettings.A(settings);this.setState({siteSettings})}async getExtensionVersion(){const extensionVersion=await this.props.port.request("passbolt.addon.get-version");this.setState({extensionVersion})}async getResources(){const storageData=await this.props.storage.local.get(["resources"]);if(storageData.resources){const resources=storageData.resources;this.setState({resources})}}async getFolders(){const storageData=await this.props.storage.local.get(["folders"]);if(storageData.folders){const folders=storageData.folders,foldersMapById=folders.reduce((result,folder)=>(result[folder.id]=folder,result),{});this.hierarchyFolderCache={},this.setState({folders,foldersMapById})}}async getGroups(){const storageKey=`groups-${this.state.account.id}`,storageData=await this.props.storage.local.get(storageKey);if(storageData[storageKey]){const groups=storageData[storageKey];this.setState({groups})}}async getUsers(){const storageData=await this.props.storage.local.get(["users"]);if(storageData.users&&storageData.users.length){const users=storageData.users;this.setState({users})}}async getUserSettings(){const storageData=await this.props.storage.local.get(["_passbolt_data"]),userSettings=new UserSettings.A(storageData._passbolt_data.config);this.setState({userSettings})}async initLocale(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}async getAccount(){const accountDto=await this.props.port.request("passbolt.account.get"),account=new accountEntity.A(accountDto);this.setState({account})}getHierarchyFolderCache(id){return null===id?[]:(void 0===this.hierarchyFolderCache[id]&&(this.hierarchyFolderCache[id]=this.getHierarchyFolder(id)),this.hierarchyFolderCache[id])}getHierarchyFolder(id){const hierarchy=[];let currentFolderId=id;for(;currentFolderId;){const folder=this.state.foldersMapById[currentFolderId];if(!folder)return hierarchy;hierarchy.unshift(folder),currentFolderId=folder.folder_parent_id}return hierarchy}handleStorageChange(changes){if(changes.resources&&changes.resources.newValue){const resources=changes.resources.newValue;this.setState({resources})}if(changes._passbolt_data&&changes._passbolt_data.newValue){const userData=changes._passbolt_data.newValue,userSettings=new UserSettings.A(userData.config);this.setState({userSettings})}if(changes.folders&&changes.folders.newValue){const folders=changes.folders.newValue,foldersMapById=folders.reduce((result,folder)=>(result[folder.id]=folder,result),{});this.hierarchyFolderCache={},this.setState({folders,foldersMapById})}if(changes.users&&changes.users.newValue){const users=changes.users.newValue;this.setState({users})}const storageKey=`groups-${this.state.account.id}`;if(changes[storageKey]&&changes[storageKey].newValue){const groups=changes[storageKey].newValue;this.setState({groups})}}onLogoutRequested(){this.setState({isSessionLogoutByUser:!0},()=>this.props.port.request("passbolt.auth.logout",!0))}onExpiredSession(callback){this.props.port.on("passbolt.auth.after-logout",()=>{this.state.isSessionLogoutByUser||(callback(),this.setState({resources:[]}))})}async onGetSubscriptionKeyRequested(){return await this.props.port.request("passbolt.subscription.get")}async onUpdateLocaleRequested(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}render(){return react.createElement(AppContext.A.Provider,{value:this.state},this.isReady()&&this.props.children)}}ExtAppContextProvider.propTypes={port:prop_types_default().object,storage:prop_types_default().object,children:prop_types_default().any};const ExtAppContext=ExtAppContextProvider;ExtAppContextProvider.__docgenInfo={description:"The ExtApp context provider",methods:[{name:"bindCallbacks",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"getDefaultState",docblock:null,modifiers:[],params:[{name:"props",optional:!1,type:null}],returns:null},{name:"handleIsReadyEvent",docblock:null,modifiers:[],params:[{name:"requestId",optional:!1,type:null}],returns:null},{name:"isReady",docblock:"Check if the application is ready to render with minimal data.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the application is ready to render with minimal data."},{name:"getLoggedInUser",docblock:"Get the current user info from background page and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the current user info from background page and set it in the state"},{name:"getSiteSettings",docblock:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings",modifiers:["async"],params:[],returns:null,description:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings"},{name:"getExtensionVersion",docblock:"Get extension version",modifiers:["async"],params:[],returns:null,description:"Get extension version"},{name:"getResources",docblock:"Get the list of resources from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of resources from local storage and set it in the state"},{name:"getFolders",docblock:"Get the list of folders from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of folders from local storage and set it in the state"},{name:"getGroups",docblock:"Returns the list of all groups",modifiers:["async"],params:[],returns:null,description:"Returns the list of all groups"},{name:"getUsers",docblock:"Get the list of users from local storage and set it in the state",modifiers:["async"],params:[],returns:null,description:"Get the list of users from local storage and set it in the state"},{name:"getUserSettings",docblock:"Get the list of user settings from local storage and set it in the state\nUsing UserSettings",modifiers:["async"],params:[],returns:null,description:"Get the list of user settings from local storage and set it in the state\nUsing UserSettings"},{name:"initLocale",docblock:"Init the locale",modifiers:["async"],params:[],returns:null,description:"Init the locale"},{name:"getAccount",docblock:"Get the account\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Get the account"},{name:"getHierarchyFolderCache",docblock:"Get the hierarchy of a folder by ID in cache\n@param {string} id The id of the folder\n@returns {array<object>} Array of folders",modifiers:[],params:[{name:"id",description:"The id of the folder",type:{name:"string"},optional:!1}],returns:{description:"Array of folders",type:{name:"array",elements:[{name:"object"}]}},description:"Get the hierarchy of a folder by ID in cache"},{name:"getHierarchyFolder",docblock:"Get the hierarchy of a folder by ID in cache\n@param {string} id The id of the folder\n@returns {*[]}",modifiers:[],params:[{name:"id",description:"The id of the folder",type:{name:"string"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"mixed"}]}},description:"Get the hierarchy of a folder by ID in cache"},{name:"handleStorageChange",docblock:"Handle the change in the storage\n@param changes",modifiers:[],params:[{name:"changes",optional:!1}],returns:null,description:"Handle the change in the storage"},{name:"onLogoutRequested",docblock:"Listen when the user wants to logout.",modifiers:[],params:[],returns:null,description:"Listen when the user wants to logout."},{name:"onExpiredSession",docblock:"Listen when the user session is expired.\n@param {function} callback The callback to execute",modifiers:[],params:[{name:"callback",description:"The callback to execute",type:{name:"function"},optional:!1}],returns:null,description:"Listen when the user session is expired."},{name:"onGetSubscriptionKeyRequested",docblock:"Whenever the subscription key is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the subscription key is requested"},{name:"onUpdateLocaleRequested",docblock:"Whenever the update of the locale is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the update of the locale is requested"}],displayName:"ExtAppContextProvider",props:{port:{description:"",type:{name:"object"},required:!1},storage:{description:"",type:{name:"object"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/ExtAppContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dO:()=>defaultAdministratorAppContext,st:()=>defaultAppContext,bC:()=>defaultUserAppContext});var UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),Settings_userSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),Settings_siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),MockPort=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),MockStorage=__webpack_require__("./src/react-extension/test/mock/MockStorage.js"),userEntity_test_data=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js"),roleEntity_test_data=__webpack_require__("./src/shared/models/entity/role/roleEntity.test.data.js"),accountEntity_test_data=__webpack_require__("./src/shared/models/entity/account/accountEntity.test.data.js"),accountEntity=__webpack_require__("./src/shared/models/entity/account/accountEntity.js");const defaultCeSiteSettings=siteSettings=>Object.assign({app:{url:"http://127.0.0.1:3001",locale:"en-UK",version:{number:"3.11.0",name:"Regular"},server_timezone:"UTC",session_timeout:24,image_storage:{public_path:"img/public/"}},passbolt:{legal:{privacy_policy:{url:""},terms:{url:"https://www.passbolt.com/terms"}},edition:"ce",plugins:{export:{version:"2.0.0",enabled:!0},import:{version:"2.0.1",enabled:!0,config:{format:["kdbx","csv"]}},previewPassword:{enabled:!0},resourceTypes:{version:"1.0.0",enabled:!0},mobile:{version:"1.0.0",enabled:!0},jwtAuthentication:{version:"3.3.0",enabled:!0},accountRecoveryRequestHelp:{enabled:!0},smtpSettings:{version:"1.0.0",enabled:!0},selfRegistration:{version:"1.0.0",enabled:!0},selenium_api:{version:"2.2.0"},passbolt_test_data:{version:"2.0"},accountSettings:{version:"1.0.0"},inFormIntegration:{version:"1.0.0",enabled:!0},locale:{version:"3.2.0",options:[{locale:"de-DE",label:"Deutsch"},{locale:"en-UK",label:"English"},{locale:"es-ES",label:"Espaol"},{locale:"fr-FR",label:"Franais"},{locale:"it-IT",label:"Italiano (beta)"},{locale:"ja-JP",label:""},{locale:"ko-KR",label:" (beta)"},{locale:"lt-LT",label:"Lietuvi"},{locale:"nl-NL",label:"Nederlands"},{locale:"pl-PL",label:"Polski"},{locale:"pt-BR",label:"Portugus Brasil (beta)"},{locale:"ro-RO",label:"Romn (beta)"},{locale:"ru-RU",label:"P (beta)"},{locale:"sl-SI",label:"Slovenina (beta)"},{locale:"sv-SE",label:"Svenska"},{locale:"uk-UA",label:" (beta)"},{locale:"cs-CZ",label:"etina (beta)"}]},rememberMe:{version:"2.0.0",options:{300:"5 minutes",900:"15 minutes",1800:"30 minutes",3600:"1 hour","-1":"until I log out"}},emailNotificationSettings:{version:"1.1.0",enabled:!0},emailDigest:{version:"1.0.0",enabled:!0},reports:{version:"1.0.0",enabled:!0},passwordGenerator:{version:"3.3.0",enabled:!0},multiFactorAuthentication:{version:"1.1.0",enabled:!0},log:{version:"1.0.1",enabled:!0},metadata:{version:"1.0.0",enabled:!0,isInBeta:!0}}}},siteSettings);var rbacsCollection=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.js"),rbacsCollection_test_data=__webpack_require__("./src/shared/models/entity/rbac/rbacsCollection.test.data.js");function defaultAppContext(appContext={},isCommunityEdition=!1){const userSettings=new UserSettings.A(Settings_userSettings.A),defaultAppContext1={locale:"en-UK",userSettings,siteSettings:isCommunityEdition?new SiteSettings.A(defaultCeSiteSettings()):new SiteSettings.A(Settings_siteSettings.A),port:new MockPort.A,storage:new MockStorage.A,account:new accountEntity.A((0,accountEntity_test_data.q)()),loggedInUser:{id:userSettings.id,role:{id:roleEntity_test_data.ES,name:"admin"}},users:[],roles:[{id:roleEntity_test_data.ES,name:"admin"},{id:roleEntity_test_data.ol,name:"user"}],rbacs:new rbacsCollection.A([]),setContext:jest.fn(),foldersMapById:[],getHierarchyFolderCache:jest.fn(()=>[])};return Object.assign(defaultAppContext1,appContext)}const defaultUserAppContext=(data={})=>{const siteSettings=new SiteSettings.A(Settings_siteSettings.A);return{locale:"en-UK",userSettings:new UserSettings.A(Settings_userSettings.A),siteSettings,port:new MockPort.A,storage:new MockStorage.A,loggedInUser:(0,userEntity_test_data.cI)({},{withRole:!0}),users:[],roles:[(0,roleEntity_test_data.Dm)(),(0,roleEntity_test_data.bd)()],resources:[],folders:[],setContext:jest.fn(),rbacs:new rbacsCollection.A((0,rbacsCollection_test_data.rB)()),foldersMapById:[],getHierarchyFolderCache:jest.fn(()=>[]),...data}},defaultAdministratorAppContext=(data={})=>defaultUserAppContext({loggedInUser:(0,userEntity_test_data.HI)({},{withRole:!0}),...data})},"./src/react-extension/contexts/MFAContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,N8:()=>MfaContextProvider,bb:()=>Providers,dg:()=>withMfa,hx:()=>MfaSettingsWorkflowStates});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_models_mfaPolicy_MfaPolicyEnumeration__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/mfaPolicy/MfaPolicyEnumeration.js");const MfaSettingsWorkflowStates={OVERVIEW:"Overview",TOTPOVERVIEW:"Totp Overview",SCANTOTPCODE:"Scan totp code",VIEWCONFIGURATION:"View a totp configuration",SETUPYUBIKEY:"Setup Yubikey",SETUPDUO:"Setup Duo"},Providers={TOTP:"totp",YUBIKEY:"yubikey",DUO:"duo"},MfaContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({state:null,setup:null,provider:null,getPolicy:()=>{},getMfaOrganisationSettings:()=>{},getMfaUserSettings:()=>{},findPolicy:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},isMfaChoiceRequired:()=>{},checkMfaChoiceRequired:()=>{},hasMfaUserSettings:()=>{},navigate:()=>{},setProvider:()=>{},goToProviderList:()=>{},validateTotpCode:()=>{},removeProvider:()=>{},validateYubikeyCode:()=>{}});class MfaContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{state:MfaSettingsWorkflowStates.OVERVIEW,setup:null,policy:null,provider:null,processing:!0,mfaUserSettings:null,mfaOrganisationSettings:null,mfaChoiceRequired:!1,getPolicy:this.getPolicy.bind(this),getMfaOrganisationSettings:this.getMfaOrganisationSettings.bind(this),getMfaUserSettings:this.getMfaUserSettings.bind(this),findPolicy:this.findPolicy.bind(this),findMfaSettings:this.findMfaSettings.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),hasMfaSettings:this.hasMfaSettings.bind(this),hasMfaOrganisationSettings:this.hasMfaOrganisationSettings.bind(this),hasMfaUserSettings:this.hasMfaUserSettings.bind(this),clearContext:this.clearContext.bind(this),checkMfaChoiceRequired:this.checkMfaChoiceRequired.bind(this),isMfaChoiceRequired:this.isMfaChoiceRequired.bind(this),navigate:this.navigate.bind(this),setProvider:this.setProvider.bind(this),goToProviderList:this.goToProviderList.bind(this),validateTotpCode:this.validateTotpCode.bind(this),removeProvider:this.removeProvider.bind(this),validateYubikeyCode:this.validateYubikeyCode.bind(this)}}async findPolicy(){if(this.getPolicy())return;this.setProcessing(!0);let policy=null;const result=await this.props.context.port.request("passbolt.mfa-policy.get-policy");policy=result?result.policy:null,this.setState({policy}),this.setProcessing(!1)}async findMfaSettings(){this.setProcessing(!0);let mfaUserSettings=null,mfaOrganisationSettings=null;const settings=await this.props.context.port.request("passbolt.mfa-policy.get-mfa-settings");mfaUserSettings=settings.MfaAccountSettings,mfaOrganisationSettings=settings.MfaOrganizationSettings,this.setState({mfaUserSettings}),this.setState({mfaOrganisationSettings}),this.setProcessing(!1)}getPolicy(){return this.state.policy}getMfaOrganisationSettings(){return this.state.mfaOrganisationSettings}getMfaUserSettings(){return this.state.mfaUserSettings}hasMfaSettings(){return!this.hasMfaOrganisationSettings()||this.hasMfaUserSettings()}hasMfaOrganisationSettings(){return this.state.mfaOrganisationSettings&&Object.values(this.state.mfaOrganisationSettings).some(value=>value)}hasMfaUserSettings(){return this.state.mfaUserSettings&&Object.values(this.state.mfaUserSettings).some(value=>value)}isProcessing(){return this.state.processing}setProcessing(processing){this.setState({processing})}clearContext(){const{policy,processing}=this.defaultState;this.setState({policy,processing})}async checkMfaChoiceRequired(){if(await this.findPolicy(),null===this.getPolicy()||this.getPolicy()!==_shared_models_mfaPolicy_MfaPolicyEnumeration__WEBPACK_IMPORTED_MODULE_3__.F.MANDATORY)return!1;await this.findMfaSettings(),this.setState({mfaChoiceRequired:!this.hasMfaSettings()})}isMfaChoiceRequired(){return this.state.mfaChoiceRequired}navigate(state){this.setState({state})}goToProviderList(){this.setState({state:MfaSettingsWorkflowStates.OVERVIEW,provider:null})}setProvider(provider){this.setState({provider})}async validateTotpCode(otpProvisioningUri,totp){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-totp-code",{otpProvisioningUri,totp})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}async validateYubikeyCode(hotp){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-yubikey-code",{hotp})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}async removeProvider(){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.remove-provider",{provider:this.state.provider})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MfaContext.Provider,{value:this.state},this.props.children)}}MfaContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)(MfaContextProvider);function withMfa(WrappedComponent){return class WithMfa extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MfaContext.Consumer,null,mfaContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{mfaContext,...this.props}))}}}MfaContextProvider.__docgenInfo={description:"The MFA context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicy",docblock:"Find the mfa policy settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the mfa policy settings"},{name:"findMfaSettings",docblock:"Find the mfa settings of the current user\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the mfa settings of the current user"},{name:"getPolicy",docblock:"Returns the policy for MFA.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policy for MFA."},{name:"getMfaOrganisationSettings",docblock:"Returns the mfa organisations settings.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the mfa organisations settings."},{name:"getMfaUserSettings",docblock:"Returns the mfa user settings.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the mfa user settings."},{name:"hasMfaSettings",docblock:"Returns if mfa settings are defined.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns if mfa settings are defined."},{name:"hasMfaOrganisationSettings",docblock:"Returns true organization settings has MFA defined\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true organization settings has MFA defined"},{name:"hasMfaUserSettings",docblock:"Returns true user settings has MFA defined\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true user settings has MFA defined"},{name:"isProcessing",docblock:"Returns true when the data is under processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data is under processing"},{name:"setProcessing",docblock:"Handle processing change.\n@params {Boolean} processing value\n@returns {void}",modifiers:[],params:[{name:"processing",optional:!1}],returns:{type:{name:"void"}},description:"Handle processing change."},{name:"clearContext",docblock:"Puts the state to its default in order to avoid keeping the data users didn't want to save.",modifiers:[],params:[],returns:null,description:"Puts the state to its default in order to avoid keeping the data users didn't want to save."},{name:"checkMfaChoiceRequired",docblock:"checkMfaChoiceRequired if mfa settings is required\n@returns {bool}",modifiers:["async"],params:[],returns:{type:{name:"bool"}},description:"checkMfaChoiceRequired if mfa settings is required"},{name:"isMfaChoiceRequired",docblock:"Returns true if the current user has to choose for a mfa setting.\n@returns {bool}",modifiers:[],params:[],returns:{type:{name:"bool"}},description:"Returns true if the current user has to choose for a mfa setting."},{name:"navigate",docblock:"Change mfa settings state\n@params {string} next state step\n@returns {void}",modifiers:[],params:[{name:"state",optional:!1}],returns:{type:{name:"void"}},description:"Change mfa settings state"},{name:"goToProviderList",docblock:"Cancel a setup process or go back to mfa settings providers",modifiers:[],params:[],returns:null,description:"Cancel a setup process or go back to mfa settings providers"},{name:"setProvider",docblock:"Set the selected provider and the next step\n@params {string} next setup state\n@returns {void}",modifiers:[],params:[{name:"provider",optional:!1}],returns:{type:{name:"void"}},description:"Set the selected provider and the next step"},{name:"validateTotpCode",docblock:"Validate the totp provider with code and uri provided during setup\n@param {string} otpProvisioningUri\n@param {string} totp\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"otpProvisioningUri",type:{name:"string"},optional:!1},{name:"totp",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the totp provider with code and uri provided during setup"},{name:"validateYubikeyCode",docblock:"Validate the totp provider with code and uri provided during setup\n@param {string} hotp\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"hotp",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the totp provider with code and uri provided during setup"},{name:"removeProvider",docblock:"Delete the totp provider from configuration\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Delete the totp provider from configuration"}],displayName:"MfaContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/test/mock/MockStorage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class LocalStorage{constructor(changeCallbacks){this.storage={},this.changeCallbacks=changeCallbacks}get(keys){return keys.reduce((accumulator,key)=>(this.storage[key]&&(accumulator[key]=this.storage[key]),accumulator),{})}set(data){const storageChangeEventValue={};Object.keys(data).forEach(key=>{this.storage[key]=data[key],storageChangeEventValue[key]={},storageChangeEventValue[key].newValue=data[key]}),this.changeCallbacks.forEach(callback=>callback(storageChangeEventValue))}}const __WEBPACK_DEFAULT_EXPORT__=class MockStorage{constructor(){this.changeCallbacks=[],this.local=new LocalStorage(this.changeCallbacks),this.onChanged={addListener:listener=>{this.changeCallbacks.push(listener)},removeListener:listener=>{const listenerIndex=this.changeCallbacks.indexOf(listener);listenerIndex>-1&&this.changeCallbacks.splice(listenerIndex,1)}}}}},"./src/shared/models/entity/account/accountEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _shared_models_entity_role_roleEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/role/roleEntity.js"),_abstract_entityV2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),uuid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v5.js");class AccountEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_1__.A{marshall(){Object.assign(this._props,{type:AccountEntity.TYPE_ACCOUNT})}static getSchema(){return{type:"object",required:["type","domain","user_id","username","first_name","last_name","user_public_armored_key","server_public_armored_key"],properties:{type:{type:"string",enum:[AccountEntity.TYPE_ACCOUNT]},domain:{type:"string"},user_id:{type:"string",format:"uuid"},user_key_fingerprint:{type:"string",minLength:40,maxLength:40,pattern:/^[A-F0-9]{40}$/},user_public_armored_key:{type:"string"},server_public_armored_key:{type:"string"},username:{type:"string"},first_name:{type:"string"},last_name:{type:"string"},locale:{type:"string",pattern:/^[a-z]{2}-[A-Z]{2}$/,nullable:!0},role_name:{..._shared_models_entity_role_roleEntity__WEBPACK_IMPORTED_MODULE_0__.A.getSchema().properties.name,nullable:!0}}}}get id(){return this.domain&&this.userId?(0,uuid__WEBPACK_IMPORTED_MODULE_2__.A)(`${this.domain}${this.userId}`,"d5447ca1-950f-459d-8b20-86ddfdd0f922"):null}get domain(){return this._props.domain}get userId(){return this._props.user_id}static get ENTITY_NAME(){return"Account"}static get TYPE_ACCOUNT(){return"Account"}}const __WEBPACK_DEFAULT_EXPORT__=AccountEntity},"./src/shared/models/entity/account/accountEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>defaultAccountDto});var _accountEntity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/account/accountEntity.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultAccountDto=(data={})=>{data=JSON.parse(JSON.stringify(data));const defaultData={type:_accountEntity__WEBPACK_IMPORTED_MODULE_0__.A.TYPE_ACCOUNT,domain:"https://passbolt.local",user_id:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.ada.userId,username:"ada@passbolt.com",first_name:"Ada",last_name:"Lovelace",user_key_fingerprint:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.ada.fingerprint,user_public_armored_key:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.ada.public,user_private_armored_key:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.ada.private,server_public_armored_key:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.server.public,locale:"de-DE"};return Object.assign(defaultData,data)}},"./src/shared/models/entity/metadata/metadataKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lq:()=>defaultMetadataKeyDto,Lv:()=>metadataKeyWithSignedMetadataPrivateKeyDataDto});var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");function mutatePgpBlockFromOptions(block,options={withCrc:!0,withComments:!1,withWrongExtraCharacters:!1,withDuplicates:!1}){return options.withComments&&(block=block.replace("\n\n","\nVersion: PGP 1.0\nComments: This is a test\n\n")),options.withWrongExtraCharacters&&(block=block.replace(/\n\n(.{64})\n/,"\n\n$1Wrong Stuff Here\n")),options.withCrc||(block=block.replace(/\n=[a-zA-Z0-9/+=]{4}\n-----/,"\n-----")),options.withDuplicates&&(block=`${block}\n\n${block}\n\n${block}`),block}const defaultArmoredPublicKey=options=>mutatePgpBlockFromOptions("-----BEGIN PGP PUBLIC KEY BLOCK-----\n\n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\n=KFUt\n-----END PGP PUBLIC KEY BLOCK-----",options);var metadataPrivateKeyEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),userEntity_test_data=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");const defaultMetadataKeyDto=(data={},options={})=>((data={},options={})=>{const defaultData={fingerprint:Array.from({length:40},()=>Math.floor(16*Math.random()).toString(16).toUpperCase()).join(""),armored_key:defaultArmoredPublicKey(),...data};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,metadataPrivateKeyEntity_test_data.mr)({metadata_key_id:defaultData.id},options?.withMetadataPrivateKeys)]),!defaultData.creator&&options?.withCreator&&(defaultData.creator=(0,userEntity_test_data.cI)()),defaultData})({id:data.id||(0,v4.A)(),modified:"2022-10-11T08:09:00+00:00",created_by:(0,v4.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,v4.A)(),deleted:null,expired:null,...data},options),metadataKeyWithSignedMetadataPrivateKeyDataDto=(data={},options={})=>{const id=data.id||(0,v4.A)(),metadataPrivateKeyDto={metadata_key_id:id,data_signed_by_current_user:(new Date).toISOString()},metadataPrivateKeysDto=[(0,metadataPrivateKeyEntity_test_data.mr)(metadataPrivateKeyDto,options?.withMetadataPrivateKeys)],defaultData={...data,id,metadata_private_keys:metadataPrivateKeysDto};return defaultMetadataKeyDto(defaultData,options)}},"./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{mr:()=>defaultMetadataPrivateKeyDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./test/fixture/pgpKeys/keys.js");const defaultMetadataPrivateKeyDto=(data={})=>((data={})=>({user_id:null,data:_test_fixture_pgpKeys_keys__WEBPACK_IMPORTED_MODULE_1__.u.metadataKey.encryptedMetadataPrivateKeyDataMessage,...data}))({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),user_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),metadata_key_id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),data_signed_by_current_user:null,modified:"2022-10-11T08:09:00+00:00",created_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),...data})},"./src/shared/models/mfaPolicy/MfaPolicyEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>MfaPolicyEnumerationTypes});const MfaPolicyEnumerationTypes={MANDATORY:"mandatory",OPTIN:"opt-in"}}}]);