/*! For license information please see 8580.35ea8cfc.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[8580],{"./src/img/svg/circle_ellipsis.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCircleEllipsis(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#circle_ellipsis_svg__clip0_2626_1109239)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15M12.75 9h.008M9 9h.008M5.25 9h.008"}))))}},"./src/img/svg/upload_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUploadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 9v4.5M11.25 11.25 9 9l-2.25 2.25"})))}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/ResourceFolder/CreateResourceFolder/CreateResourceFolder.js"),_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/shared/context/MetadataTypesSettingsLocalStorageContext/MetadataTypesSettingsLocalStorageContext.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/img/svg/add.svg"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/img/svg/totp.svg"),_img_svg_folder_plus_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/img/svg/folder_plus.svg"),_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/img/svg/upload_file.svg"),_img_svg_circle_ellipsis_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/img/svg/circle_ellipsis.svg"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_CreateResource_DisplayResourceCreationMenu__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/react-extension/components/Resource/CreateResource/DisplayResourceCreationMenu.js"),_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/react-extension/components/Resource/CreateResource/CreateResource.js"),_img_svg_notes_svg__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/img/svg/notes.svg"),_img_svg_table_properties_svg__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/img/svg/table_properties.svg"),_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js"),_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./src/react-extension/components/Metadata/ActionAbortedMissingMetadataKeys/ActionAbortedMissingMetadataKeys.js");class DisplayResourcesWorkspaceMainMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleCreateMenuPasswordClickEvent=this.handleCreateMenuPasswordClickEvent.bind(this),this.handleMenuCreateTotpClickEvent=this.handleMenuCreateTotpClickEvent.bind(this),this.handleMenuCreateCustomFieldsClickEvent=this.handleMenuCreateCustomFieldsClickEvent.bind(this),this.handleMenuCreateStandaloneNoteClickEvent=this.handleMenuCreateStandaloneNoteClickEvent.bind(this),this.handleMenuCreateFolderClickEvent=this.handleMenuCreateFolderClickEvent.bind(this),this.handleImportClickEvent=this.handleImportClickEvent.bind(this),this.handleMenuCreateOtherClickEvent=this.handleMenuCreateOtherClickEvent.bind(this)}handleCreateMenuPasswordClickEvent(){let resourceType;if(this.props.metadataTypeSettings.isDefaultResourceTypeV5){if(this.isMetadataKeyRequiredAndMissing())return void this.displayMissingKeysDialog();resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.gG)}else this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.Bo));this.openCreateDialog(resourceType)}handleImportClickEvent(){this.canImportResources()?this.props.dialogContext.open(_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_6__.A):this.displayMissingKeysDialog()}openCreateDialog(resourceType){this.props.dialogContext.open(_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_28__.A,{folderParentId:this.folderIdSelected,resourceType})}handleMenuCreateTotpClickEvent(){let resourceType;if(this.props.metadataTypeSettings.isDefaultResourceTypeV5){if(this.isMetadataKeyRequiredAndMissing())return void this.displayMissingKeysDialog();resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.uQ)}else this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.KY));this.openCreateDialog(resourceType)}handleMenuCreateCustomFieldsClickEvent(){if(this.isMetadataKeyRequiredAndMissing())return void this.displayMissingKeysDialog();const resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.qr);this.openCreateDialog(resourceType)}handleMenuCreateStandaloneNoteClickEvent(){if(this.isMetadataKeyRequiredAndMissing())return void this.displayMissingKeysDialog();const resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.lg);this.openCreateDialog(resourceType)}handleMenuCreateOtherClickEvent(){this.props.dialogContext.open(_CreateResource_DisplayResourceCreationMenu__WEBPACK_IMPORTED_MODULE_27__.A,{folderParentId:this.folderIdSelected})}handleMenuCreateFolderClickEvent(){this.openFolderCreateDialog()}openFolderCreateDialog(){this.props.dialogContext.open(_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_5__.A,{folderParentId:this.folderIdSelected})}get folderSelected(){const filter=this.props.resourceWorkspaceContext.filter;return filter&&filter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.FM.FOLDER?filter.payload.folder:null}get folderIdSelected(){return this.folderSelected&&this.folderSelected.id}canCreate(){return null===this.folderSelected||this.folderSelected.permission.type>=7}isMetadataKeyRequiredAndMissing(){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,isPersonalFolder=null===this.folderSelected||this.folderSelected.personal,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;return isPersonalFolder&&isMetadataSharedKeyEnforced&&userHasMissingKeys||!isPersonalFolder&&userHasMissingKeys}canImportResources(){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;return!(isMetadataSharedKeyEnforced&&userHasMissingKeys)}hasMetadataTypesSettings(){return Boolean(this.props.metadataTypeSettings)}hasMetadataTypesV4AndV5(){return this.props.metadataTypeSettings.allowCreationOfV5Resources&&this.props.metadataTypeSettings.allowCreationOfV4Resources}canCreatePassword(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.gG):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.Bo)}canCreateStandaloneTotp(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.uQ):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.KY)}get canCreateCustomFields(){return!!this.props.metadataTypeSettings.isDefaultResourceTypeV5&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.qr)}get canCreateStandaloneNote(){return!!this.props.metadataTypeSettings.isDefaultResourceTypeV5&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_14__.lg)}canSeeOther(){if(!this.props.metadataTypeSettings?.allowCreationOfV5Resources)return!1;if(this.hasMetadataTypesV4AndV5())return!0;const otherV5ContentTypes=this.props.resourceTypes?.items.filter(rt=>rt.version===_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_15__.LP&&!rt.hasPassword()&&!rt.hasTotp()&&!rt.hasSecretDescription());return otherV5ContentTypes?.length>0}displayMissingKeysDialog(){this.props.dialogContext.open(_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_33__.A)}render(){const canImport=this.props.context.siteSettings.canIUse("import")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_9__.e.RESOURCES_IMPORT),canUseFolders=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_9__.e.FOLDERS_USE),canUseTotp=this.props.context.siteSettings.canIUse("totpResourceTypes"),canSeeOther=this.canSeeOther();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_16__.A,{className:"create primary",disabled:!this.canCreate()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_17__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Create"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_18__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_26__.A,{className:"menu-create-primary"},!this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!canUseTotp},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"password_action",type:"button",className:"no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Password"))))),canUseTotp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_21__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"TOTP")))))),this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.canCreatePassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!canUseTotp},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"password_action",type:"button",className:"no-border",onClick:this.handleCreateMenuPasswordClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Password")))),canUseTotp&&this.canCreateStandaloneTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!this.canCreateCustomFields},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",onClick:this.handleMenuCreateTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_21__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"TOTP")))),this.canCreateCustomFields&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!this.canCreateStandaloneNote},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"custom_fields_action",type:"button",className:"no-border",onClick:this.handleMenuCreateCustomFieldsClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_table_properties_svg__WEBPACK_IMPORTED_MODULE_30__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Custom fields")))),this.canCreateStandaloneNote&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!canSeeOther},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"standalone_note_action",type:"button",className:"no-border",onClick:this.handleMenuCreateStandaloneNoteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_notes_svg__WEBPACK_IMPORTED_MODULE_29__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Notes")))),canSeeOther&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"other_action",type:"button",className:"no-border",onClick:this.handleMenuCreateOtherClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_circle_ellipsis_svg__WEBPACK_IMPORTED_MODULE_24__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Other"))))),canUseFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,{separator:canImport},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"folder_action",type:"button",className:"no-border",onClick:this.handleMenuCreateFolderClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_folder_plus_svg__WEBPACK_IMPORTED_MODULE_22__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Folder")))),canImport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_19__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"import_action",type:"button",className:"no-border",onClick:this.handleImportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_23__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Import resources"))))))}}DisplayResourcesWorkspaceMainMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_11__.A),metadataTypeSettings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_15__.Ay),metadataKeysSettings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().instanceOf(_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_32__.A),t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_8__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_12__.mw)((0,_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_31__.XF)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_10__.KH)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_7__.CI)("common")(DisplayResourcesWorkspaceMainMenu))))))));DisplayResourcesWorkspaceMainMenu.__docgenInfo={description:"This component allows the current user to create a new resource",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleCreateMenuPasswordClickEvent",docblock:"Handle password click event",modifiers:[],params:[],returns:null,description:"Handle password click event"},{name:"handleImportClickEvent",docblock:"Handle the import click event",modifiers:[],params:[],returns:null,description:"Handle the import click event"},{name:"openCreateDialog",docblock:"Open create resource dialog\n@param {ResourceTypeEntity} resourceType The resource type",modifiers:[],params:[{name:"resourceType",description:"The resource type",type:{name:"ResourceTypeEntity"},optional:!1}],returns:null,description:"Open create resource dialog"},{name:"handleMenuCreateTotpClickEvent",docblock:"Handle totp click event",modifiers:[],params:[],returns:null,description:"Handle totp click event"},{name:"handleMenuCreateCustomFieldsClickEvent",docblock:"Handle custom fields click event",modifiers:[],params:[],returns:null,description:"Handle custom fields click event"},{name:"handleMenuCreateStandaloneNoteClickEvent",docblock:"Handle standalone note click event",modifiers:[],params:[],returns:null,description:"Handle standalone note click event"},{name:"handleMenuCreateOtherClickEvent",docblock:"Handle other click event",modifiers:[],params:[],returns:null,description:"Handle other click event"},{name:"handleMenuCreateFolderClickEvent",docblock:"Handle folder click event",modifiers:[],params:[],returns:null,description:"Handle folder click event"},{name:"openFolderCreateDialog",docblock:"Open create password dialog",modifiers:[],params:[],returns:null,description:"Open create password dialog"},{name:"folderSelected",docblock:"Get the currently selected folder. Return null if none selected.\n@returns {null|object}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"}]}},description:"Get the currently selected folder. Return null if none selected."},{name:"folderIdSelected",docblock:"the folder id selected\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"the folder id selected"},{name:"canCreate",docblock:"can create a resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"can create a resource"},{name:"isMetadataKeyRequiredAndMissing",docblock:"Can create resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create resource"},{name:"canImportResources",docblock:"Can import resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can import resources"},{name:"hasMetadataTypesSettings",docblock:"Has metadata types settings\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has metadata types settings"},{name:"hasMetadataTypesV4AndV5",docblock:"Has metadata types settings v4 and v5\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has metadata types settings v4 and v5"},{name:"canCreatePassword",docblock:"Can create password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create password"},{name:"canCreateStandaloneTotp",docblock:"Can create standalone totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create standalone totp"},{name:"canCreateCustomFields",docblock:"Can create custom fields\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can create custom fields"},{name:"canCreateStandaloneNote",docblock:"Can create standalone note\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can create standalone note"},{name:"canSeeOther",docblock:'Should the "Other" menu items be displayed.\n@returns {boolean}',modifiers:[],params:[],returns:{type:{name:"boolean"}},description:'Should the "Other" menu items be displayed.'},{name:"displayMissingKeysDialog",docblock:"Display action aborted",modifiers:[],params:[],returns:null,description:"Display action aborted"}],displayName:"DisplayResourcesWorkspaceMainMenu",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},metadataTypeSettings:{description:"",type:{name:"instanceOf",value:"MetadataTypesSettingsEntity"},required:!1},metadataKeysSettings:{description:"",type:{name:"instanceOf",value:"MetadataKeysSettingsEntity"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/ImportResources/ImportResources.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_ImportResourcesKeyUnlock__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResourcesKeyUnlock.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_ImportResourcesResult__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResourcesResult.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),react_i18next__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js");class ImportResources extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{processing:!1,fileToImport:null,options:{folders:this.canUseFolders,tags:this.canUseTags},errors:{}}}get canUseFolders(){return this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_14__.e.FOLDERS_USE)}get canUseTags(){return this.props.context.siteSettings.canIUse("tags")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_14__.e.TAGS_USE)}bindHandlers(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleImportOptionFoldersChanged=this.handleImportOptionFoldersChanged.bind(this),this.handleImportOptionTagsChanged=this.handleImportOptionTagsChanged.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}async componentDidUpdate(previousProps){await this.handleFileToImportChange(previousProps.resourceWorkspaceContext.resourceFileToImport)}hasSubmitButtonDisabled(){return!this.state.fileToImport||this.state.processing}hasAllInputDisabled(){return this.state.processing}get selectedFilename(){return this.state.fileToImport?this.state.fileToImport.name:""}get selectedFileExtension(){const splitFilename=this.state.fileToImport.name.split(".");return splitFilename[splitFilename.length-1]}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(event){const[fileToImport]=event.target.files;await this.resetValidation(),this.setState({fileToImport})}async handleImportOptionFoldersChanged(){const options=Object.assign({},this.state.options,{folders:!this.state.options.folders});await this.setState({options})}async handleImportOptionTagsChanged(){const options=Object.assign({},this.state.options,{tags:!this.state.options.tags});await this.setState({options})}async handleFileToImportChange(previousFileToImport){previousFileToImport&&!this.props.resourceWorkspaceContext.resourceFileToImport&&this.close()}handleCancel(){this.props.resourceWorkspaceContext.onResourceFileToImport(null),this.close()}handleSubmit(event){event.preventDefault(),this.state.processing||this.import()}async toggleProcessing(){const prev=this.state.processing;return this.setState({processing:!prev})}close(){this.props.onClose()}toBinary(string){const codeUnits=new Uint16Array(string.length);for(let i=0;i<codeUnits.length;i++)codeUnits[i]=string.charCodeAt(i);return new Uint8Array(codeUnits.buffer).reduce((data,byte)=>data+String.fromCharCode(byte),"")}readFileCsv(){const reader=new FileReader;return new Promise((resolve,reject)=>{reader.onloadend=event=>{try{const file=this.toBinary(event.target.result),fileBase64=btoa(file);resolve(fileBase64)}catch(e){reject(e)}},reader.readAsText(this.state.fileToImport)})}readFileKdbx(){const reader=new FileReader;return new Promise((resolve,reject)=>{reader.onloadend=event=>{try{const fileBase64=event.target.result.split(",")[1];resolve(fileBase64)}catch(e){reject(e)}},reader.readAsDataURL(this.state.fileToImport)})}async import(){const fileType=this.selectedFileExtension,b64FileContent="kdbx"===fileType?await this.readFileKdbx():await this.readFileCsv(),options=Object.assign({},this.state.options,{credentials:{password:null,keyFile:null}});await this.toggleProcessing();try{const importResult=await this.props.context.port.request("passbolt.import-resources.import-file",fileType,b64FileContent,options);this.handleImportSuccess(importResult)}catch(error){this.handleImportError(error,b64FileContent,fileType)}}async handleImportSuccess(importResult){await this.props.resourceWorkspaceContext.onResourceFileImportResult(importResult),await this.props.resourceWorkspaceContext.onResourceFileToImport(null),await this.props.dialogContext.open(_ImportResourcesResult__WEBPACK_IMPORTED_MODULE_9__.A),this.toggleProcessing(),this.close()}handleImportError(error,b64FileContent,fileType){const isUserAbortsOperation="UserAbortsOperationError"===error.name,isUntrustedMetadataKeyError="UntrustedMetadataKeyError"===error.name,isKdbxBadSignatureError="KdbxError"===error.name&&"BadSignature"===error.code,isKdbxProtectedError="KdbxError"===error.name&&("InvalidKey"===error.code||"InvalidArg"===error.code),isCsvError="FileFormatError"===error.name;if(this.toggleProcessing(),isUserAbortsOperation||isUntrustedMetadataKeyError);else if(isKdbxProtectedError)this.importProtectedKeepassFile(b64FileContent,fileType),this.close();else if(isKdbxBadSignatureError)this.setState({errors:{invalidKdbxFile:this.translate("Keepass file format not recognized")}});else if(isCsvError)this.setState({errors:{invalidCsvFile:error.message}});else{const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_11__.A,errorDialogProps)}}async importProtectedKeepassFile(b64FileContent,fileType){const resourceFileToImport={b64FileContent,fileType,options:this.state.options};await this.props.resourceWorkspaceContext.onResourceFileToImport(resourceFileToImport),this.props.dialogContext.open(_ImportResourcesKeyUnlock__WEBPACK_IMPORTED_MODULE_7__.A)}async resetValidation(){await this.setState({errors:{}})}get translate(){return this.props.t}render(){const errors=this.state.errors,isInvalidCsvFile=errors&&errors.invalidCsvFile,isInvalidKdbxFile=errors&&errors.invalidKdbxFile,invalidFileClassName=isInvalidCsvFile||isInvalidKdbxFile?"errors":"";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__.A,{title:this.translate("Import passwords"),className:"import-password-dialog",disabled:this.hasAllInputDisabled(),onClose:this.handleCancel},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input file ${this.hasAllInputDisabled()?"disabled":""} ${invalidFileClassName}`},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"file",id:"dialog-import-passwords",ref:this.fileUploaderRef,onChange:this.handleFileSelected,accept:".csv, .kdbx, .kdb"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"dialog-import-passwords"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_12__.x6,null,"Select a file to import")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__.A,{message:this.translate("csv exports from browsers (safari, chrome, edge, brave, opera, vivaldi, firefox, waterfox), keepassx, logmeonce, lastpass, 1password, nordpass, dashlane and bitwarden are supported")},"(",react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link inline"},"csv"))," ",this.translate("or")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_13__.A,{message:this.translate("kdbx files are files generated by keepass v2.x")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link inline"},"kdbx"),")")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-file-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button primary",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.handleSelectFile},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_12__.x6,null,"Choose a file")))),isInvalidCsvFile&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"error-message"},this.state.errors.invalidCsvFile),isInvalidKdbxFile&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"error-message"},this.state.errors.invalidKdbxFile)),this.canUseTags&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"dialog-import-passwords-import-tags",type:"checkbox",checked:this.state.options.tags,disabled:this.hasAllInputDisabled(),onChange:this.handleImportOptionTagsChanged}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"dialog-import-passwords-import-tags"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_12__.x6,null,"Add a unique import tag to passwords"))),this.canUseFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"dialog-import-passwords-import-folders",type:"checkbox",checked:this.state.options.folders,disabled:this.hasAllInputDisabled(),onChange:this.handleImportOptionFoldersChanged}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"dialog-import-passwords-import-folders"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_12__.x6,null,"Import folders"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"warning message no-margin",id:"import-resources-warning-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_12__.x6,null,"Checkout the ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:"https://www.passbolt.com/docs/user/basic-features/browser/import/",target:"_blank",rel:"noopener noreferrer"},"documentation")," to see what information is supported."))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCancel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__.A,{value:this.translate("Import"),disabled:this.hasSubmitButtonDisabled(),processing:this.state.processing}))))}}ImportResources.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_10__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_15__.x6)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_12__.CI)("common")(ImportResources))))));ImportResources.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"canUseFolders",docblock:"Check if the user can use folders.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can use folders."},{name:"canUseTags",docblock:"Check if the user can use tags.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can use tags."},{name:"bindHandlers",docblock:"Bind component handlers",modifiers:[],params:[],returns:null,description:"Bind component handlers"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"hasSubmitButtonDisabled",docblock:"Returns true if the submit button should be disabled",modifiers:[],params:[],returns:null,description:"Returns true if the submit button should be disabled"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"selectedFilename",docblock:"Returns the selected file's name",modifiers:["get"],params:[],returns:null,description:"Returns the selected file's name"},{name:"selectedFileExtension",docblock:"Returns the extension of the selected file",modifiers:["get"],params:[],returns:null,description:"Returns the extension of the selected file"},{name:"handleSelectFile",docblock:"Handle the selection of a file by file explorer",modifiers:[],params:[],returns:null,description:"Handle the selection of a file by file explorer"},{name:"handleFileSelected",docblock:"Handle the event that a file has been selected\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the event that a file has been selected"},{name:"handleImportOptionFoldersChanged",docblock:"Handle the change of import folders option",modifiers:["async"],params:[],returns:null,description:"Handle the change of import folders option"},{name:"handleImportOptionTagsChanged",docblock:"Handle the change of unique tag options",modifiers:["async"],params:[],returns:null,description:"Handle the change of unique tag options"},{name:"handleFileToImportChange",docblock:"Whenever the contextual file to import has changed\n@param previousFileToImport The previous file to import",modifiers:["async"],params:[{name:"previousFileToImport",description:"The previous file to import",optional:!1}],returns:null,description:"Whenever the contextual file to import has changed"},{name:"handleCancel",docblock:"Handle the cancellation of the import",modifiers:[],params:[],returns:null,description:"Handle the cancellation of the import"},{name:"handleSubmit",docblock:"Handle the import submit event\n@param event A dom event",modifiers:[],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the import submit event"},{name:"toggleProcessing",docblock:"Toggle processing state\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Toggle processing state"},{name:"close",docblock:"Close the dialog",modifiers:[],params:[],returns:null,description:"Close the dialog"},{name:"toBinary",docblock:"Convert a Unicode string to a string in which\neach 16-bit unit occupies only one byte\n@param string\n@returns {string}",modifiers:[],params:[{name:"string",optional:!1}],returns:{type:{name:"string"}},description:"Convert a Unicode string to a string in which\neach 16-bit unit occupies only one byte"},{name:"readFileCsv",docblock:"Read the selected CSV file and returns its content in a base 64",modifiers:[],params:[],returns:null,description:"Read the selected CSV file and returns its content in a base 64"},{name:"readFileKdbx",docblock:"Read the selected KDBX file and returns its content in a base 64\n@return {Promise<string>}",modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"string"}]}},description:"Read the selected KDBX file and returns its content in a base 64"},{name:"import",docblock:"Import the selected file with its given base 64 content",modifiers:["async"],params:[],returns:null,description:"Import the selected file with its given base 64 content"},{name:"handleImportSuccess",docblock:"Handle import success\n@param {Object} importResult The import restult",modifiers:["async"],params:[{name:"importResult",description:"The import restult",type:{name:"Object"},optional:!1}],returns:null,description:"Handle import success"},{name:"handleImportError",docblock:"Handle import error.\n@param {Object} error The error returned by the background page\n@param {string} b64FileContent The base 64 file content\n@param {string} fileType The file type",modifiers:[],params:[{name:"error",description:"The error returned by the background page",type:{name:"Object"},optional:!1},{name:"b64FileContent",description:"The base 64 file content",type:{name:"string"},optional:!1},{name:"fileType",description:"The file type",type:{name:"string"},optional:!1}],returns:null,description:"Handle import error."},{name:"importProtectedKeepassFile",docblock:"Import a KDBX file\n@param {string} b64FileContent The base 64 file content\n@param {string} fileType The file type\n@return {Promise}",modifiers:["async"],params:[{name:"b64FileContent",description:"The base 64 file content",type:{name:"string"},optional:!1},{name:"fileType",description:"The file type",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise"}},description:"Import a KDBX file"},{name:"resetValidation",docblock:"Reset the validation process",modifiers:["async"],params:[],returns:null,description:"Reset the validation process"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ImportResources",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}}}]);