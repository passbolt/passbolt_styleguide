/*! For license information please see react-extension-components-User-DisplayUserWorkspace-DisplayUserWorkspace-test-stories.4d6fe393.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[490],{"./src/react-extension/components/User/DisplayUserWorkspace/DisplayUserWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,ceVersion:()=>ceVersion,default:()=>DisplayUserWorkspace_test_stories,proVersion:()=>proVersion});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),DisplayUsers=__webpack_require__("./src/react-extension/components/User/DisplayUsers/DisplayUsers.js"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),AccountRecoveryUserContext=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),DisplayUserDetailsInformation=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js"),DisplayUserDetailsGroups=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js"),DisplayUserDetailsPublicKey=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DisplayUserDetailsAccountRecovery=__webpack_require__("./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js"),clipBoard=__webpack_require__("./src/shared/lib/Browser/clipBoard.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get user(){return this.props.userWorkspaceContext.details.user}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.user.id}`;await clipBoard.A.copy(permalink,this.props.context.port),await this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}isAccountRecoveryEnabled(){return this.props.accountRecoveryContext.isPolicyEnabled()}get hasAttentionRequired(){return this.isAccountRecoveryEnabled()&&Boolean(this.user.pending_account_recovery_request)}isUserSuspended(user){return this.props.context.siteSettings.canIUse("disableUser")&&(0,userUtils.B7)(user)}render(){return react.createElement("div",{className:"panel aside ready"},react.createElement("div",{className:"sidebar user"},react.createElement("div",{className:"sidebar-header "+(this.isUserSuspended(this.user)?"suspended":"")},react.createElement("div",{className:"teaser-image  "+(this.hasAttentionRequired?"attention-required":"")},react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl,attentionRequired:this.hasAttentionRequired})),react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this user"),onClick:this.handlePermalinkClick},react.createElement(Icon.A,{name:"link"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this user")))),react.createElement("span",{className:"subtitle"},this.user.username)),react.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},react.createElement(Icon.A,{name:"close"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Close")))),react.createElement(DisplayUserDetailsInformation.A,null),this.user.active&&react.createElement(DisplayUserDetailsGroups.A,null),this.user.active&&react.createElement(DisplayUserDetailsPublicKey.A,null),this.isAccountRecoveryEnabled()&&this.user.active&&this.isLoggedInUserAdmin()&&react.createElement(DisplayUserDetailsAccountRecovery.A,null)))}}DisplayUserDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,accountRecoveryContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserDetails_DisplayUserDetails=(0,AppContext.L)((0,AccountRecoveryUserContext.Le)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(DisplayUserDetails)))));DisplayUserDetails.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"user",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"isLoggedInUserAdmin",docblock:"Is the logged in user admin\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the logged in user admin"},{name:"isAccountRecoveryEnabled",docblock:"Is the account recovery enabled\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the account recovery enabled"},{name:"hasAttentionRequired",docblock:"Get attention required\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Get attention required"},{name:"isUserSuspended",docblock:"Returns true if the feature flag disableUser is enabled and the given user is suspended.\n@param {object} user\n@returns {boolean}",modifiers:[],params:[{name:"user",type:{name:"object"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if the feature flag disableUser is enabled and the given user is suspended."}],displayName:"DisplayUserDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayUserWorkspaceActions=__webpack_require__("./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js"),Logo=__webpack_require__("./src/react-extension/components/Common/Navigation/Header/Logo.js"),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),FilterUsersByGroup=__webpack_require__("./src/react-extension/components/User/FilterUsersByGroups/FilterUsersByGroup.js"),FilterUsersByShortcut=__webpack_require__("./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js"),FilterUsersByText=__webpack_require__("./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js"),DisplayUserGroupDetailsInformation=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js"),GroupAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),DisplayUserGroupDetailsMembers=__webpack_require__("./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js");class DisplayUserGroupDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/groups/view/${this.group.id}`;await clipBoard.A.copy(permalink,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}handleCloseClick(){this.props.userWorkspaceContext.onDetailsLocked()}get translate(){return this.props.t}render(){return react.createElement("div",{className:"panel aside ready"},react.createElement("div",{className:"sidebar user"},react.createElement("div",{className:"sidebar-header"},react.createElement("div",{className:"teaser-image"},react.createElement(GroupAvatar.A,{group:this.group})),react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name sidebar-header-title"},this.group.name),react.createElement("button",{type:"button",className:"title-link link no-border",title:this.translate("Copy the link to this group"),onClick:this.handlePermalinkClick},react.createElement(Icon.A,{name:"link"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this group")))),react.createElement("span",{className:"subtitle"},react.createElement(es.x6,null,"Group"))),react.createElement("button",{type:"button",className:"dialog-close button-transparent",onClick:this.handleCloseClick},react.createElement(Icon.A,{name:"close"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Close"))))),react.createElement(DisplayUserGroupDetailsInformation.A,null),react.createElement(DisplayUserGroupDetailsMembers.A,null))}}DisplayUserGroupDetails.propTypes={context:prop_types_default().any,actionFeedbackContext:prop_types_default().any,userWorkspaceContext:prop_types_default().any,t:prop_types_default().func};const DisplayUserGroupDetails_DisplayUserGroupDetails=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetails))));DisplayUserGroupDetails.__docgenInfo={description:"This component displays the details of a users group",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"group",docblock:"Returns the current user",modifiers:["get"],params:[],returns:null,description:"Returns the current user"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"handleCloseClick",docblock:"Handle close sidebar click",modifiers:[],params:[],returns:null,description:"Handle close sidebar click"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetails",props:{context:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var DisplayUserWorkspaceMainActions=__webpack_require__("./src/react-extension/components/User/DisplayUserWorkspaceMainActions/DisplayUserWorkspaceMainActions.js"),FilterUsersByBreadcrumb=__webpack_require__("./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js"),HandleReviewAccountRecoveryRequestWorkflow=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js");class HandleReviewAccountRecoveryRequestRoute extends react.Component{componentDidMount(){this.handleRoute()}async handleRoute(){const accountRecoveryRequestId=this.props.match.params.accountRecoveryRequestId;let accountRecoveryRequest;try{accountRecoveryRequest=await this.props.context.port.request("passbolt.account-recovery.get-request",accountRecoveryRequestId)}catch(error){return void this.handleAccountRecoveryRequestNotFound()}const user=this.props.context.users.find((user=>user.id===accountRecoveryRequest.user_id));user?(await this.props.userWorkspaceContext.onUserSelected.single(user),this.props.workflowContext.start(HandleReviewAccountRecoveryRequestWorkflow.A,{accountRecoveryRequest})):this.handleAccountRecoveryRequestUserNotFound()}handleAccountRecoveryRequestNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The account recovery request does not exist."))}handleAccountRecoveryRequestUserNotFound(){this.props.actionFeedbackContext.displayError(this.props.t("The user who requested an account recovery does not exist."))}render(){return react.createElement(react.Fragment,null)}}HandleReviewAccountRecoveryRequestRoute.propTypes={actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,history:prop_types_default().object,match:prop_types_default().object,t:prop_types_default().func,userWorkspaceContext:prop_types_default().any,workflowContext:prop_types_default().any};const HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,ActionFeedbackContext.ot)((0,WorkflowContext.AV)((0,react_router.y)((0,es.CI)("common")(HandleReviewAccountRecoveryRequestRoute))))));HandleReviewAccountRecoveryRequestRoute.__docgenInfo={description:"Handle the review account recovery request route.\n- Select the user in the grid.\n-Display the review account recovery request dialog.",methods:[{name:"handleRoute",docblock:"Handle the review account recovery request route.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the review account recovery request route."},{name:"handleAccountRecoveryRequestNotFound",docblock:"The account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The account recovery request cannot be found."},{name:"handleAccountRecoveryRequestUserNotFound",docblock:"The user who created the account recovery request cannot be found.",modifiers:[],params:[],returns:null,description:"The user who created the account recovery request cannot be found."}],displayName:"HandleReviewAccountRecoveryRequestRoute",props:{actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},match:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1}}};var DisplayHttpError=__webpack_require__("./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js");class DisplayUserWorkspace extends react.Component{get mustDisplayUserDetails(){const{details}=this.props.userWorkspaceContext;return details.user&&details.locked}get mustDisplayGroupDetails(){const{details}=this.props.userWorkspaceContext;return details.group&&details.locked}get isAccessAllowed(){return this.props.userWorkspaceContext.isAccessAllowed()}render(){return react.createElement(react.Fragment,null,this.props.context.users&&react.createElement(react_router.qh,{path:"/app/account-recovery/requests/review/:accountRecoveryRequestId",component:HandleReviewAccountRecoveryRequestRoute_HandleReviewAccountRecoveryRequestRoute}),react.createElement("div",{className:"panel main"},this.isAccessAllowed?react.createElement(react.Fragment,null,react.createElement("div",{className:"panel left"},react.createElement("div",{className:"sidebar-content"},react.createElement(Logo.A,null),react.createElement(DisplayUserWorkspaceMainActions.A,null),react.createElement("div",{className:"sidebar-content-left"},react.createElement(FilterUsersByShortcut.A,null),react.createElement(FilterUsersByGroup.A,null)))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"},react.createElement(FilterUsersByText.A,null),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(FilterUsersByBreadcrumb.A,null),react.createElement("div",{className:"action-bar"},react.createElement(DisplayUserWorkspaceActions.A,null))),react.createElement(DisplayUsers.A,null)),this.mustDisplayUserDetails&&react.createElement(DisplayUserDetails_DisplayUserDetails,null),this.mustDisplayGroupDetails&&react.createElement(DisplayUserGroupDetails_DisplayUserGroupDetails,null)))):react.createElement(DisplayHttpError.A,{errorCode:403})))}}DisplayUserWorkspace.propTypes={context:prop_types_default().any,history:prop_types_default().any,userWorkspaceContext:prop_types_default().any};const DisplayUserWorkspace_DisplayUserWorkspace=(0,AppContext.L)((0,react_router.y)((0,UserWorkspaceContext.zY)(DisplayUserWorkspace)));DisplayUserWorkspace.__docgenInfo={description:"This component is a container for all the user workspace features",methods:[{name:"mustDisplayUserDetails",docblock:"Returns true if the user details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user details must be displayed"},{name:"mustDisplayGroupDetails",docblock:"Returns true if the group details must be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the group details must be displayed"},{name:"isAccessAllowed",docblock:"Returns true if current user is allowed to access the user workspace\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if current user is allowed to access the user workspace"}],displayName:"DisplayUserWorkspace",props:{context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1}}};var ManageContextualMenu=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js");class ManageWorkflows extends react.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.stop=this.stop.bind(this)}async stop(index){this.props.workflowContext.stop(index)}render(){return react.createElement(react.Fragment,null,this.props.workflowContext.workflows.map((({key,Workflow,workflowProps})=>react.createElement(Workflow,{key,onStop:()=>this.stop(key),...workflowProps}))),this.props.children)}}ManageWorkflows.propTypes={workflowContext:prop_types_default().any,children:prop_types_default().any};const ManageWorkflows_ManageWorkflows=(0,WorkflowContext.AV)(ManageWorkflows);ManageWorkflows.__docgenInfo={description:"This component acts as an anchor for the different project workflows.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"stop",docblock:"Removes the index-th workflow",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th workflow"}],displayName:"ManageWorkflows",props:{workflowContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}};var AnnouncementContext=__webpack_require__("./src/react-extension/contexts/AnnouncementContext.js");class ManageAnnouncements extends react.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){this.props.announcementContext.close(index)}render(){return react.createElement(react.Fragment,null,this.props.announcementContext.announcements.map((({key,Announcement,AnnouncementProps})=>react.createElement(Announcement,{key,onClose:()=>this.close(key),...AnnouncementProps}))),this.props.children)}}ManageAnnouncements.propTypes={announcementContext:prop_types_default().any,children:prop_types_default().any};const ManageAnnouncements_ManageAnnouncements=(0,AnnouncementContext.w2)(ManageAnnouncements);ManageAnnouncements.__docgenInfo={description:"This component acts as an anchor for the different project announcements.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th announcement",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th announcement"}],displayName:"ManageAnnouncements",props:{announcementContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}};var ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),ExtAppContext=__webpack_require__("./src/react-extension/contexts/ExtAppContext.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js");const DisplayUserWorkspace_test_stories={title:"Workspaces/User",component:DisplayUserWorkspace_DisplayUserWorkspace,parameters:{docs:{description:{component:"DisplayUserWorkspace stories"}}}},Template=({...args})=>react.createElement(react_router.fS,{initialEntries:["/app/users"]},react.createElement(ExtAppContext.A,{storage:args.storage,port:args.port},react.createElement(RbacContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(NavigationContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(UserWorkspaceContext.Ay,null,react.createElement(ManageDialogs.A,null),react.createElement(ManageWorkflows_ManageWorkflows,null),react.createElement(ManageContextualMenu.A,null),react.createElement(ManageAnnouncements_ManageAnnouncements,null),react.createElement("div",{id:"container",className:"page user"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000"},react.createElement(DisplayUserWorkspace_DisplayUserWorkspace,null)))))))))),storage=(0,mockStorage.A)(),port=(0,mockPort.A)(storage),proVersion=Template.bind({});proVersion.args={port,storage};const ceStorage=(0,mockStorage.A)(),cePort=(0,mockPort.A)(ceStorage);cePort.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B));const ceVersion=Template.bind({});ceVersion.args={port:cePort,storage:ceStorage};const __namedExportsOrder=["proVersion","ceVersion"];proVersion.parameters={...proVersion.parameters,docs:{...proVersion.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <MemoryRouter initialEntries={[\'/app/users\']}>\n    <ExtAppContextProvider storage={args.storage} port={args.port}>\n      <RbacContextProvider>\n        <DialogContextProvider>\n          <NavigationContextProvider>\n            <ContextualMenuContextProvider>\n              <UserWorkspaceContextProvider>\n                <ManageDialogs />\n                <ManageWorkflows />\n                <ManageContextualMenu />\n                <ManageAnnouncements />\n                <div id="container" className="page user">\n                  <div id="app" className="app ready" tabIndex="1000">\n                    <DisplayUserWorkspace />\n                  </div>\n                </div>\n              </UserWorkspaceContextProvider>\n            </ContextualMenuContextProvider>\n          </NavigationContextProvider>\n        </DialogContextProvider>\n      </RbacContextProvider>\n    </ExtAppContextProvider>\n  </MemoryRouter>',...proVersion.parameters?.docs?.source}}},ceVersion.parameters={...ceVersion.parameters,docs:{...ceVersion.parameters?.docs,source:{originalSource:'({\n  ...args\n}) => <MemoryRouter initialEntries={[\'/app/users\']}>\n    <ExtAppContextProvider storage={args.storage} port={args.port}>\n      <RbacContextProvider>\n        <DialogContextProvider>\n          <NavigationContextProvider>\n            <ContextualMenuContextProvider>\n              <UserWorkspaceContextProvider>\n                <ManageDialogs />\n                <ManageWorkflows />\n                <ManageContextualMenu />\n                <ManageAnnouncements />\n                <div id="container" className="page user">\n                  <div id="app" className="app ready" tabIndex="1000">\n                    <DisplayUserWorkspace />\n                  </div>\n                </div>\n              </UserWorkspaceContextProvider>\n            </ContextualMenuContextProvider>\n          </NavigationContextProvider>\n        </DialogContextProvider>\n      </RbacContextProvider>\n    </ExtAppContextProvider>\n  </MemoryRouter>',...ceVersion.parameters?.docs?.source}}}},"./src/img/svg/buoy.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgBuoy(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#buoy_svg__clip0_2062_453102)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15M3.698 3.697l3.18 3.18M11.123 6.877l3.18-3.18M11.123 11.122l3.18 3.18M6.878 11.122l-3.18 3.18"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))))}},"./src/img/svg/fingerprint_disabled.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgFingerprintDisabled(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeWidth:1.5,clipPath:"url(#fingerprint_disabled_svg__clip0_2066_453700)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{strokeLinejoin:"round",d:"M1.5 9c0-2.167.932-4.128 2.414-5.5M15 4.5a7.5 7.5 0 0 0-8.292-2.64M3.75 14.625C4.125 13.5 4.5 11.25 4.5 9c0-.525.09-1.027.255-1.5M12.968 15.765c.09-.45.322-1.725.374-2.265M7.94 7.94A1.5 1.5 0 0 0 7.5 9c0 .765-.075 1.883-.195 3M6.487 16.5c.158-.495.338-.99.428-1.5M10.5 9.84c0 1.785 0 4.785-.75 6.66M1.5 12h.008M16.35 12c.15-1.5.098-4.016 0-4.5M9 4.497A4.5 4.5 0 0 1 13.5 9"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"m2 1 15 15"}))))}},"./src/img/svg/send.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSend(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#send_svg__clip0_2066_453638)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"m16.5 1.5-5.25 15-3-6.75-6.75-3zM16.5 1.5 8.25 9.75"}))))}},"./src/img/svg/user_add.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUserAdd(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 15.75v-1.5a3 3 0 0 0-3-3H4.5a3 3 0 0 0-3 3v1.5M6.75 8.25a3 3 0 1 0 0-6 3 3 0 0 0 0 6M14.25 6v4.5M16.5 8.25H12"})))}},"./src/img/svg/users.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUsers(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:16,fill:"none",viewBox:"0 0 18 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.741 14.338V12.89a2.77 2.77 0 0 0-.826-2.04 2.82 2.82 0 0 0-2.04-.825H4.248a2.825 2.825 0 0 0-2.723 2.865v1.448M7.143 7.26a2.815 2.815 0 1 0-2.815-2.814 2.825 2.825 0 0 0 2.815 2.815M16.994 14.338V12.89a2.85 2.85 0 0 0-.592-1.724 2.8 2.8 0 0 0-1.52-1.02M12.068 1.724a2.74 2.74 0 0 1 1.52 1.02 2.804 2.804 0 0 1 0 3.446 2.74 2.74 0 0 1-1.52 1.02"})))}},"./src/react-extension/components/Common/Error/DisplayHttpError/DisplayHttpError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayHttpError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get errorTitle(){return{403:this.props.t("Whoops... access is denied"),404:this.props.t("Whoops... looks like you are lost.")}[this.props.errorCode]||""}get errorDescription(){return{403:this.props.t("Access is restricted to authorized users only."),404:this.props.t("We could not find the page you are looking for.")}[this.props.errorCode]||""}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"http-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,this.props.errorCode),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,this.errorTitle),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.errorDescription)))}}DisplayHttpError.propTypes={errorCode:prop_types__WEBPACK_IMPORTED_MODULE_2___default().number.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(DisplayHttpError);DisplayHttpError.__docgenInfo={description:"This component allows to display an HTTP error page",methods:[{name:"errorTitle",docblock:"Returns the title text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the title text associated to the HTTP error code passed as props."},{name:"errorDescription",docblock:"Returns the description text associated to the HTTP error code passed as props.\n@returns {string}",modifiers:["get"],params:[],returns:{type:{name:"string"}},description:"Returns the description text associated to the HTTP error code passed as props."}],displayName:"DisplayHttpError",props:{errorCode:{description:"",type:{name:"number"},required:!0},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/DisplayUserWorkspaceActions/DisplayUserWorkspaceActions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_24__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/User/EditUser/EditUser.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUser.js"),_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/User/DeleteUser/DeleteUserWithConflicts.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/User/ConfirmDisableUserMFA/ConfirmDisableUserMFA.js"),react_i18next__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/img/svg/more_horizontal.svg"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/img/svg/link.svg"),_img_svg_send_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/img/svg/send.svg"),_img_svg_fingerprint_disabled_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/img/svg/fingerprint_disabled.svg"),_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/img/svg/buoy.svg");class DisplayUserWorkspaceActions extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleDetailsLockedEvent=this.handleDetailsLockedEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleDisableMfaEvent=this.handleDisableMfaEvent.bind(this),this.handleCopyPermalinkEvent=this.handleCopyPermalinkEvent.bind(this),this.handleResendInviteClickEvent=this.handleResendInviteClickEvent.bind(this),this.handleReviewRecoveryRequestEvent=this.handleReviewRecoveryRequestEvent.bind(this)}get canDelete(){const isNotCurrentUser=this.selectedUser&&this.props.context.loggedInUser.id!==this.selectedUser.id;return!this.isButtonDisabled()&&isNotCurrentUser}handleDetailsLockedEvent(){this.props.userWorkspaceContext.onDetailsLocked()}handleCopyPermalinkEvent(){this.copyPermalink()}handleResendInviteClickEvent(){this.resendInvite()}hasDetailsLocked(){return this.props.userWorkspaceContext.details.locked}handleEditClickEvent(){const editUserDialogProps={id:this.selectedUser.id};this.props.context.setContext({editUserDialogProps}),this.props.dialogContext.open(_EditUser_EditUser__WEBPACK_IMPORTED_MODULE_4__.A)}async handleDeleteClickEvent(){try{await this.props.context.port.request("passbolt.users.delete-dry-run",this.selectedUser.id),this.displayDeleteUserDialog()}catch(error){"DeleteDryRunError"===error.name?this.displayDeleteUserWithConflictsDialog(error.errors):this.handleError(error)}}displayDeleteUserDialog(){const deleteUserDialogProps={user:this.selectedUser};this.props.context.setContext({deleteUserDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUser__WEBPACK_IMPORTED_MODULE_6__.A)}displayDeleteUserWithConflictsDialog(errors){const deleteUserWithConflictsDialogProps={user:this.selectedUser,errors};this.props.context.setContext({deleteUserWithConflictsDialogProps}),this.props.dialogContext.open(_DeleteUser_DeleteUserWithConflicts__WEBPACK_IMPORTED_MODULE_7__.A)}handleError(error){const errorDialogProps={message:error.message};this.props.context.setContext({errorDialogProps}),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A)}handleDisableMfaEvent(){this.disableMFA()}handleReviewRecoveryRequestEvent(){const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_12__.A,{accountRecoveryRequestId})}get selectedUser(){return this.props.userWorkspaceContext.selectedUsers[0]}get hasMoreActionAllowed(){return this.hasOneUserSelected()}get canCopyPermalink(){return Boolean(this.selectedUser)}get canIUseMfa(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canDisableMfaForUser(){return this.selectedUser&&this.selectedUser.is_mfa_enabled}get canIUseResend(){return this.isLoggedInUserAdmin()}get canResendInviteToUser(){return this.selectedUser&&!this.selectedUser.active}canIReviewAccountRecoveryRequest(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}hasPendingAccountRecoveryRequest(){return this.selectedUser&&Boolean(this.selectedUser.pending_account_recovery_request)}hasOneUserSelected(){return 1===this.props.userWorkspaceContext.selectedUsers.length}isButtonDisabled(){return!this.hasOneUserSelected()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}disableMFA(){this.props.dialogContext.open(_ConfirmDisableUserMFA_ConfirmDisableUserMFA__WEBPACK_IMPORTED_MODULE_10__.A)}async copyPermalink(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/users/view/${this.selectedUser.id}`;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_23__.A.copy(permalink,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The permalink has been copied to clipboard"))}resendInvite(){this.props.context.port.request("passbolt.users.resend-invite",this.selectedUser.username).then(this.onResendInviteSuccess.bind(this)).catch(this.onResendInviteFailure.bind(this))}onResendInviteSuccess(){this.props.actionFeedbackContext.displaySuccess(this.translate("The invite has been resent successfully"))}onResendInviteFailure(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A,errorDialogProps)}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"},this.isLoggedInUserAdmin()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:this.isButtonDisabled(),onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"edit"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Edit")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",disabled:!this.canDelete,onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"trash"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Delete")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_14__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_15__.A,{className:"more button-action-contextual button-action-icon",disabled:!this.hasMoreActionAllowed},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_16__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_17__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"copy-user-permalink",type:"button",className:"no-border",disabled:!this.canCopyPermalink,onClick:this.handleCopyPermalinkEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_19__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Copy permalink")))),this.canIUseResend&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"resend-invite-user",type:"button",className:"no-border",disabled:!this.canResendInviteToUser,onClick:this.handleResendInviteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_send_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Resend invite")))),this.canIUseMfa&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"disable-mfa-action",type:"button",className:"no-border",disabled:!this.canDisableMfaForUser,onClick:this.handleDisableMfaEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_fingerprint_disabled_svg__WEBPACK_IMPORTED_MODULE_21__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Disable MFA")))),this.canIReviewAccountRecoveryRequest()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"review-recovery",type:"button",className:"no-border",disabled:!this.hasPendingAccountRecoveryRequest(),onClick:this.handleReviewRecoveryRequestEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_buoy_svg__WEBPACK_IMPORTED_MODULE_22__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"Review recovery request"))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions secondary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-toggle button-action button-action-icon info "+(this.hasDetailsLocked()?"active":""),onClick:this.handleDetailsLockedEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_2__.A,{name:"info-circle",big:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_11__.x6,null,"View detail")))))))}}DisplayUserWorkspaceActions.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_24___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_24___default().any,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_24___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_24___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_24___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_24___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_9__.ot)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_13__.AV)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_11__.CI)("common")(DisplayUserWorkspaceActions))))));DisplayUserWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on user",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"canDelete",docblock:"Returns true if the current user can delete the current selected user",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can delete the current selected user"},{name:"handleDetailsLockedEvent",docblock:"Handle view detail click event",modifiers:[],params:[],returns:null,description:"Handle view detail click event"},{name:"handleCopyPermalinkEvent",docblock:"Handle the will of copying the user permalink",modifiers:[],params:[],returns:null,description:"Handle the will of copying the user permalink"},{name:"handleResendInviteClickEvent",docblock:"Handle the will of",modifiers:[],params:[],returns:null,description:"Handle the will of"},{name:"hasDetailsLocked",docblock:"Has lock for the detail display\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has lock for the detail display"},{name:"handleEditClickEvent",docblock:"Handle edit click event",modifiers:[],params:[],returns:null,description:"Handle edit click event"},{name:"handleDeleteClickEvent",docblock:"Handle delete click event",modifiers:["async"],params:[],returns:null,description:"Handle delete click event"},{name:"displayDeleteUserDialog",docblock:"Display delete user dialog when there is not conflict to solve",modifiers:[],params:[],returns:null,description:"Display delete user dialog when there is not conflict to solve"},{name:"displayDeleteUserWithConflictsDialog",docblock:"Display delete user dialog when there is conflict to solve.",modifiers:[],params:[{name:"errors",optional:!1}],returns:null,description:"Display delete user dialog when there is conflict to solve."},{name:"handleError",docblock:"Display error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Display error dialog"},{name:"handleDisableMfaEvent",docblock:"Handle the will of disable MFA for a user",modifiers:[],params:[],returns:null,description:"Handle the will of disable MFA for a user"},{name:"handleReviewRecoveryRequestEvent",docblock:"Handle review recovery request click event",modifiers:[],params:[],returns:null,description:"Handle review recovery request click event"},{name:"selectedUser",docblock:"Get selected user\n@returns {user|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"user"}]}},description:"Get selected user"},{name:"hasMoreActionAllowed",docblock:"Returns true if the more actions are available",modifiers:["get"],params:[],returns:null,description:"Returns true if the more actions are available"},{name:"canCopyPermalink",docblock:"Returns true if the current user can copy a user permalink",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can copy a user permalink"},{name:"canIUseMfa",docblock:"Can the logged in user use the mfa capability.",modifiers:["get"],params:[],returns:null,description:"Can the logged in user use the mfa capability."},{name:"canDisableMfaForUser",docblock:"Returns true if the current user can disable the MFA of a user",modifiers:["get"],params:[],returns:null,description:"Returns true if the current user can disable the MFA of a user"},{name:"canIUseResend",docblock:"Returns true if the logged in user can use the resend capability.",modifiers:["get"],params:[],returns:null,description:"Returns true if the logged in user can use the resend capability."},{name:"canResendInviteToUser",docblock:"Returns true if the logged in user can resend an invite to the user",modifiers:["get"],params:[],returns:null,description:"Returns true if the logged in user can resend an invite to the user"},{name:"canIReviewAccountRecoveryRequest",docblock:"Check if the user can use the review recovery request capability.",modifiers:[],params:[],returns:null,description:"Check if the user can use the review recovery request capability."},{name:"hasPendingAccountRecoveryRequest",docblock:"Has a pending account recovery for the user.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has a pending account recovery for the user."},{name:"hasOneUserSelected",docblock:"Check if the users workspace has one user selected.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the users workspace has one user selected."},{name:"isButtonDisabled",docblock:"Check if the button is disabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the button is disabled."},{name:"isLoggedInUserAdmin",docblock:"Can update the resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the resource"},{name:"disableMFA",docblock:"Disable the selected user's MFA",modifiers:[],params:[],returns:null,description:"Disable the selected user's MFA"},{name:"copyPermalink",docblock:"Copy the user permalink",modifiers:["async"],params:[],returns:null,description:"Copy the user permalink"},{name:"resendInvite",docblock:"Resend an invite to the given user",modifiers:[],params:[],returns:null,description:"Resend an invite to the given user"},{name:"onResendInviteSuccess",docblock:"Whenever the resend invite succeeds",modifiers:[],params:[],returns:null,description:"Whenever the resend invite succeeds"},{name:"onResendInviteFailure",docblock:"Whenever the resend invite fails\n@param error An error",modifiers:[],params:[{name:"error",description:"An error",optional:!1}],returns:null,description:"Whenever the resend invite fails"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserWorkspaceActions",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/DisplayUserWorkspaceMainActions/DisplayUserWorkspaceMainActions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_CreateUser_CreateUser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/User/CreateUser/CreateUser.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_UserGroup_CreateUserGroup_CreateUserGroup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/UserGroup/CreateUserGroup/CreateUserGroup.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/add.svg"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_user_add_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/img/svg/user_add.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/img/svg/users.svg");class DisplayUserWorkspaceMainActions extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleCreateMenuUserClickEvent=this.handleCreateMenuUserClickEvent.bind(this),this.handleCreateMenuGroupClickEvent=this.handleCreateMenuGroupClickEvent.bind(this)}handleCreateMenuUserClickEvent(){this.openCreateUserDialog()}openCreateUserDialog(){this.props.dialogContext.open(_CreateUser_CreateUser__WEBPACK_IMPORTED_MODULE_2__.A)}handleCreateMenuGroupClickEvent(){this.openCreateGroupDialog()}openCreateGroupDialog(){this.props.dialogContext.open(_UserGroup_CreateUserGroup_CreateUserGroup__WEBPACK_IMPORTED_MODULE_4__.A)}canIUseCreate(){return this.isLoggedInUserAdmin()}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-action-wrapper"},this.canIUseCreate()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_6__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_7__.A,{className:"create primary"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Create"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_10__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_11__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"user_action",type:"button",className:"no-border",onClick:this.handleCreateMenuUserClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_user_add_svg__WEBPACK_IMPORTED_MODULE_12__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"User")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_11__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"group_action",type:"button",className:"no-border",onClick:this.handleCreateMenuGroupClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_13__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"Group")))))))}}DisplayUserWorkspaceMainActions.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_14___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserWorkspaceMainActions)));DisplayUserWorkspaceMainActions.__docgenInfo={description:"This component is a container of multiple actions applicable on user",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleCreateMenuUserClickEvent",docblock:"Handle user click event",modifiers:[],params:[],returns:null,description:"Handle user click event"},{name:"openCreateUserDialog",docblock:"Open create user dialog",modifiers:[],params:[],returns:null,description:"Open create user dialog"},{name:"handleCreateMenuGroupClickEvent",docblock:"Handle group click event",modifiers:[],params:[],returns:null,description:"Handle group click event"},{name:"openCreateGroupDialog",docblock:"Open create group dialog",modifiers:[],params:[],returns:null,description:"Open create group dialog"},{name:"canIUseCreate",docblock:"Check if the user can use the create capability.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can use the create capability."},{name:"isLoggedInUserAdmin",docblock:"Can update the resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the resource"}],displayName:"DisplayUserWorkspaceMainActions",props:{context:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/User/DisplayUsers/DisplayUsers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_list__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-list/react-list.js"),react_list__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_list__WEBPACK_IMPORTED_MODULE_1__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_DisplayUsersContextualMenu_DisplayUsersContextualMenu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/User/DisplayUsersContextualMenu/DisplayUsersContextualMenu.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/utils/dateUtils.js"),_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUsers extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.initEventHandlers(),this.createRefs()}getDefaultState(){return{}}initEventHandlers(){this.handleUserSelected=this.handleUserSelected.bind(this),this.handleUserRightClick=this.handleUserRightClick.bind(this),this.handleCheckboxWrapperClick=this.handleCheckboxWrapperClick.bind(this),this.handleSortByColumnClick=this.handleSortByColumnClick.bind(this)}createRefs(){this.listRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.dragFeedbackElement=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}componentDidUpdate(){this.handleUserScroll()}handleUserScroll(){const userToScroll=this.props.userWorkspaceContext.scrollTo.user;userToScroll&&(this.scrollTo(userToScroll.id),this.props.userWorkspaceContext.onUserScrolled())}async handleUserSelected(event,user){event.preventDefault(),event.stopPropagation(),await this.selectUser(user)}async handleUserRightClick(event,user){event.preventDefault(),this.displayContextualMenu(event,user),await this.selectUserIfNotAlreadySelected(user)}handleCheckboxWrapperClick(event,user){event.stopPropagation(),this.props.userWorkspaceContext.onUserSelected.single(user)}async handleSortByColumnClick(event,sortProperty){this.props.userWorkspaceContext.onSorterChanged(sortProperty)}get users(){return this.props.userWorkspaceContext.filteredUsers}get selectedUsers(){return this.props.userWorkspaceContext.selectedUsers}isUserSelected(user){return this.props.userWorkspaceContext.selectedUsers.some((selectedUser=>user.id===selectedUser.id))}displayContextualMenu(event,user){const contextualMenuProps={left:event.pageX,top:event.pageY,user};this.props.contextualMenuContext.show(_DisplayUsersContextualMenu_DisplayUsersContextualMenu__WEBPACK_IMPORTED_MODULE_7__.A,contextualMenuProps)}async selectUser(user){await this.props.userWorkspaceContext.onUserSelected.single(user)}scrollTo(userId){const userIndex=this.users.findIndex((user=>user.id===userId)),[visibleStartIndex,visibleEndIndex]=this.listRef.current.getVisibleRange();(userIndex<visibleStartIndex||userIndex>visibleEndIndex)&&this.listRef.current.scrollTo(userIndex)}async selectUserIfNotAlreadySelected(user){const[selectedUser]=this.props.userWorkspaceContext.selectedUsers;(!selectedUser||selectedUser.id!==user.id)&&await this.selectUser(user)}renderTable(items,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",{style:{MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody",{ref},items))}isSortedColumn(column){return this.props.userWorkspaceContext.sorter.propertyName===column}isSortedAsc(){return this.props.userWorkspaceContext.sorter.asc}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasAttentionRequiredColumn(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()}hasMfaColumn(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()}hasSuspendedColumn(){return this.props.context.siteSettings.canIUse("disableUser")&&this.isLoggedInUserAdmin()}hasAccountRecoveryColumn(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()}renderItem(index,key){const user=this.users[index],isSelected=this.isUserSelected(user),isSuspended=this.hasSuspendedColumn()&&(0,_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_11__.B7)(user),modifiedFormatted=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_10__.kD)(user.modified,this.props.t,this.props.context.locale),lastLoggedInFormatted=user.last_logged_in?(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_10__.kD)(user.last_logged_in,this.props.t,this.props.context.locale):"",roleName=this.props.userWorkspaceContext.getTranslatedRoleName(user.role_id),mfa=user.is_mfa_enabled?this.translate("Enabled"):this.translate("Disabled"),rowClassName=`${isSelected?"selected":""} ${user.active?"":"inactive"} ${isSuspended?"suspended":""}`,hasUserAttentionRequired=Boolean(user.pending_account_recovery_request);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",{id:`user_${user.id}`,key,className:rowClassName,onClick:event=>this.handleUserSelected(event,user),onContextMenu:event=>this.handleUserRightClick(event,user)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-checkbox selections s-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"checkbox",id:`checkbox_multiple_select_checkbox_${user.id}`,checked:isSelected,readOnly:!0,onClick:ev=>this.handleCheckboxWrapperClick(ev,user)}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Select user")))),this.hasAttentionRequiredColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"s-cell attention-required"},hasUserAttentionRequired&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"exclamation",baseline:!0})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-name l-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{title:`${user.profile.first_name} ${user.profile.last_name}`},`${user.profile.first_name} ${user.profile.last_name}`)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-username l-cell username"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{title:user.username},user.username)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-role m-cell role"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{title:roleName},roleName)),this.hasSuspendedColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-role m-cell suspended"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,isSuspended?this.translate("Yes"):this.translate("No"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-modified m-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{title:user.modified},modifiedFormatted)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-last_logged_in m-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{title:user.last_logged_in},lastLoggedInFormatted)),this.hasMfaColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-is_mfa_enabled m-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,mfa)),this.hasAccountRecoveryColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("td",{className:"cell-is_account_recovery_enabled m-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,{approved:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Approved"),rejected:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Rejected"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Pending")}[user?.account_recovery_user_setting?.status])))}get translate(){return this.props.t}render(){const isReady=null!==this.users,isEmpty=isReady&&0===this.users.length,filterType=this.props.userWorkspaceContext.filter.type;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tableview ready "+(isEmpty?"empty":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tableview-wrapper"},!isReady&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"empty-content"}),isReady&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,isEmpty&&filterType===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_6__.aj.TEXT&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"empty-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"None of the users matched this search.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"try-another-search"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Try another search or use the left panel to navigate into your organization."))),!isEmpty&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tableview-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("table",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-checkbox selections s-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"checkbox",name:"select all",checked:!1,readOnly:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Select all")))),this.hasAttentionRequiredColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"s-cell attention-required"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"attentionRequired")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"exclamation",baseline:!0})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("attentionRequired")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("attentionRequired")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-name l-cell sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"name")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Name")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("name")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("name")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-username l-cell username sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"username")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Username")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("username")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("username")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-role m-cell role sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"role.name")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("role.name")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("role.name")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),this.hasSuspendedColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-role m-cell suspended"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"disabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Suspended")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("disabled")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("disabled")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-modified m-cell sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"modified")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("modified")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("modified")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-last_logged_in m-cell sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"last_logged_in")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Last logged in")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("last_logged_in")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("last_logged_in")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),this.hasMfaColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-is_mfa_enabled m-cell sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"is_mfa_enabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"MFA")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("is_mfa_enabled")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("is_mfa_enabled")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))),this.hasAccountRecoveryColumn()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("th",{className:"cell-account_recovery_user_setting_status m-cell sortable"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:ev=>this.handleSortByColumnClick(ev,"account_recovery_user_setting.status")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cell-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Account recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"cell-header-icon-sort"},this.isSortedColumn("account_recovery_user_setting.status")&&this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"ascending"}),this.isSortedColumn("account_recovery_user_setting.status")&&!this.isSortedAsc()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_3__.A,{name:"descending"}))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tableview-content scroll"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_list__WEBPACK_IMPORTED_MODULE_1___default(),{itemRenderer:(index,key)=>this.renderItem(index,key),itemsRenderer:(items,ref)=>this.renderTable(items,ref),length:this.users.length,pageSize:20,minSize:20,type:"uniform",ref:this.listRef}))))))}}DisplayUsers.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,contextualMenuContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,react_router_dom__WEBPACK_IMPORTED_MODULE_13__.y)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_4__.ot)((0,_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_5__.t6)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_6__.zY)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_9__.Le)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(DisplayUsers)))))));DisplayUsers.__docgenInfo={description:"This component allows to display the filtered users into a grid",methods:[{name:"getDefaultState",docblock:"Returns the component default state",modifiers:[],params:[],returns:null,description:"Returns the component default state"},{name:"initEventHandlers",docblock:"Initialize the component event handlers",modifiers:[],params:[],returns:null,description:"Initialize the component event handlers"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleUserScroll",docblock:"Handles the user scroll ( with a specific manual user url /users/view/:id )",modifiers:[],params:[],returns:null,description:"Handles the user scroll ( with a specific manual user url /users/view/:id )"},{name:"handleUserSelected",docblock:"Handle the user selection\n@param event The DOM event\n@param user The selected user",modifiers:["async"],params:[{name:"event",description:"The DOM event",optional:!1},{name:"user",description:"The selected user",optional:!1}],returns:null,description:"Handle the user selection"},{name:"handleUserRightClick",docblock:"Handle the right click on a user\n@param event A DOM event\n@param user A user",modifiers:["async"],params:[{name:"event",description:"A DOM event",optional:!1},{name:"user",description:"A user",optional:!1}],returns:null,description:"Handle the right click on a user"},{name:"handleCheckboxWrapperClick",docblock:"Handle the checkbox click wrapping\n@param event An event\n@param user An user",modifiers:[],params:[{name:"event",description:"An event",optional:!1},{name:"user",description:"An user",optional:!1}],returns:null,description:"Handle the checkbox click wrapping"},{name:"handleSortByColumnClick",docblock:"Handle the user sorter change\n@param event A DOM event\n@param sortProperty The user property to sort on",modifiers:["async"],params:[{name:"event",description:"A DOM event",optional:!1},{name:"sortProperty",description:"The user property to sort on",optional:!1}],returns:null,description:"Handle the user sorter change"},{name:"users",docblock:"Returns the current list of filtered users to display",modifiers:["get"],params:[],returns:null,description:"Returns the current list of filtered users to display"},{name:"selectedUsers",docblock:"Returns the current list of selected users",modifiers:["get"],params:[],returns:null,description:"Returns the current list of selected users"},{name:"isUserSelected",docblock:"Returns true if the given user is selected\n@param user A user",modifiers:[],params:[{name:"user",description:"A user",optional:!1}],returns:null,description:"Returns true if the given user is selected"},{name:"displayContextualMenu",docblock:"Displays the contextual menu for the given user and following the given event\n@param event A dom event\n@param user A user",modifiers:[],params:[{name:"event",description:"A dom event",optional:!1},{name:"user",description:"A user",optional:!1}],returns:null,description:"Displays the contextual menu for the given user and following the given event"},{name:"selectUser",docblock:"Select the user.\n@param user An user",modifiers:["async"],params:[{name:"user",description:"An user",optional:!1}],returns:null,description:"Select the user."},{name:"scrollTo",docblock:"Scroll to the given user\n@param userId An user identifier",modifiers:[],params:[{name:"userId",description:"An user identifier",optional:!1}],returns:null,description:"Scroll to the given user"},{name:"selectUserIfNotAlreadySelected",docblock:"Select the user if not already selected.\n@param user An user",modifiers:["async"],params:[{name:"user",description:"An user",optional:!1}],returns:null,description:"Select the user if not already selected."},{name:"renderTable",docblock:"Render the users table\n@param items Items to display\n@param ref The table element reference\n@returns {JSX.Element}",modifiers:[],params:[{name:"items",description:"Items to display",optional:!1},{name:"ref",description:"The table element reference",optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Render the users table"},{name:"isSortedColumn",docblock:"Check if the grid is sorted for a given column\n@param column The column name",modifiers:[],params:[{name:"column",description:"The column name",optional:!1}],returns:null,description:"Check if the grid is sorted for a given column"},{name:"isSortedAsc",docblock:"Check if the sort is ascendant.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the sort is ascendant."},{name:"isLoggedInUserAdmin",docblock:"Check if the logged in user is admin\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the logged in user is admin"},{name:"hasAttentionRequiredColumn",docblock:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin."},{name:"hasMfaColumn",docblock:"Returns true if the mfa feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the mfa feature is enabled and if the logged in user is an admin."},{name:"hasSuspendedColumn",docblock:"Returns true if the suspended user feature is enabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the suspended user feature is enabled."},{name:"hasAccountRecoveryColumn",docblock:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin."},{name:"renderItem",docblock:null,modifiers:[],params:[{name:"index",optional:!1,type:null},{name:"key",optional:!1,type:null}],returns:null},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUsers",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},contextualMenuContext:{description:"",type:{name:"any"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByBreadcrumb/FilterUsersByBreadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByBreadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get items(){const items=[this.allUsersBreadcrumb];switch(this.props.userWorkspaceContext.filter.type){case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.NONE:return[];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.ALL:return items;case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT:{const isEmptySearchText=!this.props.userWorkspaceContext.filter.payload,currentSearchText=this.props.userWorkspaceContext.filter.payload;return isEmptySearchText?items:[...items,this.getLastBreadcrumb(`${this.translate("Search:")} ${currentSearchText}`)]}case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.SUSPENDED_USER:return[...items,this.getLastBreadcrumb(this.translate("Suspended users"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.RECENTLY_MODIFIED:return[...items,this.getLastBreadcrumb(this.translate("Recently modified"))];case _contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.GROUP:{const group=this.props.userWorkspaceContext.filter.payload.group,currentGroupName=group&&group.name||this.translate("N/A");return[...items,this.getLastBreadcrumb(`${currentGroupName} ${this.translate("(group)")}`)]}}return[]}get allUsersBreadcrumb(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested})}getLastBreadcrumb(name){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_3__.A,{name,onClick:this.onLastBreadcrumbClick.bind(this)})}async onLastBreadcrumbClick(){const pathname=this.props.location.pathname;this.props.history.push({pathname})}get translate(){return this.props.t}render(){const count=this.props.userWorkspaceContext.filteredUsers.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_1__.A,{items:this.items},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,{count},{count}," items")))}}FilterUsersByBreadcrumb.propTypes={userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,location:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_7__.y)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_4__.qN)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(FilterUsersByBreadcrumb))));FilterUsersByBreadcrumb.__docgenInfo={description:"The component displays a navigation breadcrumb given the applied users filter",methods:[{name:"items",docblock:"Returns the current list of breadcrumb items",modifiers:["get"],params:[],returns:null,description:"Returns the current list of breadcrumb items"},{name:"allUsersBreadcrumb",docblock:"Returns the all users breadcrumb items\n@return {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Returns the all users breadcrumb items"},{name:"getLastBreadcrumb",docblock:"Return the last breadcrumb\n@param {string} name the breadcrumb name\n@return {JSX.Element}",modifiers:[],params:[{name:"name",description:"the breadcrumb name",type:{name:"string"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Return the last breadcrumb"},{name:"onLastBreadcrumbClick",docblock:"Whenever the user click on the last breadcrumb\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user click on the last breadcrumb"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"FilterUsersByBreadcrumb",props:{userWorkspaceContext:{description:"",type:{name:"object"},required:!1},location:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByShortcut/FilterUsersByShortcut.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByShortcut extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this),this.handleRecentlyModifiedClick=this.handleRecentlyModifiedClick.bind(this),this.handleSuspendedUsersClick=this.handleSuspendedUsersClick.bind(this)}get isAllItemsSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL}get isRecentlyModifiedSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED}get isSuspendedUsersSelected(){return this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER}handleAllItemsClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.ALL};this.props.history.push({pathname:"/app/users",state:{filter}})}handleRecentlyModifiedClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.RECENTLY_MODIFIED};this.props.history.push({pathname:"/app/users",state:{filter}})}handleSuspendedUsersClick(){const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.aj.SUSPENDED_USER};this.props.history.push({pathname:"/app/users",state:{filter}})}get shouldDisplaySuspendedUsersFilter(){return this.props.userWorkspaceContext.shouldDisplaySuspendedUsersFilter()}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary navigation-shortcuts"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isAllItemsSelected?"selected":""),onClick:this.handleAllItemsClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"all-users"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"All users"))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isRecentlyModifiedSelected?"selected":""),onClick:this.handleRecentlyModifiedClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"recently-modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Recently modified"))))))),this.shouldDisplaySuspendedUsersFilter&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isSuspendedUsersSelected?"selected":""),onClick:this.handleSuspendedUsersClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",id:"suspended-users"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Suspended users")))))))))}}FilterUsersByShortcut.propTypes={history:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.y)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FilterUsersByShortcut)));FilterUsersByShortcut.__docgenInfo={description:"This component allows to select shortcut filters applied on users",methods:[{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"isAllItemsSelected",docblock:"Returns true if the Home shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Home shortcut is currently selected"},{name:"isRecentlyModifiedSelected",docblock:"Returns true if the Recently Modified shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Recently Modified shortcut is currently selected"},{name:"isSuspendedUsersSelected",docblock:"Returns true if the Suspended users shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Suspended users shortcut is currently selected"},{name:"handleAllItemsClick",docblock:'Whenever the shortcut "Home" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Home" has been selected'},{name:"handleRecentlyModifiedClick",docblock:'Whenever the shortcut "Recently modified" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Recently modified" has been selected'},{name:"handleSuspendedUsersClick",docblock:'Whenever the shortcut "Suspended users" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Suspended users" has been selected'},{name:"shouldDisplaySuspendedUsersFilter",docblock:"Returns true if the 'Suspended users' filter should be displayed\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the 'Suspended users' filter should be displayed"}],displayName:"FilterUsersByShortcut",props:{history:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/User/FilterUsersByText/FilterUsersByText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Search/SearchBar.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterUsersByText extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(previousProps){this.handleFilterChanged(previousProps.userWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(previousFilter){const wasTextFilter=previousFilter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,isTextFilter=this.props.userWorkspaceContext.filter.type===_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT;wasTextFilter&&!isTextFilter&&this.setState({text:""})}handleSearchEvent(text){this.search(text)}search(text){clearTimeout(this.state.debounceTimeoutId);const debounceTimeoutId=setTimeout((()=>{const filter={type:_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.aj.TEXT,payload:text};this.props.history.push({pathname:"/app/users",state:{filter}})}),300);this.setState({debounceTimeoutId,text})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__.A,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.t("Search users"),value:this.state.text})}}FilterUsersByText.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.y)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(FilterUsersByText)));FilterUsersByText.__docgenInfo={description:"This component allows to filter the list of users by text",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"handleFilterChanged",docblock:"Whenever the user filter changed",modifiers:[],params:[{name:"previousFilter",optional:!1}],returns:null,description:"Whenever the user filter changed"},{name:"handleSearchEvent",docblock:"Handle search input change\n@params {string} text The entered text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Handle search input change"},{name:"search",docblock:"Search for the text\n@param text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Search for the text"}],displayName:"FilterUsersByText",props:{disabled:{description:"",type:{name:"bool"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsAccountRecovery/DisplayUserDetailsAccountRecovery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/AccountRecovery/HandleReviewAccountRecoveryRequestWorkflow/HandleReviewAccountRecoveryRequestWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/utils/dateUtils.js");class DisplayUserDetailsAccountRecovery extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{loading:!0,open:!1,userRequests:[]}}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user),await this.handleUserPendingAccountRecoveryRequestChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){if(this.selectedUser.id!==previousUser.id&&this.state.open){const state=Object.assign({},this.defaultState,{open:!0});await this.setState(state),await this.findUserRequests(),this.setState({loading:!1})}}async handleUserPendingAccountRecoveryRequestChange(user){this.state.open&&user?.pending_account_recovery_request?.status!==this.props.userWorkspaceContext.details.user?.pending_account_recovery_request?.status&&(await this.setState({loading:!0}),await this.findUserRequests(),await this.setState({loading:!1}))}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleReviewClicked=this.handleReviewClicked.bind(this)}async handleTitleClicked(){if(this.state.open){const defaultState=this.defaultState;this.setState(defaultState)}else await this.setState({loading:!0,open:!0}),await this.findUserRequests(),this.setState({loading:!1})}handleReviewClicked(){const accountRecoveryRequestId=this.selectedUser.pending_account_recovery_request.id;this.props.workflowContext.start(_AccountRecovery_HandleReviewAccountRecoveryRequestWorkflow_HandleReviewAccountRecoveryRequestWorkflow__WEBPACK_IMPORTED_MODULE_6__.A,{accountRecoveryRequestId})}async findUserRequests(){const userRequests=(await this.props.context.port.request("passbolt.account-recovery.get-user-requests",this.selectedUser.id)).sort(((a,b)=>new Date(b.created)-new Date(a.created)));this.setState({userRequests})}get selectedUser(){return this.props.userWorkspaceContext.details.user}get isAccountRecoveryPending(){return Boolean(this.selectedUser.pending_account_recovery_request)}get hasUserRequests(){return this.state.userRequests.length>0}get previousAccountRecoveryRequest(){return this.isAccountRecoveryPending?this.state.userRequests.length>1?this.state.userRequests[1]:null:this.hasUserRequests?this.state.userRequests[0]:null}capitalizeFirstLetter(string){return string[0].toUpperCase()+string.slice(1)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-account-recovery accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Account recovery"),this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"exclamation",baseline:!0})),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Retrieving account recovery"))),!this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,this.isAccountRecoveryPending&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"pending-request-status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Current status")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleReviewClicked},"Review")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"previous-request"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Previous recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.previousAccountRecoveryRequest?`${this.capitalizeFirstLetter(this.previousAccountRecoveryRequest.status)} ${(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_8__.kD)(this.previousAccountRecoveryRequest.created,this.props.t,this.props.context.locale)}`:"Never")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"requests-count"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Number of recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.userRequests.length)))))}}DisplayUserDetailsAccountRecovery.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_7__.AV)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_5__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(DisplayUserDetailsAccountRecovery))));DisplayUserDetailsAccountRecovery.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"handleUserPendingAccountRecoveryRequestChange",docblock:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content.\n@param {object} user The previous user",modifiers:["async"],params:[{name:"user",description:"The previous user",type:{name:"object"},optional:!1}],returns:null,description:"Handle the update of the user pending account recovery request.\nWhen an admin reviews a pending request by instance, refresh the section content."},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"handleReviewClicked",docblock:"Handle the click on the review button",modifiers:[],params:[],returns:null,description:"Handle the click on the review button"},{name:"findUserRequests",docblock:"Find the user account recovery request and populate the state.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the user account recovery request and populate the state."},{name:"selectedUser",docblock:"Get the selected user\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get the selected user"},{name:"isAccountRecoveryPending",docblock:"Is account recovery pending\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is account recovery pending"},{name:"hasUserRequests",docblock:"Has user requests\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Has user requests"},{name:"previousAccountRecoveryRequest",docblock:"The previous account recovery requests\n@returns {*|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"mixed"}]}},description:"The previous account recovery requests"},{name:"capitalizeFirstLetter",docblock:"Capitalize first letter\n@param string\n@returns {string}",modifiers:[],params:[{name:"string",optional:!1}],returns:{type:{name:"string"}},description:"Capitalize first letter"}],displayName:"DisplayUserDetailsAccountRecovery",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsGroups/DisplayUserDetailsGroups.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplayUserDetailsGroups extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get groups(){const{groups}=this.props.context;if(!groups)return[];const selectedUser=this.props.userWorkspaceContext.details.user;if(selectedUser){const belongsToGroup=group=>group.groups_users.some((group_user=>group_user.user_id===selectedUser.id)),groupUser=group=>group.groups_users.find((group_user=>group_user.user_id===selectedUser.id)),userRole=groupUser=>groupUser.is_admin?this.translate("Group manager"):this.translate("Member"),roleMapper=group=>Object.assign({},group,{role:userRole(groupUser(group))});return groups.filter(belongsToGroup).map(roleMapper)}return[]}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const groups=this.groups,hasGroups=groups.length>0;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-user-groups accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},"Groups",this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,this.state.open&&hasGroups&&groups.map((group=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:group.id,className:"permission usercard-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},group.name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo"},group.role))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_4__.A,{group})))),!hasGroups&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",{className:"empty-feedback empty-group-feedback"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_5__.x6,null,"The user is not a member of any group yet")))))}}DisplayUserDetailsGroups.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_5__.CI)("common")(DisplayUserDetailsGroups)));DisplayUserDetailsGroups.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"groups",docblock:"The groups the current selected user belongs to",modifiers:["get"],params:[],returns:null,description:"The groups the current selected user belongs to"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsGroups",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsInformation/DisplayUserDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/AccountRecoveryUserContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/utils/dateUtils.js"),_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}componentDidMount(){this.props.accountRecoveryContext.loadAccountRecoveryPolicy()}get user(){return this.props.userWorkspaceContext.details.user}getRoleName(){if(this.props.context.roles){const role=this.props.context.roles.find((role=>role.id===this.user.role_id));return role?role.name:""}return""}handleTitleClicked(){this.setState({open:!this.state.open})}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}hasMfaSection(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")&&this.isLoggedInUserAdmin()&&this.user.active}hasDisableUserSection(){return this.props.context.siteSettings.canIUse("disableUser")}hasAccountRecoverySection(){return this.props.context.siteSettings.canIUse("accountRecovery")&&this.isLoggedInUserAdmin()&&this.props.accountRecoveryContext.isPolicyEnabled()&&this.user.active}get translate(){return this.props.t}render(){const role=this.getRoleName(),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_6__.kD)(this.user.modified,this.props.t,this.props.context.locale),status=this.user.active?this.translate("Activated"):this.translate("Activation pending");return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Information"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"role"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Role")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value capitalize"},role)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.user.modified},modified)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Status")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},status)),this.hasAccountRecoverySection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"account-recovery-status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Account recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{approved:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Approved"),rejected:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Rejected"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Pending")}[this.user?.account_recovery_user_setting?.status])),this.hasMfaSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"mfa"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"MFA")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Enabled"),[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Disabled"),[void 0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Disabled")}[this.user?.is_mfa_enabled])),this.hasDisableUserSection()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"suspended"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Suspended")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},{[!1]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"No"),[!0]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Yes")}[(0,_shared_utils_userUtils__WEBPACK_IMPORTED_MODULE_7__.B7)(this.user)])))))}}DisplayUserDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_8___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,accountRecoveryContext:prop_types__WEBPACK_IMPORTED_MODULE_8___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,_contexts_AccountRecoveryUserContext__WEBPACK_IMPORTED_MODULE_5__.Le)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplayUserDetailsInformation))));DisplayUserDetailsInformation.__docgenInfo={description:"This component displays the user details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"getRoleName",docblock:"Get user role name",modifiers:[],params:[],returns:null,description:"Get user role name"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"isLoggedInUserAdmin",docblock:"Check if the logged in user is admin\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the logged in user is admin"},{name:"hasMfaSection",docblock:"Returns true if the mfa feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the mfa feature is enabled and if the logged in user is an admin."},{name:"hasDisableUserSection",docblock:"Returns true if the disablUser feature is enabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the disablUser feature is enabled."},{name:"hasAccountRecoverySection",docblock:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the accountRecovery feature is enabled and if the logged in user is an admin."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},accountRecoveryContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserDetails/DisplayUserDetailsPublicKey/DisplayUserDetailsPublicKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/spinner.svg"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),luxon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/luxon/src/luxon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js");class DisplayUserDetailsPublicKey extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1,gpgkeyInfo:{},loading:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handlePublicKeyCopy=this.handlePublicKeyCopy.bind(this)}async componentDidUpdate(prevProps){await this.handleUserChange(prevProps.userWorkspaceContext.details.user)}async handleUserChange(previousUser){this.state.open&&this.user.id!==previousUser.id&&await this.fetchGpgkeyInfo()}async fetchGpgkeyInfo(){const gpgkeyInfo=await this.props.context.port.request("passbolt.keyring.get-public-key-info-by-user",this.user.id),fingerprint=gpgkeyInfo.fingerprint,type=this.gpgkeyType[gpgkeyInfo.algorithm],created=this.formatDate(gpgkeyInfo.created);let expires;expires=null===gpgkeyInfo.expires?"n/a":"Infinity"===gpgkeyInfo.expires?this.translate("Never"):this.formatDate(gpgkeyInfo.expires);const formatedGpgkeyInfo={fingerprint,type,created,expires,armoredKey:gpgkeyInfo.armored_key};this.setState({gpgkeyInfo:formatedGpgkeyInfo})}formatDate(data){try{return luxon__WEBPACK_IMPORTED_MODULE_6__.c9.fromJSDate(new Date(data)).setLocale(this.props.context.locale).toLocaleString(luxon__WEBPACK_IMPORTED_MODULE_6__.c9.DATETIME_FULL)}catch(error){return""}}get gpgkeyType(){return{rsa:"RSA",elgamal:"Elgamal",dsa:"DSA",ecdh:"ECDH",ecdsa:"ECDSA",eddsa:"EdDSA",aedh:"AEDH",aedsa:"AEDSA"}}get user(){return this.props.userWorkspaceContext.details.user}formatFingerprint(fingerprint){const result=(fingerprint=fingerprint||"").toUpperCase().replace(/.{4}/g,"$& ");return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,result.substr(0,24),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),result.substr(25))}async handleTitleClicked(){this.state.open?await this.setState({gpgkeyInfo:{},open:!1}):(await this.setState({open:!0,loading:!0}),await this.fetchGpgkeyInfo(),await this.setState({loading:!1}))}async handlePublicKeyCopy(){const armoredKey=this.state.gpgkeyInfo.armoredKey;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_8__.A.copy(armoredKey,this.props.context.port),this.props.actionFeedbackContext.displaySuccess(this.translate("The public key has been copied to clipboard"))}get translate(){return this.props.t}render(){const isLoading=this.state.loading;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"key-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleTitleClicked,className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Public key"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_2__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Retrieving public key")))),!isLoading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"fingerprint"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Fingerprint")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.formatFingerprint(this.state.gpgkeyInfo.fingerprint))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"type"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Type")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.type)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"created"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.created)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"expires"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Expires")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},this.state.gpgkeyInfo.expires)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"key"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__.x6,null,"Public key")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-icon copy-public-key",onClick:this.handlePublicKeyCopy},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"copy-to-clipboard"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"gpgkey"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{className:"code",value:this.state.gpgkeyInfo.armoredKey,disabled:!0})))))}}DisplayUserDetailsPublicKey.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func,i18n:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_5__.ot)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_7__.CI)("common")(DisplayUserDetailsPublicKey))));DisplayUserDetailsPublicKey.__docgenInfo={description:"This component displays the user details about public key",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"handleUserChange",docblock:"Check if the user has changed and fetch\n@param previousUser",modifiers:["async"],params:[{name:"previousUser",optional:!1}],returns:null,description:"Check if the user has changed and fetch"},{name:"fetchGpgkeyInfo",docblock:"Fetch the user gpgkey info.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Fetch the user gpgkey info."},{name:"formatDate",docblock:"Format a date.\n@string {string} date The date to format\n@return {string}",modifiers:[],params:[{name:"data",optional:!1}],returns:{type:{name:"string"}},description:"Format a date."},{name:"gpgkeyType",docblock:"Get the list of gpgkey types associated to their algorithms.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the list of gpgkey types associated to their algorithms."},{name:"user",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"formatFingerprint",docblock:"get fingerprint\n@param fingerprint\n@returns {JSX.Element}",modifiers:[],params:[{name:"fingerprint",optional:!1}],returns:{type:{name:"JSX.Element"}},description:"get fingerprint"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:["async"],params:[],returns:null,description:"Handle the click on the title"},{name:"handlePublicKeyCopy",docblock:"Handle the copy of the public key",modifiers:["async"],params:[],returns:null,description:"Handle the copy of the public key"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserDetailsPublicKey",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},i18n:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsInformation/DisplayUserGroupDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/utils/dateUtils.js");class DisplayUserGroupDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!0}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}handleTitleClicked(){this.setState({open:!this.state.open})}get translate(){return this.props.t}render(){const created=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.group.created,this.props.t,this.props.context.locale),modified=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_5__.kD)(this.group.modified,this.props.t,this.props.context.locale),modifiedByUser=this.props.context.users.find((user=>user.id===this.group.modified_by)),modifiedByUserName=modifiedByUser?`${modifiedByUser.profile.first_name} ${modifiedByUser.profile.last_name}`:this.translate("Unknown user"),membersCount=this.group.groups_users.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Information"),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-down"}),!this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"caret-right"})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"created"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.group.created},created)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value",title:this.group.modified},modified)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"modified-by"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Modified by")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},modifiedByUserName)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"members"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_4__.x6,null,"Members")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"value"},membersCount)))))}}DisplayUserGroupDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_6___default().any,userWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_UserWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.zY)((0,react_i18next__WEBPACK_IMPORTED_MODULE_4__.CI)("common")(DisplayUserGroupDetailsInformation)));DisplayUserGroupDetailsInformation.__docgenInfo={description:"This component displays the group details about information",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayUserGroupDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/UserGroup/DisplayUserGroupDetailsMembers/DisplayUserGroupDetailsMembers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),spinner=__webpack_require__("./src/img/svg/spinner.svg"),UserWorkspaceContext=__webpack_require__("./src/react-extension/contexts/UserWorkspaceContext.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),UserAvatar=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),userUtils=__webpack_require__("./src/shared/utils/userUtils.js");class DisplayUserGroupDetailsMembersGroupMember extends react.Component{get user(){return this.props.context.users.find((user=>user.id===this.props.groupUser.user_id))}get roleName(){return this.props.groupUser.is_admin?"Group manager":"Member"}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}render(){const isSuspended=this.props.context.siteSettings.canIUse("siteSettings")&&(0,userUtils.B7)(this.user);return react.createElement("li",{key:this.user.id,className:"permission usercard-col-2 "+(isSuspended?"suspended":"")},react.createElement("div",{className:"content-wrapper"},react.createElement("div",{className:"content"},react.createElement("div",{className:"name"},`${this.user.profile.first_name} ${this.user.profile.last_name}`,isSuspended&&react.createElement("span",{className:"suspended"}," ",react.createElement(es.x6,null,"(suspended)"))),react.createElement("div",{className:"subinfo"},this.props.t(this.roleName)))),react.createElement(UserAvatar.A,{user:this.user,baseUrl:this.baseUrl}))}}DisplayUserGroupDetailsMembersGroupMember.propTypes={context:prop_types_default().any,groupUser:prop_types_default().object,userWorkspaceContext:prop_types_default().object,t:prop_types_default().func};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember=(0,AppContext.L)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembersGroupMember)));DisplayUserGroupDetailsMembersGroupMember.__docgenInfo={description:"This component displays a group member for the group details members",methods:[{name:"user",docblock:"Get the user associated to the group user\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user associated to the group user"},{name:"roleName",docblock:"Get the user role name in this group.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Get the user role name in this group."},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"}],displayName:"DisplayUserGroupDetailsMembersGroupMember",props:{context:{description:"",type:{name:"any"},required:!1},groupUser:{description:"",type:{name:"object"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var EditUserGroup=__webpack_require__("./src/react-extension/components/UserGroup/EditUserGroup/EditUserGroup.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js");class DisplayUserGroupDetailsMembers extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{open:!1}}bindHandlers(){this.handleTitleClicked=this.handleTitleClicked.bind(this),this.handleEditGroup=this.handleEditGroup.bind(this)}get group(){return this.props.userWorkspaceContext.details.group}get baseUrl(){return this.props.context.userSettings.getTrustedDomain()}handleTitleClicked(){this.setState({open:!this.state.open})}async handleEditGroup(){await this.props.userWorkspaceContext.onGroupToEdit(this.group),this.props.dialogContext.open(EditUserGroup.A)}isLoading(){return!this.props.context.users}render(){return react.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react.createElement("div",{className:"accordion-header"},react.createElement("h4",null,react.createElement("button",{type:"button",className:"link no-border",onClick:this.handleTitleClicked},react.createElement(es.x6,null,"Group members"),this.state.open&&react.createElement(Icon.A,{name:"caret-down"}),!this.state.open&&react.createElement(Icon.A,{name:"caret-right"})))),react.createElement("div",{className:"accordion-content"},react.createElement("button",{type:"button",className:"section-action button-transparent",onClick:this.handleEditGroup},react.createElement(Icon.A,{name:"edit"}),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Edit"))),this.isLoading()&&react.createElement("div",{className:"processing-wrapper"},react.createElement(spinner.A,null),react.createElement("span",{className:"processing-text"},react.createElement(es.x6,null,"Retrieving group members"))),!this.isLoading()&&this.state.open&&react.createElement(react.Fragment,null,react.createElement("ul",null,this.group.groups_users.map((groupUser=>react.createElement(DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembersGroupMember,{key:groupUser.id,groupUser})))))))}}DisplayUserGroupDetailsMembers.propTypes={context:prop_types_default().any,userWorkspaceContext:prop_types_default().object,dialogContext:prop_types_default().object};const DisplayUserGroupDetailsMembers_DisplayUserGroupDetailsMembers=(0,AppContext.L)((0,DialogContext.z9)((0,UserWorkspaceContext.zY)((0,es.CI)("common")(DisplayUserGroupDetailsMembers))));DisplayUserGroupDetailsMembers.__docgenInfo={description:"This component displays the group details about members",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"group",docblock:"Returns the current user to detail",modifiers:["get"],params:[],returns:null,description:"Returns the current user to detail"},{name:"baseUrl",docblock:"Returns the base url",modifiers:["get"],params:[],returns:null,description:"Returns the base url"},{name:"handleTitleClicked",docblock:"Handle the click on the title",modifiers:[],params:[],returns:null,description:"Handle the click on the title"},{name:"handleEditGroup",docblock:"Whenever the user wants to edit the current group",modifiers:["async"],params:[],returns:null,description:"Whenever the user wants to edit the current group"},{name:"isLoading",docblock:"Check if the component is loading\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component is loading"}],displayName:"DisplayUserGroupDetailsMembers",props:{context:{description:"",type:{name:"any"},required:!1},userWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/contexts/AnnouncementContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w2:()=>withAnnouncement});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const AnnouncementContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({announcements:[],show:()=>{},close:()=>{}});class AnnouncementContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(Announcement,AnnouncementProps)=>{const announcementKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({announcements:[...this.state.announcements,{key:announcementKey,Announcement,AnnouncementProps}]}),announcementKey},close:async announcementKey=>await this.setState({announcements:this.state.announcements.filter((announcement=>announcementKey!==announcement.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Provider,{value:this.state},this.props.children)}}function withAnnouncement(WrappedComponent){return class WithAnnouncement extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AnnouncementContext.Consumer,null,(announcementContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{announcementContext,...this.props})))}}}AnnouncementContextProvider.displayName="AnnouncementContextProvider",AnnouncementContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},AnnouncementContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"AnnouncementContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/abstract/entityCollection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityCollectionError.js"),_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class EntityCollection{constructor(dtos=[],options={}){const clone=options?.clone??!0;this._items=[],clone&&(dtos=JSON.parse(JSON.stringify(dtos))),this._props=dtos}toDto(){return JSON.parse(JSON.stringify(this._items))}toJSON(){return this.toDto()}get items(){return this._items}get length(){return this._items.length}[Symbol.iterator](){let i=0;return{next:()=>i<this._items.length?{value:this._items[i++],done:!1}:{done:!0}}}getAll(propName,search){if("string"!=typeof propName)throw new TypeError("EntityCollection excludeAll expects propName to be string.");if("string"!=typeof search)throw new TypeError("EntityCollection excludeAll expects search to be string.");return this._items.filter((item=>Object.prototype.hasOwnProperty.call(item._props,propName)&&item._props[propName]===search))}getFirst(propName,search){if("string"!=typeof propName||"string"!=typeof search)throw new TypeError("EntityCollection getFirst by expect propName and search to be strings");const found=this.getAll(propName,search);if(found&&found.length)return found[0]}extract(propName){if("string"!=typeof propName)throw new TypeError("EntityCollection extract expects propName to be a string.");return this._items.reduce(((accumulator,item)=>(void 0!==item._props[propName]&&accumulator.push(item._props[propName]),accumulator)),[])}push(item){return this._items.push(item),this._items.length}unshift(item){return this._items.unshift(item),this._items.length}filterByPropertyValueIn(propName,needles,excludeUndefined=!0){if("string"!=typeof propName)throw new TypeError("EntityCollection filterByPropertyValueIn expects propName to be a string.");if(!Array.isArray(needles))throw new TypeError("EntityCollection filterByPropertyValueIn expects needles to be an array.");this.filterByCallback((item=>{const isPropertyDefined=Object.prototype.hasOwnProperty.call(item._props,propName);return!(excludeUndefined&&!isPropertyDefined||isPropertyDefined&&!needles.includes(item._props[propName]))}))}filterByCallback(callback){if("function"!=typeof callback)throw new TypeError("EntityCollection filterByCallback expects callback to be a function.");for(let currentIndex=this._items.length-1;currentIndex>=0;currentIndex--)callback(this._items[currentIndex])||this._items.splice(currentIndex,1)}assertUniqueByProperty(propName,message){const ruleId=`unique_${propName}`,propValues=this.extract(propName),uniqueElements=new Set;message=message||`The collection should only contain items with unique values for the property: ${propName}.`,propValues.forEach(((propValue,index)=>{if(uniqueElements.add(propValue),index!==uniqueElements.size-1)throw new _entityCollectionError__WEBPACK_IMPORTED_MODULE_0__.A(index,ruleId,message)}))}assertNotExist(propName,propValue,options={}){if(void 0===propValue)return;let haystackSet=options?.haystackSet;if(!haystackSet){const propValues=this.extract(propName);haystackSet=new Set(propValues)}if(haystackSet.has(propValue)){const error=new _entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A,message=options?.message||`The collection already includes an element that has a property (${propName}) with an identical value.`;throw error.addError(propName,"unique",message),error}}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollection},"./src/shared/models/entity/abstract/entityCollectionError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});class EntityCollectionError extends Error{constructor(position,rule,message){if(super(message=message||"Entity collection error."),"number"!=typeof position)throw new TypeError("EntityCollectionError requires a valid position");if(!rule||"string"!=typeof rule)throw new TypeError("EntityCollectionError requires a valid rule");if(!message||"string"!=typeof message)throw new TypeError("EntityCollectionError requires a valid message");this.position=position,this.rule=rule}}const __WEBPACK_DEFAULT_EXPORT__=EntityCollectionError},"./node_modules/uuid/dist/esm-browser/v5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v5});var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js"),validate=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js");const esm_browser_parse=function parse(uuid){if(!(0,validate.A)(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}const esm_browser_v5=function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return(0,stringify.A)(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}("v5",80,(function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}))}}]);