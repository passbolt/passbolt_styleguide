/*! For license information please see react-extension-ExtAuthenticationLogin-test-stories.3ae7dc49.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[7698],{"./src/img/svg/caret_down.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCaretDown(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:10,height:8,fill:"none",viewBox:"0 0 10 8"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 2 4 4 4-4"})))}},"./src/img/svg/caret_right.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCaretRight(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:8,height:10,fill:"none",viewBox:"0 0 8 10"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m2 9 4-4-4-4"})))}},"./src/img/svg/heart.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHeart(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{clipPath:"url(#heart_svg__clip0_93_734678)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.497 9.333c.993-.973 2-2.14 2-3.666A3.667 3.667 0 0 0 11.83 2c-1.173 0-2 .333-3 1.333-1-1-1.827-1.333-3-1.333a3.667 3.667 0 0 0-3.667 3.667c0 1.533 1 2.7 2 3.666L8.83 14z"}))))}},"./src/img/svg/logo.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _title,_desc,_path,_path2,_path3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLogo(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:151,height:27,fill:"none","aria-labelledby":"logo-title logo-description",viewBox:"0 0 151 27"},props),_title||(_title=react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:"logo-title"},"Passbolt logo")),_desc||(_desc=react__WEBPACK_IMPORTED_MODULE_0__.createElement("desc",{id:"logo-description"},"This is the logo of passbolt.")),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"var(--icon-color)",d:"M4.648 9.234v8.607h2.48c1.646 0 2.786-.349 3.47-1.012.685-.664 1.013-1.823 1.013-3.395 0-1.52-.305-2.595-.938-3.218-.633-.673-1.695-.972-3.24-.972zM.597 5.963h7.797c2.357 0 4.178.676 5.496 2.048q1.976 2.058 1.974 5.689a8.6 8.6 0 0 1-.406 2.749 7.1 7.1 0 0 1-1.24 2.278 5.9 5.9 0 0 1-2.38 1.773c-.937.349-2.152.524-3.697.524H4.648V26.5H.597zM24.016 18.016h5.064v-3.119h-4.76c-.937 0-1.594.124-1.95.375-.357.25-.517.698-.517 1.321 0 .524.15.899.429 1.122.28.223.848.301 1.734.301M18.649 5.963h8.268c2.103 0 3.672.476 4.736 1.423 1.065.947 1.594 2.347 1.594 4.217v9.456H22.37c-1.52 0-2.708-.375-3.52-1.121-.81-.747-1.2-1.823-1.2-3.22 0-1.722.454-2.945 1.392-3.692s2.483-1.134 4.697-1.134h5.315v-.365c0-.898-.276-1.518-.809-1.896-.532-.377-1.47-.55-2.86-.55H18.65zM36.55 17.915h8.525c.76 0 1.318-.124 1.646-.35.183-.122.328-.29.423-.486.094-.197.134-.414.115-.63a1.2 1.2 0 0 0-.112-.632 1.24 1.24 0 0 0-.42-.492c-.355-.253-.91-.374-1.646-.374h-3.494c-2.067 0-3.467-.325-4.203-.947-.737-.623-1.088-1.747-1.088-3.32 0-1.62.431-2.82 1.318-3.592.886-.772 2.255-1.152 4.064-1.152h8.684v3.142h-7.134q-1.75 0-2.279.301c-.354.198-.532.547-.532 1.071-.017.193.016.387.096.564s.204.332.361.449c.302.223.809.324 1.468.324h3.676c1.672 0 2.961.397 3.824 1.172s1.315 1.871 1.315 3.32c0 1.397-.405 2.53-1.188 3.417-.37.427-.833.768-1.354.996-.522.23-1.09.34-1.661.325H36.549zM53.822 17.915h8.526c.76 0 1.318-.124 1.646-.35a1.23 1.23 0 0 0 .42-.487c.093-.196.132-.413.112-.629a1.2 1.2 0 0 0-.111-.632 1.24 1.24 0 0 0-.421-.492c-.354-.253-.91-.374-1.646-.374h-3.493c-2.067 0-3.467-.325-4.204-.947-.736-.623-1.088-1.752-1.088-3.324 0-1.62.432-2.82 1.318-3.593.886-.772 2.253-1.147 4.075-1.147h8.686v3.142h-7.141q-1.747 0-2.28.301c-.353.198-.531.547-.531 1.071-.017.193.016.387.096.564s.204.332.361.449c.302.223.809.324 1.468.324h3.671c1.672 0 2.963.397 3.824 1.172s1.315 1.871 1.315 3.32c0 1.397-.403 2.53-1.188 3.417-.37.427-.832.767-1.354.996a3.9 3.9 0 0 1-1.66.325H53.769v-3.106zM75.387.5v5.463h3.47c1.55 0 2.759.175 3.694.55.946.362 1.77.976 2.38 1.772a7.2 7.2 0 0 1 1.243 2.296c.281.888.417 1.814.403 2.744q0 3.63-1.974 5.689c-1.315 1.372-3.14 2.046-5.493 2.046h-7.8V.5zm2.462 8.734h-2.483v8.608h2.785c1.55 0 2.633-.324 3.243-.95s.935-1.721.935-3.268-.354-2.694-1.033-3.367c-.68-.673-1.832-1.023-3.447-1.023M92.3 13.525c0 1.445.328 2.532 1.013 3.367s1.62 1.198 2.86 1.198 2.152-.398 2.863-1.198 1.033-1.921 1.033-3.367-.356-2.547-1.033-3.344c-.677-.798-1.62-1.198-2.863-1.198a3.64 3.64 0 0 0-1.57.279 3.6 3.6 0 0 0-1.29.919c-.685.797-1.013 1.921-1.013 3.344m12.002 0q0 3.544-2.202 5.689c-1.47 1.397-3.42 2.121-5.901 2.121s-4.457-.699-5.924-2.121-2.202-3.292-2.202-5.664q0-3.558 2.202-5.69c1.467-1.424 3.444-2.145 5.919-2.145s4.431.724 5.901 2.144 2.207 3.294 2.207 5.666M110.935 21.06h-4.202V.5h4.202zM112.884 5.963h2.86V.5h4.052v5.463h4.278v3.02h-4.278v6.09c0 1.12.204 1.895.581 2.343.377.449 1.064.649 2.026.649h1.671v3.02h-3.72c-1.494 0-2.636-.4-3.444-1.223-.809-.823-1.189-1.995-1.189-3.519v-7.36h-2.863v-3.02z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#D40101",d:"m149.951 10.68-9.059-8.36a2.12 2.12 0 0 0-1.421-.543c-.526 0-1.033.194-1.421.544l-5.684 5.268c.745.271 1.414.71 1.952 1.282.539.572.933 1.26 1.149 2.01h7.673a.73.73 0 0 1 .504.204.69.69 0 0 1 .207.494v1.147a.68.68 0 0 1-.207.494.72.72 0 0 1-.504.204h-.886v1.623a.68.68 0 0 1-.205.494.72.72 0 0 1-.503.205h-1.945a.73.73 0 0 1-.503-.205.69.69 0 0 1-.205-.494v-1.623h-3.426a4.84 4.84 0 0 1-1.135 2.033 5 5 0 0 1-1.966 1.287l5.71 5.276c.388.349.895.543 1.421.543a2.12 2.12 0 0 0 1.421-.543l9.043-8.355a2.03 2.03 0 0 0-.01-2.985"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#D40101",d:"M130.683 9.867a2.6 2.6 0 0 0-1.064.253c-.371.18-.686.455-.913.794a2.242 2.242 0 0 0-.113 2.305 2.3 2.3 0 0 0 .831.877 2.36 2.36 0 0 0 2.355.059c.362-.197.664-.484.875-.833a2.24 2.24 0 0 0 .324-1.153 2.21 2.21 0 0 0-.653-1.625 2.3 2.3 0 0 0-.751-.5 2.3 2.3 0 0 0-.891-.177"})))}},"./src/img/svg/spinner.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _circle,_circle2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSpinner(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({width:18,height:18,fill:"none",className:"svg-icon spinner",viewBox:"0 0 18 18"},props),_circle||(_circle=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"background",cx:8,cy:8,r:8,fill:"none",stroke:"var(--spinner-background)",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(1 1)"})),_circle2||(_circle2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{id:"loading",r:8,fill:"none",stroke:"var(--spinner-color)",strokeLinecap:"round",strokeWidth:"var(--spinner-stroke-width)",transform:"translate(9 9)"})))}},"./src/react-extension/ExtAuthenticationLogin.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Initial:()=>Initial,WithSsoKitAvailable:()=>WithSsoKitAvailable,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ExtAuthenticationLogin_test_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react_router_dom=__webpack_require__("./node_modules/react-router-dom/esm/react-router-dom.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),TranslationProvider=__webpack_require__("./src/react-extension/components/Common/Internationalisation/TranslationProvider.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");const SsoContext=react.createContext({loadSsoConfiguration:()=>{},getProvider:()=>{},hasUserAnSsoKit:()=>{},runSignInProcess:()=>{}});class SsoContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return this.handleSpecificError=this.handleSpecificError.bind(this),{ssoLocalConfiguredProvider:null,loadSsoConfiguration:this.loadSsoConfiguration.bind(this),getProvider:this.getProvider.bind(this),hasUserAnSsoKit:this.hasUserAnSsoKit.bind(this),runSignInProcess:this.runSignInProcess.bind(this)}}async loadSsoConfiguration(){const ssoLocalConfiguredProvider=await this.props.context.port.request("passbolt.sso.get-local-configured-provider");this.setState({ssoLocalConfiguredProvider})}getProvider(){return this.state.ssoLocalConfiguredProvider}hasUserAnSsoKit(){return Boolean(this.state.ssoLocalConfiguredProvider)}async runSignInProcess(){try{const provider=this.getProvider();await this.props.context.port.request("passbolt.sso.sign-in",provider),await this.props.context.port.request("passbolt.auth.post-login-redirect")}catch(e){console.error(e),this.handleSpecificError(e)}}handleSpecificError(e){switch(e.name){case"InvalidMasterPasswordError":throw new Error(this.props.t("The passphrase from the SSO kit doesn't match your private key: {{error}}",{error:e.message}));case"OutdatedSsoKitError":throw new Error(this.props.t("The SSO kit is outdated and can't be used to decrypt your passphrase: {{error}}",{error:e.message}))}throw e}render(){return react.createElement(SsoContext.Provider,{value:this.state},this.props.children)}}SsoContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any,t:prop_types_default().func};const contexts_SsoContext=(0,AppContext.L)((0,es.CI)("common")(SsoContextProvider));SsoContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"loadSsoConfiguration",docblock:"Find the sso configuration\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the sso configuration"},{name:"getProvider",docblock:"Get the current sso provider configured.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the current sso provider configured."},{name:"hasUserAnSsoKit",docblock:"Returns true if the current user has an SSO kit built locally\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user has an SSO kit built locally"},{name:"runSignInProcess",docblock:"Launches the SSO process with the configured provider\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Launches the SSO process with the configured provider"},{name:"handleSpecificError",docblock:"Handles error from the background page during SSO sign-in.\n@param {Error} e",modifiers:[],params:[{name:"e",type:{name:"Error"},optional:!1}],returns:null,description:"Handles error from the background page during SSO sign-in."}],displayName:"SsoContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var SsoProviders_data=__webpack_require__("./src/react-extension/components/Administration/ManageSsoSettings/SsoProviders.data.js");const EXPECTED_SSO_LOGIN_ERROR=["SsoDisabledError","SsoProviderMismatchError"],AuthenticationLoginWorkflowStates_ACCEPT_NEW_SERVER_KEY="Accept new server key",AuthenticationLoginWorkflowStates_LOADING="Loading",AuthenticationLoginWorkflowStates_SIGN_IN="Sign in",AuthenticationLoginWorkflowStates_SIGN_IN_SSO="Sign in SSO",AuthenticationLoginWorkflowStates_SIGN_IN_ERROR="Sign in error",AuthenticationLoginWorkflowStates_SIGNING_IN="Signing in",AuthenticationLoginWorkflowStates_INITIATE_ACCOUNT_RECOVERY="Initiate account recovery",AuthenticationLoginWorkflowStates_HELP_CREDENTIALS_LOST="Help credentials lost",AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR="Unexpected error",AuthenticationLoginWorkflowStates_CHECK_MAILBOX="Check mailbox",AuthenticationLoginWorkflowStates_SSO_DISABLED_ERROR="SSO disabled error",AuthenticationLoginWorkflowStates_SSO_PROVIDER_MISMATCH_ERROR="SSO provider mismatch error",AuthenticationLoginContext=react.createContext({state:null,serverKey:null,error:null,newSsoProvider:null,checkPassphrase:()=>{},signIn:()=>{},handleSsoSignIn:()=>{},handleSwitchAccount:()=>{},acceptNewServerKey:()=>{},needHelpCredentialsLost:()=>{},requestHelpCredentialsLost:()=>{},goToValidatePassphrase:()=>{},handleSsoLoginError:()=>{},getSsoProvider:()=>{},isSsoAvailable:()=>{},handleUserConfirmSsoDisable:()=>{},handleUserConfirmSsoProviderChange:()=>{},getNewSsoProvider:()=>{}});class AuthenticationLoginContextProvider extends react.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{state:AuthenticationLoginWorkflowStates_LOADING,serverKey:null,error:null,newSsoProvider:null,checkPassphrase:this.checkPassphrase.bind(this),signIn:this.signIn.bind(this),handleSsoSignIn:this.handleSsoSignIn.bind(this),handleSwitchAccount:this.handleSwitchAccount.bind(this),acceptNewServerKey:this.acceptNewServerKey.bind(this),needHelpCredentialsLost:this.needHelpCredentialsLost.bind(this),requestHelpCredentialsLost:this.requestHelpCredentialsLost.bind(this),goToValidatePassphrase:this.goToValidatePassphrase.bind(this),handleSsoLoginError:this.handleSsoLoginError.bind(this),getSsoProvider:this.getSsoProvider.bind(this),isSsoAvailable:this.isSsoAvailable.bind(this),handleSwitchToPassphrase:this.handleSwitchToPassphrase.bind(this),handleSwitchToSso:this.handleSwitchToSso.bind(this),handleUserConfirmSsoDisable:this.handleUserConfirmSsoDisable.bind(this),handleUserConfirmSsoProviderChange:this.handleUserConfirmSsoProviderChange.bind(this),getNewSsoProvider:this.getNewSsoProvider.bind(this)}}async componentDidMount(){await this.initialize()}async initialize(){await this.props.ssoContext.loadSsoConfiguration();if(!await this.verifyServerKey())return;if(!this.isSsoAvailable())return void this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN});if(await this.props.context.port.request("passbolt.sso.has-sso-login-error")){const ssoError=await this.props.context.port.request("passbolt.sso.get-qualified-sso-login-error");if(EXPECTED_SSO_LOGIN_ERROR.findIndex(errorType=>errorType===ssoError.name)>-1)return void this.handleSsoLoginError(ssoError)}this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN_SSO})}async verifyServerKey(){try{return await this.props.context.port.request("passbolt.auth.verify-server-key"),!0}catch(error){await this.handleVerifyServerKeyFailure(error)}return!1}async handleVerifyServerKeyFailure(error){if("KeyIsExpiredError"===error.name);else if("ServerKeyChangedError"===error.name){const serverKey=await this.props.context.port.request("passbolt.auth.get-server-key");await this.setState({state:AuthenticationLoginWorkflowStates_ACCEPT_NEW_SERVER_KEY,serverKey})}else"UserNotFoundError"===error.name||await this.setState({state:AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR,error})}async checkPassphrase(passphrase){try{await this.props.context.port.request("passbolt.auth.verify-passphrase",passphrase)}catch(error){if("InvalidMasterPasswordError"===error.name||"GpgKeyError"===error.name)throw error;await this.setState({state:AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR,error})}}async signIn(passphrase,rememberMe=!1){await this.setState({state:AuthenticationLoginWorkflowStates_SIGNING_IN});try{await this.props.context.port.request("passbolt.auth.login",passphrase,rememberMe),this.props.context.port.request("passbolt.auth.post-login-redirect")}catch(error){await this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN_ERROR,error})}}async handleSsoSignIn(){try{await this.props.ssoContext.runSignInProcess(),this.setState({state:AuthenticationLoginWorkflowStates_SIGNING_IN})}catch(e){"UserAbortsOperationError"!==e.name&&this.handleSsoLoginError(e)}}async handleSwitchToSso(){this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN_SSO})}async handleSwitchToPassphrase(){this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN})}handleSwitchAccount(){const url=`${this.props.context.userSettings.getTrustedDomain()}/users/recover?locale=${this.props.context.locale}`;window.open(url,"_parent","noopener,noreferrer")}handleSsoLoginError(e){const newState={state:AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR,error:e};"SsoDisabledError"===e.name?newState.state=AuthenticationLoginWorkflowStates_SSO_DISABLED_ERROR:"SsoProviderMismatchError"===e.name&&(newState.state=AuthenticationLoginWorkflowStates_SSO_PROVIDER_MISMATCH_ERROR,newState.newSsoProvider=e.configuredProvider),this.setState(newState)}async handleUserConfirmSsoDisable(){await this.props.context.port.request("passbolt.sso.delete-local-kit"),await this.props.ssoContext.loadSsoConfiguration(),this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN})}getNewSsoProvider(){return SsoProviders_data.A.find(provider=>this.state.newSsoProvider===provider.id)}async handleUserConfirmSsoProviderChange(){const provider=this.getNewSsoProvider().id;await this.props.context.port.request("passbolt.sso.update-provider-local-kit",provider),await this.props.ssoContext.loadSsoConfiguration(),this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN_SSO})}async acceptNewServerKey(){try{await this.props.context.port.request("passbolt.auth.replace-server-key"),this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN})}catch(error){await this.setState({state:AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR,error})}}async needHelpCredentialsLost(){this.props.context.siteSettings.canIUse("accountRecovery")?await this.setState({state:AuthenticationLoginWorkflowStates_INITIATE_ACCOUNT_RECOVERY}):await this.setState({state:AuthenticationLoginWorkflowStates_HELP_CREDENTIALS_LOST})}async requestHelpCredentialsLost(){try{await this.props.context.port.request("passbolt.auth.request-help-credentials-lost"),await this.setState({state:AuthenticationLoginWorkflowStates_CHECK_MAILBOX})}catch(error){await this.setState({state:AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR,error})}}async goToValidatePassphrase(){await this.setState({state:AuthenticationLoginWorkflowStates_SIGN_IN})}getSsoProvider(){const ssoProvider=this.props.ssoContext.getProvider();return ssoProvider?SsoProviders_data.A.find(provider=>provider.id===ssoProvider):null}isSsoAvailable(){return this.props.ssoContext.hasUserAnSsoKit()}render(){return react.createElement(AuthenticationLoginContext.Provider,{value:this.state},this.props.children)}}AuthenticationLoginContextProvider.propTypes={context:prop_types_default().any,children:prop_types_default().any,ssoContext:prop_types_default().object};const Authentication_AuthenticationLoginContext=(0,AppContext.L)(function withSso(WrappedComponent){return class withSso extends react.Component{render(){return react.createElement(SsoContext.Consumer,null,ssoContext=>react.createElement(WrappedComponent,{ssoContext,...this.props}))}}}(AuthenticationLoginContextProvider));function withAuthenticationLoginContext(WrappedComponent){return class WithAuthenticationContext extends react.Component{render(){return react.createElement(AuthenticationLoginContext.Consumer,null,AuthenticationLoginContext=>react.createElement(WrappedComponent,{authenticationLoginContext:AuthenticationLoginContext,...this.props}))}}}AuthenticationLoginContextProvider.__docgenInfo={description:"The authentication login context provider.\nHandle the business logic of the login and the manage the workflow.",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"initialize",docblock:"Initialize the authentication login workflow\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Initialize the authentication login workflow"},{name:"verifyServerKey",docblock:"Verify the server key.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Verify the server key."},{name:"handleVerifyServerKeyFailure",docblock:"Whenever the verify server key has been done with failure\n@param error An error occurred while the server key verification",modifiers:["async"],params:[{name:"error",description:"An error occurred while the server key verification",optional:!1}],returns:null,description:"Whenever the verify server key has been done with failure"},{name:"checkPassphrase",docblock:"Whenever the user wants to check its passphrase.\n@param {string} passphrase The user passphrase\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"passphrase",description:"The user passphrase",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user wants to check its passphrase."},{name:"signIn",docblock:"Whenever the user wants to sign in.\n@param {string} passphrase The user passphrase\n@param {boolean} rememberMe (Optional) Should the passphrase remembered? default false.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"passphrase",description:"The user passphrase",type:{name:"string"},optional:!1},{name:"rememberMe",description:"(Optional) Should the passphrase remembered? default false.",type:{name:"boolean"},optional:!0}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user wants to sign in."},{name:"handleSsoSignIn",docblock:"Whenever the user wants to sign in using SSO.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user wants to sign in using SSO."},{name:"handleSwitchToSso",docblock:"Whenever the user want to sign-in via SSO\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user want to sign-in via SSO"},{name:"handleSwitchToPassphrase",docblock:"Whenever the user want to sign-in via passphrase\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user want to sign-in via passphrase"},{name:"handleSwitchAccount",docblock:"Whenever the user wants to switch account.",modifiers:[],params:[],returns:null,description:"Whenever the user wants to switch account."},{name:"handleSsoLoginError",docblock:"Handles the SSO login error\n@param {error} e",modifiers:[],params:[{name:"e",type:{name:"error"},optional:!1}],returns:null,description:"Handles the SSO login error"},{name:"handleUserConfirmSsoDisable",docblock:"Handles the confirmation of the removal of the SSO kit and switch the state to SIGN_IN",modifiers:["async"],params:[],returns:null,description:"Handles the confirmation of the removal of the SSO kit and switch the state to SIGN_IN"},{name:"getNewSsoProvider",docblock:"Returns the new SSO provider the user should use to sign in.\n@returns {Object}",modifiers:[],params:[],returns:{type:{name:"Object"}},description:"Returns the new SSO provider the user should use to sign in."},{name:"handleUserConfirmSsoProviderChange",docblock:"Handles the confirmation of the removal of the SSO kit and switch the state to SIGN_IN\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handles the confirmation of the removal of the SSO kit and switch the state to SIGN_IN"},{name:"acceptNewServerKey",docblock:"Whenever the user accepts the new server key.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user accepts the new server key."},{name:"needHelpCredentialsLost",docblock:"Whenever the user lost its passphrase.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user lost its passphrase."},{name:"requestHelpCredentialsLost",docblock:"Whenever the user wants to request help because it lost its credentials.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user wants to request help because it lost its credentials."},{name:"goToValidatePassphrase",docblock:"Whenever the users wants to go to the validate passphrase.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the users wants to go to the validate passphrase."},{name:"getSsoProvider",docblock:"Returns the current SSO provider if any, null otherwise\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the current SSO provider if any, null otherwise"},{name:"isSsoAvailable",docblock:"Returns true if the user has an SSO kit registered locally\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user has an SSO kit registered locally"}],displayName:"AuthenticationLoginContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1},ssoContext:{description:"",type:{name:"object"},required:!1}}};var SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),Login=__webpack_require__("./src/react-extension/components/AuthenticationLogin/Login/Login.js"),SsoLogin=__webpack_require__("./src/react-extension/components/AuthenticationLogin/SsoLogin/SsoLogin.js"),LoadingSpinner=__webpack_require__("./src/react-extension/components/Common/Loading/LoadingSpinner/LoadingSpinner.js"),AcceptLoginServerKeyChange=__webpack_require__("./src/react-extension/components/AuthenticationLogin/AcceptLoginServerKeyChange/AcceptLoginServerKeyChange.js"),DisplayUnexpectedError=__webpack_require__("./src/react-extension/components/Authentication/DisplayUnexpectedError/DisplayUnexpectedError.js"),RequestAccountRecovery=__webpack_require__("./src/react-extension/components/Authentication/RequestAccountRecovery/RequestAccountRecovery.js"),AskForAuthenticationHelpCredentialLost=__webpack_require__("./src/react-extension/components/Authentication/AskForAuthenticationHelpCredentialLost/AskForAuthenticationHelpCredentialLost.js"),CheckMailBox=__webpack_require__("./src/react-extension/components/Authentication/CheckMailBox/CheckMailBox.js"),DisplaySsoDisabledError=__webpack_require__("./src/react-extension/components/Sso/DisplaySsoDisabledError.js"),DisplaySsoProviderMismatchError=__webpack_require__("./src/react-extension/components/Sso/DisplaySsoProviderMismatchError.js");class OrchestrateLoginBoxMain extends react.Component{render(){switch(this.props.authenticationLoginContext.state){case AuthenticationLoginWorkflowStates_SIGN_IN:return react.createElement(Login.A,{canRememberMe:this.props.context.siteSettings.hasRememberMeUntilILogoutOption,userSettings:this.props.context.userSettings,onSignIn:this.props.authenticationLoginContext.signIn,isSsoAvailable:this.props.authenticationLoginContext.isSsoAvailable(),onCheckPassphrase:this.props.authenticationLoginContext.checkPassphrase,onSecondaryActionClick:this.props.authenticationLoginContext.needHelpCredentialsLost,switchToSsoLogin:this.props.authenticationLoginContext.handleSwitchToSso});case AuthenticationLoginWorkflowStates_SIGN_IN_SSO:return react.createElement(SsoLogin.A,{userSettings:this.props.context.userSettings,onSecondaryActionClick:this.props.authenticationLoginContext.needHelpCredentialsLost,onSsoSignIn:this.props.authenticationLoginContext.handleSsoSignIn,ssoProvider:this.props.authenticationLoginContext.getSsoProvider(),switchToPassphraseLogin:this.props.authenticationLoginContext.handleSwitchToPassphrase});case AuthenticationLoginWorkflowStates_ACCEPT_NEW_SERVER_KEY:return react.createElement(AcceptLoginServerKeyChange.A,{serverKey:this.props.authenticationLoginContext.serverKey,onAccept:this.props.authenticationLoginContext.acceptNewServerKey});case AuthenticationLoginWorkflowStates_SIGNING_IN:return react.createElement(LoadingSpinner.A,{title:react.createElement(es.x6,null,"Signing in, please wait...")});case AuthenticationLoginWorkflowStates_SIGN_IN_ERROR:return react.createElement(DisplayUnexpectedError.A,{title:react.createElement(es.x6,null,"Sorry, you have not been signed in."),message:react.createElement(es.x6,null,"Something went wrong, the sign in failed with the following error:"),error:this.props.authenticationLoginContext.error});case AuthenticationLoginWorkflowStates_INITIATE_ACCOUNT_RECOVERY:return react.createElement(RequestAccountRecovery.A,{displayAs:RequestAccountRecovery.c.SIGN_IN,onPrimaryActionClick:this.props.authenticationLoginContext.requestHelpCredentialsLost.bind(this),onSecondaryActionClick:this.props.authenticationLoginContext.goToValidatePassphrase.bind(this)});case AuthenticationLoginWorkflowStates_HELP_CREDENTIALS_LOST:return react.createElement(AskForAuthenticationHelpCredentialLost.A,{displayAs:AskForAuthenticationHelpCredentialLost.x.SIGN_IN,onPrimaryActionClick:this.props.authenticationLoginContext.requestHelpCredentialsLost.bind(this),onSecondaryActionClick:this.props.authenticationLoginContext.goToValidatePassphrase.bind(this),canRequestHelp:this.props.context.siteSettings.canIUse("accountRecoveryRequestHelp")});case AuthenticationLoginWorkflowStates_CHECK_MAILBOX:return react.createElement(CheckMailBox.A,null);case AuthenticationLoginWorkflowStates_UNEXPECTED_ERROR:return react.createElement(DisplayUnexpectedError.A,{error:this.props.authenticationLoginContext.error});case AuthenticationLoginWorkflowStates_SSO_DISABLED_ERROR:return react.createElement(DisplaySsoDisabledError.A,{onSignInWithPassphraseClick:this.props.authenticationLoginContext.handleUserConfirmSsoDisable});case AuthenticationLoginWorkflowStates_SSO_PROVIDER_MISMATCH_ERROR:return react.createElement(DisplaySsoProviderMismatchError.A,{onAcceptNewProvider:this.props.authenticationLoginContext.handleUserConfirmSsoProviderChange,newProvider:this.props.authenticationLoginContext.getNewSsoProvider()});case AuthenticationLoginWorkflowStates_LOADING:return react.createElement(LoadingSpinner.A,null)}}}OrchestrateLoginBoxMain.propTypes={context:prop_types_default().any.isRequired,authenticationLoginContext:prop_types_default().any.isRequired};const OrchestrateLogin_OrchestrateLoginBoxMain=(0,AppContext.L)(withAuthenticationLoginContext((0,es.CI)("common")(OrchestrateLoginBoxMain)));OrchestrateLoginBoxMain.__docgenInfo={description:"The component orchestrates the login authentication box main content.",methods:[],displayName:"OrchestrateLoginBoxMain",props:{context:{description:"",type:{name:"any"},required:!0},authenticationLoginContext:{description:"",type:{name:"any"},required:!0}}};var Footer=__webpack_require__("./src/react-extension/components/Common/Footer/Footer.js");class OrchestrateLoginBoxFooter extends react.Component{render(){switch(this.props.authenticationLoginContext.state){case AuthenticationLoginWorkflowStates_SIGN_IN:case AuthenticationLoginWorkflowStates_SIGN_IN_SSO:return react.createElement("div",{className:"login-box-footer-actions"},react.createElement("button",{type:"button",className:"link",onClick:this.props.authenticationLoginContext.handleSwitchAccount},react.createElement(es.x6,null,"Or switch to another account.")));default:return react.createElement(react.Fragment,null)}}}OrchestrateLoginBoxFooter.propTypes={context:prop_types_default().any.isRequired,authenticationLoginContext:prop_types_default().any.isRequired};const OrchestrateLogin_OrchestrateLoginBoxFooter=(0,AppContext.L)(withAuthenticationLoginContext((0,es.CI)("common")(OrchestrateLoginBoxFooter)));OrchestrateLoginBoxFooter.__docgenInfo={description:"The component orchestrates the login authentication box footer.",methods:[],displayName:"OrchestrateLoginBoxFooter",props:{context:{description:"",type:{name:"any"},required:!0},authenticationLoginContext:{description:"",type:{name:"any"},required:!0}}};var logo=__webpack_require__("./src/img/svg/logo.svg");class ExtAuthenticationLogin extends react.Component{constructor(props){super(props),this.state=this.defaultState(props)}async componentDidMount(){this.removeSkeleton(),await this.initializeUserSettings(),await this.getSiteSettings(),await this.getExtensionVersion(),this.initLocale()}removeSkeleton(){const skeleton=document.getElementById("temporary-skeleton");skeleton&&skeleton.remove()}defaultState(props){return{port:props.port,storage:props.storage,siteSettings:null,extensionVersion:null,locale:null,onUpdateLocaleRequested:this.onUpdateLocaleRequested.bind(this)}}isReady(){return null!==this.state.siteSettings&&null!==this.state.locale}async initializeUserSettings(){const storageData=await this.props.storage.local.get(["_passbolt_data"]),userSettings=new UserSettings.A(storageData._passbolt_data.config);this.setState({userSettings})}async getSiteSettings(){const settings=await this.props.port.request("passbolt.organization-settings.get"),siteSettings=new SiteSettings.A(settings);this.setState({siteSettings})}async getExtensionVersion(){const extensionVersion=await this.props.port.request("passbolt.addon.get-version");this.setState({extensionVersion})}async initLocale(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}async onUpdateLocaleRequested(){const{locale}=await this.props.port.request("passbolt.locale.get");this.setState({locale})}render(){return react.createElement(AppContext.A.Provider,{value:this.state},this.isReady()&&react.createElement(TranslationProvider.A,{loadingPath:"/webAccessibleResources/locales/{{lng}}/{{ns}}.json"},react.createElement(react_router_dom.Kd,null,react.createElement(contexts_SsoContext,null,react.createElement(Authentication_AuthenticationLoginContext,null,react.createElement("div",{id:"container",className:"container page login"},react.createElement("div",{className:"content"},react.createElement("div",{className:"header"},react.createElement("div",{className:"logo-svg"},react.createElement(logo.A,{role:"img",width:"20rem",height:"3.5rem"}))),react.createElement("div",{className:"login-form"},react.createElement(OrchestrateLogin_OrchestrateLoginBoxMain,null)),react.createElement("div",{className:"login-box-footer"},react.createElement(OrchestrateLogin_OrchestrateLoginBoxFooter,null))),react.createElement(Footer.A,null)))))))}}ExtAuthenticationLogin.propTypes={port:prop_types_default().object,storage:prop_types_default().object};const react_extension_ExtAuthenticationLogin=ExtAuthenticationLogin;ExtAuthenticationLogin.__docgenInfo={description:"The login application served by the browser extension.",methods:[{name:"removeSkeleton",docblock:"Remove skeleton preloaded in html if any",modifiers:[],params:[],returns:null,description:"Remove skeleton preloaded in html if any"},{name:"defaultState",docblock:"Returns the component default state",modifiers:[],params:[{name:"props",optional:!1}],returns:null,description:"Returns the component default state"},{name:"isReady",docblock:null,modifiers:[],params:[],returns:null},{name:"initializeUserSettings",docblock:"Initialize the user settings.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Initialize the user settings."},{name:"getSiteSettings",docblock:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings",modifiers:["async"],params:[],returns:null,description:"Get the list of site settings from background page and set it in the state\nUsing SiteSettings"},{name:"getExtensionVersion",docblock:"Get extension version",modifiers:["async"],params:[],returns:null,description:"Get extension version"},{name:"initLocale",docblock:"Init the locale",modifiers:["async"],params:[],returns:null,description:"Init the locale"},{name:"onUpdateLocaleRequested",docblock:"Whenever the update of the locale is requested",modifiers:["async"],params:[],returns:null,description:"Whenever the update of the locale is requested"}],displayName:"ExtAuthenticationLogin",props:{port:{description:"",type:{name:"object"},required:!1},storage:{description:"",type:{name:"object"},required:!1}}};var MockPort=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js");const ExtAuthenticationLogin_test_stories={title:"Components/ExtAuthenticationLogin/ExtAuthenticationLogin",component:react_extension_ExtAuthenticationLogin,parameters:{css:"ext_authentication"}};function getMockedPort(){const mockedPort=new MockPort.A;return mockedPort.addRequestListener("passbolt.organization-settings.get",()=>siteSettings.A),mockedPort.addRequestListener("passbolt.locale.get",()=>({locale:"en-UK",label:"English"})),mockedPort}const Initial={args:{port:getMockedPort(),storage:(0,mockStorage.A)()}},mockedPortWithSso=getMockedPort();mockedPortWithSso.addRequestListener("passbolt.sso.get-local-configured-provider",()=>"azure");const WithSsoKitAvailable={args:{port:mockedPortWithSso,storage:(0,mockStorage.A)()}},__namedExportsOrder=["Initial","WithSsoKitAvailable"];Initial.parameters={...Initial.parameters,docs:{...Initial.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: getMockedPort(),\n    storage: mockStorage()\n  }\n}",...Initial.parameters?.docs?.source}}},WithSsoKitAvailable.parameters={...WithSsoKitAvailable.parameters,docs:{...WithSsoKitAvailable.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: mockedPortWithSso,\n    storage: mockStorage()\n  }\n}",...WithSsoKitAvailable.parameters?.docs?.source}}}},"./src/react-extension/components/Administration/ManageSsoSettings/SsoProviders.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=[{id:"azure",name:"Microsoft",icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M31.3512 3.04762H3.92261V30.4762H31.3512V3.04762Z",fill:"#F25022"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M31.3512 33.5238H3.92261V60.9524H31.3512V33.5238Z",fill:"#00A4EF"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M61.8274 3.04762H34.3988V30.4762H61.8274V3.04762Z",fill:"#7FBA00"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M61.8274 33.5238H34.3988V60.9524H61.8274V33.5238Z",fill:"#FFB900"})),defaultConfig:{url:"https://login.microsoftonline.com",client_id:"",client_secret:"",tenant_id:"",client_secret_expiry:"",prompt:"login",email_claim:"email",login_hint:!0}},{id:"google",name:"Google",icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M63.9451 32.72C63.9451 30.6133 63.7584 28.6133 63.4384 26.6667H33.3051V38.6933H50.5584C49.7851 42.64 47.5184 45.9733 44.1584 48.24V56.24H54.4517C60.4784 50.6667 63.9451 42.4533 63.9451 32.72Z",fill:"#4285F4"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M33.305 64C41.945 64 49.1717 61.12 54.4517 56.24L44.1583 48.24C41.2783 50.16 37.625 51.3333 33.305 51.3333C24.9583 51.3333 17.8917 45.7067 15.3583 38.1067H4.745V46.3467C9.99833 56.8 20.7983 64 33.305 64Z",fill:"#34A853"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M15.3584 38.1067C14.6917 36.1867 14.3451 34.1333 14.3451 32C14.3451 29.8667 14.7184 27.8133 15.3584 25.8933V17.6533H4.74505C2.55838 21.9733 1.30505 26.8267 1.30505 32C1.30505 37.1733 2.55838 42.0267 4.74505 46.3467L15.3584 38.1067Z",fill:"#FBBC05"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M33.305 12.6667C38.025 12.6667 42.2383 14.2933 45.5717 17.4667L54.6917 8.34667C49.1717 3.17334 41.945 0 33.305 0C20.7983 0 9.99833 7.20001 4.745 17.6533L15.3583 25.8933C17.8917 18.2933 24.9583 12.6667 33.305 12.6667Z",fill:"#EA4335"})),defaultConfig:{client_id:"",client_secret:""}},{id:"oauth2",name:"OpenID",hiddenIfDisabled:!0,disabledForRecover:!0,icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"65",height:"60",viewBox:"0 0 65 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M64.2468 34.9929L62.9089 21.0968L57.9256 23.9083C53.2914 21.0968 47.3581 19.1061 40.7332 18.3046V24.4577C44.5336 25.117 47.9462 26.3321 50.7513 27.9544L45.5031 30.9146L64.2533 34.9929H64.2468Z",fill:"#B3B3B3"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9.94184 38.8774C9.94184 32.0069 17.4264 26.2222 27.632 24.4577V18.2981C12.023 20.1854 0.246826 28.6783 0.246826 38.8774C0.246826 49.0766 12.8891 58.1769 29.3319 59.6312V53.5557C18.2666 52.166 9.94184 46.1228 9.94184 38.8774Z",fill:"#B3B3B3"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M29.332 5.09999V59.6377L39.027 55.0746V0.362366L29.332 5.09999Z",fill:"#F8931E"})),defaultConfig:{url:"",openid_configuration_path:"",scope:"openid email profile",client_id:"",client_secret:""}},{id:"adfs",name:"AD FS",hiddenIfDisabled:!0,disabledForRecover:!0,icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"65",height:"64",viewBox:"0 0 65 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M64.5443 48.7454V62.166C64.5443 63.7378 64.0607 64.0602 62.5695 63.8184C52.5746 62.3272 42.4587 60.957 32.3831 59.5464C30.5695 59.3046 29.9247 58.6597 29.9247 56.6849C30.0859 49.5514 30.0053 42.3776 29.9247 35.1635C29.9247 33.5917 30.4083 33.1081 31.9801 33.1081C42.2975 33.1887 52.4536 33.1887 62.5695 33.1887C64.2219 33.1887 64.6249 33.8335 64.6249 35.3247C64.4637 39.8386 64.5443 44.2718 64.5443 48.7454Z",fill:"#00AAF2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M47.416 30.6093C42.3379 30.6093 37.2598 30.5287 32.1817 30.6093C30.6099 30.6093 29.9651 30.2869 29.9651 28.4733C30.0457 21.1786 30.0457 14.0048 29.9651 6.79069C29.9651 5.38011 30.4487 4.89648 31.7787 4.65467C42.1767 3.16349 52.5747 1.7126 62.9726 0.140816C64.7862 -0.100997 64.4638 1.10807 64.4638 2.11563C64.4638 8.56399 64.5444 15.1333 64.4638 21.5816C64.4638 23.9595 64.3832 26.3373 64.4638 28.7151C64.5444 30.2063 63.9802 30.6093 62.5696 30.6093C57.5721 30.5287 52.4941 30.6093 47.416 30.6093Z",fill:"#00AAF2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M13.8038 33.3096H25.1691C26.3782 33.3096 26.9021 33.7126 26.9021 34.962V57.37C26.9021 58.6597 26.3378 58.7806 25.1691 58.6597C17.6326 57.5312 10.096 56.4431 2.59981 55.3952C1.10863 55.1534 0.625 54.6698 0.625 53.098C0.705605 47.1332 0.705605 41.1685 0.625 35.0829C0.625 33.5917 1.02802 33.1887 2.51921 33.1887C6.34792 33.3096 10.0154 33.3096 13.8038 33.3096Z",fill:"#00AAF2"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M13.8038 30.6093H2.59977C1.18919 30.6093 0.705566 30.1257 0.705566 28.6345C0.786171 22.7504 0.786171 16.8663 0.705566 10.9418C0.705566 9.53126 1.10859 9.04763 2.59977 8.80582C10.1363 7.83856 17.6728 6.7504 25.169 5.54133C26.902 5.29952 27.0633 5.86375 27.0633 7.27433V28.7151C27.0633 30.2869 26.4184 30.5287 25.0078 30.5287C21.2597 30.5287 17.4713 30.6093 13.8038 30.6093Z",fill:"#00AAF2"})),defaultConfig:{url:"",openid_configuration_path:"",scope:"openid email profile",client_id:"",client_secret:""}}]},"./src/react-extension/components/Authentication/AskForAuthenticationHelpCredentialLost/AskForAuthenticationHelpCredentialLost.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,x:()=>AskForAuthenticationHelpCredentialLostVariations});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const AskForAuthenticationHelpCredentialLostVariations={SIGN_IN:"Sign in",RECOVER:"Recover"};class AskForAuthenticationHelpCredentialLost extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"ask-for-authentication-help"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Sorry... maybe an administrator can help?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,{[AskForAuthenticationHelpCredentialLostVariations.SIGN_IN]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Your passphrase is required to sign-in.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you do not have access, you can request help to an administrator.")),[AskForAuthenticationHelpCredentialLostVariations.RECOVER]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Both the private key and passphrase are required to recover your account.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you do not have access, you can request help to an administrator."))}[this.props.displayAs]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},this.props.canRequestHelp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:this.props.onPrimaryActionClick.bind(this),className:"button primary big full-width",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Request help")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link",onClick:this.props.onSecondaryActionClick.bind(this)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"I want to try again."))),!this.props.canRequestHelp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:this.props.onSecondaryActionClick.bind(this),className:"button primary big full-width",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"I want to try again."))))}}AskForAuthenticationHelpCredentialLost.defaultProps={canRequestHelp:!0},AskForAuthenticationHelpCredentialLost.propTypes={displayAs:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf([AskForAuthenticationHelpCredentialLostVariations.SIGN_IN,AskForAuthenticationHelpCredentialLostVariations.RECOVER]).isRequired,context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object.isRequired,onPrimaryActionClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired,onSecondaryActionClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired,canRequestHelp:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(AskForAuthenticationHelpCredentialLost));AskForAuthenticationHelpCredentialLost.__docgenInfo={description:"This component propose to help the uses who lost its credentials.",methods:[],displayName:"AskForAuthenticationHelpCredentialLost",props:{canRequestHelp:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},displayAs:{description:"",type:{name:"enum",value:[{value:"'Sign in'",computed:!1},{value:"'Recover'",computed:!1}]},required:!0},context:{description:"",type:{name:"object"},required:!0},onPrimaryActionClick:{description:"",type:{name:"func"},required:!0},onSecondaryActionClick:{description:"",type:{name:"func"},required:!0}}}},"./src/react-extension/components/Authentication/CheckMailBox/CheckMailBox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class CheckMailBox extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"email-sent-instructions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"email-sent-bg"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Check your mailbox!")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"We sent you a link to verify your email."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Check your spam folder if you do not hear from us after a while.")))}}CheckMailBox.propTypes={};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(CheckMailBox);CheckMailBox.__docgenInfo={description:"",methods:[],displayName:"CheckMailBox"}},"./src/react-extension/components/Authentication/DisplayUnexpectedError/DisplayUnexpectedError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/caret_right.svg");class DisplayUnexpectedError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{showErrorDetails:!1}}bindCallbacks(){this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this)}onClick(){this.props.context.port?this.props.context.port.request("passbolt.tab.reload"):window.location.reload()}handleErrorDetailsToggle(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get hasErrorDetails(){const error=this.props?.error;return Boolean(error?.details)||Boolean(error?.data?.body)}formatErrors(){const errorMessage=this.props.error?.details||this.props.error?.data;return JSON.stringify(errorMessage,null,4)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"setup-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,this.props.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.props.message),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,this.props.error&&this.props.error.message),this.hasErrorDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion error-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"no-border",type:"button",onClick:this.handleErrorDetailsToggle},this.state.showErrorDetails?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__.A,{className:"caret-down"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_5__.A,{className:"caret-right"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Error details")))),this.state.showErrorDetails&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Error details")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{id:"js_field_debug",defaultValue:`${this.formatErrors()}`,readOnly:!0})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:this.onClick.bind(this),className:"button primary big full-width",role:"button"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Try again"))))}}DisplayUnexpectedError.defaultProps={title:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Something went wrong!"),message:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The operation failed with the following error:")},DisplayUnexpectedError.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,title:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),prop_types__WEBPACK_IMPORTED_MODULE_1___default().node,prop_types__WEBPACK_IMPORTED_MODULE_1___default().string]),message:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),prop_types__WEBPACK_IMPORTED_MODULE_1___default().node,prop_types__WEBPACK_IMPORTED_MODULE_1___default().string]),error:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayUnexpectedError));DisplayUnexpectedError.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindCallbacks",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"onClick",docblock:"Whenever the user click on the action",modifiers:[],params:[],returns:null,description:"Whenever the user click on the action"},{name:"handleErrorDetailsToggle",docblock:"Handle the toggle display of error details",modifiers:[],params:[],returns:null,description:"Handle the toggle display of error details"},{name:"hasErrorDetails",docblock:"Does the provided error carry details.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Does the provided error carry details."},{name:"formatErrors",docblock:"Format the error details as a string.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Format the error details as a string."}],displayName:"DisplayUnexpectedError",props:{title:{defaultValue:{value:"<Trans>Something went wrong!</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},message:{defaultValue:{value:"<Trans>The operation failed with the following error:</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1},context:{description:"",type:{name:"any"},required:!1},error:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Authentication/RequestAccountRecovery/RequestAccountRecovery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,c:()=>RequestAccountRecoveryVariations});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");const RequestAccountRecoveryVariations={SIGN_IN:"Sign-in",RECOVER:"Recover",ACCOUNT_RECOVERY:"Account recovery"};class RequestAccountRecovery extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"initiate-recover-account"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Request account recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,{[RequestAccountRecoveryVariations.SIGN_IN]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Your passphrase is required to sign-in.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you do not have access, you can request an account recovery to an administrator.")),[RequestAccountRecoveryVariations.RECOVER]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Both the private key and passphrase are required to recover your account.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you do not have access, you can request an account recovery to an administrator.")),[RequestAccountRecoveryVariations.ACCOUNT_RECOVERY]:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The passphrase you defined when initiating the account recovery is required to complete the operation.")," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"If you do not have access, you can request a new account recovery to an administrator."))}[this.props.displayAs]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button primary big full-width "+(this.isProcessing?"processing":""),disabled:this.isProcessing,onClick:this.props.onPrimaryActionClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Request account recovery")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link",onClick:this.props.onSecondaryActionClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"I want to try again."))))}}RequestAccountRecovery.propTypes={displayAs:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOf([RequestAccountRecoveryVariations.SIGN_IN,RequestAccountRecoveryVariations.RECOVER,RequestAccountRecoveryVariations.ACCOUNT_RECOVERY]).isRequired,onPrimaryActionClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired,onSecondaryActionClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(RequestAccountRecovery);RequestAccountRecovery.__docgenInfo={description:"",methods:[],displayName:"RequestAccountRecovery",props:{displayAs:{description:"",type:{name:"enum",value:[{value:"'Sign-in'",computed:!1},{value:"'Recover'",computed:!1},{value:"'Account recovery'",computed:!1}]},required:!0},onPrimaryActionClick:{description:"",type:{name:"func"},required:!0},onSecondaryActionClick:{description:"",type:{name:"func"},required:!0}}}},"./src/react-extension/components/AuthenticationLogin/AcceptLoginServerKeyChange/AcceptLoginServerKeyChange.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class AcceptLoginServerKeyChange extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{fingerprint:null,hasAccepted:!1,hasBeenValidated:!1,errors:{hasNotAccepted:!1}}}componentDidMount(){this.fetchServerKey()}async fetchServerKey(){let{fingerprint}=await this.props.serverKey;fingerprint=fingerprint.replace(/.{4}/g,"$& "),fingerprint=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,fingerprint.substr(0,24),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),fingerprint.substr(25)),this.setState({fingerprint})}get isValid(){return Object.values(this.state.errors).every(value=>!value)}get mustBeDisabled(){return this.state.hasBeenValidated&&!this.isValid}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleAcceptChange=this.handleAcceptChange.bind(this)}async handleSubmit(event){event.preventDefault(),await this.validate(),this.isValid&&await this.accept()}async handleAcceptChange(){await this.toggleAccept()}async accept(){await this.props.onAccept()}async toggleAccept(){await this.setState({hasAccepted:!this.state.hasAccepted}),this.state.hasBeenValidated&&await this.validate()}async validate(){const{hasAccepted}=this.state;hasAccepted?await this.setState({hasBeenValidated:!0,errors:{}}):await this.setState({hasBeenValidated:!0,errors:{hasNotAccepted:!0}})}render(){const disabledClassName=this.mustBeDisabled?"disabled":"";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Sorry, the server key has changed.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"For security reasons please check with your administrator that this is a change that they initiated. The new fingerprint:")," "),react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",null,this.state.fingerprint),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{acceptCharset:"utf-8",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox "+(this.state.hasBeenValidated&&this.state.errors.hasNotAccepted?"error":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"accept-new-key",type:"checkbox",name:"accept-new-key",value:this.state.hasAccepted,onChange:this.handleAcceptChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"accept-new-key"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Yes I checked and it is all fine."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:`button primary big full-width ${disabledClassName}`,disabled:this.mustBeDisabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Accept new key")))))}}AcceptLoginServerKeyChange.propTypes={serverKey:prop_types__WEBPACK_IMPORTED_MODULE_2___default().object.isRequired,onAccept:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(AcceptLoginServerKeyChange);AcceptLoginServerKeyChange.__docgenInfo={description:"This component notifies the user that the server key change and ask to acccept it",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"fetchServerKey",docblock:"Fetch the server key\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Fetch the server key"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"handleSubmit",docblock:"Whenever the users\n@param event Dom event",modifiers:["async"],params:[{name:"event",description:"Dom event",optional:!1}],returns:null,description:"Whenever the users"},{name:"handleAcceptChange",docblock:"Whenever the user changes the accept new key checkbox",modifiers:["async"],params:[],returns:null,description:"Whenever the user changes the accept new key checkbox"},{name:"accept",docblock:"Accepts the new Gpg key",modifiers:["async"],params:[],returns:null,description:"Accepts the new Gpg key"},{name:"toggleAccept",docblock:"Toggle the accept checkbox",modifiers:["async"],params:[],returns:null,description:"Toggle the accept checkbox"},{name:"validate",docblock:"Validate the security token data",modifiers:["async"],params:[],returns:null,description:"Validate the security token data"}],displayName:"AcceptLoginServerKeyChange",props:{serverKey:{description:"",type:{name:"object"},required:!0},onAccept:{description:"",type:{name:"func"},required:!0}}}},"./src/react-extension/components/AuthenticationLogin/SsoLogin/SsoLogin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");class SsoLogin extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{actions:{processing:!1}}}get areActionsAllowed(){return!this.state.actions.processing}get isProcessing(){return this.state.actions.processing}get fullname(){return this.props.userSettings?.fullName||`${this.props.account?.first_name} ${this.props.account?.last_name}`}get username(){return this.props.userSettings?.username||this.props.account?.username}get trustedDomain(){return this.props.userSettings?.getTrustedDomain()||this.props.account?.domain}bindEventHandlers(){this.handleSwitchToPassphrase=this.handleSwitchToPassphrase.bind(this),this.handleSignInWithSso=this.handleSignInWithSso.bind(this)}toggleProcessing(){this.setState({actions:{processing:!this.state.actions.processing}})}handleSwitchToPassphrase(event){event.preventDefault(),this.isProcessing||this.props.switchToPassphraseLogin()}async handleSignInWithSso(event){event.preventDefault(),this.setState({actions:{processing:!0}}),await this.props.onSsoSignIn(),this.setState({actions:{processing:!1}})}get ssoProviderData(){return this.props.ssoProvider}render(){const ssoProviderData=this.ssoProviderData;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"login"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"login-user"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_2__.A,{user:this.props.account?.user,baseUrl:this.trustedDomain,className:"big avatar user-avatar"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"login-user-name"},this.fullname),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:"login-user-email"},this.username)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions sso-login-form"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:`sso-login-button ${this.isProcessing?"disabled":""} ${ssoProviderData.id}`,onClick:this.handleSignInWithSso,disabled:this.isProcessing},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"provider-logo"},ssoProviderData.icon),this.props.t("Sign in with {{providerName}}",{providerName:ssoProviderData.name})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link",type:"button",onClick:this.handleSwitchToPassphrase},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Sign in with my passphrase."))))}}SsoLogin.propTypes={account:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,userSettings:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,onSsoSignIn:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,switchToPassphraseLogin:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func,ssoProvider:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(SsoLogin));SsoLogin.__docgenInfo={description:"This component allows the user to log in with his account",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"areActionsAllowed",docblock:"Returns true if the user can perform actions on the component\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the user can perform actions on the component"},{name:"isProcessing",docblock:"Returns true if the component must be in a processing mode\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the component must be in a processing mode"},{name:"fullname",docblock:"Returns the user full name",modifiers:["get"],params:[],returns:null,description:"Returns the user full name"},{name:"username",docblock:"Returns the username",modifiers:["get"],params:[],returns:null,description:"Returns the username"},{name:"trustedDomain",docblock:"Returns the trusted domain",modifiers:["get"],params:[],returns:null,description:"Returns the trusted domain"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"toggleProcessing",docblock:"Toggle the processing mode",modifiers:[],params:[],returns:null,description:"Toggle the processing mode"},{name:"handleSwitchToPassphrase",docblock:"Switches the UI to the passphrase mode.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Switches the UI to the passphrase mode."},{name:"handleSignInWithSso",docblock:"Handle the click on the SSO login button.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the click on the SSO login button."},{name:"ssoProviderData",docblock:"Returns the provider information of the current SSO provider configured.\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the provider information of the current SSO provider configured."}],displayName:"SsoLogin",props:{account:{description:"",type:{name:"object"},required:!1},userSettings:{description:"",type:{name:"object"},required:!1},onSsoSignIn:{description:"",type:{name:"func"},required:!1},switchToPassphraseLogin:{description:"",type:{name:"func"},required:!1},ssoProvider:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Footer/Footer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/img/svg/heart.svg"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js");class Footer extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://www.passbolt.com/docs/hosting/faq/why-I-see-unsafe-mode-banner/"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const versions=[],serverVersion=this.props.context.siteSettings.version;return serverVersion&&versions.push(`${this.props.t("Server")} ${serverVersion}`),this.props.context.extensionVersion&&versions.push(`${this.props.t("Client")} ${this.props.context.extensionVersion}`),versions.join(" / ")}get isUnsafeMode(){if(!this.props.context.siteSettings)return!1;const debug=this.props.context.siteSettings.debug,isHttpMode=this.props.context.siteSettings.url.startsWith("http://");return debug||isHttpMode}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("footer",{className:"footer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"error-message"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Unsafe mode"))),this.termsUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Terms"))),this.privacyUrl&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Privacy"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Credits"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_5__.A,{message:this.versions,direction:"left"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null))),!this.versions&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{className:"button button-transparent inline",href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_heart_svg__WEBPACK_IMPORTED_MODULE_1__.A,null)))))}}Footer.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(Footer));Footer.__docgenInfo={description:"The application footer",methods:[{name:"privacyUrl",docblock:"Returns the terms link url",modifiers:["get"],params:[],returns:null,description:"Returns the terms link url"},{name:"creditsUrl",docblock:"Returns the credits link url",modifiers:["get"],params:[],returns:null,description:"Returns the credits link url"},{name:"unsafeUrl",docblock:"Returns the unsafe url.",modifiers:["get"],params:[],returns:null,description:"Returns the unsafe url."},{name:"termsUrl",docblock:"Returns the privacy link url",modifiers:["get"],params:[],returns:null,description:"Returns the privacy link url"},{name:"versions",docblock:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION",modifiers:["get"],params:[],returns:null,description:"Return the server (if available) and browser extension version.\ni.e. SERVER_VERSION / BROWSER_EXTENSION_VERSION"},{name:"isUnsafeMode",docblock:"Returns true if the application is in an unsafe mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the application is in an unsafe mode"}],displayName:"Footer",props:{context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Internationalisation/TranslationProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/i18next/dist/esm/i18next.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),i18next_http_backend__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/i18next-http-backend/esm/index.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");class TranslationProvider extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{ready:!1}}async componentDidMount(){await i18next__WEBPACK_IMPORTED_MODULE_0__.Ay.use(react_i18next__WEBPACK_IMPORTED_MODULE_1__.r9).use(i18next_http_backend__WEBPACK_IMPORTED_MODULE_2__.A).init({lng:this.locale,load:"currentOnly",interpolation:{escapeValue:!1},react:{useSuspense:!1},backend:{loadPath:(lngs,namespaces)=>this.getTranslationPath(lngs,namespaces)},supportedLngs:this.supportedLocales,fallbackLng:!1,ns:["common"],defaultNS:"common",keySeparator:!1,nsSeparator:!1,debug:!1}),this.setState({ready:!0})}getTranslationPath(lngs,namespaces){const lng=lngs[0],ns=namespaces[0],actualLng="en-GB"===lng?"en-UK":lng;return(this.props.loadingPath||"/locales/{{lng}}/{{ns}}.json").replace("{{lng}}",actualLng).replace("{{ns}}",ns)}get supportedLocales(){let locales=[];return this.props.context.siteSettings?.supportedLocales?locales=this.props.context.siteSettings?.supportedLocales.map(supportedLocale=>supportedLocale.locale):locales.push(this.locale),locales.includes("en-UK")&&locales.push("en-GB"),locales}get locale(){return this.props.context.locale}async componentDidUpdate(prevProps){await this.handleLocaleChange(prevProps.context.locale)}async handleLocaleChange(previousLocale){this.locale!==previousLocale&&await i18next__WEBPACK_IMPORTED_MODULE_0__.Ay.changeLanguage(this.locale)}get isReady(){return this.state.ready}render(){return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,this.isReady&&this.props.children)}}TranslationProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any,loadingPath:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_5__.L)(TranslationProvider);TranslationProvider.__docgenInfo={description:"This component set up the translation process",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"getTranslationPath",docblock:"Generates the translation file path for i18next with en-GB to en-UK locale mapping.\n\ni18next no longer supports the non-canonical locale code 'en-UK' and automatically\nfalls back to the canonical 'en-GB' code. To maintain our existing implementation\nwhich uses 'en-UK' folder structure, this method intercepts the en-GB fallback\nand redirects it to our en-UK translation files.\nSee: https://www.i18next.com/misc/migration-guide#v23.x.x-to-v24.0.0\n\n@param {string[]} lngs - Array of language codes from i18next\n@param {string[]} namespaces - Array of namespace identifiers\n@returns {string} The resolved translation file path with en-GB mapped to en-UK",modifiers:[],params:[{name:"lngs",description:"Array of language codes from i18next",type:{name:"Array",elements:[{name:"string"}]},optional:!1},{name:"namespaces",description:"Array of namespace identifiers",type:{name:"Array",elements:[{name:"string"}]},optional:!1}],returns:{description:"The resolved translation file path with en-GB mapped to en-UK",type:{name:"string"}},description:"Generates the translation file path for i18next with en-GB to en-UK locale mapping.\n\ni18next no longer supports the non-canonical locale code 'en-UK' and automatically\nfalls back to the canonical 'en-GB' code. To maintain our existing implementation\nwhich uses 'en-UK' folder structure, this method intercepts the en-GB fallback\nand redirects it to our en-UK translation files.\nSee: https://www.i18next.com/misc/migration-guide#v23.x.x-to-v24.0.0"},{name:"supportedLocales",docblock:"Get supported locales.\n@returns {string[]}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Get supported locales."},{name:"locale",docblock:"Get the locale\n@type {string}",modifiers:["get"],params:[],returns:null,description:"Get the locale"},{name:"handleLocaleChange",docblock:"Check if the locale has changed and update\n@param previousLocale",modifiers:["async"],params:[{name:"previousLocale",optional:!1}],returns:null,description:"Check if the locale has changed and update"},{name:"isReady",docblock:"Returns true when the component can be rendered",modifiers:["get"],params:[],returns:null,description:"Returns true when the component can be rendered"}],displayName:"TranslationProvider",props:{context:{description:"",type:{name:"any"},required:!1},loadingPath:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Loading/LoadingSpinner/LoadingSpinner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/spinner.svg");class LoadingSpinner extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"login-processing"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,this.props.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__.A,null)))}}LoadingSpinner.propTypes={title:prop_types__WEBPACK_IMPORTED_MODULE_1___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default().node),prop_types__WEBPACK_IMPORTED_MODULE_1___default().node,prop_types__WEBPACK_IMPORTED_MODULE_1___default().string])},LoadingSpinner.defaultProps={title:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(LoadingSpinner);LoadingSpinner.__docgenInfo={description:"This component displays a waiting loading spinner",methods:[],displayName:"LoadingSpinner",props:{title:{defaultValue:{value:"<Trans>Please wait...</Trans>",computed:!1},description:"",type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"},{name:"string"}]},required:!1}}}},"./src/react-extension/components/Common/Tooltip/Tooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);class Tooltip extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"tooltip",tabIndex:"0"},this.props.children,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:`tooltip-text ${this.props.direction}`},this.props.message))}}Tooltip.defaultProps={direction:"right"},Tooltip.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any,message:prop_types__WEBPACK_IMPORTED_MODULE_1___default().any.isRequired,direction:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string};const __WEBPACK_DEFAULT_EXPORT__=Tooltip;Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{direction:{defaultValue:{value:"'right'",computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"any"},required:!1},message:{description:"",type:{name:"any"},required:!0}}}},"./src/react-extension/components/Sso/DisplaySsoDisabledError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplaySsoDisabledError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{hasAccepted:!1,hasBeenValidated:!1,errors:{hasNotAccepted:!1}}}get isValid(){return Object.values(this.state.errors).every(value=>!value)}get mustBeDisabled(){return this.state.hasBeenValidated&&!this.isValid}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleAcceptChange=this.handleAcceptChange.bind(this)}handleSubmit(event){event.preventDefault(),this.validate(this.state.hasAccepted)&&this.accept()}handleAcceptChange(){const hasAccepted=!this.state.hasAccepted;this.setState({hasAccepted}),this.state.hasBeenValidated&&this.validate(hasAccepted)}async accept(){this.props.onSignInWithPassphraseClick()}validate(hasAccepted){const isValid=hasAccepted;return this.setState({hasBeenValidated:!0,errors:{hasNotAccepted:!isValid}}),isValid}render(){const disabledClassName=this.mustBeDisabled?"disabled":"";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sso-disabled-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"SSO feature has been disabled")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"For security reasons please check with your administrator that this is a change that they initiated.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{acceptCharset:"utf-8",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox "+(this.state.hasBeenValidated&&this.state.errors.hasNotAccepted?"error":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"confirm-sso-disabled",type:"checkbox",name:"confirm-sso-disabled",value:this.state.hasAccepted,onChange:this.handleAcceptChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"confirm-sso-disabled"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Yes I checked and it is all fine."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:`button primary big full-width ${disabledClassName}`,role:"button",disabled:this.mustBeDisabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Sign in with my passphrase")))))}}DisplaySsoDisabledError.propTypes={onSignInWithPassphraseClick:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplaySsoDisabledError);DisplaySsoDisabledError.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"handleSubmit",docblock:"Whenever the users\n@param event Dom event",modifiers:[],params:[{name:"event",description:"Dom event",optional:!1}],returns:null,description:"Whenever the users"},{name:"handleAcceptChange",docblock:"Whenever the user changes the accept new key checkbox",modifiers:[],params:[],returns:null,description:"Whenever the user changes the accept new key checkbox"},{name:"accept",docblock:"Accepts the new SSO provider",modifiers:["async"],params:[],returns:null,description:"Accepts the new SSO provider"},{name:"validate",docblock:"Validate the security token data\n@param {boolean} hasAccepted the value to validate",modifiers:[],params:[{name:"hasAccepted",description:"the value to validate",type:{name:"boolean"},optional:!1}],returns:null,description:"Validate the security token data"}],displayName:"DisplaySsoDisabledError",props:{onSignInWithPassphraseClick:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Sso/DisplaySsoProviderMismatchError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DisplaySsoProviderMismatchError extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{hasAccepted:!1,hasBeenValidated:!1,errors:{hasNotAccepted:!1}}}get isValid(){return Object.values(this.state.errors).every(value=>!value)}get mustBeDisabled(){return this.state.hasBeenValidated&&!this.isValid}bindEventHandlers(){this.handleSubmit=this.handleSubmit.bind(this),this.handleAcceptChange=this.handleAcceptChange.bind(this)}handleSubmit(event){event.preventDefault(),this.validate(this.state.hasAccepted)&&this.accept()}handleAcceptChange(){const hasAccepted=!this.state.hasAccepted;this.setState({hasAccepted}),this.state.hasBeenValidated&&this.validate(hasAccepted)}async accept(){this.props.onAcceptNewProvider()}validate(hasAccepted){const isValid=hasAccepted;return this.setState({hasBeenValidated:!0,errors:{hasNotAccepted:!isValid}}),isValid}render(){const disabledClassName=this.mustBeDisabled?"disabled":"",ssoProviderName=this.props.newProvider.name;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sso-provider-mismatch-error"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Sorry, the SSO provider has changed.")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"For security reasons please check with your administrator that this is a change that they initiated."),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"The new SSO provider: ",{ssoProviderName})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{acceptCharset:"utf-8",onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input checkbox "+(this.state.hasBeenValidated&&this.state.errors.hasNotAccepted?"error":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:"accept-new-provider",type:"checkbox",name:"accept-new-provider",value:this.state.hasAccepted,onChange:this.handleAcceptChange}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"accept-new-provider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Yes I checked and it is all fine."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:`button primary big full-width ${disabledClassName}`,role:"button",disabled:this.mustBeDisabled},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Accept the new SSO provider")))))}}DisplaySsoProviderMismatchError.propTypes={newProvider:prop_types__WEBPACK_IMPORTED_MODULE_1___default().object.isRequired,onAcceptNewProvider:prop_types__WEBPACK_IMPORTED_MODULE_1___default().func.isRequired};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplaySsoProviderMismatchError);DisplaySsoProviderMismatchError.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the default state",modifiers:["get"],params:[],returns:null,description:"Returns the default state"},{name:"isValid",docblock:"Returns true if the passphrase is valid",modifiers:["get"],params:[],returns:null,description:"Returns true if the passphrase is valid"},{name:"mustBeDisabled",docblock:"Returns true if the component must be in a disabled mode",modifiers:["get"],params:[],returns:null,description:"Returns true if the component must be in a disabled mode"},{name:"bindEventHandlers",docblock:"Handle component event handlers",modifiers:[],params:[],returns:null,description:"Handle component event handlers"},{name:"handleSubmit",docblock:"Whenever the users\n@param event Dom event",modifiers:[],params:[{name:"event",description:"Dom event",optional:!1}],returns:null,description:"Whenever the users"},{name:"handleAcceptChange",docblock:"Whenever the user changes the accept new key checkbox",modifiers:[],params:[],returns:null,description:"Whenever the user changes the accept new key checkbox"},{name:"accept",docblock:"Accepts the new SSO provider",modifiers:["async"],params:[],returns:null,description:"Accepts the new SSO provider"},{name:"validate",docblock:"Validate the security token data\n@param {boolean} hasAccepted the value to validate",modifiers:[],params:[{name:"hasAccepted",description:"the value to validate",type:{name:"boolean"},optional:!1}],returns:null,description:"Validate the security token data"}],displayName:"DisplaySsoProviderMismatchError",props:{newProvider:{description:"",type:{name:"object"},required:!0},onAcceptNewProvider:{description:"",type:{name:"func"},required:!0}}}},"./src/react-extension/test/mock/MockPort.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function delay(t,v){return new Promise(resolve=>{setTimeout(()=>resolve(v),t)})}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=class MockPort{constructor(storage){this.storage=storage,this.onListeners={},this.requestListeners={},this.emitListener={},this.onConnectErrorHandler={}}async emit(name,eventObject){let result;return console.debug(`PORT EMIT: ${name}`),console.debug("Arguments",eventObject),this.emitListener[name]?(result=await this.emitListener[name](eventObject),console.debug("response: ",result)):console.debug(`The emit ${name} has not been mocked`),delay(0,result)}on(name,callback){console.debug(`PORT ON: ${name}`),console.debug("PORT ON PARAMETERS:",callback),this.addOnListener(name,callback)}async request(name){let result;if(console.debug(`PORT REQUEST: ${name}`),console.debug("PORT REQUEST PARAMETERS:",Array.prototype.slice.call(arguments)),this.requestListeners[name]){const listenerArguments=Array.prototype.slice.call(arguments,1,arguments.length);console.debug("listenerArguments",listenerArguments),listenerArguments.push(this.storage),console.debug("listenerArguments",listenerArguments),result=await this.requestListeners[name](...listenerArguments),console.debug("response: ",result)}else console.debug(`The request ${name} has not been mocked`);return delay(0,result)}addEmitListener(name){console.debug(`PORT EMIT: ${name}`),console.debug("PORT EMIT PARAMETERS:",Array.prototype.slice.call(arguments))}addOnListener(name,callback){this.emitListener[name]=callback}addRequestListener(name,callback){this.requestListeners[name]=callback}onConnectError(callback){this.onConnectErrorHandler.callback=callback}}},"./src/shared/lib/Settings/UserSettings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>UserSettings});class UserSettings{constructor(settings){this.settings=settings}get id(){return this.settings["user.id"]}get fullName(){return`${this.settings["user.firstname"]} ${this.settings["user.lastname"]}`}get username(){return this.settings["user.username"]}getTheme(){return this.settings["user.settings.theme"]}getTrustedDomain(){return this.settings["user.settings.trustedDomain"]}getSecurityToken(){return{code:this.settings["user.settings.securityToken.code"],backgroundColor:this.settings["user.settings.securityToken.color"],textColor:this.settings["user.settings.securityToken.textColor"]}}get locale(){return this.settings["user.settings.locale"]}}},"./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_5:()=>defaultMetadataTypesSettingsV6Dto,nB:()=>defaultMetadataTypesSettingsV50FreshDto,qh:()=>defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto,uc:()=>defaultMetadataTypesSettingsV4Dto});const defaultMetadataTypesSettingsV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!1,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV6Dto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v5",default_tag_type:"v5",default_comment_type:"v5",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!0,allow_creation_of_v5_tags:!0,allow_creation_of_v5_comments:!0,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!1,allow_creation_of_v4_tags:!1,allow_creation_of_v4_comments:!1,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50FreshDto=(data={})=>Object.assign({default_resource_types:"v5",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!1,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!1,allow_v5_v4_downgrade:!1},data),defaultMetadataTypesSettingsV50OngoingMigrationFromV4Dto=(data={})=>Object.assign({default_resource_types:"v4",default_folder_type:"v4",default_tag_type:"v4",default_comment_type:"v4",allow_creation_of_v5_resources:!0,allow_creation_of_v5_folders:!1,allow_creation_of_v5_tags:!1,allow_creation_of_v5_comments:!1,allow_creation_of_v4_resources:!0,allow_creation_of_v4_folders:!0,allow_creation_of_v4_tags:!0,allow_creation_of_v4_comments:!0,allow_v4_v5_upgrade:!0,allow_v5_v4_downgrade:!0},data)},"./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V1:()=>resourceTypesCollectionDto,XB:()=>resourceTypesV4CollectionDto,Yd:()=>resourceTypesV5CollectionDto});var _resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeEntity.test.data.js");const resourceTypesCollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()],resourceTypesV4CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.m$)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.KD)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G6)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Lt)()],resourceTypesV5CollectionDto=()=>[(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.G9)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Tl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.tS)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.mF)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.hl)(),(0,_resourceTypeEntity_test_data__WEBPACK_IMPORTED_MODULE_0__.Uz)()]},"./src/shared/models/entity/role/roleEntity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>RoleEntity});var _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/models/entity/abstract/entityV2.js"),_abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js");class RoleEntity extends _abstract_entityV2__WEBPACK_IMPORTED_MODULE_0__.A{static getSchema(){return{type:"object",required:["name"],properties:{id:{type:"string",format:"uuid"},name:{type:"string",minLength:1,maxLength:50},description:{type:"string",maxLength:255,nullable:!0},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"}}}}validateBuildRules(){this.assertNoTrailingSpaces("name",this._props.name)}get id(){return this._props.id||null}get name(){return this._props.name}isAdmin(){return this.name.toLowerCase()===RoleEntity.ROLE_ADMIN}isUser(){return this.name.toLowerCase()===RoleEntity.ROLE_USER}isGuest(){return this.name.toLowerCase()===RoleEntity.ROLE_GUEST}isAReservedRole(){return this.isAdmin()||this.isUser()||this.isGuest()}verifyHealth(){let error=null;return 50===this.name.length&&(error=new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A,error.addError("name","maxLength","name reached maximum length limit")),error}assertNoTrailingSpaces(propName,propValue){if(propValue.trim()!==propValue){const error=new _abstract_entityValidationError__WEBPACK_IMPORTED_MODULE_1__.A;throw error.addError(propName,"trailing-spaces",`The property (${propName}) contains forbidden trailing spaces.`),error}}static get ENTITY_NAME(){return"Role"}static get ROLE_ADMIN(){return"admin"}static get ROLE_USER(){return"user"}static get ROLE_GUEST(){return"guest"}static get ROLE_NAME_MAX_LENGTH(){return 50}}},"./src/shared/models/entity/role/roleEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Dm:()=>userRoleDto,ES:()=>TEST_ROLE_ADMIN_ID,bd:()=>adminRoleDto,j0:()=>customRoleDto,ol:()=>TEST_ROLE_USER_ID,qm:()=>guestRoleDto});var uuid__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const TEST_ROLE_USER_ID=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_ROLE_ADMIN_ID=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),TEST_ROLE_GUEST_ID=(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),userRoleDto=data=>({id:TEST_ROLE_USER_ID,name:"user",description:"Logged in user",...data}),adminRoleDto=data=>({id:TEST_ROLE_ADMIN_ID,name:"admin",description:"Organization administrator",...data}),guestRoleDto=data=>({id:TEST_ROLE_GUEST_ID,name:"guest",description:"Non logged in user",...data}),customRoleDto=data=>({id:(0,uuid__WEBPACK_IMPORTED_MODULE_0__.A)(),name:"accountRecoveryRequestManager",description:"",...data})},"./test/mocks/mockStorage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _src_react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/react-extension/test/mock/MockStorage.js"),_src_shared_models_entity_role_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/models/entity/role/roleEntity.test.data.js"),_src_shared_models_entity_resourceType_resourceTypesCollection_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js"),_src_shared_models_entity_metadata_metadataTypesSettingsEntity_test_data__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.test.data.js"),_src_shared_models_entity_account_accountEntity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/models/entity/account/accountEntity.js"),_src_shared_models_entity_account_accountEntity_test_data__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/models/entity/account/accountEntity.test.data.js");const _passbolt_data={config:{"user.settings.trustedDomain":new URL(window.location.href).origin,"user.firstname":"Ada","user.id":"f848277c-5398-58f8-a82a-72397af2d450","user.lastname":"Lovelace","user.settings.securityToken.code":"III","user.settings.securityToken.color":"#4DB397","user.settings.securityToken.textColor":"#000","user.settings.theme":{id:"9a5ecc88-f4df-5cc2-b152-6ca310127a67",name:"default"},"user.username":"ada@passbolt.com"}},roles=[{id:_src_shared_models_entity_role_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.ES,name:"admin",description:"Organization administrator",created:"2012-07-04T13:39:25+00:00",modified:"2012-07-04T13:39:25+00:00"},{id:"6f02b8d2-e24c-51fe-a452-5a027c26dbef",name:"guest",description:"Non logged in user",created:"2012-07-04T13:39:25+00:00",modified:"2012-07-04T13:39:25+00:00"},{id:_src_shared_models_entity_role_roleEntity_test_data__WEBPACK_IMPORTED_MODULE_1__.ol,name:"user",description:"Logged in user",created:"2012-07-04T13:39:25+00:00",modified:"2012-07-04T13:39:25+00:00"},{id:"eeda6af2-38dc-5e34-b86d-7687878bc38a",name:"root",description:"Super Administrator",created:"2012-07-04T13:39:25+00:00",modified:"2012-07-04T13:39:25+00:00"}],__WEBPACK_DEFAULT_EXPORT__=()=>{const storage=new _src_react_extension_test_mock_MockStorage__WEBPACK_IMPORTED_MODULE_0__.A,resourceTypes=(0,_src_shared_models_entity_resourceType_resourceTypesCollection_test_data__WEBPACK_IMPORTED_MODULE_2__.V1)(),account=new _src_shared_models_entity_account_accountEntity__WEBPACK_IMPORTED_MODULE_4__.A((0,_src_shared_models_entity_account_accountEntity_test_data__WEBPACK_IMPORTED_MODULE_5__.q)()),metadataTypeSettings={[`metadata_types_settings-${account.id}`]:(0,_src_shared_models_entity_metadata_metadataTypesSettingsEntity_test_data__WEBPACK_IMPORTED_MODULE_3__.uc)()};return storage.local.set({_passbolt_data}),storage.local.set({resourceTypes}),storage.local.set({roles}),storage.local.set(metadataTypeSettings),storage}}}]);