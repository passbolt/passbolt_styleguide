/*! For license information please see react-extension-components-Administration-ManageSsoSettings-ManageSsoSettings-test-stories.d45e088e.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[365],{"./src/react-extension/components/Administration/ManageSsoSettings/ManageSsoSettings.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Azure:()=>Azure,Default:()=>Default,ErrorFromTheServer:()=>ErrorFromTheServer,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ManageSsoSettings_test_stories});var DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),AdministrationWorkspaceContext=__webpack_require__("./src/react-extension/contexts/AdministrationWorkspaceContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),Select=__webpack_require__("./src/react-extension/components/Common/Select/Select.js"),AdminSsoContext=__webpack_require__("./src/react-extension/contexts/AdminSsoContext.js");class DisplayAdministrationWorkspaceActions extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this)}async handleSaveClick(){const ssoContext=this.props.adminSsoContext;ssoContext.canDeleteSettings()?ssoContext.showDeleteConfirmationDialog():ssoContext.validateData(!0)&&await ssoContext.saveAndTestConfiguration()}isSaveEnabled(){return Boolean(this.props.adminSsoContext.ssoConfig?.provider)||this.props.adminSsoContext.canDeleteSettings()}render(){return react.createElement("div",{className:"col2_3 actions-wrapper"},react.createElement("div",{className:"actions"},react.createElement("ul",null,react.createElement("li",null,react.createElement("button",{type:"button",disabled:!this.isSaveEnabled(),onClick:this.handleSaveClick},react.createElement(Icon.A,{name:"save"}),react.createElement("span",null,react.createElement(es.x6,null,"Save settings")))))))}}DisplayAdministrationWorkspaceActions.propTypes={adminSsoContext:prop_types_default().object};const DisplayAdministrationSsoActions=(0,AdminSsoContext.df)((0,es.CI)("common")(DisplayAdministrationWorkspaceActions));DisplayAdministrationWorkspaceActions.__docgenInfo={description:"This component is a container of multiple actions applicable on setting",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleSaveClick",docblock:'Handles the click event for the "Save settings" button.\n@returns {Promise<void>}',modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:'Handles the click event for the "Save settings" button.'},{name:"isSaveEnabled",docblock:"Is save button enable\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is save button enable"}],displayName:"DisplayAdministrationWorkspaceActions",props:{adminSsoContext:{description:"",type:{name:"object"},required:!1}}};var SsoProviders_data=__webpack_require__("./src/react-extension/components/Administration/ManageSsoSettings/SsoProviders.data.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),Password=__webpack_require__("./src/shared/components/Password/Password.js"),AzureSsoSettingsEntity=__webpack_require__("./src/shared/models/entity/ssoSettings/AzureSsoSettingsEntity.js");class AzureSsoProviderForm extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createRefs()}get defaultState(){return{advancedSettingsOpened:!1}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this),this.handleAdvancedSettingsCLick=this.handleAdvancedSettingsCLick.bind(this)}createRefs(){this.clientIdInputRef=react.createRef(),this.tenantIdInputRef=react.createRef(),this.clientSecretInputRef=react.createRef(),this.clientSecretExpiryInputRef=react.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const errors=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(errors,["client_id","tenant_id","client_secret","client_secret_expiry"])){case"client_id":this.clientIdInputRef.current.focus();break;case"tenant_id":this.tenantIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus();break;case"client_secret_expiry":this.clientSecretExpiryInputRef.current.focus()}}getFirstFieldInError(errors,fieldPriority){for(let i=0;i<fieldPriority.length;i++){const fieldName=fieldPriority[i];if(errors.hasError(fieldName))return fieldName}return null}handleInputChange(event){const target=event.target,value="checkbox"===target.type?target.checked:target.value,name=target.name;this.props.adminSsoContext.setValue(name,value)}handleAdvancedSettingsCLick(){this.setState({advancedSettingsOpened:!this.state.advancedSettingsOpened})}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(errors){return Object.values(errors)}get availableUrlList(){return AzureSsoSettingsEntity.A.SUPPORTED_URLS.map((url=>({value:url,label:url})))}get emailClaimList(){return[{value:"email",label:this.translate("Email")},{value:"preferred_username",label:this.translate("Preferred username")},{value:"upn",label:this.translate("UPN")}]}get promptOptionList(){return[{value:"login",label:this.translate("Login")},{value:"none",label:this.translate("None")}]}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/azure/redirect`}get translate(){return this.props.t}render(){const ssoContext=this.props.adminSsoContext,ssoConfig=ssoContext.getSsoConfiguration(),errors=ssoContext.getErrors();return react.createElement(react.Fragment,null,react.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",{htmlFor:"sso-azure-url-input"},react.createElement(es.x6,null,"Login URL")),react.createElement(Select.A,{id:"sso-azure-url-input",name:"url",items:this.availableUrlList,value:ssoConfig.url,onChange:this.handleInputChange}),react.createElement("p",null,react.createElement(es.x6,null,"The Azure AD authentication endpoint. See ",react.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/authentication-national-cloud#azure-ad-authentication-endpoints",rel:"noopener noreferrer",target:"_blank"},"alternatives"),"."))),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Redirect URL")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),react.createElement("button",{type:"button",onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button-icon"},react.createElement(Icon.A,{name:"copy-to-clipboard"}))),react.createElement("p",null,react.createElement(es.x6,null,"The URL to provide to Azure when registering the application."))),react.createElement("hr",null),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Application (client) ID")),react.createElement("input",{id:"sso-azure-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:ssoConfig.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),errors?.hasError("client_id")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_id"))),react.createElement("p",null,react.createElement(es.x6,null,"The public identifier for the app in Azure in UUID format.")," ",react.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/healthcare-apis/register-application#application-id-client-id",rel:"noopener noreferrer",target:"_blank"},react.createElement(es.x6,null,"Where to find it?")))),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Directory (tenant) ID")),react.createElement("input",{id:"sso-azure-tenant-id-input",type:"text",className:"fluid form-element",name:"tenant_id",ref:this.tenantIdInputRef,value:ssoConfig.tenant_id,onChange:this.handleInputChange,placeholder:this.translate("Directory ID"),disabled:this.hasAllInputDisabled()}),errors?.hasError("tenant_id")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("tenant_id"))),react.createElement("p",null,react.createElement(es.x6,null,"The Azure Active Directory tenant ID, in UUID format.")," ",react.createElement("a",{href:"https://learn.microsoft.com/en-gb/azure/active-directory/fundamentals/active-directory-how-to-find-tenant",rel:"noopener noreferrer",target:"_blank"},react.createElement(es.x6,null,"Where to find it?")))),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret")),react.createElement(Password.A,{id:"sso-azure-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:ssoConfig.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),errors?.hasError("client_secret")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_secret"))),react.createElement("p",null,react.createElement(es.x6,null,"Allows Azure and Passbolt API to securely share information.")," ",react.createElement("a",{href:"https://learn.microsoft.com/en-us/azure/marketplace/create-or-update-client-ids-and-secrets#add-a-client-id-and-client-secret",rel:"noopener noreferrer",target:"_blank"},react.createElement(es.x6,null,"Where to find it?")))),react.createElement("div",{className:"input text date-wrapper required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret expiry")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"sso-azure-secret-expiry-input",type:"date",className:"fluid form-element "+(ssoConfig.client_secret_expiry?"":"empty"),name:"client_secret_expiry",ref:this.clientSecretExpiryInputRef,value:ssoConfig.client_secret_expiry||"",onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),react.createElement(Icon.A,{name:"calendar"})),errors?.hasError("client_secret_expiry")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_secret_expiry")))),react.createElement("div",{className:"warning message"},react.createElement(es.x6,null,react.createElement("b",null,"Warning"),": This secret will expire after some time (typically a few months). Make sure you save the expiry date and rotate it on time.")),react.createElement("div",null,react.createElement("div",{className:"accordion operation-details "+(this.state.advancedSettingsOpened?"":"closed")},react.createElement("div",{className:"accordion-header",onClick:this.handleAdvancedSettingsCLick},react.createElement("button",{type:"button",className:"link no-border",id:"advanced-settings-panel-button"},react.createElement(es.x6,null,"Advanced settings"),"Â ",react.createElement(Icon.A,{name:this.state.advancedSettingsOpened?"caret-down":"caret-right"}))))),this.state.advancedSettingsOpened&&react.createElement(react.Fragment,null,react.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",{htmlFor:"email-claim-input"},react.createElement(es.x6,null,"Email claim")),react.createElement(Select.A,{id:"email-claim-input",name:"email_claim",items:this.emailClaimList,value:ssoConfig.email_claim,onChange:this.handleInputChange}),react.createElement("p",null,react.createElement(es.x6,null,"Defines which Azure field needs to be used as Passbolt username."))),"upn"===ssoConfig.email_claim&&react.createElement("div",{className:"warning message"},react.createElement(es.x6,null,react.createElement("b",null,"Warning"),": UPN is not active by default on Azure and requires a specific option set on Azure to be working.")),react.createElement("div",{className:"select-wrapper input required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",{htmlFor:"prompt-input"},react.createElement(es.x6,null,"Prompt")),react.createElement(Select.A,{id:"prompt-input",name:"prompt",items:this.promptOptionList,value:ssoConfig.prompt,onChange:this.handleInputChange}),react.createElement("p",null,react.createElement(es.x6,null,"Defines the Azure login behaviour by prompting the user to fully login each time or not.")))))}}AzureSsoProviderForm.propTypes={adminSsoContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,t:prop_types_default().func};const SsoProviderForm_AzureSsoProviderForm=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,AdminSsoContext.df)((0,es.CI)("common")(AzureSsoProviderForm))));AzureSsoProviderForm.__docgenInfo={description:"This component displays the Azure SSO settings form",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:null,modifiers:[],params:[],returns:null},{name:"getFirstFieldInError",docblock:"Returns the first field with an error (first in the given list)\n@param {EntityValidationError} errors\n@param {Array<string>} fieldPriority the ordered list of field to check\n@returns {string|null}",modifiers:[],params:[{name:"errors",type:{name:"EntityValidationError"},optional:!1},{name:"fieldPriority",description:"the ordered list of field to check",type:{name:"Array",elements:[{name:"string"}]},optional:!1}],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the first field with an error (first in the given list)"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleAdvancedSettingsCLick",docblock:"Handle advanced settings panel button click",modifiers:[],params:[],returns:null,description:"Handle advanced settings panel button click"},{name:"handleCopyRedirectUrl",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"displayErrors",docblock:"Returns an array of string from the errors so React can display them.\n@param {Object} errors\n@returns {Array<string>}",modifiers:[],params:[{name:"errors",type:{name:"Object"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Returns an array of string from the errors so React can display them."},{name:"availableUrlList",docblock:"Get the different URLs Azure supports for the URL select input.\n@returns {Array<{value: string, label: string}}",modifiers:["get"],params:[],returns:null,description:"Get the different URLs Azure supports for the URL select input."},{name:"emailClaimList",docblock:"Get the different options for email claim select input.\n@returns {Array<{value: string, label: string}}",modifiers:["get"],params:[],returns:null,description:"Get the different options for email claim select input."},{name:"promptOptionList",docblock:"Get the different options for prompt select input.\n@returns {Array<{value: string, label: string}}",modifiers:["get"],params:[],returns:null,description:"Get the different options for prompt select input."},{name:"fullRedirectUrl",docblock:"Get the full redirection URL;",modifiers:["get"],params:[],returns:null,description:"Get the full redirection URL;"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"AzureSsoProviderForm",props:{adminSsoContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};class GoogleSsoProviderForm extends react.PureComponent{constructor(props){super(props),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.clientIdInputRef=react.createRef(),this.clientSecretInputRef=react.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const errors=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(errors,["client_id","client_secret"])){case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(errors,fieldPriority){for(let i=0;i<fieldPriority.length;i++){const fieldName=fieldPriority[i];if(errors.hasError(fieldName))return fieldName}return null}handleInputChange(event){const target=event.target,value="checkbox"===target.type?target.checked:target.value,name=target.name;this.props.adminSsoContext.setValue(name,value)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(errors){return Object.values(errors)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/google/redirect`}get translate(){return this.props.t}render(){const ssoContext=this.props.adminSsoContext,ssoConfig=ssoContext.getSsoConfiguration(),errors=ssoContext.getErrors();return react.createElement(react.Fragment,null,react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Redirect URL")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),react.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},react.createElement(Icon.A,{name:"copy-to-clipboard"}))),react.createElement("p",null,react.createElement(es.x6,null,"The URL to provide to Google when registering the application."))),react.createElement("hr",null),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Application (client) ID")),react.createElement("input",{id:"sso-google-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:ssoConfig.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),errors?.hasError("client_id")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_id"))),react.createElement("p",null,react.createElement(es.x6,null,"The public identifier for the app in Google in UUID format.")," ",react.createElement("a",{href:"https://developers.google.com/identity/openid-connect/openid-connect#authenticationuriparameters",rel:"noopener noreferrer",target:"_blank"},react.createElement(es.x6,null,"Where to find it?")))),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret")),react.createElement(Password.A,{id:"sso-google-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:ssoConfig.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),errors?.hasError("client_secret")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_secret"))),react.createElement("p",null,react.createElement(es.x6,null,"Allows Google and Passbolt API to securely share information.")," ",react.createElement("a",{href:"https://developers.google.com/identity/openid-connect/openid-connect#authenticationuriparameters",rel:"noopener noreferrer",target:"_blank"},react.createElement(es.x6,null,"Where to find it?")))))}}GoogleSsoProviderForm.propTypes={adminSsoContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,t:prop_types_default().func};const SsoProviderForm_GoogleSsoProviderForm=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,AdminSsoContext.df)((0,es.CI)("common")(GoogleSsoProviderForm))));GoogleSsoProviderForm.__docgenInfo={description:"This component displays the Google SSO settings form",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:null,modifiers:[],params:[],returns:null},{name:"getFirstFieldInError",docblock:"Returns the first field with an error (first in the given list)\n@param {EntityValidationError} errors\n@param {Array<string>} fieldPriority the ordered list of field to check\n@returns {string|null}",modifiers:[],params:[{name:"errors",type:{name:"EntityValidationError"},optional:!1},{name:"fieldPriority",description:"the ordered list of field to check",type:{name:"Array",elements:[{name:"string"}]},optional:!1}],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the first field with an error (first in the given list)"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleCopyRedirectUrl",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"displayErrors",docblock:"Returns an array of string from the errors so React can display them.\n@param {Object} errors\n@returns {Array<string>}",modifiers:[],params:[{name:"errors",type:{name:"Object"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Returns an array of string from the errors so React can display them."},{name:"fullRedirectUrl",docblock:"Get the full redirection URL;",modifiers:["get"],params:[],returns:null,description:"Get the full redirection URL;"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"GoogleSsoProviderForm",props:{adminSsoContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};class OAuth2SsoProviderForm extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.urlInputRef=react.createRef(),this.clientIdInputRef=react.createRef(),this.clientSecretInputRef=react.createRef(),this.openIdConfigurationPathInputRef=react.createRef(),this.scopeInputRef=react.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const errors=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(errors,["url","openid_configuration_path","scope","client_id","client_secret"])){case"url":this.urlInputRef.current.focus();break;case"openid_configuration_path":this.openIdConfigurationPathInputRef.current.focus();break;case"scope":this.scopeInputRef.current.focus();break;case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(errors,fieldPriority){for(let i=0;i<fieldPriority.length;i++){const fieldName=fieldPriority[i];if(errors.hasError(fieldName))return fieldName}return null}handleInputChange(event){const target=event.target,value="checkbox"===target.type?target.checked:target.value,name=target.name;this.props.adminSsoContext.setValue(name,value)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(errors){return Object.values(errors)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/oauth2/redirect`}get translate(){return this.props.t}render(){const ssoContext=this.props.adminSsoContext,ssoConfig=ssoContext.getSsoConfiguration(),errors=ssoContext.getErrors();return react.createElement(react.Fragment,null,react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Login URL")),react.createElement("input",{id:"sso-oauth2-url-input",type:"text",className:"fluid form-element",name:"url",ref:this.urlInputRef,value:ssoConfig.url,onChange:this.handleInputChange,placeholder:this.translate("Login URL"),disabled:this.hasAllInputDisabled()}),errors?.hasError("url")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("url"))),react.createElement("p",null,react.createElement(es.x6,null,"The OAuth2 authentication endpoint."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Redirect URL")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),react.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},react.createElement(Icon.A,{name:"copy-to-clipboard"}))),react.createElement("p",null,react.createElement(es.x6,null,"The URL to provide to the OAuth2 platform when registering the application."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"OpenId Configuration Path")),react.createElement("input",{id:"sso-oauth2-openid-configuration-path-input",type:"text",className:"fluid form-element",name:"openid_configuration_path",ref:this.openIdConfigurationPathInputRef,value:ssoConfig.openid_configuration_path,onChange:this.handleInputChange,placeholder:this.translate("OpenId Configuration Path"),disabled:this.hasAllInputDisabled()}),errors?.hasError("openid_configuration_path")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("openid_configuration_path"))),react.createElement("p",null,react.createElement(es.x6,null,"The OpenId configuration relative path from the given login url."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Scope")),react.createElement("input",{id:"sso-oauth2-scope-input",type:"text",className:"fluid form-element",name:"scope",ref:this.scopeInputRef,value:ssoConfig.scope,onChange:this.handleInputChange,placeholder:this.translate("Scope"),disabled:this.hasAllInputDisabled()}),errors?.hasError("scope")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("scope"))),react.createElement("p",null,react.createElement(es.x6,null,"The OpenId scope."))),react.createElement("hr",null),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Application (client) ID")),react.createElement("input",{id:"sso-oauth2-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:ssoConfig.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),errors?.hasError("client_id")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_id"))),react.createElement("p",null,react.createElement(es.x6,null,"The public identifier for the OpenId app."))),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret")),react.createElement(Password.A,{id:"sso-oauth2-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:ssoConfig.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),errors?.hasError("client_secret")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_secret"))),react.createElement("p",null,react.createElement(es.x6,null,"Allows your OAuth2 provider and Passbolt API to securely share information."))))}}OAuth2SsoProviderForm.propTypes={adminSsoContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,t:prop_types_default().func};const SsoProviderForm_OAuth2SsoProviderForm=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,AdminSsoContext.df)((0,es.CI)("common")(OAuth2SsoProviderForm))));OAuth2SsoProviderForm.__docgenInfo={description:"This component displays the OAuth2 SSO settings form",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:null,modifiers:[],params:[],returns:null},{name:"getFirstFieldInError",docblock:"Returns the first field with an error (first in the given list)\n@param {EntityValidationError} errors\n@param {Array<string>} fieldPriority the ordered list of field to check\n@returns {string|null}",modifiers:[],params:[{name:"errors",type:{name:"EntityValidationError"},optional:!1},{name:"fieldPriority",description:"the ordered list of field to check",type:{name:"Array",elements:[{name:"string"}]},optional:!1}],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the first field with an error (first in the given list)"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleCopyRedirectUrl",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"displayErrors",docblock:"Returns an array of string from the errors so React can display them.\n@param {Object} errors\n@returns {Array<string>}",modifiers:[],params:[{name:"errors",type:{name:"Object"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Returns an array of string from the errors so React can display them."},{name:"fullRedirectUrl",docblock:"Get the full redirection URL;",modifiers:["get"],params:[],returns:null,description:"Get the full redirection URL;"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"OAuth2SsoProviderForm",props:{adminSsoContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};class AdfsSsoProviderForm extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.createRefs()}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handleCopyRedirectUrl=this.handleCopyRedirectUrl.bind(this)}createRefs(){this.urlInputRef=react.createRef(),this.clientIdInputRef=react.createRef(),this.clientSecretInputRef=react.createRef(),this.openIdConfigurationPathInputRef=react.createRef(),this.scopeInputRef=react.createRef()}componentDidUpdate(){if(!this.props.adminSsoContext.consumeFocusOnError())return;const errors=this.props.adminSsoContext.getErrors();switch(this.getFirstFieldInError(errors,["url","openid_configuration_path","scope","client_id","client_secret"])){case"url":this.urlInputRef.current.focus();break;case"openid_configuration_path":this.openIdConfigurationPathInputRef.current.focus();break;case"scope":this.scopeInputRef.current.focus();break;case"client_id":this.clientIdInputRef.current.focus();break;case"client_secret":this.clientSecretInputRef.current.focus()}}getFirstFieldInError(errors,fieldPriority){for(let i=0;i<fieldPriority.length;i++){const fieldName=fieldPriority[i];if(errors.hasError(fieldName))return fieldName}return null}handleInputChange(event){const{value,name}=event.target;this.props.adminSsoContext.setValue(name,value)}async handleCopyRedirectUrl(){await navigator.clipboard.writeText(this.fullRedirectUrl),await this.props.actionFeedbackContext.displaySuccess(this.translate("The redirection URL has been copied to the clipboard."))}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()}displayErrors(errors){return Object.values(errors)}get fullRedirectUrl(){return`${this.props.context.userSettings.getTrustedDomain()}/sso/adfs/redirect`}get translate(){return this.props.t}render(){const ssoContext=this.props.adminSsoContext,ssoConfig=ssoContext.getSsoConfiguration(),errors=ssoContext.getErrors();return react.createElement(react.Fragment,null,react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Login URL")),react.createElement("input",{id:"sso-adfs-url-input",type:"text",className:"fluid form-element",name:"url",ref:this.urlInputRef,value:ssoConfig.url,onChange:this.handleInputChange,placeholder:this.translate("Login URL"),disabled:this.hasAllInputDisabled()}),errors?.hasError("url")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("url"))),react.createElement("p",null,react.createElement(es.x6,null,"The AD FS authentication endpoint."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Redirect URL")),react.createElement("div",{className:"button-inline"},react.createElement("input",{id:"sso-redirect-url-input",type:"text",className:"fluid form-element disabled",name:"redirect_url",value:this.fullRedirectUrl,placeholder:this.translate("Redirect URL"),readOnly:!0,disabled:!0}),react.createElement("a",{onClick:this.handleCopyRedirectUrl,className:"copy-to-clipboard button button-icon"},react.createElement(Icon.A,{name:"copy-to-clipboard"}))),react.createElement("p",null,react.createElement(es.x6,null,"The URL to provide to the AD FS platform when registering the application."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"OpenId Configuration Path")),react.createElement("input",{id:"sso-adfs-openid-configuration-path-input",type:"text",className:"fluid form-element",name:"openid_configuration_path",ref:this.openIdConfigurationPathInputRef,value:ssoConfig.openid_configuration_path,onChange:this.handleInputChange,placeholder:this.translate("OpenId Configuration Path"),disabled:this.hasAllInputDisabled()}),errors?.hasError("openid_configuration_path")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("openid_configuration_path"))),react.createElement("p",null,react.createElement(es.x6,null,"The AD FS configuration relative path from the given login url."))),react.createElement("hr",null),react.createElement("div",{className:"input text input-wrapper "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Scope")),react.createElement("input",{id:"sso-adfs-scope-input",type:"text",className:"fluid form-element",name:"scope",ref:this.scopeInputRef,value:ssoConfig.scope,onChange:this.handleInputChange,placeholder:this.translate("Scope"),disabled:this.hasAllInputDisabled()}),errors?.hasError("scope")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("scope"))),react.createElement("p",null,react.createElement(es.x6,null,"The AD FS scope."))),react.createElement("hr",null),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Application (client) ID")),react.createElement("input",{id:"sso-adfs-client-id-input",type:"text",className:"fluid form-element",name:"client_id",ref:this.clientIdInputRef,value:ssoConfig.client_id,onChange:this.handleInputChange,placeholder:this.translate("Application (client) ID"),disabled:this.hasAllInputDisabled()}),errors?.hasError("client_id")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_id"))),react.createElement("p",null,react.createElement(es.x6,null,"The public identifier for the AD FS app."))),react.createElement("div",{className:"input text required "+(this.hasAllInputDisabled()?"disabled":"")},react.createElement("label",null,react.createElement(es.x6,null,"Secret")),react.createElement(Password.A,{id:"sso-adfs-secret-input",className:"fluid form-element",onChange:this.handleInputChange,autoComplete:"off",name:"client_secret",placeholder:this.translate("Secret"),disabled:this.hasAllInputDisabled(),value:ssoConfig.client_secret,preview:!0,inputRef:this.clientSecretInputRef}),errors?.hasError("client_secret")&&react.createElement("div",{className:"error-message"},this.displayErrors(errors.getError("client_secret"))),react.createElement("p",null,react.createElement(es.x6,null,"Allows your AD FS provider and Passbolt API to securely share information."))))}}AdfsSsoProviderForm.propTypes={adminSsoContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,t:prop_types_default().func};const SsoProviderForm_AdfsSsoProviderForm=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,AdminSsoContext.df)((0,es.CI)("common")(AdfsSsoProviderForm))));AdfsSsoProviderForm.__docgenInfo={description:"This component displays the Adfs SSO settings form",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"getFirstFieldInError",docblock:"Returns the first field with an error (first in the given list)\n@param {EntityValidationError} errors\n@param {Array<string>} fieldPriority the ordered list of field to check\n@returns {string|null}",modifiers:[],params:[{name:"errors",type:{name:"EntityValidationError"},optional:!1},{name:"fieldPriority",description:"the ordered list of field to check",type:{name:"Array",elements:[{name:"string"}]},optional:!1}],returns:{type:{name:"union",elements:[{name:"string"}]}},description:"Returns the first field with an error (first in the given list)"},{name:"handleInputChange",docblock:"Handle form input changes.\n@params {ReactEvent} The react event\n@returns {void}",modifiers:[],params:[{name:"event",optional:!1}],returns:{type:{name:"void"}},description:"Handle form input changes."},{name:"handleCopyRedirectUrl",docblock:"Handle the copy to clipboard button",modifiers:["async"],params:[],returns:null,description:"Handle the copy to clipboard button"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"displayErrors",docblock:"Returns an array of string from the errors so React can display them.\n@param {Object} errors\n@returns {Array<string>}",modifiers:[],params:[{name:"errors",type:{name:"Object"},optional:!1}],returns:{type:{name:"Array",elements:[{name:"string"}]}},description:"Returns an array of string from the errors so React can display them."},{name:"fullRedirectUrl",docblock:"Get the full redirection URL;",modifiers:["get"],params:[],returns:null,description:"Get the full redirection URL;"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"AdfsSsoProviderForm",props:{adminSsoContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var GoogleSsoSettingsEntity=__webpack_require__("./src/shared/models/entity/ssoSettings/GoogleSsoSettingsEntity.js"),OAuth2SsoSettingsEntity=__webpack_require__("./src/shared/models/entity/ssoSettings/OAuth2SsoSettingsEntity.js"),AdfsSsoSettingsEntity=__webpack_require__("./src/shared/models/entity/ssoSettings/AdfsSsoSettingsEntity.js");class ManageSsoSettings extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,providers:[]}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(DisplayAdministrationSsoActions),await this.props.adminSsoContext.loadSsoConfiguration(),this.setState({loading:!1,providers:this.props.adminSsoContext.getProviderList()||[]})}bindCallbacks(){this.handleProviderInputChange=this.handleProviderInputChange.bind(this),this.handleSsoSettingToggle=this.handleSsoSettingToggle.bind(this)}handleProviderInputChange(event){this.props.adminSsoContext.changeProvider({id:event.target.value})}handleSsoSettingToggle(){this.props.adminSsoContext.isSsoConfigActivated()&&this.props.adminSsoContext.disableSso()}hasAllInputDisabled(){return this.props.adminSsoContext.isProcessing()||this.state.loading}get allSsoProviders(){const apiSupportedProvider=this.state.providers;return SsoProviders_data.A.map((bextKnownProvider=>{const newProvider={...bextKnownProvider};return newProvider.disabled=Boolean(newProvider.disabled)||!apiSupportedProvider.includes(newProvider.id),newProvider})).filter((provider=>!provider.disabled||provider.disabled&&!provider?.hiddenIfDisabled))}get supportedSsoProviders(){const providerIdList=this.state.providers,providerDataList=[];return providerIdList.forEach((providerId=>{const providerData=SsoProviders_data.A.find((provider=>provider.id===providerId));providerData&&!providerData.disabled&&providerDataList.push({value:providerData.id,label:providerData.name})})),providerDataList}isReady(){return this.props.adminSsoContext.isDataReady()}render(){const ssoContext=this.props.adminSsoContext,ssoConfig=ssoContext.getSsoConfiguration(),isSsoActivated=ssoContext.isSsoConfigActivated();return react.createElement("div",{className:"row"},react.createElement("div",{className:"third-party-provider-settings sso-settings col8 main-column"},react.createElement("h3",null,react.createElement("span",{className:"input toggle-switch form-element"},react.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"ssoToggle",onChange:this.handleSsoSettingToggle,checked:isSsoActivated,disabled:this.hasAllInputDisabled(),id:"ssoToggle"}),react.createElement("label",{htmlFor:"ssoToggle"},react.createElement(es.x6,null,"Single Sign-On")))),this.props.adminSsoContext.hasFormChanged()&&react.createElement("div",{className:"warning message",id:"sso-setting-overridden-banner"},react.createElement("p",null,react.createElement(es.x6,null,"Warning, Don't forget to save your settings to apply your modification."))),this.isReady()&&!isSsoActivated&&react.createElement(react.Fragment,null,react.createElement("h4",{className:"no-border"},react.createElement(es.x6,null,"Select a provider")),react.createElement("div",{className:"provider-list"},this.allSsoProviders.map((provider=>react.createElement("div",{key:provider.id,className:"provider button "+(provider.disabled?"disabled":""),id:provider.id,onClick:()=>this.props.adminSsoContext.changeProvider(provider)},react.createElement("div",{className:"provider-logo"},provider.icon),react.createElement("p",{className:"provider-name"},provider.name,react.createElement("br",null),provider.disabled&&react.createElement(es.x6,null,"(not yet available)"))))))),this.isReady()&&isSsoActivated&&react.createElement("form",{className:"form"},react.createElement("div",{className:"select-wrapper input"},react.createElement("label",{htmlFor:"sso-provider-input"},react.createElement(es.x6,null,"Single Sign-On provider")),react.createElement(Select.A,{id:"sso-provider-input",name:"provider",items:this.supportedSsoProviders,value:ssoConfig?.provider,onChange:this.handleProviderInputChange})),react.createElement("hr",null),ssoConfig?.provider===AzureSsoSettingsEntity.A.PROVIDER_ID&&react.createElement(SsoProviderForm_AzureSsoProviderForm,null),ssoConfig?.provider===GoogleSsoSettingsEntity.A.PROVIDER_ID&&react.createElement(SsoProviderForm_GoogleSsoProviderForm,null),ssoConfig?.provider===OAuth2SsoSettingsEntity.A.PROVIDER_ID&&react.createElement(SsoProviderForm_OAuth2SsoProviderForm,null),ssoConfig?.provider===AdfsSsoSettingsEntity.A.PROVIDER_ID&&react.createElement(SsoProviderForm_AdfsSsoProviderForm,null))),react.createElement("div",{className:"col4 last"},react.createElement("div",{className:"sidebar-help warning message",id:"sso-setting-security-warning-banner"},react.createElement("h3",null,react.createElement(es.x6,null,"Important notice:")),react.createElement("p",null,react.createElement(es.x6,null,"Enabling SSO changes the security risks.")," ",react.createElement(es.x6,null,"For example an attacker with a local machine access maybe be able to access secrets, if the user is still logged in with the Identity provider.")," ",react.createElement(es.x6,null,"Make sure users follow screen lock best practices."),react.createElement("a",{href:"https://passbolt.com/docs/admin/authentication/sso/",target:"_blank",rel:"noopener noreferrer"},react.createElement(es.x6,null,"Learn more")))),react.createElement("div",{className:"sidebar-help"},react.createElement("h3",null,react.createElement(es.x6,null,"Need some help?")),react.createElement("p",null,react.createElement(es.x6,null,"For more information about SSO, checkout the dedicated page on the help website.")),react.createElement("a",{className:"button",href:"https://passbolt.com/docs/admin/authentication/sso/",target:"_blank",rel:"noopener noreferrer"},react.createElement(Icon.A,{name:"document"}),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),ssoConfig?.provider===AzureSsoSettingsEntity.A.PROVIDER_ID&&react.createElement("div",{className:"sidebar-help"},react.createElement("h3",null,react.createElement(es.x6,null,"How do I configure a AzureAD SSO?")),react.createElement("a",{className:"button",href:"https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/add-application-portal-setup-sso",target:"_blank",rel:"noopener noreferrer"},react.createElement(Icon.A,{name:"external-link"}),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),ssoConfig?.provider===GoogleSsoSettingsEntity.A.PROVIDER_ID&&react.createElement("div",{className:"sidebar-help"},react.createElement("h3",null,react.createElement(es.x6,null,"How do I configure a Google SSO?")),react.createElement("a",{className:"button",href:"https://developers.google.com/identity/openid-connect/openid-connect",target:"_blank",rel:"noopener noreferrer"},react.createElement(Icon.A,{name:"external-link"}),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation")))),ssoConfig?.provider===AdfsSsoSettingsEntity.A.PROVIDER_ID&&react.createElement("div",{className:"sidebar-help"},react.createElement("h3",null,react.createElement(es.x6,null,"How do I configure an AD FS SSO?")),react.createElement("a",{className:"button",href:"https://learn.microsoft.com/en-gb/microsoft-365/troubleshoot/active-directory/set-up-adfs-for-single-sign-on",target:"_blank",rel:"noopener noreferrer"},react.createElement(Icon.A,{name:"external-link"}),react.createElement("span",null,react.createElement(es.x6,null,"Read the documentation"))))))}}ManageSsoSettings.propTypes={administrationWorkspaceContext:prop_types_default().object,adminSsoContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,context:prop_types_default().any,t:prop_types_default().func};const ManageSsoSettings_ManageSsoSettings=(0,AppContext.L)((0,ActionFeedbackContext.ot)((0,AdministrationWorkspaceContext.Kk)((0,AdminSsoContext.df)((0,es.CI)("common")(ManageSsoSettings)))));ManageSsoSettings.__docgenInfo={description:"This component displays the SSO administration settings",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleProviderInputChange",docblock:"Handle provider input change.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle provider input change."},{name:"handleSsoSettingToggle",docblock:"Handle the SSO settings toggle",modifiers:[],params:[],returns:null,description:"Handle the SSO settings toggle"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is loading or processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is loading or processing"},{name:"allSsoProviders",docblock:"Get all the SSO providers the browser extension knows.\nAlso, sets the `disabled` flag to the provider that are not known/activated on the API.\n@returns {Array<object>}",modifiers:["get"],params:[],returns:{type:{name:"Array",elements:[{name:"object"}]}},description:"Get all the SSO providers the browser extension knows.\nAlso, sets the `disabled` flag to the provider that are not known/activated on the API."},{name:"supportedSsoProviders",docblock:"Get the supported SSO providers.\n@returns {Array<{value: string, label: string}}",modifiers:["get"],params:[],returns:null,description:"Get the supported SSO providers."},{name:"isReady",docblock:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the data is loaded.\nUseful to avoid UI blinking during data loading."}],displayName:"ManageSsoSettings",props:{administrationWorkspaceContext:{description:"",type:{name:"object"},required:!1},adminSsoContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},context:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var ExtAppContext_test_data=__webpack_require__("./src/react-extension/contexts/ExtAppContext.test.data.js");function defaultProps(data={}){const defaultProps1={context:(0,ExtAppContext_test_data.st)(data?.context),administrationWorkspaceContext:{setDisplayAdministrationWorkspaceAction:jest.fn(),resetDisplayAdministrationWorkspaceAction:jest.fn(),must:{save:jest.fn()}},dialogContext:{open:jest.fn()}};return delete data.context,Object.assign(defaultProps1,data)}function disabledSso(data={}){return Object.assign({provider:null,providers:["azure","google"]},data)}var DisplayActionFeedbacks=__webpack_require__("./src/react-extension/components/Common/ActionFeedback/DisplayActionFeedbacks.js");const ManageSsoSettings_test_stories={title:"Components/Administration/ManageSsoSettings",component:ManageSsoSettings_ManageSsoSettings},Template=args=>react.createElement(AppContext.A.Provider,{value:args.context},react.createElement(DialogContext.Ay,null,react.createElement(ManageDialogs.A,null),react.createElement(ActionFeedbackContext.Ay,null,react.createElement(DisplayActionFeedbacks.A,null),react.createElement(AdminSsoContext.Ay,args,react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"grid grid-responsive-12"},react.createElement(ManageSsoSettings_ManageSsoSettings,args)))))))),Default=Template.bind({});Default.args=defaultProps(),Default.args.context.port.addRequestListener("passbolt.sso.get-current",disabledSso);const Azure=Template.bind({});Azure.args=defaultProps(),Azure.args.context.port.addRequestListener("passbolt.sso.get-current",(function azureConfiguredSso(data={}){return disabledSso(Object.assign({provider:"azure",providers:["azure","google"],data:{url:"https://login.microsoftonline.com",tenant_id:"5n6p8r9s-m5n6-6p7q-3k5n-8r9s3k4m5n7q",client_id:"f2j3m5n6-c3k4-m5p7-x2j4-y2k4m5n7q8r9",client_secret:"u8x!A%D*G-KaPdSgVkYp3s6v9y$B?E..",client_secret_expiry:"2022-11-02",email_claim:"email",prompt:"login"}},data))}));const ErrorFromTheServer=Template.bind({}),props=defaultProps();delete props.dialogContext,ErrorFromTheServer.args=props,ErrorFromTheServer.args.context.port.addRequestListener("passbolt.sso.get-current",(()=>{throw new Error("Something went wrong")}));const __namedExportsOrder=["Default","Azure","ErrorFromTheServer"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'args => <AppContext.Provider value={args.context}>\n    <DialogContextProvider>\n      <ManageDialogs />\n      <ActionFeedbackContextProvider>\n        <DisplayActionFeedbacks />\n        <AdminSsoSettingsContextProvider {...args}>\n          <div className="panel main">\n            <div className="panel middle">\n              <div className="grid grid-responsive-12">\n                <ManageSsoSettings {...args} />\n              </div>\n            </div>\n          </div>\n        </AdminSsoSettingsContextProvider>\n      </ActionFeedbackContextProvider>\n    </DialogContextProvider>\n  </AppContext.Provider>',...Default.parameters?.docs?.source}}},Azure.parameters={...Azure.parameters,docs:{...Azure.parameters?.docs,source:{originalSource:'args => <AppContext.Provider value={args.context}>\n    <DialogContextProvider>\n      <ManageDialogs />\n      <ActionFeedbackContextProvider>\n        <DisplayActionFeedbacks />\n        <AdminSsoSettingsContextProvider {...args}>\n          <div className="panel main">\n            <div className="panel middle">\n              <div className="grid grid-responsive-12">\n                <ManageSsoSettings {...args} />\n              </div>\n            </div>\n          </div>\n        </AdminSsoSettingsContextProvider>\n      </ActionFeedbackContextProvider>\n    </DialogContextProvider>\n  </AppContext.Provider>',...Azure.parameters?.docs?.source}}},ErrorFromTheServer.parameters={...ErrorFromTheServer.parameters,docs:{...ErrorFromTheServer.parameters?.docs,source:{originalSource:'args => <AppContext.Provider value={args.context}>\n    <DialogContextProvider>\n      <ManageDialogs />\n      <ActionFeedbackContextProvider>\n        <DisplayActionFeedbacks />\n        <AdminSsoSettingsContextProvider {...args}>\n          <div className="panel main">\n            <div className="panel middle">\n              <div className="grid grid-responsive-12">\n                <ManageSsoSettings {...args} />\n              </div>\n            </div>\n          </div>\n        </AdminSsoSettingsContextProvider>\n      </ActionFeedbackContextProvider>\n    </DialogContextProvider>\n  </AppContext.Provider>',...ErrorFromTheServer.parameters?.docs?.source}}}},"./src/react-extension/components/Common/ActionFeedback/DisplayActionFeedbacks.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ActionFeedback_DisplayActionFeedbacks});var react=__webpack_require__("./node_modules/react/index.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class ShareActionFeedback extends react.Component{static get DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS(){return 500}constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{shouldRender:!0,isPersisted:!1,timeoutId:null}}componentDidMount(){this.displayWithTimer(this.props.displayTimeInMs)}componentDidUpdate(previousProps){const hasFeedbackChanged=previousProps&&previousProps.feedback.id!==this.props.feedback.id,hasDisplayTimeChanged=previousProps&&this.props.displayTimeInMs&&previousProps.displayTimeInMs!==this.props.displayTimeInMs;hasFeedbackChanged?(this.setState({shouldRender:!0}),this.displayWithTimer(this.props.displayTimeInMs)):hasDisplayTimeChanged&&this.updateTimer(this.props.displayTimeInMs)}componentWillUnmount(){this.state.timeoutId&&clearTimeout(this.state.timeoutId)}bindCallbacks(){this.persist=this.persist.bind(this),this.displayWithTimer=this.displayWithTimer.bind(this),this.close=this.close.bind(this)}displayWithTimer(displayTimeInMs){this.state.timeoutId&&clearTimeout(this.state.timeoutId);const timeoutId=setTimeout(this.close,displayTimeInMs),time=Date.now();this.setState({timeoutId,time})}updateTimer(displayTimeInMs){const newTime=displayTimeInMs-(Date.now()-this.state.time);newTime>0?this.displayWithTimer(newTime):(clearTimeout(this.state.timeoutId),this.close())}persist(){this.state.timeoutId&&!this.state.isPersisted&&(clearTimeout(this.state.timeoutId),this.setState({isPersisted:!0}))}close(){this.setState({shouldRender:!1}),setTimeout(this.props.onClose,ShareActionFeedback.DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS)}render(){return react.createElement(react.Fragment,null,react.createElement("div",{className:"notification",onMouseOver:this.persist,onMouseLeave:this.displayWithTimer,onClick:this.close},react.createElement("div",{className:`message animated ${this.state.shouldRender?"fadeInUp":"fadeOutUp"} ${this.props.feedback.type}`},react.createElement("span",{className:"content"},react.createElement("strong",null,"success"===this.props.feedback.type&&react.createElement(react.Fragment,null,react.createElement(es.x6,null,"Success"),": "),"error"===this.props.feedback.type&&react.createElement(react.Fragment,null,react.createElement(es.x6,null,"Error"),": ")),this.props.feedback.message))))}}ShareActionFeedback.propTypes={feedback:prop_types_default().object,onClose:prop_types_default().func,displayTimeInMs:prop_types_default().number};const ActionFeedback_ShareActionFeedback=(0,es.CI)("common")(ShareActionFeedback);ShareActionFeedback.__docgenInfo={description:"Child component that displays a single action feedback",methods:[{name:"DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS",docblock:"Default time to wait before closing a feedback in ms",modifiers:["static","get"],params:[],returns:null,description:"Default time to wait before closing a feedback in ms"},{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindCallbacks",docblock:"Bind the component method callback",modifiers:[],params:[],returns:null,description:"Bind the component method callback"},{name:"displayWithTimer",docblock:"Display the feedback for a while and then disappear\n@param {number} displayTimeInMs The time to display the feedback",modifiers:[],params:[{name:"displayTimeInMs",description:"The time to display the feedback",type:{name:"number"},optional:!1}],returns:null,description:"Display the feedback for a while and then disappear"},{name:"updateTimer",docblock:"Update the timer of the currently displayed feedback.\n@param {number} displayTimeInMs The new time",modifiers:[],params:[{name:"displayTimeInMs",description:"The new time",type:{name:"number"},optional:!1}],returns:null,description:"Update the timer of the currently displayed feedback."},{name:"persist",docblock:"Persist the display of the feedback",modifiers:[],params:[],returns:null,description:"Persist the display of the feedback"},{name:"close",docblock:"Close the feedback",modifiers:[],params:[],returns:null,description:"Close the feedback"}],displayName:"ShareActionFeedback",props:{feedback:{description:"",type:{name:"object"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},displayTimeInMs:{description:"",type:{name:"number"},required:!1}}};class DisplayActionFeedbacks extends react.Component{constructor(props){super(props),this.bindCallbacks()}static get DEFAULT_DISPLAY_TIME_IN_MS(){return 5e3}static get DEFAULT_DISPLAY_MIN_TIME_IN_MS(){return 1200}bindCallbacks(){this.close=this.close.bind(this)}get feedbackToDisplay(){return this.props.actionFeedbackContext.feedbacks[0]}get length(){return this.props.actionFeedbackContext.feedbacks.length}get hasFeedbacks(){return this.length>0}async close(feedback){await this.props.actionFeedbackContext.remove(feedback)}render(){const displayTimeInMs=this.length>1?DisplayActionFeedbacks.DEFAULT_DISPLAY_MIN_TIME_IN_MS:DisplayActionFeedbacks.DEFAULT_DISPLAY_TIME_IN_MS;return react.createElement(react.Fragment,null,this.hasFeedbacks&&react.createElement("div",{className:"notification-container"},react.createElement(ActionFeedback_ShareActionFeedback,{feedback:this.feedbackToDisplay,onClose:()=>this.close(this.feedbackToDisplay),displayTimeInMs})))}}DisplayActionFeedbacks.propTypes={actionFeedbackContext:prop_types_default().any};const ActionFeedback_DisplayActionFeedbacks=(0,ActionFeedbackContext.ot)(DisplayActionFeedbacks);DisplayActionFeedbacks.__docgenInfo={description:"This component displays the list of actions feedbacks using the action feedback context.\nIt displays one at a time (the oldest one) and displays the next one when the user / system closes the current one",methods:[{name:"DEFAULT_DISPLAY_TIME_IN_MS",docblock:"Default display time in ms",modifiers:["static","get"],params:[],returns:null,description:"Default display time in ms"},{name:"DEFAULT_DISPLAY_MIN_TIME_IN_MS",docblock:"Default minimum display time in ms",modifiers:["static","get"],params:[],returns:null,description:"Default minimum display time in ms"},{name:"bindCallbacks",docblock:"Bind component method callbacks",modifiers:[],params:[],returns:null,description:"Bind component method callbacks"},{name:"feedbackToDisplay",docblock:"Returns the feedback to displau",modifiers:["get"],params:[],returns:null,description:"Returns the feedback to displau"},{name:"length",docblock:"Returns the length of the feedbacks list.\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Returns the length of the feedbacks list."},{name:"hasFeedbacks",docblock:"Returns true there's at least one feedback to display",modifiers:["get"],params:[],returns:null,description:"Returns true there's at least one feedback to display"},{name:"close",docblock:"Closes a feedback message",modifiers:["async"],params:[{name:"feedback",optional:!1}],returns:null,description:"Closes a feedback message"}],displayName:"DisplayActionFeedbacks",props:{actionFeedbackContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageDialogs extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(index){const dialog=this.props.dialogContext.dialogs.find((({key})=>key===index));dialog?.DialogProps?.onClose&&dialog.DialogProps.onClose(),this.props.dialogContext.close(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.dialogContext.dialogs.map((({key,Dialog,DialogProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Dialog,{key,...DialogProps,onClose:()=>this.close(key)}))),this.props.children)}}ManageDialogs.propTypes={dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_1__.z9)(ManageDialogs);ManageDialogs.__docgenInfo={description:"This component acts as an anchor for the different project dialogs.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"close",docblock:"Removes the index-th dialog",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th dialog"}],displayName:"ManageDialogs",props:{dialogContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/components/Password/Password.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/components/Icons/Icon.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class Password extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{viewPassword:!1,hasPassphraseFocus:!1}}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this),this.handlePasswordInputFocus=this.handlePasswordInputFocus.bind(this),this.handlePasswordInputBlur=this.handlePasswordInputBlur.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this)}handleInputChange(event){this.props.onChange&&this.props.onChange(event)}handlePasswordInputFocus(){this.setState({hasPassphraseFocus:!0})}handlePasswordInputBlur(){this.setState({hasPassphraseFocus:!1})}handleViewPasswordButtonClick(){this.props.disabled||this.setState({viewPassword:!this.state.viewPassword})}get securityTokenStyle(){const inverseStyle={background:this.props.securityToken.textColor,color:this.props.securityToken.backgroundColor},fullStyle={background:this.props.securityToken.backgroundColor,color:this.props.securityToken.textColor};return this.state.hasPassphraseFocus?inverseStyle:fullStyle}get passphraseInputStyle(){const fullStyle={background:this.props.securityToken.backgroundColor,color:this.props.securityToken.textColor,"--passphrase-placeholder-color":this.props.securityToken.textColor};return this.state.hasPassphraseFocus?fullStyle:undefined}get previewStyle(){const fullStyle={"--icon-color":this.props.securityToken.textColor,"--icon-background-color":this.props.securityToken.backgroundColor};return this.state.hasPassphraseFocus?fullStyle:void 0}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:`input password ${this.props.disabled?"disabled":""} ${this.state.hasPassphraseFocus?"":"no-focus"} ${this.props.securityToken?"security":""}`,style:this.props.securityToken?this.passphraseInputStyle:void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{id:this.props.id,name:this.props.name,maxLength:"4096",placeholder:this.props.placeholder,type:this.state.viewPassword&&!this.props.disabled?"text":"password",onKeyUp:this.props.onKeyUp,value:this.props.value,onFocus:this.handlePasswordInputFocus,onBlur:this.handlePasswordInputBlur,onChange:this.handleInputChange,disabled:this.props.disabled,readOnly:this.props.readOnly,autoComplete:this.props.autoComplete,"aria-required":!0,ref:this.props.inputRef}),this.props.preview&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"password-view-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleViewPasswordButtonClick,style:this.props.securityToken?this.previewStyle:void 0,className:"password-view infield button-transparent "+(this.props.disabled?"disabled":"")},!this.state.viewPassword&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"eye-open"}),this.state.viewPassword&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icons_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{name:"eye-close"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visually-hidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"View")))),this.props.securityToken&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"security-token-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"security-token",style:this.securityTokenStyle},this.props.securityToken.code)))}}Password.defaultProps={id:"",name:"",autoComplete:"off"},Password.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,id:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,name:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,autoComplete:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,inputRef:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,preview:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,onChange:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,onKeyUp:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,securityToken:prop_types__WEBPACK_IMPORTED_MODULE_3___default().shape({code:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,backgroundColor:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,textColor:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string})};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(Password);Password.__docgenInfo={description:"This component represent a password input field with some additional properties",methods:[{name:"defaultState",docblock:null,modifiers:["get"],params:[],returns:null},{name:"bindCallbacks",docblock:"Bind callbacks methods\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Bind callbacks methods"},{name:"handleInputChange",docblock:"Handle form input change.\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle form input change."},{name:"handlePasswordInputFocus",docblock:"Whenever the user focus on the password input",modifiers:[],params:[],returns:null,description:"Whenever the user focus on the password input"},{name:"handlePasswordInputBlur",docblock:"Whenever the user blurs on the password input",modifiers:[],params:[],returns:null,description:"Whenever the user blurs on the password input"},{name:"handleViewPasswordButtonClick",docblock:"Handle view password button click.",modifiers:[],params:[],returns:null,description:"Handle view password button click."},{name:"securityTokenStyle",docblock:"Returns the style of the security token (color and text color)",modifiers:["get"],params:[],returns:null,description:"Returns the style of the security token (color and text color)"},{name:"passphraseInputStyle",docblock:"Get the passphrase input style.\n@return {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get the passphrase input style."},{name:"previewStyle",docblock:"Returns the style of preview (icon color and icon background color)",modifiers:["get"],params:[],returns:null,description:"Returns the style of preview (icon color and icon background color)"}],displayName:"Password",props:{id:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},name:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},autoComplete:{defaultValue:{value:'"off"',computed:!1},description:"",type:{name:"string"},required:!1},context:{description:"",type:{name:"any"},required:!1},value:{description:"",type:{name:"string"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},inputRef:{description:"",type:{name:"object"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},readOnly:{description:"",type:{name:"bool"},required:!1},preview:{description:"",type:{name:"bool"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},onKeyUp:{description:"",type:{name:"func"},required:!1},securityToken:{description:"",type:{name:"shape",value:{code:{name:"string",required:!1},backgroundColor:{name:"string",required:!1},textColor:{name:"string",required:!1}}},required:!1}}}},"./node_modules/uuid/dist/esm-browser/v5.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>esm_browser_v5});var stringify=__webpack_require__("./node_modules/uuid/dist/esm-browser/stringify.js"),validate=__webpack_require__("./node_modules/uuid/dist/esm-browser/validate.js");const esm_browser_parse=function parse(uuid){if(!(0,validate.A)(uuid))throw TypeError("Invalid UUID");var v,arr=new Uint8Array(16);return arr[0]=(v=parseInt(uuid.slice(0,8),16))>>>24,arr[1]=v>>>16&255,arr[2]=v>>>8&255,arr[3]=255&v,arr[4]=(v=parseInt(uuid.slice(9,13),16))>>>8,arr[5]=255&v,arr[6]=(v=parseInt(uuid.slice(14,18),16))>>>8,arr[7]=255&v,arr[8]=(v=parseInt(uuid.slice(19,23),16))>>>8,arr[9]=255&v,arr[10]=(v=parseInt(uuid.slice(24,36),16))/1099511627776&255,arr[11]=v/4294967296&255,arr[12]=v>>>24&255,arr[13]=v>>>16&255,arr[14]=v>>>8&255,arr[15]=255&v,arr};function f(s,x,y,z){switch(s){case 0:return x&y^~x&z;case 1:case 3:return x^y^z;case 2:return x&y^x&z^y&z}}function ROTL(x,n){return x<<n|x>>>32-n}const esm_browser_v5=function v35(name,version,hashfunc){function generateUUID(value,namespace,buf,offset){if("string"==typeof value&&(value=function stringToBytes(str){str=unescape(encodeURIComponent(str));for(var bytes=[],i=0;i<str.length;++i)bytes.push(str.charCodeAt(i));return bytes}(value)),"string"==typeof namespace&&(namespace=esm_browser_parse(namespace)),16!==namespace.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var bytes=new Uint8Array(16+value.length);if(bytes.set(namespace),bytes.set(value,namespace.length),(bytes=hashfunc(bytes))[6]=15&bytes[6]|version,bytes[8]=63&bytes[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=bytes[i];return buf}return(0,stringify.A)(bytes)}try{generateUUID.name=name}catch(err){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}("v5",80,(function sha1(bytes){var K=[1518500249,1859775393,2400959708,3395469782],H=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof bytes){var msg=unescape(encodeURIComponent(bytes));bytes=[];for(var i=0;i<msg.length;++i)bytes.push(msg.charCodeAt(i))}else Array.isArray(bytes)||(bytes=Array.prototype.slice.call(bytes));bytes.push(128);for(var l=bytes.length/4+2,N=Math.ceil(l/16),M=new Array(N),_i=0;_i<N;++_i){for(var arr=new Uint32Array(16),j=0;j<16;++j)arr[j]=bytes[64*_i+4*j]<<24|bytes[64*_i+4*j+1]<<16|bytes[64*_i+4*j+2]<<8|bytes[64*_i+4*j+3];M[_i]=arr}M[N-1][14]=8*(bytes.length-1)/Math.pow(2,32),M[N-1][14]=Math.floor(M[N-1][14]),M[N-1][15]=8*(bytes.length-1)&4294967295;for(var _i2=0;_i2<N;++_i2){for(var W=new Uint32Array(80),t=0;t<16;++t)W[t]=M[_i2][t];for(var _t=16;_t<80;++_t)W[_t]=ROTL(W[_t-3]^W[_t-8]^W[_t-14]^W[_t-16],1);for(var a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],_t2=0;_t2<80;++_t2){var s=Math.floor(_t2/20),T=ROTL(a,5)+f(s,b,c,d)+e+K[s]+W[_t2]>>>0;e=d,d=c,c=ROTL(b,30)>>>0,b=a,a=T}H[0]=H[0]+a>>>0,H[1]=H[1]+b>>>0,H[2]=H[2]+c>>>0,H[3]=H[3]+d>>>0,H[4]=H[4]+e>>>0}return[H[0]>>24&255,H[0]>>16&255,H[0]>>8&255,255&H[0],H[1]>>24&255,H[1]>>16&255,H[1]>>8&255,255&H[1],H[2]>>24&255,H[2]>>16&255,H[2]>>8&255,255&H[2],H[3]>>24&255,H[3]>>16&255,H[3]>>8&255,255&H[3],H[4]>>24&255,H[4]>>16&255,H[4]>>8&255,255&H[4]]}))}}]);