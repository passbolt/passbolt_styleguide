/*! For license information please see react-extension-components-Resource-DisplayResourcesWorkspace-DisplayResourcesWorkspace-test-stories.8bebe5aa.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[195,5664],{"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspace.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,ceVersion:()=>ceVersion,default:()=>DisplayResourcesWorkspace_test_stories,proVersion:()=>proVersion});var _path,react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),DisplayUserBadgeMenu=__webpack_require__("./src/react-extension/components/User/DisplayUserBadgeMenu/DisplayUserBadgeMenu.js"),FilterResourcesByFolders=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByFolders/FilterResourcesByFolders.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),DisplayResourceFolderDetailsInformation=__webpack_require__("./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsInformation.js"),DisplayResourceFolderDetailsPermissions=__webpack_require__("./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsPermissions.js"),DisplayResourceFolderDetailsActivity=__webpack_require__("./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsActivity.js"),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),ResourceWorkspaceContext=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),uiActionEnumeration=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),RbacContext=__webpack_require__("./src/shared/context/Rbac/RbacContext.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const folder_sidebar=function SvgFolderSidebar(props){return react.createElement("svg",_extends({width:40,height:40,fill:"none",viewBox:"0 0 40 40"},props),_path||(_path=react.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M30.833 27.583a2.167 2.167 0 0 1-2.166 2.167H11.333a2.167 2.167 0 0 1-2.167-2.167V12.417a2.167 2.167 0 0 1 2.167-2.167h5.417l2.166 3.25h9.75a2.167 2.167 0 0 1 2.167 2.167z"})))};var svg_link=__webpack_require__("./src/img/svg/link.svg"),Tabs=__webpack_require__("./src/react-extension/components/Common/Tab/Tabs.js"),Tab=__webpack_require__("./src/react-extension/components/Common/Tab/Tab.js"),ManagedClipboardServiceProvider=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js");class DisplayResourceFolderDetails extends react.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handlePermalinkClick=this.handlePermalinkClick.bind(this)}async handlePermalinkClick(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/folders/view/${this.props.resourceWorkspaceContext.details.folder.id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard."))}get translate(){return this.props.t}renderFolderDetail(){const canViewShare=this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.SHARE_VIEW_LIST);return react.createElement(react.Fragment,null,react.createElement(DisplayResourceFolderDetailsInformation.A,null),canViewShare&&react.createElement(DisplayResourceFolderDetailsPermissions.A,null))}render(){const canUseAuditLog=(this.props.context.siteSettings.canIUse("auditLog")||this.props.context.siteSettings.canIUse("audit_log"))&&this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.RESOURCES_SEE_ACTIVITIES);return react.createElement("div",{className:"sidebar resource"},react.createElement("div",{className:"sidebar-header "+(canUseAuditLog?"":"with-separator")},react.createElement("div",{className:"teaser-image"},react.createElement(folder_sidebar,null)),react.createElement("div",{className:"title-area"},react.createElement("h3",null,react.createElement("div",{className:"title-wrapper"},react.createElement("span",{className:"name"},this.props.resourceWorkspaceContext.details.folder.name)),react.createElement("span",{className:"subtitle"},react.createElement(es.x6,null,"folder"))),react.createElement("button",{type:"button",className:"title-link button-transparent inline",title:this.translate("Copy the link to this folder"),onClick:this.handlePermalinkClick},react.createElement(svg_link.A,null),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"Copy the link to this folder"))))),react.createElement("div",{className:"sidebar-content"},canUseAuditLog?react.createElement(Tabs.A,{activeTabName:"Details"},react.createElement(Tab.A,{key:"Details",name:this.props.t("Details"),type:"Details"},this.renderFolderDetail()),react.createElement(Tab.A,{key:"Activity",name:this.props.t("Activity"),type:"Activity"},react.createElement(DisplayResourceFolderDetailsActivity.A,null))):this.renderFolderDetail()))}}DisplayResourceFolderDetails.propTypes={context:prop_types_default().any,groups:prop_types_default().array,onSelectFolderParent:prop_types_default().func,onSelectRoot:prop_types_default().func,onEditPermissions:prop_types_default().func,users:prop_types_default().array,resourceWorkspaceContext:prop_types_default().object,actionFeedbackContext:prop_types_default().any,clipboardContext:prop_types_default().object,t:prop_types_default().func,rbacContext:prop_types_default().any};const DisplayResourceFolderDetails_DisplayResourceFolderDetails=(0,AppContext.L)((0,RbacContext.x6)((0,ResourceWorkspaceContext.Qw)((0,ManagedClipboardServiceProvider.nJ)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(DisplayResourceFolderDetails))))));DisplayResourceFolderDetails.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handlePermalinkClick",docblock:"Handle when the user copies the permalink.",modifiers:["async"],params:[],returns:null,description:"Handle when the user copies the permalink."},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"},{name:"renderFolderDetail",docblock:'Renders the "Details" section tab of a folder.\n@returns {JSX}',modifiers:[],params:[],returns:{type:{name:"JSX"}},description:'Renders the "Details" section tab of a folder.'}],displayName:"DisplayResourceFolderDetails",props:{context:{description:"",type:{name:"any"},required:!1},groups:{description:"",type:{name:"array"},required:!1},onSelectFolderParent:{description:"",type:{name:"func"},required:!1},onSelectRoot:{description:"",type:{name:"func"},required:!1},onEditPermissions:{description:"",type:{name:"func"},required:!1},users:{description:"",type:{name:"array"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1}}};var DisplayResourceDetails=__webpack_require__("./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourceDetails.js"),FilterResourcesByTags=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByTags/FilterResourcesByTags.js"),FilterResourcesByText=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByText/FilterResourcesByText.js"),FilterResourcesByShortcuts=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByShortcuts/FilterResourcesByShortcuts.js"),FilterResourcesByBreadcrumb=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByBreadcrumb/FilterResourcesByBreadcrumb.js"),DisplayResourcesWorkspaceMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js"),logo=__webpack_require__("./src/img/svg/logo.svg");class Logo extends react.Component{render(){return react.createElement("div",{className:"top-bar-left"},react.createElement("div",{className:"logo-svg no-img",title:"Passbolt logo"},react.createElement(logo.A,{width:"15rem",height:"2.6rem",role:"img"}),react.createElement("h1",null,react.createElement("span",null,"Passbolt"))))}}const Header_Logo=Logo;Logo.__docgenInfo={description:"",methods:[],displayName:"Logo"};var DisplayResourcesWorkspaceMainMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.js"),FilterResourcesByGroups=__webpack_require__("./src/react-extension/components/Resource/FilterResourcesByGroups/FilterResourcesByGroups.js"),DisplayResourcesList=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesList/DisplayResourcesList.js"),Dropdown=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),DropdownButton=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),DropdownMenu=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),DropdownMenuItem=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),columns=__webpack_require__("./src/img/svg/columns.svg"),caret_down=__webpack_require__("./src/img/svg/caret_down.svg"),info=__webpack_require__("./src/img/svg/info.svg"),WorkspaceSwitcher=__webpack_require__("./src/react-extension/components/Common/Navigation/WorkspaceSwitcher/WorkspaceSwitcher.js"),roleEntity=__webpack_require__("./src/shared/models/entity/role/roleEntity.js"),DisplayResourcesWorkspaceFilters=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceFilters.js"),Footer=__webpack_require__("./src/react-extension/components/Common/Footer/Footer.js"),select_resource=__webpack_require__("./src/img/svg/select_resource.svg");class DisplayEmptyDetails extends react.Component{render(){return react.createElement("div",{className:"sidebar empty"},react.createElement(select_resource.A,null),react.createElement("p",null,react.createElement(es.x6,null,"Select a resource or a folder to see the details.")))}}const DisplayResourceFolderDetails_DisplayEmptyDetails=(0,es.CI)("common")(DisplayEmptyDetails);DisplayEmptyDetails.__docgenInfo={description:"",methods:[],displayName:"DisplayEmptyDetails"};var DisplayResourcesListDetails=__webpack_require__("./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js"),dist=__webpack_require__("./node_modules/debounce-promise/dist/index.js"),dist_default=__webpack_require__.n(dist),revert=__webpack_require__("./src/img/svg/revert.svg"),ColumnModel=__webpack_require__("./src/shared/models/column/ColumnModel.js"),rowsSettingEntity=__webpack_require__("./src/shared/models/entity/rowsSetting/rowsSettingEntity.js");class Workspace extends react.Component{constructor(props){super(props),this.bindCallbacks(),this.createRefs(),window.addEventListener("resize",this.handleWindowResizeEventDebounced)}bindCallbacks(){this.handleOnChangeColumnView=this.handleOnChangeColumnView.bind(this),this.handleViewDetailClickEvent=this.handleViewDetailClickEvent.bind(this),this.handleWindowResizeEventDebounced=dist_default()(this.handleWindowResizeEvent.bind(this),50),this.handleOnResetColumnsSettings=this.handleOnResetColumnsSettings.bind(this),this.handleOnChangeRowsSetting=this.handleOnChangeRowsSetting.bind(this)}createRefs(){this.actionsBar=react.createRef(),this.actionsFilter=react.createRef(),this.actionsButton=react.createRef(),this.actionsSecondary=react.createRef()}componentDidMount(){this.displayOnlyButtonIconsIfButtonsOverlay()}componentDidUpdate(){this.displayOnlyButtonIconsIfButtonsOverlay()}handleWindowResizeEvent(){this.displayOnlyButtonIconsIfButtonsOverlay()}displayOnlyButtonIconsIfButtonsOverlay(){this.actionsBar.current?.classList.remove("icon-only");const offsetWidthActionBar=this.actionsBar.current?.offsetWidth,offsetActionsButton=this.actionsFilter.current?this.actionsFilter.current.offsetWidth:this.actionsButton.current?.offsetWidth,offsetActionsSecondary=this.actionsSecondary.current?.offsetWidth;offsetActionsButton+offsetActionsSecondary+22>offsetWidthActionBar&&this.actionsBar.current.classList.add("icon-only")}hasLockDetail(){return this.props.resourceWorkspaceContext.lockDisplayDetail}get columnsResourceSetting(){return this.props.resourceWorkspaceContext.columnsResourceSetting?.items}handleOnChangeColumnView(event){const target=event.target;this.props.resourceWorkspaceContext.onChangeColumnView(target.id,target.checked)}handleOnChangeRowsSetting(event){const target=event.target;this.props.resourceWorkspaceContext.onChangeRowSettingsHeight(target.value)}async handleOnResetColumnsSettings(){await this.props.resourceWorkspaceContext.resetGridColumnsSettings()}handleViewDetailClickEvent(){this.props.resourceWorkspaceContext.onLockDetail()}get isUserAdmin(){const loggedInUser=this.props.context.loggedInUser;return loggedInUser?.role?.name===roleEntity.A.ROLE_ADMIN&&this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.ADMINSTRATION_VIEW_WORKSPACE)}get isUserWorkspaceVisible(){return this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.USERS_VIEW_WORKSPACE)}get shouldDisplayEmptyDetails(){return!this.props.resourceWorkspaceContext.details.folder&&!this.props.resourceWorkspaceContext.details.resource&&0===this.props.resourceWorkspaceContext.selectedResources.length}get shouldDisplayListDetails(){return this.props.resourceWorkspaceContext.selectedResources.length>1}hasSeparator(column,index){const nextColumn=this.props.resourceWorkspaceContext.columnsResourceSetting.items[index+1];return index===this.columnsResourceSetting.length-1||column.id===ColumnModel.nN.URI&&nextColumn?.id!==ColumnModel.nN.EXPIRED||column.id===ColumnModel.nN.EXPIRED}render(){const canUseFolders=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.FOLDERS_USE),canUseTags=this.props.context.siteSettings.canIUse("tags")&&this.props.rbacContext.canIUseUiAction(uiActionEnumeration.e.TAGS_USE),rowsSetting=this.props.resourceWorkspaceContext.rowsSetting;return react.createElement("div",{className:"panel main"},react.createElement("div",{className:"panel left resource-filter"},react.createElement("div",{className:"sidebar-content"},react.createElement(Header_Logo,null),react.createElement("div",{className:"main-action-wrapper"},react.createElement(DisplayResourcesWorkspaceMainMenu.A,null)),react.createElement("div",{className:"sidebar-content-left"},react.createElement(FilterResourcesByShortcuts.A,null),canUseFolders&&react.createElement(FilterResourcesByFolders.A,null),react.createElement(FilterResourcesByGroups.A,null),canUseTags&&react.createElement(FilterResourcesByTags.A,null)))),react.createElement("div",{className:"panel middle"},react.createElement("div",{className:"header"},react.createElement("div",{className:"header-left"},react.createElement(FilterResourcesByText.A,{placeholder:this.props.t("Search resource")})),react.createElement("div",{className:"header-right"},react.createElement(WorkspaceSwitcher.A,{isUserAdmin:this.isUserAdmin,isUserWorkspaceVisible:this.isUserWorkspaceVisible,currentWorkspace:WorkspaceSwitcher.K.RESOURCE}),react.createElement(DisplayUserBadgeMenu.A,{baseUrl:this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser}))),react.createElement("div",{className:"middle-right"},react.createElement("div",{className:"breadcrumbs-and-grid"},react.createElement("div",{className:"top-bar"},react.createElement(FilterResourcesByBreadcrumb.A,null),react.createElement("div",{className:"action-bar",ref:this.actionsBar},this.props.resourceWorkspaceContext.selectedResources?.length>0?react.createElement(DisplayResourcesWorkspaceMenu.A,{actionsButtonRef:this.actionsButton}):react.createElement(DisplayResourcesWorkspaceFilters.A,{actionsFilterRef:this.actionsFilter}),react.createElement("div",{className:"actions-secondary",ref:this.actionsSecondary},react.createElement(Dropdown.A,null,react.createElement(DropdownButton.A,null,react.createElement(columns.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Columns")),react.createElement(caret_down.A,null)),react.createElement(DropdownMenu.A,{direction:"left"},react.createElement(DropdownMenuItem.A,{keepOpenOnClick:!0},react.createElement("div",{className:"radiolist"},react.createElement("div",{className:"input radio"},react.createElement("input",{type:"radio",checked:!rowsSetting?.height||rowsSetting?.height===rowsSettingEntity.a4,value:rowsSettingEntity.a4,id:"rows_setting.height.compact",name:"rows_setting.height",onChange:this.handleOnChangeRowsSetting}),react.createElement("label",{htmlFor:"rows_setting.height.compact"},react.createElement(es.x6,null,"Compact"))))),react.createElement(DropdownMenuItem.A,{keepOpenOnClick:!0,separator:!0},react.createElement("div",{className:"radiolist"},react.createElement("div",{className:"input radio"},react.createElement("input",{type:"radio",checked:rowsSetting?.height===rowsSettingEntity.NK,value:rowsSettingEntity.NK,id:"rows_setting.height.comfortable",name:"rows_setting.height",onChange:this.handleOnChangeRowsSetting}),react.createElement("label",{htmlFor:"rows_setting.height.comfortable"},react.createElement(es.x6,null,"Comfortable"))))),this.columnsResourceSetting?.map(((column,index)=>react.createElement(DropdownMenuItem.A,{keepOpenOnClick:!0,key:column.id,separator:this.hasSeparator(column,index)},react.createElement("div",{className:"input checkbox"},react.createElement("input",{type:"checkbox",checked:column.show,id:column.id,name:column.id,onChange:this.handleOnChangeColumnView}),react.createElement("label",{htmlFor:column.id},react.createElement(es.x6,null,column.label)))))),react.createElement(DropdownMenuItem.A,null,react.createElement("div",{className:"action-button"},react.createElement("button",{id:"reset-columns-settings",type:"button",onClick:this.handleOnResetColumnsSettings},react.createElement(revert.A,null),react.createElement("span",null,react.createElement(es.x6,null,"Reset columns"))))))),react.createElement("button",{type:"button",className:"button-toggle button-action button-action-icon info "+(this.hasLockDetail()?"active":""),onClick:this.handleViewDetailClickEvent},react.createElement(info.A,null),react.createElement("span",{className:"visuallyhidden"},react.createElement(es.x6,null,"View detail")))))),react.createElement(DisplayResourcesList.A,null)),this.hasLockDetail()&&react.createElement("div",{className:"panel aside"},this.shouldDisplayListDetails&&react.createElement(DisplayResourcesListDetails.A,null),this.shouldDisplayEmptyDetails&&react.createElement(DisplayResourceFolderDetails_DisplayEmptyDetails,null),this.props.resourceWorkspaceContext.details.folder&&react.createElement(DisplayResourceFolderDetails_DisplayResourceFolderDetails,null),this.props.resourceWorkspaceContext.details.resource&&react.createElement(DisplayResourceDetails.A,null),react.createElement(Footer.A,null)))))}}Workspace.propTypes={context:prop_types_default().any,rbacContext:prop_types_default().any,resourceWorkspaceContext:prop_types_default().any,t:prop_types_default().func};const DisplayResourcesWorkspace=(0,AppContext.L)((0,RbacContext.x6)((0,ResourceWorkspaceContext.Qw)((0,es.CI)("common")(Workspace))));Workspace.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleWindowResizeEvent",docblock:"Handle window resize event",modifiers:[],params:[],returns:null,description:"Handle window resize event"},{name:"displayOnlyButtonIconsIfButtonsOverlay",docblock:"calculate the width pf buttons,\nif overlay the container, add classname to display only icons, else do nothing",modifiers:[],params:[],returns:null,description:"calculate the width pf buttons,\nif overlay the container, add classname to display only icons, else do nothing"},{name:"hasLockDetail",docblock:"Has lock for the detail display\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has lock for the detail display"},{name:"columnsResourceSetting",docblock:"Get the columns list of resource\n@return {[Object]}",modifiers:["get"],params:[],returns:{type:{name:"tuple",elements:[{name:"Object"}]}},description:"Get the columns list of resource"},{name:"handleOnChangeColumnView",docblock:"Handle the event on when the column view is changing.\n@param {React.Event} event",modifiers:[],params:[{name:"event",type:{name:"React.Event"},optional:!1}],returns:null,description:"Handle the event on when the column view is changing."},{name:"handleOnChangeRowsSetting",docblock:"Handle the event on when the rows setings is changing.\n@param {React.Event} event",modifiers:[],params:[{name:"event",type:{name:"React.Event"},optional:!1}],returns:null,description:"Handle the event on when the rows setings is changing."},{name:"handleOnResetColumnsSettings",docblock:"Handle the event when users resets the columns settings.\n@return {Promise}",modifiers:["async"],params:[],returns:{type:{name:"Promise"}},description:"Handle the event when users resets the columns settings."},{name:"handleViewDetailClickEvent",docblock:"handle view detail click event",modifiers:[],params:[],returns:null,description:"handle view detail click event"},{name:"isUserAdmin",docblock:"Returns true if the current user is an admin.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user is an admin."},{name:"isUserWorkspaceVisible",docblock:"Returns true if the current user is an admin.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the current user is an admin."},{name:"shouldDisplayEmptyDetails",docblock:"Returns true if there is currently if nothing is selected in the workspace.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if there is currently if nothing is selected in the workspace."},{name:"shouldDisplayListDetails",docblock:"Returns true if multiple resources are currently selected.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if multiple resources are currently selected."},{name:"hasSeparator",docblock:"Returns true if a separator should be displayed:\n- last item of the list\n- URI item if there is no expired item\n- expired item\n@param {columnsResourceSetting} column\n@param {number} index\n@returns {boolean}",modifiers:[],params:[{name:"column",type:{name:"columnsResourceSetting"},optional:!1},{name:"index",type:{name:"number"},optional:!1}],returns:{type:{name:"boolean"}},description:"Returns true if a separator should be displayed:\n- last item of the list\n- URI item if there is no expired item\n- expired item"}],displayName:"Workspace",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}};var ManageContextualMenu=__webpack_require__("./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js"),ManageDialogs=__webpack_require__("./src/react-extension/components/Common/Dialog/ManageDialogs/ManageDialogs.js"),ResourcePasswordGeneratorContext=__webpack_require__("./src/react-extension/contexts/ResourcePasswordGeneratorContext.js"),DragContext=__webpack_require__("./src/react-extension/contexts/DragContext.js"),ContextualMenuContext=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js"),ExtAppContext=__webpack_require__("./src/react-extension/contexts/ExtAppContext.js"),NavigationContext=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),mockPort=__webpack_require__("./test/mocks/mockPort.js"),mockStorage=__webpack_require__("./test/mocks/mockStorage.js"),siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),MetadataTypesSettingsLocalStorageContext=__webpack_require__("./src/shared/context/MetadataTypesSettingsLocalStorageContext/MetadataTypesSettingsLocalStorageContext.js"),ResourceTypesLocalStorageContext=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),WorkflowContext=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),ManageWorkflows=__webpack_require__("./src/react-extension/components/Common/Workflow/ManageWorkflows/ManageWorkflows.js"),PasswordExpirySettingsContext=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js");const DisplayResourcesWorkspace_test_stories={title:"Workspaces/Resource",component:DisplayResourcesWorkspace,parameters:{docs:{description:{component:"DisplayResourcesWorkspace stories"}}}},ExtApp=({...args})=>react.createElement(react_router.MemoryRouter,{initialEntries:["/app/passwords"]},react.createElement(ExtAppContext.A,{storage:args.storage,port:args.port},react.createElement(RbacContext.Ay,null,react.createElement(WorkflowContext.Ay,null,react.createElement(DialogContext.Ay,null,react.createElement(NavigationContext.Ay,null,react.createElement(ContextualMenuContext.Ay,null,react.createElement(react_router.Route,{path:["/app/folders/view/:filterByFolderId","/app/passwords/view/:selectedResourceId","/app/passwords/filter/:filterType","/app/passwords"]},react.createElement(PasswordExpirySettingsContext.Ay,null,react.createElement(ResourceWorkspaceContext.Ay,null,react.createElement(MetadataTypesSettingsLocalStorageContext.Ay,null,react.createElement(ResourceTypesLocalStorageContext.Ay,null,react.createElement(ResourcePasswordGeneratorContext.Ay,null,react.createElement(ManageContextualMenu.A,null),react.createElement(ManageDialogs.A,null),react.createElement(ManageWorkflows.A,null),react.createElement(DragContext.Ay,null,react.createElement("div",{id:"container",className:"page password"},react.createElement("div",{id:"app",className:"app ready",tabIndex:"1000",style:{margin:"-1rem"}},react.createElement(DisplayResourcesWorkspace,args))))))))))))))))),storage=(0,mockStorage.A)(),proVersion={args:{port:(0,mockPort.A)(storage),storage},render:ExtApp},ceStorage=(0,mockStorage.A)(),cePort=(0,mockPort.A)(ceStorage);cePort.addRequestListener("passbolt.organization-settings.get",(()=>siteSettings.B));const ceVersion={args:{port:cePort,storage:ceStorage},render:ExtApp},__namedExportsOrder=["proVersion","ceVersion"];proVersion.parameters={...proVersion.parameters,docs:{...proVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: port,\n    storage: storage\n  },\n  render: ExtApp\n}",...proVersion.parameters?.docs?.source}}},ceVersion.parameters={...ceVersion.parameters,docs:{...ceVersion.parameters?.docs,source:{originalSource:"{\n  args: {\n    port: cePort,\n    storage: ceStorage\n  },\n  render: ExtApp\n}",...ceVersion.parameters?.docs?.source}}}},"./src/img/svg/alarm_clock.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgAlarmClock(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 15.75a6 6 0 1 0 0-12 6 6 0 0 0 0 12"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 6.75v3l1.5 1.5M3.75 2.25 1.5 4.5M16.5 4.5l-2.25-2.25M4.785 14.025 3 15.75M13.23 14.003 15 15.75"})))}},"./src/img/svg/calendar_clock.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCalendarClock(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#calendar_clock_svg__clip0_65_471842)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M16.58 5.625V4.5a1.5 1.5 0 0 0-1.5-1.5H4.58a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h2.625M12.83 1.5v3M6.83 1.5v3M3.08 7.5h3.75M13.955 13.125l-1.125-.9V10.5"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12.83 16.5a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9"}))))}},"./src/img/svg/calendar_cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCalendarCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m12.23 12.675-.675-.3M12.23 14.325l-.675.3M12.83 1.5v3M13.505 11.4l-.3-.675M13.505 15.6l-.3.675M15.455 10.725l-.3.675M15.455 16.275l-.3-.675M16.58 7.875V4.5a1.5 1.5 0 0 0-1.5-1.5H4.58a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h4.5M17.105 12.375l-.675.3M17.105 14.625l-.675-.3M3.08 7.5h13.5M6.83 1.5v3"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.33 15.75a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5"})))}},"./src/img/svg/circle_ellipsis.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCircleEllipsis(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#circle_ellipsis_svg__clip0_2626_1109239)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15M12.75 9h.008M9 9h.008M5.25 9h.008"}))))}},"./src/img/svg/columns.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgColumns(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.25 2.25H3.75a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V3.75a1.5 1.5 0 0 0-1.5-1.5M6.75 2.25v13.5M11.25 2.25v13.5"})))}},"./src/img/svg/filter.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgFilter(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:14,fill:"none",viewBox:"0 0 18 14"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeWidth:2,d:"M1 1h16M4 7h10M11 13H7"})))}},"./src/img/svg/home.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgHome(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m8.803.866-7.186 5.56v8.814a1.59 1.59 0 0 0 1.592 1.592H6.62V9.759h4.458v7.107h3.411a1.56 1.56 0 0 0 1.137-.466 1.6 1.6 0 0 0 .467-1.137V6.427z"})))}},"./src/img/svg/logo.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _title,_desc,_path,_path2,_path3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLogo(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:151,height:27,fill:"none","aria-labelledby":"logo-title logo-description",viewBox:"0 0 151 27"},props),_title||(_title=react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:"logo-title"},"Passbolt logo")),_desc||(_desc=react__WEBPACK_IMPORTED_MODULE_0__.createElement("desc",{id:"logo-description"},"This is the logo of passbolt.")),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"var(--icon-color)",d:"M4.648 9.234v8.607h2.48c1.646 0 2.786-.349 3.47-1.012.685-.664 1.013-1.823 1.013-3.395 0-1.52-.305-2.595-.938-3.218-.633-.673-1.695-.972-3.24-.972zM.597 5.963h7.797c2.357 0 4.178.676 5.496 2.048q1.976 2.058 1.974 5.689a8.6 8.6 0 0 1-.406 2.749 7.1 7.1 0 0 1-1.24 2.278 5.9 5.9 0 0 1-2.38 1.773c-.937.349-2.152.524-3.697.524H4.648V26.5H.597zM24.016 18.016h5.064v-3.119h-4.76c-.937 0-1.594.124-1.95.375-.357.25-.517.698-.517 1.321 0 .524.15.899.429 1.122.28.223.848.301 1.734.301M18.649 5.963h8.268c2.103 0 3.672.476 4.736 1.423 1.065.947 1.594 2.347 1.594 4.217v9.456H22.37c-1.52 0-2.708-.375-3.52-1.121-.81-.747-1.2-1.823-1.2-3.22 0-1.722.454-2.945 1.392-3.692s2.483-1.134 4.697-1.134h5.315v-.365c0-.898-.276-1.518-.809-1.896-.532-.377-1.47-.55-2.86-.55H18.65zM36.55 17.915h8.525c.76 0 1.318-.124 1.646-.35.183-.122.328-.29.423-.486.094-.197.134-.414.115-.63a1.2 1.2 0 0 0-.112-.632 1.24 1.24 0 0 0-.42-.492c-.355-.253-.91-.374-1.646-.374h-3.494c-2.067 0-3.467-.325-4.203-.947-.737-.623-1.088-1.747-1.088-3.32 0-1.62.431-2.82 1.318-3.592.886-.772 2.255-1.152 4.064-1.152h8.684v3.142h-7.134q-1.75 0-2.279.301c-.354.198-.532.547-.532 1.071-.017.193.016.387.096.564s.204.332.361.449c.302.223.809.324 1.468.324h3.676c1.672 0 2.961.397 3.824 1.172s1.315 1.871 1.315 3.32c0 1.397-.405 2.53-1.188 3.417-.37.427-.833.768-1.354.996-.522.23-1.09.34-1.661.325H36.549zM53.822 17.915h8.526c.76 0 1.318-.124 1.646-.35a1.23 1.23 0 0 0 .42-.487c.093-.196.132-.413.112-.629a1.2 1.2 0 0 0-.111-.632 1.24 1.24 0 0 0-.421-.492c-.354-.253-.91-.374-1.646-.374h-3.493c-2.067 0-3.467-.325-4.204-.947-.736-.623-1.088-1.752-1.088-3.324 0-1.62.432-2.82 1.318-3.593.886-.772 2.253-1.147 4.075-1.147h8.686v3.142h-7.141q-1.747 0-2.28.301c-.353.198-.531.547-.531 1.071-.017.193.016.387.096.564s.204.332.361.449c.302.223.809.324 1.468.324h3.671c1.672 0 2.963.397 3.824 1.172s1.315 1.871 1.315 3.32c0 1.397-.403 2.53-1.188 3.417-.37.427-.832.767-1.354.996a3.9 3.9 0 0 1-1.66.325H53.769v-3.106zM75.387.5v5.463h3.47c1.55 0 2.759.175 3.694.55.946.362 1.77.976 2.38 1.772a7.2 7.2 0 0 1 1.243 2.296c.281.888.417 1.814.403 2.744q0 3.63-1.974 5.689c-1.315 1.372-3.14 2.046-5.493 2.046h-7.8V.5zm2.462 8.734h-2.483v8.608h2.785c1.55 0 2.633-.324 3.243-.95s.935-1.721.935-3.268-.354-2.694-1.033-3.367c-.68-.673-1.832-1.023-3.447-1.023M92.3 13.525c0 1.445.328 2.532 1.013 3.367s1.62 1.198 2.86 1.198 2.152-.398 2.863-1.198 1.033-1.921 1.033-3.367-.356-2.547-1.033-3.344c-.677-.798-1.62-1.198-2.863-1.198a3.64 3.64 0 0 0-1.57.279 3.6 3.6 0 0 0-1.29.919c-.685.797-1.013 1.921-1.013 3.344m12.002 0q0 3.544-2.202 5.689c-1.47 1.397-3.42 2.121-5.901 2.121s-4.457-.699-5.924-2.121-2.202-3.292-2.202-5.664q0-3.558 2.202-5.69c1.467-1.424 3.444-2.145 5.919-2.145s4.431.724 5.901 2.144 2.207 3.294 2.207 5.666M110.935 21.06h-4.202V.5h4.202zM112.884 5.963h2.86V.5h4.052v5.463h4.278v3.02h-4.278v6.09c0 1.12.204 1.895.581 2.343.377.449 1.064.649 2.026.649h1.671v3.02h-3.72c-1.494 0-2.636-.4-3.444-1.223-.809-.823-1.189-1.995-1.189-3.519v-7.36h-2.863v-3.02z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#D40101",d:"m149.951 10.68-9.059-8.36a2.12 2.12 0 0 0-1.421-.543c-.526 0-1.033.194-1.421.544l-5.684 5.268c.745.271 1.414.71 1.952 1.282.539.572.933 1.26 1.149 2.01h7.673a.73.73 0 0 1 .504.204.69.69 0 0 1 .207.494v1.147a.68.68 0 0 1-.207.494.72.72 0 0 1-.504.204h-.886v1.623a.68.68 0 0 1-.205.494.72.72 0 0 1-.503.205h-1.945a.73.73 0 0 1-.503-.205.69.69 0 0 1-.205-.494v-1.623h-3.426a4.84 4.84 0 0 1-1.135 2.033 5 5 0 0 1-1.966 1.287l5.71 5.276c.388.349.895.543 1.421.543a2.12 2.12 0 0 0 1.421-.543l9.043-8.355a2.03 2.03 0 0 0-.01-2.985"})),_path3||(_path3=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"#D40101",d:"M130.683 9.867a2.6 2.6 0 0 0-1.064.253c-.371.18-.686.455-.913.794a2.242 2.242 0 0 0-.113 2.305 2.3 2.3 0 0 0 .831.877 2.36 2.36 0 0 0 2.355.059c.362-.197.664-.484.875-.833a2.24 2.24 0 0 0 .324-1.153 2.21 2.21 0 0 0-.653-1.625 2.3 2.3 0 0 0-.751-.5 2.3 2.3 0 0 0-.891-.177"})))}},"./src/img/svg/select_resource.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgSelectResource(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:64,height:64,fill:"none",viewBox:"0 0 64 64"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M56 29.333v-16A5.333 5.333 0 0 0 50.667 8H13.333A5.333 5.333 0 0 0 8 13.333v37.334A5.333 5.333 0 0 0 13.333 56h16"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m32 32 10.667 26.667L47.2 47.2l11.467-4.533z"})))}},"./src/img/svg/upload_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgUploadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 9v4.5M11.25 11.25 9 9l-2.25 2.25"})))}},"./src/react-extension/components/Common/ContextualMenu/ManageContextualMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ContextualMenuContext.js");class ManageContextualMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.createRefs(),this.bindCallback()}bindCallback(){this.handleHide=this.handleHide.bind(this)}createRefs(){this.elementRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleHide(index){this.props.contextualMenuContext.hide(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:this.elementRef},this.props.contextualMenuContext.contextualMenus.map(((contextualMenu,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(contextualMenu.ContextualMenuComponent,{key:index,hide:()=>this.handleHide(index),...contextualMenu.componentProps}))))}}ManageContextualMenu.propTypes={contextualMenuContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ContextualMenuContext__WEBPACK_IMPORTED_MODULE_1__.t6)(ManageContextualMenu);ManageContextualMenu.__docgenInfo={description:"This component acts as an anchor for the different project contextual menus.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"createRefs",docblock:"Create DOM nodes or React elements references in order to be able to access them programmatically.",modifiers:[],params:[],returns:null,description:"Create DOM nodes or React elements references in order to be able to access them programmatically."},{name:"handleHide",docblock:"Hide the contextual menu\n@param {int} index The contextual menu to close",modifiers:[],params:[{name:"index",description:"The contextual menu to close",type:{name:"int"},optional:!1}],returns:null,description:"Hide the contextual menu"}],displayName:"ManageContextualMenu",props:{contextualMenuContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Common/Navigation/Search/SearchBar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_search_svg__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/img/svg/search.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/close.svg");class SearchBar extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks(),this.createReferences()}bindCallbacks(){this.handleChangeEvent=this.handleChangeEvent.bind(this),this.clearSearchInput=this.clearSearchInput.bind(this)}createReferences(){this.searchInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}handleChangeEvent(event){const text=event.target.value;this.props.onSearch&&this.props.onSearch(text)}clearSearchInput(){this.searchInputRef.current.focus(),this.props.onSearch("")}get placeholderLabel(){return this.props.placeholder||this.props.t("Search")}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"col2 search-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input search required "+(this.props.disabled?"disabled":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Search")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:this.searchInputRef,className:"required",type:"search",disabled:this.props.disabled,onChange:this.handleChangeEvent,placeholder:this.placeholderLabel,value:this.props.value}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search-button-wrapper"},this.props.value?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"button button-transparent",name:"clear-button",type:"button",onClick:this.clearSearchInput},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Clear"))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"search-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_search_svg__WEBPACK_IMPORTED_MODULE_2__.A,{name:"search"}))))))}}SearchBar.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,onSearch:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,value:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,t:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func},SearchBar.defaultProps={disabled:!1};const __WEBPACK_DEFAULT_EXPORT__=(0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(SearchBar);SearchBar.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"handleChangeEvent",docblock:"Handle search input change\n@params {ReactEvent} The react event.",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle search input change"},{name:"clearSearchInput",docblock:"Handle clearing of search text",modifiers:[],params:[],returns:null,description:"Handle clearing of search text"},{name:"placeholderLabel",docblock:null,modifiers:["get"],params:[],returns:null}],displayName:"SearchBar",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onSearch:{description:"",type:{name:"func"},required:!1},placeholder:{description:"",type:{name:"string"},required:!1},value:{description:"",type:{name:"string"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Common/Workflow/ManageWorkflows/ManageWorkflows.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);class ManageWorkflows extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallback()}bindCallback(){this.stop=this.stop.bind(this)}async stop(index){this.props.workflowContext.stop(index)}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.props.workflowContext.workflows.map((({key,Workflow,workflowProps})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Workflow,{key,onStop:()=>this.stop(key),...workflowProps}))),this.props.children)}}ManageWorkflows.propTypes={workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_1__.AV)(ManageWorkflows);ManageWorkflows.__docgenInfo={description:"This component acts as an anchor for the different project workflows.",methods:[{name:"bindCallback",docblock:"Bind class methods callback",modifiers:[],params:[],returns:null,description:"Bind class methods callback"},{name:"stop",docblock:"Removes the index-th workflow",modifiers:["async"],params:[{name:"index",optional:!1}],returns:null,description:"Removes the index-th workflow"}],displayName:"ManageWorkflows",props:{workflowContext:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceFilters.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_16__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/share.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/close.svg"),_img_svg_filter_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/filter.svg"),_img_svg_venetian_mask_svg__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/img/svg/venetian_mask.svg"),_img_svg_calendar_clock_svg__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/img/svg/calendar_clock.svg"),_img_svg_favorite_svg__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/img/svg/favorite.svg"),_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/img/svg/owned_by_me.svg"),react_router_dom__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js");class DisplayResourcesWorkspaceFilters extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleFavoriteClick=this.handleFavoriteClick.bind(this),this.handleItemsIOwnClick=this.handleItemsIOwnClick.bind(this),this.handlePrivateClick=this.handlePrivateClick.bind(this),this.handleSharedWithMeClick=this.handleSharedWithMeClick.bind(this),this.handleResourcesExpiredClick=this.handleResourcesExpiredClick.bind(this),this.handleRemoveFilterClick=this.handleRemoveFilterClick.bind(this)}get isAllItemsFilterToDisplay(){const filterType=this.props.resourceWorkspaceContext.filter.type;return filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.NONE||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ALL||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FOLDER||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ROOT_FOLDER||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.TAG||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.GROUP||filterType===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.TEXT}get displaySelectedFilter(){switch(this.props.resourceWorkspaceContext.filter.type){case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FAVORITE:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_favorite_svg__WEBPACK_IMPORTED_MODULE_13__.A,{className:"star"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Starred")));case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.SHARED_WITH_ME:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Shared with me")));case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.EXPIRED:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_calendar_clock_svg__WEBPACK_IMPORTED_MODULE_12__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Expired")));case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ITEMS_I_OWN:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_14__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Items I own")));case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.PRIVATE:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_venetian_mask_svg__WEBPACK_IMPORTED_MODULE_11__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Private")));default:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}}handleFavoriteClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FAVORITE};this.props.history.push({pathname:"/app/passwords",state:{filter}})}handleItemsIOwnClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ITEMS_I_OWN};this.props.history.push({pathname:"/app/passwords",state:{filter}})}handlePrivateClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.PRIVATE};this.props.history.push({pathname:"/app/passwords",state:{filter}})}handleSharedWithMeClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.SHARED_WITH_ME};this.props.history.push({pathname:"/app/passwords",state:{filter}})}handleResourcesExpiredClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.EXPIRED};this.props.history.push({pathname:"/app/passwords/filter/expired",state:{filter}})}handleRemoveFilterClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter}})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-filter",ref:this.props.actionsFilterRef},this.isAllItemsFilterToDisplay&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_5__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_3__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_filter_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"All items")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handleFavoriteClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_favorite_svg__WEBPACK_IMPORTED_MODULE_13__.A,{className:"star"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Starred")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handleSharedWithMeClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_8__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Shared with me")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handleItemsIOwnClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_14__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Items I own")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handlePrivateClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_venetian_mask_svg__WEBPACK_IMPORTED_MODULE_11__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Private")))),this.props.passwordExpiryContext.isFeatureEnabled()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_7__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"no-border",onClick:this.handleResourcesExpiredClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_calendar_clock_svg__WEBPACK_IMPORTED_MODULE_12__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Expired")))))),!this.isAllItemsFilterToDisplay&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button button-action-filtered"},this.displaySelectedFilter,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"divider"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent",onClick:this.handleRemoveFilterClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_9__.A,{className:"close"})))))}}DisplayResourcesWorkspaceFilters.propTypes={actionsFilterRef:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_16___default().object,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_16___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_16___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_17__.withRouter)((0,_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_15__.f4)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayResourcesWorkspaceFilters))));DisplayResourcesWorkspaceFilters.__docgenInfo={description:"This component allows to filter resources",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"isAllItemsFilterToDisplay",docblock:"Is all items filter\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is all items filter"},{name:"displaySelectedFilter",docblock:"Get selected filter to display\n@returns {Element}",modifiers:["get"],params:[],returns:{type:{name:"Element"}},description:"Get selected filter to display"},{name:"handleFavoriteClick",docblock:'Whenever the filter "Favorite" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Favorite" has been selected'},{name:"handleItemsIOwnClick",docblock:'Whenever the filter "Items I own" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Items I own" has been selected'},{name:"handlePrivateClick",docblock:'Whenever the filter "Private" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Private" has been selected'},{name:"handleSharedWithMeClick",docblock:'Whenever the filter "Shared with me" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Shared with me" has been selected'},{name:"handleResourcesExpiredClick",docblock:'Whenever the filter "Expired" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the filter "Expired" has been selected'},{name:"handleRemoveFilterClick",docblock:"Whenever a filter has been removed go back to all items filter",modifiers:[],params:[],returns:null,description:"Whenever a filter has been removed go back to all items filter"}],displayName:"DisplayResourcesWorkspaceFilters",props:{actionsFilterRef:{description:"",type:{name:"object"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMainMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_32__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/ResourceFolder/CreateResourceFolder/CreateResourceFolder.js"),_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Resource/ImportResources/ImportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/context/MetadataTypesSettingsLocalStorageContext/MetadataTypesSettingsLocalStorageContext.js"),_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/components/Common/Tooltip/Tooltip.js"),_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypeSchemasDefinition.js"),_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/shared/models/entity/metadata/metadataTypesSettingsEntity.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/img/svg/add.svg"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/img/svg/totp.svg"),_img_svg_folder_plus_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/img/svg/folder_plus.svg"),_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/img/svg/upload_file.svg"),_img_svg_circle_ellipsis_svg__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/img/svg/circle_ellipsis.svg"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_CreateResource_DisplayResourceCreationMenu__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/react-extension/components/Resource/CreateResource/DisplayResourceCreationMenu.js"),_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/react-extension/components/Resource/CreateResource/CreateResource.js"),_img_svg_table_properties_svg__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/img/svg/table_properties.svg"),_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js"),_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/react-extension/components/Metadata/ActionAbortedMissingMetadataKeys/ActionAbortedMissingMetadataKeys.js");class DisplayResourcesWorkspaceMainMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleCreateMenuPasswordClickEvent=this.handleCreateMenuPasswordClickEvent.bind(this),this.handleMenuCreateTotpClickEvent=this.handleMenuCreateTotpClickEvent.bind(this),this.handleMenuCreateCustomFieldsClickEvent=this.handleMenuCreateCustomFieldsClickEvent.bind(this),this.handleMenuCreateFolderClickEvent=this.handleMenuCreateFolderClickEvent.bind(this),this.handleImportClickEvent=this.handleImportClickEvent.bind(this),this.handleMenuCreateOtherClickEvent=this.handleMenuCreateOtherClickEvent.bind(this)}handleCreateMenuPasswordClickEvent(){let resourceType;if(this.props.metadataTypeSettings.isDefaultResourceTypeV5){if(!this.canCreateResource())return void this.displayActionAborted();resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.gG)}else this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.Bo));this.openCreateDialog(resourceType)}handleImportClickEvent(){this.canImportResources()?this.props.dialogContext.open(_ImportResources_ImportResources__WEBPACK_IMPORTED_MODULE_5__.A):this.displayActionAborted()}openCreateDialog(resourceType){this.props.dialogContext.open(_CreateResource_CreateResource__WEBPACK_IMPORTED_MODULE_27__.A,{folderParentId:this.folderIdSelected,resourceType})}handleMenuCreateTotpClickEvent(){let resourceType;if(this.props.metadataTypeSettings.isDefaultResourceTypeV5){if(!this.canCreateResource())return void this.displayActionAborted();resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.uQ)}else this.props.metadataTypeSettings.isDefaultResourceTypeV4&&(resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.KY));this.openCreateDialog(resourceType)}handleMenuCreateCustomFieldsClickEvent(){if(this.canCreateResource()){const resourceType=this.props.resourceTypes.getFirstBySlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.qr);this.openCreateDialog(resourceType)}else this.displayActionAborted()}handleMenuCreateOtherClickEvent(){this.props.dialogContext.open(_CreateResource_DisplayResourceCreationMenu__WEBPACK_IMPORTED_MODULE_26__.A,{folderParentId:this.folderIdSelected})}handleMenuCreateFolderClickEvent(){this.openFolderCreateDialog()}openFolderCreateDialog(){this.props.dialogContext.open(_ResourceFolder_CreateResourceFolder_CreateResourceFolder__WEBPACK_IMPORTED_MODULE_4__.A,{folderParentId:this.folderIdSelected})}get folderSelected(){const filter=this.props.resourceWorkspaceContext.filter;return filter&&filter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.FM.FOLDER?filter.payload.folder:null}get folderIdSelected(){return this.folderSelected&&this.folderSelected.id}canCreate(){return null===this.folderSelected||this.folderSelected.permission.type>=7}canCreateResource(){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,isPersonalFolder=null===this.folderSelected||this.folderSelected.personal,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;return!(isPersonalFolder&&isMetadataSharedKeyEnforced&&userHasMissingKeys)&&!(!isPersonalFolder&&userHasMissingKeys)}canImportResources(){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;return!(isMetadataSharedKeyEnforced&&userHasMissingKeys)}hasMetadataTypesSettings(){return Boolean(this.props.metadataTypeSettings)}hasMetadataTypesV4AndV5(){return this.props.metadataTypeSettings.allowCreationOfV5Resources&&this.props.metadataTypeSettings.allowCreationOfV4Resources}canCreatePassword(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.gG):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.Bo)}canCreateStandaloneTotp(){return this.props.metadataTypeSettings.isDefaultResourceTypeV5?this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.uQ):!!this.props.metadataTypeSettings.isDefaultResourceTypeV4&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.KY)}get canCreateCustomFields(){return!!this.props.metadataTypeSettings.isDefaultResourceTypeV5&&this.props.resourceTypes?.hasOneWithSlug(_shared_models_entity_resourceType_resourceTypeSchemasDefinition__WEBPACK_IMPORTED_MODULE_13__.qr)}canSeeOther(){if(!this.props.metadataTypeSettings?.allowCreationOfV5Resources)return!1;if(this.hasMetadataTypesV4AndV5())return!0;const otherV5ContentTypes=this.props.resourceTypes?.items.filter((rt=>rt.version===_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_14__.LP&&!rt.hasPassword()&&!rt.hasTotp()&&!rt.hasSecretDescription()));return otherV5ContentTypes?.length>0}displayActionAborted(){this.props.dialogContext.open(_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_31__.A)}render(){const canImport=this.props.context.siteSettings.canIUse("import")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_8__.e.RESOURCES_IMPORT),canUseFolders=this.props.context.siteSettings.canIUse("folders")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_8__.e.FOLDERS_USE),canUseTotp=this.props.context.siteSettings.canIUse("totpResourceTypes"),canSeeOther=this.canSeeOther();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_24__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_15__.A,{className:"create primary",disabled:!this.canCreate()},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_add_svg__WEBPACK_IMPORTED_MODULE_16__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Create"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_17__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_25__.A,{className:"menu-create-primary"},!this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!canUseTotp},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_12__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"password_action",type:"button",className:"no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_19__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Password"))))),canUseTotp&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_12__.A,{message:this.props.t("Loading metadata types settings")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",disabled:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"TOTP")))))),this.hasMetadataTypesSettings()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.canCreatePassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!canUseTotp},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"password_action",type:"button",className:"no-border",onClick:this.handleCreateMenuPasswordClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_19__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Password")))),canUseTotp&&this.canCreateStandaloneTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!this.canCreateCustomFields},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",onClick:this.handleMenuCreateTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_20__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"TOTP")))),this.canCreateCustomFields&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!canSeeOther},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"custom_fields_action",type:"button",className:"no-border",onClick:this.handleMenuCreateCustomFieldsClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_table_properties_svg__WEBPACK_IMPORTED_MODULE_28__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Custom fields")))),canSeeOther&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"other_action",type:"button",className:"no-border",onClick:this.handleMenuCreateOtherClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_circle_ellipsis_svg__WEBPACK_IMPORTED_MODULE_23__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Other"))))),canUseFolders&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,{separator:canImport},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"folder_action",type:"button",className:"no-border",onClick:this.handleMenuCreateFolderClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_folder_plus_svg__WEBPACK_IMPORTED_MODULE_21__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Folder")))),canImport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_18__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"import_action",type:"button",className:"no-border",onClick:this.handleImportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_upload_file_svg__WEBPACK_IMPORTED_MODULE_22__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Import resources"))))))}}DisplayResourcesWorkspaceMainMenu.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_32___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_32___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_32___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_32___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_32___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_10__.A),metadataTypeSettings:prop_types__WEBPACK_IMPORTED_MODULE_32___default().instanceOf(_shared_models_entity_metadata_metadataTypesSettingsEntity__WEBPACK_IMPORTED_MODULE_14__.Ay),metadataKeysSettings:prop_types__WEBPACK_IMPORTED_MODULE_32___default().instanceOf(_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_30__.A),t:prop_types__WEBPACK_IMPORTED_MODULE_32___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_7__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__.z9)((0,_shared_context_MetadataTypesSettingsLocalStorageContext_MetadataTypesSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_11__.mw)((0,_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_29__.XF)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_9__.KH)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayResourcesWorkspaceMainMenu))))))));DisplayResourcesWorkspaceMainMenu.__docgenInfo={description:"This component allows the current user to create a new resource",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleCreateMenuPasswordClickEvent",docblock:"Handle password click event",modifiers:[],params:[],returns:null,description:"Handle password click event"},{name:"handleImportClickEvent",docblock:"Handle the import click event",modifiers:[],params:[],returns:null,description:"Handle the import click event"},{name:"openCreateDialog",docblock:"Open create resource dialog\n@param {ResourceTypeEntity} resourceType The resource type",modifiers:[],params:[{name:"resourceType",description:"The resource type",type:{name:"ResourceTypeEntity"},optional:!1}],returns:null,description:"Open create resource dialog"},{name:"handleMenuCreateTotpClickEvent",docblock:"Handle totp click event",modifiers:[],params:[],returns:null,description:"Handle totp click event"},{name:"handleMenuCreateCustomFieldsClickEvent",docblock:"Handle custom fields click event",modifiers:[],params:[],returns:null,description:"Handle custom fields click event"},{name:"handleMenuCreateOtherClickEvent",docblock:"Handle other click event",modifiers:[],params:[],returns:null,description:"Handle other click event"},{name:"handleMenuCreateFolderClickEvent",docblock:"Handle folder click event",modifiers:[],params:[],returns:null,description:"Handle folder click event"},{name:"openFolderCreateDialog",docblock:"Open create password dialog",modifiers:[],params:[],returns:null,description:"Open create password dialog"},{name:"folderSelected",docblock:"Get the currently selected folder. Return null if none selected.\n@returns {null|object}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"object"}]}},description:"Get the currently selected folder. Return null if none selected."},{name:"folderIdSelected",docblock:"the folder id selected\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"the folder id selected"},{name:"canCreate",docblock:"can create a resource\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"can create a resource"},{name:"canCreateResource",docblock:"Can create resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create resource"},{name:"canImportResources",docblock:"Can import resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can import resources"},{name:"hasMetadataTypesSettings",docblock:"Has metadata types settings\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has metadata types settings"},{name:"hasMetadataTypesV4AndV5",docblock:"Has metadata types settings v4 and v5\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has metadata types settings v4 and v5"},{name:"canCreatePassword",docblock:"Can create password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create password"},{name:"canCreateStandaloneTotp",docblock:"Can create standalone totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can create standalone totp"},{name:"canCreateCustomFields",docblock:"Can create custom fields\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can create custom fields"},{name:"canSeeOther",docblock:'Should the "Other" menu items be displayed.\n@returns {boolean}',modifiers:[],params:[],returns:{type:{name:"boolean"}},description:'Should the "Other" menu items be displayed.'},{name:"displayActionAborted",docblock:"Display action aborted",modifiers:[],params:[],returns:null,description:"Display action aborted"}],displayName:"DisplayResourcesWorkspaceMainMenu",props:{context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},metadataTypeSettings:{description:"",type:{name:"instanceOf",value:"MetadataTypesSettingsEntity"},required:!1},metadataKeysSettings:{description:"",type:{name:"instanceOf",value:"MetadataKeysSettingsEntity"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_43__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Resource/DeleteResource/DeleteResource.js"),_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Resource/EditResource/EditResource.js"),_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Share/ShareDialog.js"),_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Resource/ExportResources/ExportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/services/otp/TotpCodeGeneratorService.js"),_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js"),_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/shared/utils/dateUtils.js"),luxon__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/img/svg/more_horizontal.svg"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/img/svg/download_file.svg"),_img_svg_calendar_cog_svg__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/img/svg/calendar_cog.svg"),_img_svg_alarm_clock_svg__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/img/svg/alarm_clock.svg"),_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/img/svg/copy.svg"),_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/img/svg/owned_by_me.svg"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./src/img/svg/totp.svg"),_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./src/img/svg/globe.svg"),_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./src/img/svg/link.svg"),_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./src/img/svg/delete.svg"),_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./src/img/svg/edit.svg"),_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./src/img/svg/share.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./src/img/svg/close.svg"),_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./src/react-extension/contexts/Clipboard/ManagedClipboardServiceProvider.js"),_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./src/shared/context/MetadataKeysSettingsLocalStorageContext/MetadataKeysSettingsLocalStorageContext.js"),_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./src/shared/models/entity/metadata/metadataKeysSettingsEntity.js"),_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./src/react-extension/components/Metadata/ActionAbortedMissingMetadataKeys/ActionAbortedMissingMetadataKeys.js");class DisplayResourcesWorkspaceMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleCopyPermalinkClickEvent=this.handleCopyPermalinkClickEvent.bind(this),this.handleCopyUsernameClickEvent=this.handleCopyUsernameClickEvent.bind(this),this.handleCopyUriClickEvent=this.handleCopyUriClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleCopySecretClickEvent=this.handleCopySecretClickEvent.bind(this),this.handleCopyTotpClickEvent=this.handleCopyTotpClickEvent.bind(this),this.handleExportClickEvent=this.handleExportClickEvent.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this),this.handleSetExpiryDateClickEvent=this.handleSetExpiryDateClickEvent.bind(this),this.handleClearSelectionClick=this.handleClearSelectionClick.bind(this)}handleDeleteClickEvent(){this.props.dialogContext.open(_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_5__.A,{resources:this.selectedResources})}async handleMarkAsExpiredClick(){const resourcesExpiryDateToUpdate=this.selectedResources.map((resource=>({id:resource.id,expired:(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_16__.B7)(luxon__WEBPACK_IMPORTED_MODULE_17__.c9.utc())})));try{await this.props.context.port.request("passbolt.resources.set-expiration-date",resourcesExpiryDateToUpdate),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:resourcesExpiryDateToUpdate.length}))}catch(error){await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:resourcesExpiryDateToUpdate.length}))}}handleEditClickEvent(){this.canEditResource()?this.props.dialogContext.open(_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_6__.A,{resource:this.selectedResources[0]}):this.displayActionAborted()}canEditResource(){if(this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id).isV5()){const isMetadataSharedKeyEnforced=!this.props.metadataKeysSettings?.allowUsageOfPersonalKeys,isPersonalResource=this.selectedResources[0].personal,userHasMissingKeys=this.props.context.loggedInUser.missing_metadata_key_ids?.length>0;if(isPersonalResource&&isMetadataSharedKeyEnforced&&userHasMissingKeys)return!1;if(!isPersonalResource&&userHasMissingKeys)return!1}return!0}async handleShareClickEvent(){if(this.canShareResource()){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.context.setContext({shareDialogProps:{resourcesIds}}),this.props.dialogContext.open(_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_7__.A)}else this.displayActionAborted()}canShareResource(){if(this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id).isV5()){return!(this.props.context.loggedInUser.missing_metadata_key_ids?.length>0)}return!0}async handleCopyPermalinkClickEvent(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.selectedResources[0].id}`;await this.props.clipboardContext.copy(permalink,this.translate("The permalink has been copied to clipboard."))}async handleCopyUsernameClickEvent(){await this.props.clipboardContext.copy(this.selectedResources[0].metadata.username,this.translate("The username has been copied to clipboard."))}async handleCopyUriClickEvent(){await this.props.clipboardContext.copy(this.selectedResources[0].metadata.uris[0],this.translate("The uri has been copied to clipboard."))}async handleClearSelectionClick(){await this.props.resourceWorkspaceContext.onResourceSelected.none()}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.selectedResources[0].id)}async copyPasswordToClipboard(plaintextSecretDto){const password=plaintextSecretDto.password;if(!password)throw new TypeError(this.translate("The password is empty."));await this.props.clipboardContext.copyTemporarily(password,this.translate("The secret has been copied to clipboard."))}async handleCopySecretClickEvent(){let plaintextSecretDto;this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}this.props.progressContext.close(),plaintextSecretDto?.password?.length?(await this.copyPasswordToClipboard(plaintextSecretDto),this.props.resourceWorkspaceContext.onResourceCopied()):await this.props.actionFeedbackContext.displayWarning(this.translate("The password is empty and cannot be copied to clipboard."))}async handleCopyTotpClickEvent(){let plaintextSecretDto,code;this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}if(this.props.progressContext.close(),plaintextSecretDto)if(plaintextSecretDto.totp){try{code=_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_13__.l.generate(plaintextSecretDto.totp)}catch(error){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await this.props.clipboardContext.copyTemporarily(code,this.translate("The TOTP has been copied to clipboard.")),await this.props.resourceWorkspaceContext.onResourceCopied()}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleSetExpiryDateClickEvent(){this.props.dialogContext.open(_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_14__.A,{resources:this.selectedResources})}handleExportClickEvent(){this.export()}displayActionAborted(){this.props.dialogContext.open(_Metadata_ActionAbortedMissingMetadataKeys_ActionAbortedMissingMetadataKeys__WEBPACK_IMPORTED_MODULE_42__.A)}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}hasOneResourceSelected(){return 1===this.selectedResources.length}canUpdate(){return this.selectedResources.every((resource=>resource.permission.type>=7))}canShare(){return this.selectedResources.every((resource=>15===resource.permission.type))}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.RESOURCES_EXPORT)}canCopyUsername(){return this.selectedResources[0].metadata?.username}canCopyUri(){return Boolean(this.selectedResources[0].metadata?.uris?.[0])}canCopyPassword(){return this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes?.getFirstById(this.selectedResources[0].resource_type_id)?.hasPassword()}canCopyTotp(){return this.props.resourceTypes?.getFirstById(this.selectedResources[0].resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes?.getFirstById(this.selectedResources[0].resource_type_id).isStandaloneTotp()}get hasResourceUsername(){return!this.isStandaloneTotpResource}hasMoreActionAllowed(){return this.canExport()||this.canOverridePasswordExpiry&&this.canUpdate()}async export(){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds}),await this.props.dialogContext.open(_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_8__.A)}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canOverridePasswordExpiry(){const passwordExpirySettings=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&passwordExpirySettings?.policy_override}get translate(){return this.props.t}render(){const hasOneResourceSelected=this.hasOneResourceSelected(),canShare=this.canShare(),canUpdate=this.canUpdate(),canCopySecret=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.SECRETS_COPY),canViewShare=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.SHARE_VIEW_LIST)&&canShare,canViewCopy=hasOneResourceSelected,canViewEdit=hasOneResourceSelected&&canUpdate,canViewDelete=canUpdate,count=this.props.resourceWorkspaceContext.selectedResources?.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions",ref:this.props.actionsButtonRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,canViewShare&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"share_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleShareClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_37__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Share")))),canViewCopy&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"copy_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_22__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_20__.A,{className:"button-action-contextual"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_29__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_21__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_23__.A,{className:"menu-action-contextual"},this.hasResourceUsername&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"username_action",type:"button",className:"no-border",disabled:!this.canCopyUsername(),onClick:this.handleCopyUsernameClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_30__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy username")))),canCopySecret&&this.canCopyPassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"secret_action",type:"button",className:"no-border",onClick:this.handleCopySecretClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_31__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy password")))),this.canUseTotp&&this.canCopyTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",onClick:this.handleCopyTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_32__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy TOTP")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"uri_action",type:"button",className:"no-border",disabled:!this.canCopyUri(),onClick:this.handleCopyUriClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_33__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy URI")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"permalink_action",type:"button",className:"no-border",onClick:this.handleCopyPermalinkClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_34__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy permalink"))))))),canViewEdit&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"edit_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_36__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Edit")))),canViewDelete&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"delete_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_35__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Delete")))),this.hasMoreActionAllowed()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_22__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_20__.A,{className:"more button-action-contextual button-action-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_24__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_23__.A,{className:"menu-action-contextual"},this.canExport()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"export_action",type:"button",className:"no-border",onClick:this.handleExportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_26__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Export")))),this.canOverridePasswordExpiry&&canUpdate&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"set_expiry_date_action",type:"button",className:"no-border",onClick:this.handleSetExpiryDateClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_calendar_cog_svg__WEBPACK_IMPORTED_MODULE_27__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Set expiry date")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"mark_as_expired_action",type:"button",className:"no-border",onClick:this.handleMarkAsExpiredClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_alarm_clock_svg__WEBPACK_IMPORTED_MODULE_28__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Mark as expired"))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,{count},{count}," selected")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent inline",onClick:this.handleClearSelectionClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_38__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Clear selection")))))}}DisplayResourcesWorkspaceMenu.propTypes={actionsButtonRef:prop_types__WEBPACK_IMPORTED_MODULE_43___default().object,context:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_43___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_19__.A),passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,progressContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,clipboardContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().object,metadataKeysSettings:prop_types__WEBPACK_IMPORTED_MODULE_43___default().instanceOf(_shared_models_entity_metadata_metadataKeysSettingsEntity__WEBPACK_IMPORTED_MODULE_41__.A),t:prop_types__WEBPACK_IMPORTED_MODULE_43___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_MetadataKeysSettingsLocalStorageContext_MetadataKeysSettingsLocalStorageContext__WEBPACK_IMPORTED_MODULE_40__.XF)((0,_contexts_Clipboard_ManagedClipboardServiceProvider__WEBPACK_IMPORTED_MODULE_39__.nJ)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_10__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_12__.E0)((0,_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_15__.f4)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_18__.KH)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(DisplayResourcesWorkspaceMenu)))))))))));DisplayResourcesWorkspaceMenu.__docgenInfo={description:"This component allows the current user to add a new comment on a resource",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDeleteClickEvent",docblock:"handle delete one or more resources",modifiers:[],params:[],returns:null,description:"handle delete one or more resources"},{name:"handleMarkAsExpiredClick",docblock:"Handle mark as expired\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle mark as expired"},{name:"handleEditClickEvent",docblock:"handle edit one resource",modifiers:[],params:[],returns:null,description:"handle edit one resource"},{name:"canEditResource",docblock:"Can edit the resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can edit the resource"},{name:"handleShareClickEvent",docblock:"handle share resources",modifiers:["async"],params:[],returns:null,description:"handle share resources"},{name:"canShareResource",docblock:"Can share the resource\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can share the resource"},{name:"handleCopyPermalinkClickEvent",docblock:"handle copy permalink of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy permalink of one resource"},{name:"handleCopyUsernameClickEvent",docblock:"handle copy username of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy username of one resource"},{name:"handleCopyUriClickEvent",docblock:"handle copy uri of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy uri of one resource"},{name:"handleClearSelectionClick",docblock:"Handle the event on the 'close' icon to clear the current selection.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the event on the 'close' icon to clear the current selection."},{name:"decryptResourceSecret",docblock:"Decrypt the resource secret\n@returns {Promise<object>} The secret in plaintext format\n@throw UserAbortsOperationError If the user cancel the operation",modifiers:[],params:[],returns:{description:"The secret in plaintext format",type:{name:"Promise",elements:[{name:"object"}]}},description:"Decrypt the resource secret"},{name:"copyPasswordToClipboard",docblock:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)\n\n@param {object} plaintextSecretDto The plaintext secret DTO.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"plaintextSecretDto",description:"The plaintext secret DTO.",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)"},{name:"handleCopySecretClickEvent",docblock:"handle copy to clipboard the secret of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the secret of the selected resource"},{name:"handleCopyTotpClickEvent",docblock:"handle copy to clipboard the totp of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the totp of the selected resource"},{name:"handleSetExpiryDateClickEvent",docblock:"Whenever the user intends to set the expiration date on the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to set the expiration date on the selected resources"},{name:"handleExportClickEvent",docblock:"Whenever the user intends to export the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to export the selected resources"},{name:"displayActionAborted",docblock:"Display action aborted",modifiers:[],params:[],returns:null,description:"Display action aborted"},{name:"selectedResources",docblock:"selected resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"selected resources"},{name:"hasOneResourceSelected",docblock:"has at least one resource selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has at least one resource selected"},{name:"canUpdate",docblock:"Can update the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the selected resources"},{name:"canShare",docblock:"Can share the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can share the selected resources"},{name:"canExport",docblock:"Check if the user can export.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can export."},{name:"canCopyUsername",docblock:"Can copy username\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy username"},{name:"canCopyUri",docblock:"Can copy uri\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy uri"},{name:"canCopyPassword",docblock:"Can copy password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy password"},{name:"isPasswordResources",docblock:"Is password resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is password resource"},{name:"canCopyTotp",docblock:"Can copy totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy totp"},{name:"isStandaloneTotpResource",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"hasResourceUsername",docblock:"Returns true if the resource type has a username associated.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the resource type has a username associated."},{name:"hasMoreActionAllowed",docblock:"Has at least one action of the more menu allowed.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has at least one action of the more menu allowed."},{name:"export",docblock:"Exports the selected resources",modifiers:["async"],params:[],returns:null,description:"Exports the selected resources"},{name:"canUseTotp",docblock:"Can use Totp\n@return {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Can use Totp"},{name:"canOverridePasswordExpiry",docblock:"Can use password expiry\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use password expiry"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourcesWorkspaceMenu",props:{actionsButtonRef:{description:"",type:{name:"object"},required:!1},context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},progressContext:{description:"",type:{name:"any"},required:!1},clipboardContext:{description:"",type:{name:"object"},required:!1},metadataKeysSettings:{description:"",type:{name:"instanceOf",value:"MetadataKeysSettingsEntity"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/FilterResourcesByBreadcrumb/FilterResourcesByBreadcrumb.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumbs.js"),_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Navigation/Breadcrumbs/Breadcrumb.js"),_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/NavigationContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class FilterResourcesByBreadcrumb extends react__WEBPACK_IMPORTED_MODULE_0__.Component{get items(){const items=[this.allItemsBreadcrumb];switch(this.props.resourceWorkspaceContext.filter.type){case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.NONE:return[];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ALL:return items;case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.TEXT:{const isEmptySearchText=!this.props.resourceWorkspaceContext.filter.payload,filterText=this.props.resourceWorkspaceContext.filter.payload;return isEmptySearchText?items:[...items,this.getBreadcrumb(`${this.translate("Search:")} ${filterText}`)]}case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FAVORITE:return[...items,this.getBreadcrumb(this.translate("Favorite"))];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.SHARED_WITH_ME:return[...items,this.getBreadcrumb(this.translate("Shared with me"))];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.EXPIRED:return[...items,this.getBreadcrumb(this.translate("Expired"))];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ITEMS_I_OWN:return[...items,this.getBreadcrumb(this.translate("Items I own"))];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.PRIVATE:return[...items,this.getBreadcrumb(this.translate("Private"))];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.TAG:{const filteredTagName=this.props.resourceWorkspaceContext.filter.payload.tag.slug;return[...items,this.getBreadcrumb(`${filteredTagName} ${this.translate("(tag)")}`)]}case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ROOT_FOLDER:return[this.myWorkspaceBreadcrumb];case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FOLDER:{const folder=this.props.resourceWorkspaceContext.filter.payload.folder;this.foldersHierarchy=this.props.context.getHierarchyFolderCache(folder?.folder_parent_id);const currentFolderName=folder&&folder.name||this.translate("N/A"),currentBreadcrumbItem=this.getBreadcrumb(`${currentFolderName}`,`/app/folders/view/${folder.id}`),subFolders=this.foldersHierarchy.map((folder=>{const currentFolderName=folder&&folder.name||this.translate("N/A");return this.getBreadcrumb(`${currentFolderName}`,`/app/folders/view/${folder.id}`)}));return[this.myWorkspaceBreadcrumb,...subFolders,currentBreadcrumbItem]}case _contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.GROUP:{const group=this.props.resourceWorkspaceContext.filter.payload.group,currentGroupName=group&&group.name||this.translate("N/A");return[...items,this.getBreadcrumb(`${currentGroupName} ${this.translate("(group)")}`)]}}return items}get allItemsBreadcrumb(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_4__.A,{name:this.translate("Home"),onClick:this.props.navigationContext.onGoToPasswordsRequested})}get myWorkspaceBreadcrumb(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_4__.A,{name:this.translate("My workspace"),onClick:this.handleClickOnMyWorkspace.bind(this)})}handleClickOnMyWorkspace(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter})}getBreadcrumb(name,pathname){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumb__WEBPACK_IMPORTED_MODULE_4__.A,{name,onClick:this.onBreadcrumbClick.bind(this,pathname)})}async onBreadcrumbClick(pathname=this.props.location.pathname){this.props.history.push({pathname})}get isResourceNotNull(){return null!==this.props.resourceWorkspaceContext.filteredResources}get translate(){return this.props.t}render(){const count=this.props.resourceWorkspaceContext.filteredResources?.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Breadcrumbs_Breadcrumbs__WEBPACK_IMPORTED_MODULE_3__.A,{items:this.items},this.isResourceNotNull&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,{count},{count}," items")))}}FilterResourcesByBreadcrumb.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,location:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object,navigationContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.withRouter)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_NavigationContext__WEBPACK_IMPORTED_MODULE_5__.qN)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(FilterResourcesByBreadcrumb)))));FilterResourcesByBreadcrumb.__docgenInfo={description:"The component displays a navigation breadcrumb given the applied resources filter",methods:[{name:"items",docblock:"Returns the current list of breadcrumb items",modifiers:["get"],params:[],returns:null,description:"Returns the current list of breadcrumb items"},{name:"allItemsBreadcrumb",docblock:"Returns the home breadcrumb items\n@return {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Returns the home breadcrumb items"},{name:"myWorkspaceBreadcrumb",docblock:"Returns the my workspace breadcrumb items\n@return {JSX.Element}",modifiers:["get"],params:[],returns:{type:{name:"JSX.Element"}},description:"Returns the my workspace breadcrumb items"},{name:"handleClickOnMyWorkspace",docblock:"Handle when the user clicks on the my workspace breadcrumb.",modifiers:[],params:[],returns:null,description:"Handle when the user clicks on the my workspace breadcrumb."},{name:"getBreadcrumb",docblock:"Return the breadcrumb\n@param {string} name the breadcrumb name\n@param {string} pathname the breadcrumb pathname\n@return {JSX.Element}",modifiers:[],params:[{name:"name",description:"the breadcrumb name",type:{name:"string"},optional:!1},{name:"pathname",description:"the breadcrumb pathname",type:{name:"string"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Return the breadcrumb"},{name:"onBreadcrumbClick",docblock:"Whenever the user click on the breadcrumb\n@param {string} pathname the breadcrumb pathname\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"pathname",description:"the breadcrumb pathname",type:{name:"string"},optional:!0}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Whenever the user click on the breadcrumb"},{name:"isResourceNotNull",docblock:"Is resources not null\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is resources not null"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"FilterResourcesByBreadcrumb",props:{context:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},location:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},navigationContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/FilterResourcesByGroups/FilterResourcesByGroups.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/caret_right.svg"),_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/users.svg");class FilterResourcesByGroups extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{open:!0,groups:null,loading:!1}}async componentDidMount(){await this.loadGroupsData()}async loadGroupsData(){if(!this.state.loading){this.setState({loading:!0});const groups=await this.props.context.port.request("passbolt.groups.find-my-groups");this.setState({groups,loading:!1})}}bindCallbacks(){this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this),this.handleClickGroupEvent=this.handleClickGroupEvent.bind(this)}async handleTitleClickEvent(){const open=!this.state.open;this.setState({open}),open&&await this.loadGroupsData()}handleClickGroupEvent(group){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.FM.GROUP,payload:{group}};this.props.history.push({pathname:"/app/passwords",state:{filter}})}isSelected(groupId){const filter=this.props.resourceWorkspaceContext.filter;return filter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.FM.GROUP&&filter.payload.group.id===groupId}hasGroup(){return this.groups?.length>0}get groups(){return this.state.groups}get groupsSorted(){return this.groups.sort(((groupA,groupB)=>groupA.name.localeCompare(groupB.name)))}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.hasGroup()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary-tree navigation-secondary navigation-groups accordion"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"node root "+(this.state.open?"open":"close")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row title",onClick:this.handleTitleClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",{className:"section-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"folders-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"toggle-folder"},this.state.open?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_4__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_5__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_users_svg__WEBPACK_IMPORTED_MODULE_6__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.x6,null,"Groups")))))))))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"tree ready"},this.groupsSorted.map((group=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"node root group-item",key:group.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isSelected(group.id)?"selected":""),onClick:()=>this.handleClickGroupEvent(group)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border",title:group.name},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"ellipsis"},group.name))))))))))))}}FilterResourcesByGroups.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_7___default().any,history:prop_types__WEBPACK_IMPORTED_MODULE_7___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_8__.withRouter)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.CI)("common")(FilterResourcesByGroups))));FilterResourcesByGroups.__docgenInfo={description:"This component display groups to filter the resources",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"loadGroupsData",docblock:"Loads the groups the current user is member of.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Loads the groups the current user is member of."},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleTitleClickEvent",docblock:"Handle when the user click on the title.",modifiers:["async"],params:[],returns:null,description:"Handle when the user click on the title."},{name:"handleClickGroupEvent",docblock:"Handle when the user selects a group.",modifiers:[],params:[{name:"group",optional:!1}],returns:null,description:"Handle when the user selects a group."},{name:"isSelected",docblock:"Check if the tag associated to this component is selected.\n@returns {boolean}\n@param tagId\n@returns {boolean}",modifiers:[],params:[{name:"groupId",optional:!1}],returns:{type:{name:"boolean"}},description:"Check if the tag associated to this component is selected."},{name:"hasGroup",docblock:"has at least one group that the user belongs to\n@returns {*|boolean}",modifiers:[],params:[],returns:{type:{name:"union",elements:[{name:"mixed"},{name:"boolean"}]}},description:"has at least one group that the user belongs to"},{name:"groups",docblock:"get groups that the user belongs to\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"get groups that the user belongs to"},{name:"groupsSorted",docblock:"get the groups sorted\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"get the groups sorted"}],displayName:"FilterResourcesByGroups",props:{context:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/Resource/FilterResourcesByShortcuts/FilterResourcesByShortcuts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_img_svg_home_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/home.svg");class FilterResourcesByShortcuts extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindHandlers()}bindHandlers(){this.handleAllItemsClick=this.handleAllItemsClick.bind(this)}get isHomeItemSelected(){return this.props.resourceWorkspaceContext.filter.type!==_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.FOLDER&&this.props.resourceWorkspaceContext.filter.type!==_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ROOT_FOLDER&&this.props.resourceWorkspaceContext.filter.type!==_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.GROUP&&this.props.resourceWorkspaceContext.filter.type!==_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.TAG}handleAllItemsClick(){const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.FM.ALL};this.props.history.push({pathname:"/app/passwords",state:{filter}})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"navigation-secondary navigation-shortcuts"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"row "+(this.isHomeItemSelected?"selected":""),onClick:this.handleAllItemsClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"main-cell"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"link no-border"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_home_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Home")))))))))}}FilterResourcesByShortcuts.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_5___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_6__.withRouter)((0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(FilterResourcesByShortcuts))));FilterResourcesByShortcuts.__docgenInfo={description:"This component allows to select shortcut filters applied on resources",methods:[{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"isHomeItemSelected",docblock:"Returns true if the Home shortcut is currently selected",modifiers:["get"],params:[],returns:null,description:"Returns true if the Home shortcut is currently selected"},{name:"handleAllItemsClick",docblock:'Whenever the shortcut "Home" has been selected',modifiers:[],params:[],returns:null,description:'Whenever the shortcut "Home" has been selected'}],displayName:"FilterResourcesByShortcuts",props:{context:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/Resource/FilterResourcesByText/FilterResourcesByText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_router_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Navigation/Search/SearchBar.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js");class FilterResourcesByText extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}bindCallbacks(){this.handleSearchEvent=this.handleSearchEvent.bind(this)}get defaultState(){return{text:"",debounceTimeoutIt:null}}componentDidUpdate(previousProps){this.handleFilterChanged(previousProps.resourceWorkspaceContext.filter)}componentWillUnmount(){clearTimeout(this.state.debounceTimeoutIt)}handleFilterChanged(previousFilter){const wasTextFilter=previousFilter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.FM.TEXT,isTextFilter=this.props.resourceWorkspaceContext.filter.type===_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.FM.TEXT;wasTextFilter&&!isTextFilter&&this.setState({text:""})}handleSearchEvent(text){this.search(text)}search(text){clearTimeout(this.state.debounceTimeoutId);const debounceTimeoutId=setTimeout((()=>{const filter=this.generateFilter(text);this.props.history.push({pathname:"/app/passwords",state:{filter}})}),300);this.setState({debounceTimeoutId,text})}generateFilter(text){return text.length>0?{type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.FM.TEXT,payload:text}:{type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.FM.ALL}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Navigation_Search_SearchBar__WEBPACK_IMPORTED_MODULE_1__.A,{disabled:this.props.disabled,onSearch:this.handleSearchEvent,placeholder:this.props.placeholder,value:this.state.text})}}FilterResourcesByText.propTypes={disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object,history:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object},FilterResourcesByText.defaultProps={disabled:!1,placeholder:"Search"};const __WEBPACK_DEFAULT_EXPORT__=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_4__.withRouter)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.Qw)(FilterResourcesByText));FilterResourcesByText.__docgenInfo={description:"",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"handleFilterChanged",docblock:"Whenever the resource filter changed",modifiers:[],params:[{name:"previousFilter",optional:!1}],returns:null,description:"Whenever the resource filter changed"},{name:"handleSearchEvent",docblock:"Handle search input change\n@params {string} text The entered text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Handle search input change"},{name:"search",docblock:"Search for the text\n@param text",modifiers:[],params:[{name:"text",optional:!1}],returns:null,description:"Search for the text"},{name:"generateFilter",docblock:"Generate the filter to apply on resources\n@param text\n@returns {{payload, type: string}|{type: string}}",modifiers:[],params:[{name:"text",optional:!1}],returns:{type:{name:"union",elements:[]}},description:"Generate the filter to apply on resources"}],displayName:"FilterResourcesByText",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},placeholder:{defaultValue:{value:"'Search'",computed:!1},description:"",type:{name:"string"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},history:{description:"",type:{name:"object"},required:!1}}}},"./src/react-extension/components/ResourceDetails/DisplayResourceDetails/DisplayResourcesListDetails.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/img/svg/close.svg"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/components/Icons/ResourceIcon.js"),react_list__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-list/react-list.js"),react_list__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_list__WEBPACK_IMPORTED_MODULE_8__);class DisplayResourcesListDetails extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!1,error:!1,isSecretDecrypting:!1,isSecretDecrypted:!1,description:null}}bindCallbacks(){this.handleUnselectClickEvent=this.handleUnselectClickEvent.bind(this),this.renderItem=this.renderItem.bind(this)}getResourceTypeSubtitle(resource){if(!this.props.resourceTypes)return"";const resourceType=this.props.resourceTypes.getFirstById(resource.resource_type_id);switch(resourceType?.slug){case"password-string":case"v5-password-string":return this.props.t("Password");case"password-and-description":case"v5-default":return this.props.t("Password and Note");case"password-description-totp":case"v5-default-with-totp":return this.props.t("Password, Note and TOTP");case"totp":case"v5-totp-standalone":return this.props.t("TOTP");default:return this.props.t("Resource")}}handleUnselectClickEvent(resource){this.props.resourceWorkspaceContext.onResourceSelected.multiple(resource)}getPermissionSubtitle(resource){switch(resource.permission.type){case 0:return this.props.t("No access");case 1:return this.props.t("Can read");case 7:return this.props.t("Can edit");case 15:return this.props.t("Is owner")}}renderItem(index){const resource=this.props.resourceWorkspaceContext.selectedResources[index];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:resource.id,className:"sidebar-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Icons_ResourceIcon__WEBPACK_IMPORTED_MODULE_7__.A,{resource}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-area"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"name"},resource.metadata.name)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getResourceTypeSubtitle(resource)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"subtitle"},this.getPermissionSubtitle(resource))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"title-link button-transparent inline",title:this.props.t("Remove this resource from the selection"),onClick:()=>this.handleUnselectClickEvent(resource)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_4__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Remove this resource from the selection")))))}render(){const count=this.props.resourceWorkspaceContext.selectedResources.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar resource multiple-resources-selected"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-title"},this.props.t(`${count} resources selected`)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sidebar-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_list__WEBPACK_IMPORTED_MODULE_8___default(),{itemRenderer:this.renderItem,length:count,pageSize:15,minSize:15,type:"uniform"})))}}DisplayResourcesListDetails.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_9___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_6__.A),resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_5__.KH)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(DisplayResourcesListDetails))));DisplayResourcesListDetails.__docgenInfo={description:"This component display the note section of a resource",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"getResourceTypeSubtitle",docblock:"Get the sidebar subtitle",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Get the sidebar subtitle"},{name:"handleUnselectClickEvent",docblock:"Handle when the user selects the folder parent.",modifiers:[],params:[{name:"resource",optional:!1}],returns:null,description:"Handle when the user selects the folder parent."},{name:"getPermissionSubtitle",docblock:null,modifiers:[],params:[{name:"resource",optional:!1,type:null}],returns:null},{name:"renderItem",docblock:"Use to render a single item of the list\n@param {integer} index of the item in the source list\n@param {integer} key index of the HTML element in the ReactList\n@returns {JSX.Element}",modifiers:[],params:[{name:"index",description:"of the item in the source list",type:{name:"integer"},optional:!1}],returns:{type:{name:"JSX.Element"}},description:"Use to render a single item of the list"}],displayName:"DisplayResourcesListDetails",props:{context:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsActivity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/spinner.svg"),react_i18next__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/shared/utils/dateUtils.js"),_shared_components_Aro_DisplayAroName__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/shared/components/Aro/DisplayAroName.js");class DisplayResourceFolderDetailsActivity extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{activities:[],activitiesPage:1,loadingMore:!1,loading:!0}}async componentDidMount(){await this.fetch(),this.setState({loading:!1})}async componentDidUpdate(prevProps){await this.handleResourceChange(prevProps.resourceWorkspaceContext.details.folder)}bindCallbacks(){this.handleMoreClickEvent=this.handleMoreClickEvent.bind(this)}async handleResourceChange(previousFolder){this.folder.id!==previousFolder.id&&(this.setState(this.defaultState),await this.fetch(),this.setState({loading:!1}))}async handleMoreClickEvent(){const activitiesPage=this.state.activitiesPage+1;this.setState({activitiesPage,loadingMore:!0}),await this.fetch(),this.setState({loadingMore:!1})}async fetch(){const options={limit:5,page:this.state.activitiesPage},newActivities=await this.props.context.port.request("passbolt.actionlogs.find-all-for","Folder",this.folder.id,options)||[],activities=[...this.state.activities,...newActivities];this.setState({activities})}getActivityCreatorFullName(user){return`${user.profile.first_name} ${user.profile.last_name}`}getPermissionLabel(permission){switch(permission.type){case 1:return this.translate("can read");case 7:return this.translate("can update");case 15:return this.translate("is owner")}}getPermissionChangeTypeLabel(type){switch(type){case"created":return this.translate("new");case"updated":return this.translate("updated");case"removed":return this.translate("deleted")}}renderFolderCreatedActivity(activity){const activityCreatorName=this.getActivityCreatorFullName(activity.creator),folderName=this.folder.name,activityFormattedDate=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(activity.created,this.props.t,this.props.context.locale);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:activity.action_log_id,className:"usercard-detailed-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"creator"},{activityCreatorName})," created folder ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"item"},{folderName}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo light"},activityFormattedDate))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:activity.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderFolderUpdatedActivity(activity){const activityCreatorName=this.getActivityCreatorFullName(activity.creator),folderName=this.folder.name,activityFormattedDate=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(activity.created,this.props.t,this.props.context.locale);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:activity.action_log_id,className:"usercard-detailed-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"creator"},{activityCreatorName})," updated folder ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"item"},{folderName}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo light"},activityFormattedDate))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:activity.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderSharedActivityPermissionChangeItem(permission,changeType){const permissionLabel=this.getPermissionLabel(permission),changeTypeLabel=this.getPermissionChangeTypeLabel(changeType);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:permission.id},permission.user&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:permission.user,baseUrl:this.props.context.userSettings.getTrustedDomain()}),permission.group&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_2__.A,{group:permission.group}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"creator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Aro_DisplayAroName__WEBPACK_IMPORTED_MODULE_8__.A,{displayAs:permission.aro,user:permission.user,group:permission.group})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"permission-type"}," ",permissionLabel)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"type"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:changeType},changeTypeLabel)))}renderPermissionsUpdatedActivity(activity){const activityCreatorName=this.getActivityCreatorFullName(activity.creator),folderName=this.folder.name,activityFormattedDate=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_7__.kD)(activity.created,this.props.t,this.props.context.locale);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:activity.action_log_id,className:"usercard-detailed-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"creator"},{activityCreatorName})," changed permissions of folder ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"item"},{folderName})," with")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"permissions-list"},activity.data.permissions.added.map((permission=>this.renderSharedActivityPermissionChangeItem(permission,"created"))),activity.data.permissions.updated.map((permission=>this.renderSharedActivityPermissionChangeItem(permission,"updated"))),activity.data.permissions.removed.map((permission=>this.renderSharedActivityPermissionChangeItem(permission,"removed")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo third-level light"},activityFormattedDate))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:activity.creator,baseUrl:this.props.context.userSettings.getTrustedDomain()}))}renderUnknownActivity(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"usercard-detailed-col-2"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Unknown activity, please contact your administrator."))))}renderActivity(activity){let render;switch(activity.type){case"Folders.created":render=this.renderFolderCreatedActivity(activity);break;case"Folders.updated":render=this.renderFolderUpdatedActivity(activity);break;case"Permissions.updated":render=this.renderPermissionsUpdatedActivity(activity);break;default:render=this.renderUnknownActivity(activity)}return render}isMoreButtonVisible(){return null!==this.state.activities&&!this.state.activities.some((activity=>"Folders.created"===activity.type))}get folder(){return this.props.resourceWorkspaceContext.details.folder}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"activity accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_5__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"Retrieving activities"))),!this.state.loading&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"ready"},this.state.activities.map((activity=>this.renderActivity(activity)))),this.isMoreButtonVisible()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleMoreClickEvent,disabled:this.state.loadingMore,className:"link no-border action-logs-load-more "+(this.state.loadingMore?"processing":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_6__.x6,null,"More")))))))}}DisplayResourceFolderDetailsActivity.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_9___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_4__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_6__.CI)("common")(DisplayResourceFolderDetailsActivity)));DisplayResourceFolderDetailsActivity.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleResourceChange",docblock:"Check if the folder has changed and fetch\n@param previousFolder",modifiers:["async"],params:[{name:"previousFolder",optional:!1}],returns:null,description:"Check if the folder has changed and fetch"},{name:"handleMoreClickEvent",docblock:"handle when the users click on the more button.",modifiers:["async"],params:[],returns:null,description:"handle when the users click on the more button."},{name:"fetch",docblock:"Fetch the folder activities\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Fetch the folder activities"},{name:"getActivityCreatorFullName",docblock:"Get an activity creator full name\n@param {object} user The creator\n@return string",modifiers:[],params:[{name:"user",description:"The creator",type:{name:"object"},optional:!1}],returns:{description:"string"},description:"Get an activity creator full name"},{name:"getPermissionLabel",docblock:"Get a permission aro name\n@param {object} permission The permission",modifiers:[],params:[{name:"permission",description:"The permission",type:{name:"object"},optional:!1}],returns:null,description:"Get a permission aro name"},{name:"getPermissionChangeTypeLabel",docblock:"Get permission change type label\n@param {string} type The target change type",modifiers:[],params:[{name:"type",description:"The target change type",type:{name:"string"},optional:!1}],returns:null,description:"Get permission change type label"},{name:"renderFolderCreatedActivity",docblock:"Render a created activity.\n@param {object} activity The target activity\n@returns {JSX}",modifiers:[],params:[{name:"activity",description:"The target activity",type:{name:"object"},optional:!1}],returns:{type:{name:"JSX"}},description:"Render a created activity."},{name:"renderFolderUpdatedActivity",docblock:"Render an updated activity.\n@param {object} activity The target activity\n@returns {JSX}",modifiers:[],params:[{name:"activity",description:"The target activity",type:{name:"object"},optional:!1}],returns:{type:{name:"JSX"}},description:"Render an updated activity."},{name:"renderSharedActivityPermissionChangeItem",docblock:"Render a shared activity permission change item.\n@param {object} permission The target permission\n@param {string} changeType The change type\n@returns {JSX}",modifiers:[],params:[{name:"permission",description:"The target permission",type:{name:"object"},optional:!1},{name:"changeType",description:"The change type",type:{name:"string"},optional:!1}],returns:{type:{name:"JSX"}},description:"Render a shared activity permission change item."},{name:"renderPermissionsUpdatedActivity",docblock:"Render a permissions updated activity.\n@param {object} activity The target activity\n@returns {JSX}",modifiers:[],params:[{name:"activity",description:"The target activity",type:{name:"object"},optional:!1}],returns:{type:{name:"JSX"}},description:"Render a permissions updated activity."},{name:"renderUnknownActivity",docblock:"Render an unknown activity.\n@returns {JSX}",modifiers:[],params:[],returns:{type:{name:"JSX"}},description:"Render an unknown activity."},{name:"renderActivity",docblock:"Render an activity\n@param {object} activity The activity to render",modifiers:[],params:[{name:"activity",description:"The activity to render",type:{name:"object"},optional:!1}],returns:null,description:"Render an activity"},{name:"isMoreButtonVisible",docblock:"Is the more button visible\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Is the more button visible"},{name:"folder",docblock:"Returns the current detailed folder",modifiers:["get"],params:[],returns:null,description:"Returns the current detailed folder"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourceFolderDetailsActivity",props:{context:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsInformation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/utils/dateUtils.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/img/svg/caret_right.svg"),_img_svg_folder_svg__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/img/svg/folder.svg"),_img_svg_share_folder_svg__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/img/svg/share_folder.svg"),_Common_Tooltip_TooltipPortal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Common/Tooltip/TooltipPortal.js"),_img_svg_cabinet_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/cabinet.svg");class DisplayResourceFolderDetailsInformation extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{open:!0,creator:null,modifier:null}}bindCallbacks(){this.handleFolderParentClickEvent=this.handleFolderParentClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this)}componentDidMount(){this.state.open&&this.loadUserInformation()}componentDidUpdate(prevProps){this.handleFolderChange(prevProps.resourceWorkspaceContext.details.folder)}handleFolderChange(previousFolder){(this.folder.created_by!==previousFolder.created_by||this.folder.modified_by!==previousFolder.modified_by)&&this.state.open&&this.loadUserInformation()}async loadUserInformation(){const folderInformation=await this.props.context.port.request("passbolt.folders.find-details",this.folder.id);this.setState({creator:folderInformation?.creator,modifier:folderInformation?.modifier})}handleFolderParentClickEvent(){if(this.folder.folder_parent_id){const folderParent=this.props.context.folders.find((item=>item.id===this.folder.folder_parent_id));this.props.history.push(`/app/folders/view/${folderParent.id}`)}else{const filter={type:_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.FM.ROOT_FOLDER};this.props.history.push("/app/passwords",{filter})}}handleTitleClickEvent(){const open=!this.state.open;this.setState({open})}get folder(){return this.props.resourceWorkspaceContext.details.folder}getFolderName(folderParentId){if(null===folderParentId)return this.props.t("My workspace");if(this.props.context.folders){const folder=this.props.context.folders.find((item=>item.id===folderParentId));if(folder)return folder.name}return""}isFolderParentShared(){if(null!==this.folder.folder_parent_id&&this.props.context.folders){const folder=this.props.context.folders.find((item=>item.id===this.folder.folder_parent_id));if(folder)return!folder.personal}return!1}renderTooltipFolderStructure(folderStructure){return 0===folderStructure.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"My workspace")):folderStructure?.map(((folder,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:folder.id,className:"folder-level",style:{marginLeft:5*index+"px"}},null!==folder.folder_parent_id&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"caret"},""),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,folder.name))))}render(){const creatorUsername=this.state.creator?.username||"",modifierUsername=this.state.modifier?.username||"",createdDateTimeAgo=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.kD)(this.folder.created,this.props.t,this.props.context.locale),modifiedDateTimeAgo=(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_4__.kD)(this.folder.modified,this.props.t,this.props.context.locale),folderStructure=this.props.context.getHierarchyFolderCache(this.folder.folder_parent_id);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"detailed-information accordion sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Information")),this.state.open?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_5__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_6__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"username label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Name")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Created")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created-by label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Created by")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Modified")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified-by label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Modified by")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"location label"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"Location"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"information-value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"username value"},this.folder.name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created value",title:this.folder.created},createdDateTimeAgo),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"created-by value"},creatorUsername),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified value",title:this.folder.modified},modifiedDateTimeAgo),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"modified-by value"},modifierUsername),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"location value"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Tooltip_TooltipPortal__WEBPACK_IMPORTED_MODULE_9__.A,{message:this.renderTooltipFolderStructure(folderStructure)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",onClick:this.handleFolderParentClickEvent,disabled:!this.props.context.folders,className:"no-border"},null===this.folder.folder_parent_id&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_cabinet_svg__WEBPACK_IMPORTED_MODULE_10__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__.x6,null,"My workspace")),null!==this.folder.folder_parent_id&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,this.isFolderParentShared()?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_folder_svg__WEBPACK_IMPORTED_MODULE_8__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_folder_svg__WEBPACK_IMPORTED_MODULE_7__.A,null),folderStructure.map((folder=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:folder.id},null!==folder.folder_parent_id&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"caret"},""),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,folder.name)))))))))))}}DisplayResourceFolderDetailsInformation.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,history:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,react_router_dom__WEBPACK_IMPORTED_MODULE_12__.withRouter)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_2__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_3__.CI)("common")(DisplayResourceFolderDetailsInformation))));DisplayResourceFolderDetailsInformation.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {*}",modifiers:[],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleFolderChange",docblock:"Check if the folder has changed and fetch\n@param {object} previousFolder The previously selected folder",modifiers:[],params:[{name:"previousFolder",description:"The previously selected folder",type:{name:"object"},optional:!1}],returns:null,description:"Check if the folder has changed and fetch"},{name:"loadUserInformation",docblock:"Loads the information about the creator and the modifier of the current selected folder.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Loads the information about the creator and the modifier of the current selected folder."},{name:"handleFolderParentClickEvent",docblock:"Handle when the user selects the folder parent.",modifiers:[],params:[],returns:null,description:"Handle when the user selects the folder parent."},{name:"handleTitleClickEvent",docblock:"Handle when the user selects the folder parent.",modifiers:[],params:[],returns:null,description:"Handle when the user selects the folder parent."},{name:"folder",docblock:"Returns the current detailed folder",modifiers:["get"],params:[],returns:null,description:"Returns the current detailed folder"},{name:"getFolderName",docblock:"Get the folder name.\n@param {string} folderId The folder id\n@returns {string}",modifiers:[],params:[{name:"folderParentId",optional:!1}],returns:{type:{name:"string"}},description:"Get the folder name."},{name:"isFolderParentShared",docblock:"Check if folder parent is shared\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if folder parent is shared"},{name:"renderTooltipFolderStructure",docblock:"Render the tooltip folders structure.\n@param {array<FolderEntity>} folderStructure The folders structure.\n@render {JSX}",modifiers:[],params:[{name:"folderStructure",description:"The folders structure.",type:{name:"array",elements:[{name:"FolderEntity"}]},optional:!1}],returns:null,description:"Render the tooltip folders structure."}],displayName:"DisplayResourceFolderDetailsInformation",props:{context:{description:"",type:{name:"any"},required:!1},history:{description:"",type:{name:"object"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/ResourceFolderDetails/DisplayResourceFolderDetails/DisplayResourceFolderDetailsPermissions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Avatar/UserAvatar.js"),_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Avatar/GroupAvatar.js"),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/spinner.svg"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Share/ShareDialog.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/img/svg/caret_down.svg"),_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/img/svg/caret_right.svg"),_shared_components_Aro_DisplayAroName__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/components/Aro/DisplayAroName.js");class DisplayResourceFolderDetailsPermissions extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{permissions:null,open:!1,loading:!0}}bindCallbacks(){this.handlePermissionsEditClickEvent=this.handlePermissionsEditClickEvent.bind(this),this.handleTitleClickEvent=this.handleTitleClickEvent.bind(this)}async componentDidUpdate(prevProps){await this.handleFolderChange(prevProps.resourceWorkspaceContext.details.folder)}handleFolderChange(previousFolder){this.folder.id!==previousFolder.id&&this.state.open&&this.fetch()}async fetch(){this.setState({loading:!0});const permissions=await this.props.context.port.request("passbolt.permissions.find-aco-permissions-for-display",this.folder.id,"Folder");this.setState({permissions,loading:!1})}handleTitleClickEvent(){const open=!this.state.open;open&&this.fetch(),this.setState({open})}handlePermissionsEditClickEvent(){const foldersIds=[this.folder.id];this.props.context.setContext({shareDialogProps:{foldersIds}}),this.props.dialogContext.open(_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_6__.A)}get folder(){return this.props.resourceWorkspaceContext.details.folder}getPermissionLabel(permission){switch(permission.type){case 1:return this.translate("can read");case 7:return this.translate("can update");case 15:return this.translate("is owner")}}isLoading(){return this.state.loading}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"sharedwith accordion detailed-permission sidebar-section "+(this.state.open?"":"closed")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h4",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"link no-border",type:"button",onClick:this.handleTitleClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"accordion-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Shared with")),this.state.open?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_9__.A,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_right_svg__WEBPACK_IMPORTED_MODULE_10__.A,null)))),this.state.open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"accordion-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"shared-with ready"},this.isLoading()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"processing-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"processing-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_8__.x6,null,"Retrieving permissions"))),this.state.permissions&&this.state.permissions.map((permission=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:permission.id,className:"usercard-col-2"},"User"===permission.aro&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_UserAvatar__WEBPACK_IMPORTED_MODULE_1__.A,{user:permission.user,baseUrl:this.props.context.userSettings.getTrustedDomain()}),"Group"===permission.aro&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Avatar_GroupAvatar__WEBPACK_IMPORTED_MODULE_2__.A,{group:permission.group}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"name"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Aro_DisplayAroName__WEBPACK_IMPORTED_MODULE_11__.A,{displayAs:permission.aro,user:permission.user,group:permission.group})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"subinfo"},this.getPermissionLabel(permission)))))))))))}}DisplayResourceFolderDetailsPermissions.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_4__.L)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_7__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_8__.CI)("common")(DisplayResourceFolderDetailsPermissions))));DisplayResourceFolderDetailsPermissions.__docgenInfo={description:"",methods:[{name:"getDefaultState",docblock:"Get default state\n@returns {*}",modifiers:[],params:[],returns:{type:{name:"mixed"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleFolderChange",docblock:"Check if the folder has changed and fetch\n@param previousFolder",modifiers:[],params:[{name:"previousFolder",optional:!1}],returns:null,description:"Check if the folder has changed and fetch"},{name:"fetch",docblock:"Get the folder permissions.",modifiers:["async"],params:[],returns:null,description:"Get the folder permissions."},{name:"handleTitleClickEvent",docblock:"handle when the users click on the section header.\nOpen/Close it.",modifiers:[],params:[],returns:null,description:"handle when the users click on the section header.\nOpen/Close it."},{name:"handlePermissionsEditClickEvent",docblock:"Handle when the user edits the folder permissions.",modifiers:[],params:[],returns:null,description:"Handle when the user edits the folder permissions."},{name:"folder",docblock:"Returns the current detailed resource",modifiers:["get"],params:[],returns:null,description:"Returns the current detailed resource"},{name:"getPermissionLabel",docblock:"Get a permission aro name\n@param {object} permission The permission",modifiers:[],params:[{name:"permission",description:"The permission",type:{name:"object"},optional:!1}],returns:null,description:"Get a permission aro name"},{name:"isLoading",docblock:"check if no permission is present\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"check if no permission is present"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourceFolderDetailsPermissions",props:{context:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/contexts/AccountRecoveryUserContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Le:()=>withAccountRecovery,On:()=>AccountRecoveryUserContextProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js");const AccountRecoveryUserContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({accountRecoveryOrganizationPolicy:null,status:null,isDataLoaded:!1,findAccountRecoveryPolicy:()=>{},getOrganizationPolicy:()=>{},getRequestor:()=>{},getRequestedDate:()=>{},getPolicy:()=>{},getUserAccountRecoverySubscriptionStatus:()=>{},isAccountRecoveryChoiceRequired:()=>{},isPolicyEnabled:()=>{},loadAccountRecoveryPolicy:()=>{},reloadAccountRecoveryPolicy:()=>{},isReady:()=>{}});class AccountRecoveryUserContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{accountRecoveryOrganizationPolicy:null,status:null,isDataLoaded:!1,findAccountRecoveryPolicy:this.findAccountRecoveryPolicy.bind(this),getOrganizationPolicy:this.getOrganizationPolicy.bind(this),getRequestor:this.getRequestor.bind(this),getRequestedDate:this.getRequestedDate.bind(this),getPolicy:this.getPolicy.bind(this),getUserAccountRecoverySubscriptionStatus:this.getUserAccountRecoverySubscriptionStatus.bind(this),setUserAccountRecoveryStatus:this.setUserAccountRecoveryStatus.bind(this),isAccountRecoveryChoiceRequired:this.isAccountRecoveryChoiceRequired.bind(this),isPolicyEnabled:this.isPolicyEnabled.bind(this),loadAccountRecoveryPolicy:this.loadAccountRecoveryPolicy.bind(this),reloadAccountRecoveryPolicy:this.reloadAccountRecoveryPolicy.bind(this),isReady:this.isReady.bind(this)}}async loadAccountRecoveryPolicy(){this.state.isDataLoaded||await this.findAccountRecoveryPolicy()}async reloadAccountRecoveryPolicy(){await this.findAccountRecoveryPolicy()}async findAccountRecoveryPolicy(){if(!this.props.context.siteSettings.canIUse("accountRecovery"))return;const loggedInUser=this.props.context.loggedInUser;if(!loggedInUser)return;const accountRecoveryOrganizationPolicy=await this.props.accountRecoveryUserService.getOrganizationAccountRecoverySettings(),status=loggedInUser.account_recovery_user_setting?.status||AccountRecoveryUserContextProvider.STATUS_PENDING;this.setState({accountRecoveryOrganizationPolicy,status,isDataLoaded:!0})}isReady(){return this.state.isDataLoaded}getOrganizationPolicy(){return this.state.accountRecoveryOrganizationPolicy}getRequestedDate(){return this.getOrganizationPolicy()?.modified}getRequestor(){return this.getOrganizationPolicy()?.creator}getPolicy(){return this.getOrganizationPolicy()?.policy}getUserAccountRecoverySubscriptionStatus(){return this.state.status}setUserAccountRecoveryStatus(status){this.setState({status})}isAccountRecoveryChoiceRequired(){if(null===this.getOrganizationPolicy())return!1;const policy=this.getPolicy();return this.state.status===AccountRecoveryUserContextProvider.STATUS_PENDING&&policy!==AccountRecoveryUserContextProvider.POLICY_DISABLED}isPolicyEnabled(){const policy=this.getPolicy();return policy&&policy!==AccountRecoveryUserContextProvider.POLICY_DISABLED}static get STATUS_PENDING(){return"pending"}static get POLICY_DISABLED(){return"disabled"}static get POLICY_MANDATORY(){return"mandatory"}static get POLICY_OPT_OUT(){return"opt-out"}static get STATUS_APPROVED(){return"approved"}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AccountRecoveryUserContext.Provider,{value:this.state},this.props.children)}}AccountRecoveryUserContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any,accountRecoveryUserService:prop_types__WEBPACK_IMPORTED_MODULE_2___default().object.isRequired};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(AccountRecoveryUserContextProvider);function withAccountRecovery(WrappedComponent){return class WithAccountRecovery extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(AccountRecoveryUserContext.Consumer,null,(accountRecoveryContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{accountRecoveryContext,...this.props})))}}}AccountRecoveryUserContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"loadAccountRecoveryPolicy",docblock:"Run the initial load of the account recovery policy.",modifiers:["async"],params:[],returns:null,description:"Run the initial load of the account recovery policy."},{name:"reloadAccountRecoveryPolicy",docblock:"Reload the account recovery policy regardless of having it cached or not.",modifiers:["async"],params:[],returns:null,description:"Reload the account recovery policy regardless of having it cached or not."},{name:"findAccountRecoveryPolicy",docblock:"Find the account recovery policy",modifiers:["async"],params:[],returns:null,description:"Find the account recovery policy"},{name:"isReady",docblock:"Returns true when the data has been loaded\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data has been loaded"},{name:"getOrganizationPolicy",docblock:"Returns the full organization policy settings.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the full organization policy settings."},{name:"getRequestedDate",docblock:"Get the date at when an administrator asked users to set their account recovery policy setting.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get the date at when an administrator asked users to set their account recovery policy setting."},{name:"getRequestor",docblock:"Get the user that asked the account recovery policy settings to be set.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Get the user that asked the account recovery policy settings to be set."},{name:"getPolicy",docblock:"Get the organization policy.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the organization policy."},{name:"getUserAccountRecoverySubscriptionStatus",docblock:"Get the current user account recovery setting status.\n@returns {string}",modifiers:[],params:[],returns:{type:{name:"string"}},description:"Get the current user account recovery setting status."},{name:"setUserAccountRecoveryStatus",docblock:"Set the current user account recovery setting.\n@param {string} status",modifiers:[],params:[{name:"status",type:{name:"string"},optional:!1}],returns:null,description:"Set the current user account recovery setting."},{name:"isAccountRecoveryChoiceRequired",docblock:'Returns true if the current user has to choose for an account recovery setting.\nIn that case, the organization account recovery setting has to be set with "mandatory" or "opt-out",\nplus the user shouldn\'t have made a choice yet.\n@returns {bool}',modifiers:[],params:[],returns:{type:{name:"bool"}},description:'Returns true if the current user has to choose for an account recovery setting.\nIn that case, the organization account recovery setting has to be set with "mandatory" or "opt-out",\nplus the user shouldn\'t have made a choice yet.'},{name:"isPolicyEnabled",docblock:"Return true if the policy is not set to POLICY_DISABLED\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Return true if the policy is not set to POLICY_DISABLED"},{name:"STATUS_PENDING",docblock:null,modifiers:["static","get"],params:[],returns:null},{name:"POLICY_DISABLED",docblock:null,modifiers:["static","get"],params:[],returns:null},{name:"POLICY_MANDATORY",docblock:null,modifiers:["static","get"],params:[],returns:null},{name:"POLICY_OPT_OUT",docblock:null,modifiers:["static","get"],params:[],returns:null},{name:"STATUS_APPROVED",docblock:null,modifiers:["static","get"],params:[],returns:null}],displayName:"AccountRecoveryUserContextProvider",props:{context:{description:"",type:{name:"any"},required:!0},children:{description:"",type:{name:"any"},required:!1},accountRecoveryUserService:{description:"",type:{name:"object"},required:!0}}}},"./src/react-extension/contexts/MFAContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,N8:()=>MfaContextProvider,bb:()=>Providers,dg:()=>withMfa,hx:()=>MfaSettingsWorkflowStates});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_shared_models_mfaPolicy_MfaPolicyEnumeration__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/models/mfaPolicy/MfaPolicyEnumeration.js");const MfaSettingsWorkflowStates={OVERVIEW:"Overview",TOTPOVERVIEW:"Totp Overview",SCANTOTPCODE:"Scan totp code",VIEWCONFIGURATION:"View a totp configuration",SETUPYUBIKEY:"Setup Yubikey",SETUPDUO:"Setup Duo"},Providers={TOTP:"totp",YUBIKEY:"yubikey",DUO:"duo"},MfaContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({state:null,setup:null,provider:null,getPolicy:()=>{},getMfaOrganisationSettings:()=>{},getMfaUserSettings:()=>{},findPolicy:()=>{},setProcessing:()=>{},isProcessing:()=>{},clearContext:()=>{},isMfaChoiceRequired:()=>{},checkMfaChoiceRequired:()=>{},hasMfaUserSettings:()=>{},navigate:()=>{},setProvider:()=>{},goToProviderList:()=>{},validateTotpCode:()=>{},removeProvider:()=>{},validateYubikeyCode:()=>{}});class MfaContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{state:MfaSettingsWorkflowStates.OVERVIEW,setup:null,policy:null,provider:null,processing:!0,mfaUserSettings:null,mfaOrganisationSettings:null,mfaChoiceRequired:!1,getPolicy:this.getPolicy.bind(this),getMfaOrganisationSettings:this.getMfaOrganisationSettings.bind(this),getMfaUserSettings:this.getMfaUserSettings.bind(this),findPolicy:this.findPolicy.bind(this),findMfaSettings:this.findMfaSettings.bind(this),isProcessing:this.isProcessing.bind(this),setProcessing:this.setProcessing.bind(this),hasMfaSettings:this.hasMfaSettings.bind(this),hasMfaOrganisationSettings:this.hasMfaOrganisationSettings.bind(this),hasMfaUserSettings:this.hasMfaUserSettings.bind(this),clearContext:this.clearContext.bind(this),checkMfaChoiceRequired:this.checkMfaChoiceRequired.bind(this),isMfaChoiceRequired:this.isMfaChoiceRequired.bind(this),navigate:this.navigate.bind(this),setProvider:this.setProvider.bind(this),goToProviderList:this.goToProviderList.bind(this),validateTotpCode:this.validateTotpCode.bind(this),removeProvider:this.removeProvider.bind(this),validateYubikeyCode:this.validateYubikeyCode.bind(this)}}async findPolicy(){if(this.getPolicy())return;this.setProcessing(!0);let policy=null;const result=await this.props.context.port.request("passbolt.mfa-policy.get-policy");policy=result?result.policy:null,this.setState({policy}),this.setProcessing(!1)}async findMfaSettings(){this.setProcessing(!0);let mfaUserSettings=null,mfaOrganisationSettings=null;const settings=await this.props.context.port.request("passbolt.mfa-policy.get-mfa-settings");mfaUserSettings=settings.MfaAccountSettings,mfaOrganisationSettings=settings.MfaOrganizationSettings,this.setState({mfaUserSettings}),this.setState({mfaOrganisationSettings}),this.setProcessing(!1)}getPolicy(){return this.state.policy}getMfaOrganisationSettings(){return this.state.mfaOrganisationSettings}getMfaUserSettings(){return this.state.mfaUserSettings}hasMfaSettings(){return!this.hasMfaOrganisationSettings()||this.hasMfaUserSettings()}hasMfaOrganisationSettings(){return this.state.mfaOrganisationSettings&&Object.values(this.state.mfaOrganisationSettings).some((value=>value))}hasMfaUserSettings(){return this.state.mfaUserSettings&&Object.values(this.state.mfaUserSettings).some((value=>value))}isProcessing(){return this.state.processing}setProcessing(processing){this.setState({processing})}clearContext(){const{policy,processing}=this.defaultState;this.setState({policy,processing})}async checkMfaChoiceRequired(){if(await this.findPolicy(),null===this.getPolicy()||this.getPolicy()!==_shared_models_mfaPolicy_MfaPolicyEnumeration__WEBPACK_IMPORTED_MODULE_2__.F.MANDATORY)return!1;await this.findMfaSettings(),this.setState({mfaChoiceRequired:!this.hasMfaSettings()})}isMfaChoiceRequired(){return this.state.mfaChoiceRequired}navigate(state){this.setState({state})}goToProviderList(){this.setState({state:MfaSettingsWorkflowStates.OVERVIEW,provider:null})}setProvider(provider){this.setState({provider})}async validateTotpCode(otpProvisioningUri,totp){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-totp-code",{otpProvisioningUri,totp})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}async validateYubikeyCode(hotp){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.verify-yubikey-code",{hotp})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}async removeProvider(){try{this.setProcessing(!0),await this.props.context.port.request("passbolt.mfa-setup.remove-provider",{provider:this.state.provider})}catch(error){throw console.error(error),error}finally{this.setProcessing(!1)}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MfaContext.Provider,{value:this.state},this.props.children)}}MfaContextProvider.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)(MfaContextProvider);function withMfa(WrappedComponent){return class WithMfa extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MfaContext.Consumer,null,(mfaContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{mfaContext,...this.props})))}}}MfaContextProvider.__docgenInfo={description:"The MFA context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"findPolicy",docblock:"Find the mfa policy settings\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the mfa policy settings"},{name:"findMfaSettings",docblock:"Find the mfa settings of the current user\n@return {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Find the mfa settings of the current user"},{name:"getPolicy",docblock:"Returns the policy for MFA.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the policy for MFA."},{name:"getMfaOrganisationSettings",docblock:"Returns the mfa organisations settings.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the mfa organisations settings."},{name:"getMfaUserSettings",docblock:"Returns the mfa user settings.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns the mfa user settings."},{name:"hasMfaSettings",docblock:"Returns if mfa settings are defined.\n@returns {object}",modifiers:[],params:[],returns:{type:{name:"object"}},description:"Returns if mfa settings are defined."},{name:"hasMfaOrganisationSettings",docblock:"Returns true organization settings has MFA defined\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true organization settings has MFA defined"},{name:"hasMfaUserSettings",docblock:"Returns true user settings has MFA defined\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true user settings has MFA defined"},{name:"isProcessing",docblock:"Returns true when the data is under processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true when the data is under processing"},{name:"setProcessing",docblock:"Handle processing change.\n@params {Boolean} processing value\n@returns {void}",modifiers:[],params:[{name:"processing",optional:!1}],returns:{type:{name:"void"}},description:"Handle processing change."},{name:"clearContext",docblock:"Puts the state to its default in order to avoid keeping the data users didn't want to save.",modifiers:[],params:[],returns:null,description:"Puts the state to its default in order to avoid keeping the data users didn't want to save."},{name:"checkMfaChoiceRequired",docblock:"checkMfaChoiceRequired if mfa settings is required\n@returns {bool}",modifiers:["async"],params:[],returns:{type:{name:"bool"}},description:"checkMfaChoiceRequired if mfa settings is required"},{name:"isMfaChoiceRequired",docblock:"Returns true if the current user has to choose for a mfa setting.\n@returns {bool}",modifiers:[],params:[],returns:{type:{name:"bool"}},description:"Returns true if the current user has to choose for a mfa setting."},{name:"navigate",docblock:"Change mfa settings state\n@params {string} next state step\n@returns {void}",modifiers:[],params:[{name:"state",optional:!1}],returns:{type:{name:"void"}},description:"Change mfa settings state"},{name:"goToProviderList",docblock:"Cancel a setup process or go back to mfa settings providers",modifiers:[],params:[],returns:null,description:"Cancel a setup process or go back to mfa settings providers"},{name:"setProvider",docblock:"Set the selected provider and the next step\n@params {string} next setup state\n@returns {void}",modifiers:[],params:[{name:"provider",optional:!1}],returns:{type:{name:"void"}},description:"Set the selected provider and the next step"},{name:"validateTotpCode",docblock:"Validate the totp provider with code and uri provided during setup\n@param {string} otpProvisioningUri\n@param {string} totp\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"otpProvisioningUri",type:{name:"string"},optional:!1},{name:"totp",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the totp provider with code and uri provided during setup"},{name:"validateYubikeyCode",docblock:"Validate the totp provider with code and uri provided during setup\n@param {string} hotp\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"hotp",type:{name:"string"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Validate the totp provider with code and uri provided during setup"},{name:"removeProvider",docblock:"Delete the totp provider from configuration\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Delete the totp provider from configuration"}],displayName:"MfaContextProvider",props:{context:{description:"",type:{name:"any"},required:!1},children:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/contexts/WorkflowContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AV:()=>withWorkflow,Ay:()=>WorkflowContextProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),uuid__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const WorkflowContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({workflows:[],start:()=>{},stop:()=>{}});class WorkflowContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState}get defaultState(){return{workflows:[],start:(Workflow,workflowProps)=>{const workflowKey=(0,uuid__WEBPACK_IMPORTED_MODULE_1__.A)();return this.setState({workflows:[...this.state.workflows,{key:workflowKey,Workflow,workflowProps}]}),workflowKey},stop:async workflowKey=>await this.setState({workflows:this.state.workflows.filter((workflow=>workflowKey!==workflow.key))})}}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WorkflowContext.Provider,{value:this.state},this.props.children)}}function withWorkflow(WrappedComponent){return class WithWorkflow extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(WorkflowContext.Consumer,null,(workflowContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{workflowContext,...this.props})))}}}WorkflowContextProvider.displayName="WorkflowContextProvider",WorkflowContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().any},WorkflowContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"}],displayName:"WorkflowContextProvider",props:{children:{description:"",type:{name:"any"},required:!1}}}},"./src/shared/models/entity/metadata/metadataKeyEntity.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Lq:()=>defaultMetadataKeyDto,Lv:()=>metadataKeyWithSignedMetadataPrivateKeyDataDto});var v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");function mutatePgpBlockFromOptions(block,options={withCrc:!0,withComments:!1,withWrongExtraCharacters:!1,withDuplicates:!1}){return options.withComments&&(block=block.replace("\n\n","\nVersion: PGP 1.0\nComments: This is a test\n\n")),options.withWrongExtraCharacters&&(block=block.replace(/\n\n(.{64})\n/,"\n\n$1Wrong Stuff Here\n")),options.withCrc||(block=block.replace(/\n=[a-zA-Z0-9/+=]{4}\n-----/,"\n-----")),options.withDuplicates&&(block=`${block}\n\n${block}\n\n${block}`),block}const defaultArmoredPublicKey=options=>mutatePgpBlockFromOptions("-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBGR1lXQBEAC7mHb9DSd73ZeAzBtbxLLUv37d5qow06wsUXFxi0kwl0thUT2r\nBHXClBn7S/bVRmqHDsNO9C81QLimi4lWPJYXR7rUDPXxs4r6xrCuMhDwiyPgurlc\nmWsEUTeFwYLdO9nNed05+91z4PiLPUm6IioGaxQarppRpg5zvJczwu40xt3z0HHD\nX/+WbWLnlzDbdR0HbzN70SDofknme36bTs6iURmqKoqelpzf7nRznnuR1QfZuwut\nzGvBj6IOc+nycp0p0Bay4gCBQCW4CII3YRbx8aZiJuE8DuyR1fIE46/wbuEixUb/\n4On9vKCxW8Fxg6C/L8qwIVPrcAJPVedWGCtGQiTC7NyTLNslux1HPTne9IFmkA3e\nvmJxpTXVZJ81PMBq3Rkt6GYoQmtm9L/vhTiPoE8VJr5wzsjPtB2Bd7un6PDd1UT6\nK0JK7pGLoXuBn16U5GppgF1IIta12sryLUssBMY6xX+7ha8vsRuuhBWYRMA6GNkb\nDDDJRBZ1hR6VlzbEOg8HUjFRTZutvXjXjDYQfTMixSk9f9E+BamA2utDy4qU99F7\n0F3anaEButIAdCYCEFAKK5nmItniB7nxW1CZm7GZ3AR/8iwqyvH/XSQtBAHobV6U\nJyHqe56lvnhJj/56tXStczWgOQAbTNAgJRNPQ+1uXMW4IfCP+QU6vbfcfQARAQAB\ntCtQYXNzYm9sdCBkdW1teSAoRHVtbXkpIDxkdW1teUBwYXNzYm9sdC5jb20+iQJR\nBBMBCAA7FiEEwNzgqupNjM6WHCa937bnTlmPAlwFAmR1lXQCGy8FCwkIBwICIgIG\nFQoJCAsCBBYCAwECHgcCF4AACgkQ37bnTlmPAlyIDQ//TZt5E3gSWi8xWTmZ+XF9\n9g+uChmh61OqkFf/MzQx+ZD0X9BNUsbU6r1tUfYRWavrLGzL7Z37voIDr3ssa1lm\n6DmVUxaw1jB4pjrHIT5s2rGwOhJ08PG9/6pEY95kqUXA+6LPu9oshH4CBlyLcUnZ\nC2JVaVW485FCAXBv3IF1A+MzEAyaIS9MPLC2MU/fBuB3Y26Op8LNQUM37ubNVdVk\nOqAuxmZGKeJuPvxfU2AACMhcKUHxzPQs9l7bc+2l0SC1ZnjiYF9Pl15L7VwLOHKR\nWmwQeIi8ytrVxxb4X81/3VXEyMYtFE+cGBK6mjoBIxY8/u9GHrW0tZnkiTZayBh5\nVfuAP2xH+iK/B2EDONeH/USKCGmnO78fp/pfy3Yx0coxDX6KK/anHHfcbMfRnH9G\nAc0gm3QyuJSesDjx6HWgRzogrtQCm7FghMJdBPVFKPR5h/V21Po1uHIcS6nuR3dO\n0NgB1ih8IVTPMT5qvQ6MGGl8hO3KL7Nqi/gYDo+iATwiMDWgmly/UYn9msFTfC8/\nVwjeiKCxw2I5CmxjxSqHgiR1qDvE+EACWRQhY3LEDVoyhxUEq8An8i9m8BqJOsah\nbGzK4IiGndXyHIRgKZ2HMYbl27OAN1F4NSI2PgzrFbwJeYKszkHdJ5J9O0w8bV0P\nyqHipU7kuyS1f16OWePFn8i5Ag0EZHWVdAEQAKgK6S/94q9Xvmm7OfiQ0oK8BYKl\nXZrbmTLsCQth7PP0mwYhAH3ZKn4R66pNLT3gpzle3Llqb8HXGOpytZTdJ3/+JIAO\nI7lfH2TfKeEzCxSl5Viv5erQ+FcTHG/3KiBtLYpMptq5/GaV62geLgnbzKJJQVgg\n9jf6yRv8aInzpnVRJpIShjx4rypnqFWskAXuYmBotcZPQWUqHLYBRuHNtZij668n\nTVS69T4Fx3sRBiPilN4bllJGuQsNQRc/MMUIzvMzS9tedCGu277XEFT2+wujZAWe\nOnCK8qslZhIM2vRSGH00KPSg6TayMhn0HwLrh30v16tRcPLR+rHo8QDMiLhTCdsR\nEirZj8lkxjwMOkxjKZa8LHq7xaP2NF/8G+/6kgW2kz5FuPwkovL5CXtLApzPUda/\n6ON7RbXDVHf/u3ut3Jq0f340kJU5hvv0Qmon344jC2ceSBfyf2NyQbFi0txKRIUF\n6hxZAAzS6OOHqLxSk8ejTLreqbk9n8xw9EJzYKvPYN3zr7dsd5fyQeVPH57mex+D\nBrWnHKN4Yq1/TdJuZ77eGysfrEgn2NBYwER5VLRP22Klem7dbPamgwwPO97QzakY\nTonueJvRnOVTKysmZDGvU1vWps/taagvdDyYmvphIzBaEUpIeqHm0/84XmQmWv6Y\nqxb/wDPI3wkDf4IDABEBAAGJBGwEGAEIACAWIQTA3OCq6k2MzpYcJr3ftudOWY8C\nXAUCZHWVdAIbLgJACRDftudOWY8CXMF0IAQZAQgAHRYhBP8AY+XzdaYmstAorAti\nNSax40KHBQJkdZV0AAoJEAtiNSax40KHf+cP/0bn01j6bVM1l6SSffsvOkDawEz6\nBM6GHOKw/VpJyuqJERt1ks/zZC6M6e7I15bSoXGb2f1t8jbrtf/MY8tpDkuR4oUz\n5ELek5r26XYDRyB72wK9GqO8tyo7LEcr5Lpz5cjf9FUSf/ZOGQpd+b1cwOnX+BsI\nP2DstYV1432THdBGpi/PjfriQ2akwn4FdxcrrOM+G+MC2msLnS2r/rP61TETHrP4\ni8ZQ2UGMruXKuBu0Ieikf+t6pzxLaLA9uMOwgsswe77/3gndBezqWj94bUuqUTdD\nI1c8QsCBxjnBkVA/yC43YbhiLBimwW7EFfg6SZwmb233KF3uZgkzGFLT2PS51QMx\n6MntG8cySMIRWJxjaqdAEEdRvKGpEFuT70sXUWiruqtRbPuIucERKvb9c8BMkWL9\nCbzRs/5F+dj4DFkLCfifxe0brLz/cNm5tZDxC9/QPIVYhnui1tCy89WR/IA7kCBT\nP0saSnBGhqWvhk3vvr7IbjDZ3gGny1uK1HbXcPdtXEkiYncfSpZoiDUH1Sf3BVVP\nIep2+R4kblg+cfv5J0ixqgYi6c8TUg03efY7eTzr9WsmEK6sgrfD9c9YIQoL+Hds\nAEa/TmFzjp9PutvlJ1LnPiCqMyjNna57JQElc5qaHaooigQDhufCfZ11EpmYH/Cl\ntHW0QEa929w7c3GVHGMQAKbOPHY06kWfF7rKdFnAjXB40WTUt+tkHjoa+gkCNolI\nNHPHVvgulvUoXdlJTXryeX6L/lxOgDpcSOiuR0nREDbUBHwSUbFTW5wReiEp+ILB\n1VHEYPnRkLupfMgn5iMQGQt2eWzZ9edxS81GDVfYetVZxKmtOsZUfgaEaSaN33Ay\nDQQJ3jG8afEfWk2TBanX6aA6lMIjFMawbVCHGjypZuvc+1z3W/tczWdhQq1zBY0V\nlPamD9nQ1bK+v2pnad3+HHh87iuE14IU4ngwMfN2KMR51KnIuCfS0ebqVIsGzFWS\nZy8UOprG0/mbk6Ig8xOq1lOVyyLzTq1rLYIVXFbhcga/56ahlGjg3QC1mryA3IF0\nD76nUwknsUSUPDc5tqjj6hHY4K4RFSSepMBwCRuIOeBSBRGf+wVkciToE6ykkXd0\nyE6TwqVGj77rmHmadh++VI2LDRFOg7oC7JDzy7yrGBwIcJLhJKbe6L69hujBEKDO\nyvJtC5XHk8ZNJOFQfD+pUZxzrYI69vxo8vmgvJqMh4IjXm6wcpL8pRb+1cRzBmO1\nTOyn2fnPBCrMPo5NgQGPBCR1dxkcHMqSYeQr5uKazyGAbLj5u++OhMsIn+WW+Rlk\ncHMfN5HyXDmxUx5lWoxVSw/JE/syEOiCTQY/i0AQxpyUj9sBiBRSNPgB7xgaMyFA\n=KFUt\n-----END PGP PUBLIC KEY BLOCK-----",options);var metadataPrivateKeyEntity_test_data=__webpack_require__("./src/shared/models/entity/metadata/metadataPrivateKeyEntity.test.data.js"),userEntity_test_data=__webpack_require__("./src/shared/models/entity/user/userEntity.test.data.js");const defaultMetadataKeyDto=(data={},options={})=>((data={},options={})=>{const defaultData={fingerprint:Array.from({length:40},(()=>Math.floor(16*Math.random()).toString(16).toUpperCase())).join(""),armored_key:defaultArmoredPublicKey(),...data};return!defaultData.metadata_private_keys&&options?.withMetadataPrivateKeys&&(defaultData.metadata_private_keys=[(0,metadataPrivateKeyEntity_test_data.mr)({metadata_key_id:defaultData.id},options?.withMetadataPrivateKeys)]),!defaultData.creator&&options?.withCreator&&(defaultData.creator=(0,userEntity_test_data.cI)()),defaultData})({id:data.id||(0,v4.A)(),modified:"2022-10-11T08:09:00+00:00",created_by:(0,v4.A)(),created:"2022-10-11T08:09:00+00:00",modified_by:(0,v4.A)(),deleted:null,expired:null,...data},options),metadataKeyWithSignedMetadataPrivateKeyDataDto=(data={},options={})=>{const id=data.id||(0,v4.A)(),metadataPrivateKeyDto={metadata_key_id:id,data_signed_by_current_user:(new Date).toISOString()},metadataPrivateKeysDto=[(0,metadataPrivateKeyEntity_test_data.mr)(metadataPrivateKeyDto,options?.withMetadataPrivateKeys)],defaultData={...data,id,metadata_private_keys:metadataPrivateKeysDto};return defaultMetadataKeyDto(defaultData,options)}},"./src/shared/models/mfaPolicy/MfaPolicyEnumeration.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>MfaPolicyEnumerationTypes});const MfaPolicyEnumerationTypes={MANDATORY:"mandatory",OPTIN:"opt-in"}}}]);