/*! For license information please see react-extension-components-Resource-DisplayResourcesWorkspace-DisplayResourcesWorkspaceMenu-test-stories.49c6d37b.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[]).push([[2700],{"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.test.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultipleResource:()=>MultipleResource,MultipleResourceNotOwned:()=>MultipleResourceNotOwned,MultipleResourcesNotOwnedWithAllDenyOnRBAC:()=>MultipleResourcesNotOwnedWithAllDenyOnRBAC,OneResourceOwned:()=>OneResourceOwned,ResourceNotOwned:()=>ResourceNotOwned,ResourceStandaloneTotpOwned:()=>ResourceStandaloneTotpOwned,ResourceWithTotpOwned:()=>ResourceWithTotpOwned,WithAllFeatureDisplayed:()=>WithAllFeatureDisplayed,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DisplayResourcesWorkspaceMenu_test_stories});var RbacContext_test_data=__webpack_require__("./src/shared/context/Rbac/RbacContext.test.data.js"),PasswordExpirySettingsDto_test_data=__webpack_require__("./src/shared/models/passwordExpirySettings/PasswordExpirySettingsDto.test.data.js"),PasswordExpirySettingsContext_test_data=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.test.data.js"),DisplayResourcesWorkspaceMenu=__webpack_require__("./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js"),MockPort=__webpack_require__("./src/react-extension/test/mock/MockPort.js"),UserSettings=__webpack_require__("./src/shared/lib/Settings/UserSettings.js"),userSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/userSettings.js"),ResourceWorkspaceContext_test_data=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.test.data.js"),SiteSettings=__webpack_require__("./src/shared/lib/Settings/SiteSettings.js"),Settings_siteSettings=__webpack_require__("./src/react-extension/test/fixture/Settings/siteSettings.js"),resourceEntity_test_data=__webpack_require__("./src/shared/models/entity/resource/resourceEntity.test.data.js"),DialogContext_test_data=__webpack_require__("./src/react-extension/contexts/DialogContext.test.data.js"),resourceTypesCollection=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),resourceTypesCollection_test_data=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.test.data.js");const defaultAppContext=(appContext={})=>{const siteSettings=new SiteSettings.A(Settings_siteSettings.A),defaultAppContext={port:new MockPort.A,userSettings:new UserSettings.A(userSettings.A),siteSettings,setContext:()=>jest.fn()};return Object.assign(defaultAppContext,appContext)},defaultProps=(data={})=>({context:defaultAppContext(),rbacContext:(0,RbacContext_test_data.E2)(),resourceTypes:new resourceTypesCollection.A((0,resourceTypesCollection_test_data.V1)()),dialogContext:(0,DialogContext_test_data.L)(),...data}),defaultPropsOneTotpResourceOwned=(data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[3]],lockDisplayDetail:!0}),...data}),defaultPropsMultipleResource=(data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:resourcesMock,lockDisplayDetail:!0}),...data}),resourcesMock=[(0,resourceEntity_test_data.oS)({name:"apache"}),(0,resourceEntity_test_data.j8)({name:"bower"}),(0,resourceEntity_test_data.Jn)({name:"test"}),(0,resourceEntity_test_data.f1)({name:"totp"}),(0,resourceEntity_test_data.Ge)({name:"standalone totp"})];var react=__webpack_require__("./node_modules/react/index.js");const DisplayResourcesWorkspaceMenu_test_stories={title:"Components/Resource/DisplayResourcesWorkspaceMenu",decorators:[Story=>react.createElement("div",{className:"top-bar"},react.createElement("div",{className:"action-bar"},react.createElement("div",{className:"actions-wrapper"},react.createElement(Story,null))))],component:DisplayResourcesWorkspaceMenu.A,parameters:{docs:{description:{component:"DisplayResourcesWorkspaceMenu stories"}}}},OneResourceOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[0]],lockDisplayDetail:!0}),...data}))()},ResourceWithTotpOwned={args:defaultPropsOneTotpResourceOwned()},ResourceStandaloneTotpOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[4]],lockDisplayDetail:!0}),...data}))()},ResourceNotOwned={args:((data={})=>defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources:[resourcesMock[2]],lockDisplayDetail:!1}),...data}))()},MultipleResourcesNotOwnedWithAllDenyOnRBAC={args:defaultPropsMultipleResource({rbacContext:(0,RbacContext_test_data.UO)()})},MultipleResource={args:((data={})=>{const selectedResources=[resourcesMock[0],resourcesMock[1]];return defaultProps({resourceWorkspaceContext:(0,ResourceWorkspaceContext_test_data.AW)({selectedResources,lockDisplayDetail:!0}),passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)({policy_override:!0}),...data})})()},MultipleResourceNotOwned={args:defaultPropsMultipleResource()},WithAllFeatureDisplayed={args:defaultPropsOneTotpResourceOwned({passwordExpiryContext:(0,PasswordExpirySettingsContext_test_data.i)({getSettings:PasswordExpirySettingsDto_test_data.om})})},__namedExportsOrder=["OneResourceOwned","ResourceWithTotpOwned","ResourceStandaloneTotpOwned","ResourceNotOwned","MultipleResourcesNotOwnedWithAllDenyOnRBAC","MultipleResource","MultipleResourceNotOwned","WithAllFeatureDisplayed"];OneResourceOwned.parameters={...OneResourceOwned.parameters,docs:{...OneResourceOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneResourceOwned()\n}",...OneResourceOwned.parameters?.docs?.source}}},ResourceWithTotpOwned.parameters={...ResourceWithTotpOwned.parameters,docs:{...ResourceWithTotpOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneTotpResourceOwned()\n}",...ResourceWithTotpOwned.parameters?.docs?.source}}},ResourceStandaloneTotpOwned.parameters={...ResourceStandaloneTotpOwned.parameters,docs:{...ResourceStandaloneTotpOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneStandaloneTotpResourceOwned()\n}",...ResourceStandaloneTotpOwned.parameters?.docs?.source}}},ResourceNotOwned.parameters={...ResourceNotOwned.parameters,docs:{...ResourceNotOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsOneResourceNotOwned()\n}",...ResourceNotOwned.parameters?.docs?.source}}},MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters={...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters,docs:{...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResource({\n    rbacContext: denyRbacContext()\n  })\n}",...MultipleResourcesNotOwnedWithAllDenyOnRBAC.parameters?.docs?.source}}},MultipleResource.parameters={...MultipleResource.parameters,docs:{...MultipleResource.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResourceUpdateRights()\n}",...MultipleResource.parameters?.docs?.source}}},MultipleResourceNotOwned.parameters={...MultipleResourceNotOwned.parameters,docs:{...MultipleResourceNotOwned.parameters?.docs,source:{originalSource:"{\n  args: defaultPropsMultipleResource()\n}",...MultipleResourceNotOwned.parameters?.docs?.source}}},WithAllFeatureDisplayed.parameters={...WithAllFeatureDisplayed.parameters,docs:{...WithAllFeatureDisplayed.parameters?.docs,source:{originalSource:"{\n  args: propsResourcesWithAllFeatures\n}",...WithAllFeatureDisplayed.parameters?.docs?.source}}}},"./src/img/svg/alarm_clock.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgAlarmClock(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 15.75a6 6 0 1 0 0-12 6 6 0 0 0 0 12"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 6.75v3l1.5 1.5M3.75 2.25 1.5 4.5M16.5 4.5l-2.25-2.25M4.785 14.025 3 15.75M13.23 14.003 15 15.75"})))}},"./src/img/svg/calendar_cog.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCalendarCog(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m12.23 12.675-.675-.3M12.23 14.325l-.675.3M12.83 1.5v3M13.505 11.4l-.3-.675M13.505 15.6l-.3.675M15.455 10.725l-.3.675M15.455 16.275l-.3-.675M16.58 7.875V4.5a1.5 1.5 0 0 0-1.5-1.5H4.58a1.5 1.5 0 0 0-1.5 1.5V15a1.5 1.5 0 0 0 1.5 1.5h4.5M17.105 12.375l-.675.3M17.105 14.625l-.675-.3M3.08 7.5h13.5M6.83 1.5v3"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.33 15.75a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5"})))}},"./src/img/svg/caret_down.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCaretDown(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:10,height:8,fill:"none",viewBox:"0 0 10 8"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"m1 2 4 4 4-4"})))}},"./src/img/svg/copy.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgCopy(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#copy_svg__clip0_57_467942)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M15 6H7.5A1.5 1.5 0 0 0 6 7.5V15a1.5 1.5 0 0 0 1.5 1.5H15a1.5 1.5 0 0 0 1.5-1.5V7.5A1.5 1.5 0 0 0 15 6"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M3 12c-.825 0-1.5-.675-1.5-1.5V3c0-.825.675-1.5 1.5-1.5h7.5c.825 0 1.5.675 1.5 1.5"}))))}},"./src/img/svg/delete.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDelete(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 4.5h13.5M14.25 4.5V15c0 .75-.75 1.5-1.5 1.5h-7.5c-.75 0-1.5-.75-1.5-1.5V4.5M6 4.5V3c0-.75.75-1.5 1.5-1.5h3c.75 0 1.5.75 1.5 1.5v1.5M7.5 8.25v4.5M10.5 8.25v4.5"})))}},"./src/img/svg/download_file.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgDownloadFile(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.25 1.5H4.5A1.5 1.5 0 0 0 3 3v12a1.5 1.5 0 0 0 1.5 1.5h9A1.5 1.5 0 0 0 15 15V5.25z"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.5 1.5v3A1.5 1.5 0 0 0 12 6h3M9 13.5V9M6.75 11.25 9 13.5l2.25-2.25"})))}},"./src/img/svg/edit.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgEdit(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 2.25H3.75a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V9"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.781 1.969a1.591 1.591 0 0 1 2.25 2.25L9 11.25 6 12l.75-3z"})))}},"./src/img/svg/globe.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgGlobe(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#globe_svg__clip0_99_1008706)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 16.5a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M9 1.5a10.875 10.875 0 0 0 0 15 10.875 10.875 0 0 0 0-15M1.5 9h15"}))))}},"./src/img/svg/key.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgKey(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:17,height:16,fill:"none",viewBox:"0 0 17 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.682 14.87a3.412 3.412 0 1 0 0-6.823 3.412 3.412 0 0 0 0 6.824M14.77 1.37 7.093 9.047M13.496 5.761l1.969-1.958"})))}},"./src/img/svg/link.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _g,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgLink(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:19,height:18,fill:"none",viewBox:"0 0 19 18"},props),_g||(_g=react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,clipPath:"url(#link_svg__clip0_99_1008536)"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M8.33 9.75a3.75 3.75 0 0 0 5.655.405l2.25-2.25a3.75 3.75 0 0 0-5.302-5.303l-1.29 1.283"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.33 8.25a3.75 3.75 0 0 0-5.655-.405l-2.25 2.25a3.75 3.75 0 0 0 5.303 5.302l1.282-1.282"}))))}},"./src/img/svg/more_horizontal.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgMoreHorizontal(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333M12.667 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333M3.333 8.666a.667.667 0 1 0 0-1.333.667.667 0 0 0 0 1.333"})))}},"./src/img/svg/owned_by_me.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgOwnedByMe(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:14,height:16,fill:"none",viewBox:"0 0 14 16"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 14.75v-1.5a3 3 0 0 0-3-3H4a3 3 0 0 0-3 3v1.5M7 7.25a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})))}},"./src/img/svg/share.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgShare(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",viewBox:"0 0 16 17"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12.302 5.921a2.21 2.21 0 1 0 0-4.421 2.21 2.21 0 0 0 0 4.421M3.46 11.08a2.21 2.21 0 1 0 0-4.422 2.21 2.21 0 0 0 0 4.421M12.302 16.236a2.21 2.21 0 1 0 0-4.42 2.21 2.21 0 0 0 0 4.42M5.366 9.979l5.04 2.937M10.396 4.82l-5.03 2.938"})))}},"./src/img/svg/totp.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _path,_path2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__=function SvgTotp(props){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:16,height:20,fill:"none",viewBox:"0 0 16 20"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 19A6.291 6.291 0 1 0 8 6.418 6.291 6.291 0 0 0 8 19"})),_path2||(_path2=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"var(--icon-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 8.93v3.78l2.524 1.255M4.005 7.781V5.007a4.007 4.007 0 0 1 8.014 0V7.78"})))}},"./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/img/svg/spinner.svg");class DisplayProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.infiniteTimerUpdateIntervalId=null,this.state=this.defaultState}get defaultState(){return{infiniteTimer:0}}componentDidMount(){this.startInfiniteTimerUpdateProgress()}startInfiniteTimerUpdateProgress(){this.isInfiniteProgressMode()&&(this.infiniteTimerUpdateIntervalId=setInterval((()=>{const infiniteTimer=this.state.infiniteTimer+2;this.setState({infiniteTimer})}),500))}componentDidUpdate(){!this.isInfiniteProgressMode()&&this.infiniteTimerUpdateIntervalId&&this.resetInterval()}componentWillUnmount(){this.resetInterval()}isInfiniteProgressMode(){return!this.props.progressContext.progressDialogProps.goals}resetInterval(){this.infiniteTimerUpdateIntervalId&&(clearInterval(this.infiniteTimerUpdateIntervalId),this.infiniteTimerUpdateIntervalId=null)}calculateProgress(){return this.props.progressContext.progressDialogProps?.goals>0?this.calculateGoalsProgress():this.calculateInfiniteProgress()}calculateInfiniteProgress(){return 100-100/Math.pow(1.1,this.state.infiniteTimer)}calculateGoalsProgress(){const completed=this.props.progressContext.progressDialogProps.completed||0;let progress=Math.round(100*completed/this.props.progressContext.progressDialogProps.goals);return progress>100&&(progress=100),progress}render(){const progress=this.calculateProgress(),progressBarStyle={width:`${progress}%`};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-wrapper progress-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"dialog-title-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,this.props.progressContext.progressDialogProps.title||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"dialog-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Take a deep breath and enjoy being in the present moment...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-bar-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-bar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress "+(100===progress?"completed":""),style:progressBarStyle})),!this.isInfiniteProgressMode()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"progress-details"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-step-label"},this.props.progressContext.progressDialogProps.message||react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__.x6,null,"Please wait...")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"progress-percent"},progress,"%")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"submit",className:"disabled processing"},"Submit",react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_spinner_svg__WEBPACK_IMPORTED_MODULE_3__.A,null))))))}}DisplayProgress.propTypes={progressContext:prop_types__WEBPACK_IMPORTED_MODULE_4___default().any};const __WEBPACK_DEFAULT_EXPORT__=(0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_1__.E0)((0,react_i18next__WEBPACK_IMPORTED_MODULE_2__.CI)("common")(DisplayProgress));DisplayProgress.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Returns the component default state\n@return {object}",modifiers:["get"],params:[],returns:{type:{name:"object"}},description:"Returns the component default state"},{name:"startInfiniteTimerUpdateProgress",docblock:"Start the infinite timer update.\n@return {void}",modifiers:[],params:[],returns:{type:{name:"void"}},description:"Start the infinite timer update."},{name:"isInfiniteProgressMode",docblock:"Check if the component should display an infinite progress bar.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the component should display an infinite progress bar."},{name:"resetInterval",docblock:"Reset interval",modifiers:[],params:[],returns:null,description:"Reset interval"},{name:"calculateProgress",docblock:"Calculate the progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress"},{name:"calculateInfiniteProgress",docblock:"Calculate the infinite progress\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the infinite progress"},{name:"calculateGoalsProgress",docblock:"Calculate the progress based on the goals\n@return {number}",modifiers:[],params:[],returns:{type:{name:"number"}},description:"Calculate the progress based on the goals"}],displayName:"DisplayProgress",props:{progressContext:{description:"",type:{name:"any"},required:!1}}}},"./src/react-extension/components/Resource/DeleteResource/DeleteResource.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js");class DeleteResource extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.getDefaultState(),this.initEventHandlers()}getDefaultState(){return{processing:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}get resources(){return this.props.resources}async handleFormSubmit(event){event.preventDefault(),this.state.processing||await this.delete()}handleCloseClick(){this.props.onClose()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been deleted successfully.",{count:this.resources.length})),this.props.onClose()}handleSaveError(error){"UserAbortsOperationError"===error.name||(console.error(error),this.handleError(error)),this.setState({processing:!1})}async delete(){this.setState({processing:!0});try{const resourcesIds=this.resources.map((resource=>resource.id));await this.props.context.port.request("passbolt.resources.delete-all",resourcesIds),await this.handleSaveSuccess()}catch(error){this.handleSaveError(error)}}handleError(error){const errorDialogProps={error};this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_4__.A,errorDialogProps)}hasAllInputDisabled(){return this.state.processing}hasMultipleResources(){return this.resources.length>1}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_2__.A,{title:this.translate("Delete resource?",{count:this.resources.length}),onClose:this.handleCloseClick,disabled:this.state.processing,className:"delete-password-dialog"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},!this.hasMultipleResources()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Are you sure you want to delete the resource ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("strong",{className:"dialog-variable"},{resourceName:this.resources[0].metadata.name}),"?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Once the resource is deleted, it will be removed permanently and will not be recoverable."))),this.hasMultipleResources()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Please confirm you really want to delete the resources. After clicking ok, the resources will be deleted permanently."))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_7__.A,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Delete"),warning:!0}))))}}DeleteResource.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_10___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_10___default().any,resources:prop_types__WEBPACK_IMPORTED_MODULE_10___default().array,t:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_8__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_3__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_5__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(DeleteResource)))));DeleteResource.__docgenInfo={description:"This component allows user to delete a tag of the resources",methods:[{name:"getDefaultState",docblock:null,modifiers:[],params:[],returns:null},{name:"initEventHandlers",docblock:null,modifiers:[],params:[],returns:null},{name:"resources",docblock:"get the resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"get the resources"},{name:"handleFormSubmit",docblock:"Handle form submit event.\n@params {ReactEvent} The react event\n@return {Promise}",modifiers:["async"],params:[{name:"event",optional:!1}],returns:{type:{name:"Promise"}},description:"Handle form submit event."},{name:"handleCloseClick",docblock:"Handle close button click.",modifiers:[],params:[],returns:null,description:"Handle close button click."},{name:"handleSaveSuccess",docblock:"Handle save operation success.",modifiers:["async"],params:[],returns:null,description:"Handle save operation success."},{name:"handleSaveError",docblock:"Handle save operation error.\n@param {object} error The returned error",modifiers:[],params:[{name:"error",description:"The returned error",type:{name:"object"},optional:!1}],returns:null,description:"Handle save operation error."},{name:"delete",docblock:"Save the changes.",modifiers:["async"],params:[],returns:null,description:"Save the changes."},{name:"handleError",docblock:"handle error and display error dialog\n@param error",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"handle error and display error dialog"},{name:"hasAllInputDisabled",docblock:"Should input be disabled? True if state is processing\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Should input be disabled? True if state is processing"},{name:"hasMultipleResources",docblock:"has multiple resources\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has multiple resources"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DeleteResource",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resources:{description:"",type:{name:"array"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/DisplayResourcesWorkspace/DisplayResourcesWorkspaceMenu.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),prop_types__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_43__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Resource/DeleteResource/DeleteResource.js"),_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Resource/EditResource/EditResource.js"),_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Share/ShareDialog.js"),_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Resource/ExportResources/ExportResources.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./src/shared/lib/Browser/clipBoard.js"),_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/context/Rbac/RbacContext.js"),_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/shared/services/rbacs/uiActionEnumeration.js"),_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/react-extension/contexts/ProgressContext.js"),_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/shared/services/otp/TotpCodeGeneratorService.js"),_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflowMode.js"),_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/react-extension/components/Resource/HandleTotpWorkflow/HandleTotpWorkflow.js"),_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/react-extension/contexts/WorkflowContext.js"),_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js"),_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./src/shared/utils/dateUtils.js"),luxon__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/luxon/src/luxon.js"),_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./src/shared/context/ResourceTypesLocalStorageContext/ResourceTypesLocalStorageContext.js"),_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./src/shared/models/entity/resourceType/resourceTypesCollection.js"),_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownButton.js"),_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./src/img/svg/caret_down.svg"),_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./src/react-extension/components/Common/Dropdown/Dropdown.js"),_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenu.js"),_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./src/img/svg/more_horizontal.svg"),_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./src/react-extension/components/Common/Dropdown/DropdownMenuItem.js"),_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./src/img/svg/download_file.svg"),_img_svg_calendar_cog_svg__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./src/img/svg/calendar_cog.svg"),_img_svg_alarm_clock_svg__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./src/img/svg/alarm_clock.svg"),_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./src/img/svg/copy.svg"),_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./src/img/svg/owned_by_me.svg"),_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./src/img/svg/key.svg"),_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./src/img/svg/totp.svg"),_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./src/img/svg/globe.svg"),_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./src/img/svg/link.svg"),_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("./src/img/svg/delete.svg"),_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("./src/img/svg/edit.svg"),_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./src/img/svg/share.svg"),_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./src/img/svg/close.svg");class DisplayResourcesWorkspaceMenu extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks()}bindCallbacks(){this.handleDeleteClickEvent=this.handleDeleteClickEvent.bind(this),this.handleEditClickEvent=this.handleEditClickEvent.bind(this),this.handleCopyPermalinkClickEvent=this.handleCopyPermalinkClickEvent.bind(this),this.handleCopyUsernameClickEvent=this.handleCopyUsernameClickEvent.bind(this),this.handleCopyUriClickEvent=this.handleCopyUriClickEvent.bind(this),this.handleShareClickEvent=this.handleShareClickEvent.bind(this),this.handleCopySecretClickEvent=this.handleCopySecretClickEvent.bind(this),this.handleCopyTotpClickEvent=this.handleCopyTotpClickEvent.bind(this),this.handleExportClickEvent=this.handleExportClickEvent.bind(this),this.handleMarkAsExpiredClick=this.handleMarkAsExpiredClick.bind(this),this.handleSetExpiryDateClickEvent=this.handleSetExpiryDateClickEvent.bind(this),this.handleClearSelectionClick=this.handleClearSelectionClick.bind(this)}handleDeleteClickEvent(){this.props.dialogContext.open(_DeleteResource_DeleteResource__WEBPACK_IMPORTED_MODULE_5__.A,{resources:this.selectedResources})}async handleMarkAsExpiredClick(){const resourcesExpiryDateToUpdate=this.selectedResources.map((resource=>({id:resource.id,expired:(0,_shared_utils_dateUtils__WEBPACK_IMPORTED_MODULE_19__.B7)(luxon__WEBPACK_IMPORTED_MODULE_20__.c9.utc())})));try{await this.props.context.port.request("passbolt.resources.set-expiration-date",resourcesExpiryDateToUpdate),await this.props.actionFeedbackContext.displaySuccess(this.translate("The resource has been marked as expired.",{count:resourcesExpiryDateToUpdate.length}))}catch(error){await this.props.actionFeedbackContext.displayError(this.translate("Unable to mark the resource as expired.",{count:resourcesExpiryDateToUpdate.length}))}}handleEditClickEvent(){this.isStandaloneTotpResource?this.props.workflowContext.start(_HandleTotpWorkflow_HandleTotpWorkflow__WEBPACK_IMPORTED_MODULE_15__.A,{mode:_HandleTotpWorkflow_HandleTotpWorkflowMode__WEBPACK_IMPORTED_MODULE_14__._.EDIT_STANDALONE_TOTP}):this.props.dialogContext.open(_EditResource_EditResource__WEBPACK_IMPORTED_MODULE_6__.A,{resource:this.selectedResources[0]})}async handleShareClickEvent(){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.context.setContext({shareDialogProps:{resourcesIds}}),this.props.dialogContext.open(_Share_ShareDialog__WEBPACK_IMPORTED_MODULE_7__.A)}async handleCopyPermalinkClickEvent(){const permalink=`${this.props.context.userSettings.getTrustedDomain()}/app/passwords/view/${this.selectedResources[0].id}`;await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__.A.copy(permalink,this.props.context.port),this.displaySuccessNotification(this.translate("The permalink has been copied to clipboard"))}async handleCopyUsernameClickEvent(){await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__.A.copy(this.selectedResources[0].metadata.username,this.props.context.port),this.displaySuccessNotification(this.translate("The username has been copied to clipboard"))}async handleCopyUriClickEvent(){await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__.A.copy(this.selectedResources[0].metadata.uris[0],this.props.context.port),this.displaySuccessNotification(this.translate("The uri has been copied to clipboard"))}async handleClearSelectionClick(){await this.props.resourceWorkspaceContext.onResourceSelected.none()}decryptResourceSecret(){return this.props.context.port.request("passbolt.secret.find-by-resource-id",this.selectedResources[0].id)}async copyPasswordToClipboard(plaintextSecretDto){const password=plaintextSecretDto.password;if(!password)throw new TypeError(this.translate("The password is empty."));await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__.A.copy(password,this.props.context.port)}async handleCopySecretClickEvent(){let plaintextSecretDto;this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}this.props.progressContext.close(),plaintextSecretDto?.password?.length?(await this.copyPasswordToClipboard(plaintextSecretDto),this.props.resourceWorkspaceContext.onResourceCopied(),this.props.actionFeedbackContext.displaySuccess(this.translate("The secret has been copied to clipboard"))):await this.props.actionFeedbackContext.displayError(this.translate("The password is empty and cannot be copied to clipboard."))}async handleCopyTotpClickEvent(){let plaintextSecretDto,code;this.props.progressContext.open(this.props.t("Decrypting secret"));try{plaintextSecretDto=await this.decryptResourceSecret()}catch(error){"UserAbortsOperationError"!==error.name&&this.props.actionFeedbackContext.displayError(error.message)}if(this.props.progressContext.close(),plaintextSecretDto)if(plaintextSecretDto.totp){try{code=_shared_services_otp_TotpCodeGeneratorService__WEBPACK_IMPORTED_MODULE_13__.l.generate(plaintextSecretDto.totp)}catch(error){return void await this.props.actionFeedbackContext.displayError(this.translate("Unable to copy the TOTP"))}await _shared_lib_Browser_clipBoard__WEBPACK_IMPORTED_MODULE_42__.A.copy(code,this.props.context.port),await this.props.resourceWorkspaceContext.onResourceCopied(),await this.props.actionFeedbackContext.displaySuccess(this.translate("The TOTP has been copied to clipboard"))}else await this.props.actionFeedbackContext.displayError(this.translate("The TOTP is empty and cannot be copied to clipboard."))}handleSetExpiryDateClickEvent(){this.props.dialogContext.open(_PasswordExpiryDialog_PasswordExpiryDialog__WEBPACK_IMPORTED_MODULE_17__.A,{resources:this.selectedResources})}handleExportClickEvent(){this.export()}displaySuccessNotification(message){this.props.actionFeedbackContext.displaySuccess(message)}get selectedResources(){return this.props.resourceWorkspaceContext.selectedResources}hasOneResourceSelected(){return 1===this.selectedResources.length}canUpdate(){return this.selectedResources.every((resource=>resource.permission.type>=7))}canShare(){return this.selectedResources.every((resource=>15===resource.permission.type))}canExport(){return this.props.context.siteSettings.canIUse("export")&&this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.RESOURCES_EXPORT)}canCopyUsername(){return this.selectedResources[0].metadata?.username}canCopyUri(){return this.selectedResources[0].metadata?.uris[0]}canCopyPassword(){return this.isPasswordResources}get isPasswordResources(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasPassword()}canCopyTotp(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id)?.hasTotp()}get isStandaloneTotpResource(){return this.props.resourceTypes.getFirstById(this.selectedResources[0].resource_type_id).isStandaloneTotp()}get hasResourceUsername(){return!this.isStandaloneTotpResource}hasMoreActionAllowed(){return this.canExport()||this.canOverridePasswordExpiry&&this.canUpdate()}async export(){const resourcesIds=this.selectedResources.map((resource=>resource.id));await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds}),await this.props.dialogContext.open(_ExportResources_ExportResources__WEBPACK_IMPORTED_MODULE_8__.A)}get canUseTotp(){return this.props.context.siteSettings.canIUse("totpResourceTypes")}get canOverridePasswordExpiry(){const passwordExpirySettings=this.props.passwordExpiryContext.getSettings();return this.props.passwordExpiryContext.isFeatureEnabled()&&passwordExpirySettings?.policy_override}get translate(){return this.props.t}render(){const hasOneResourceSelected=this.hasOneResourceSelected(),canShare=this.canShare(),canUpdate=this.canUpdate(),canCopySecret=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.SECRETS_COPY),canViewShare=this.props.rbacContext.canIUseUiAction(_shared_services_rbacs_uiActionEnumeration__WEBPACK_IMPORTED_MODULE_11__.e.SHARE_VIEW_LIST)&&canShare,canViewCopy=hasOneResourceSelected,canViewEdit=hasOneResourceSelected&&canUpdate,canViewDelete=canUpdate,count=this.props.resourceWorkspaceContext.selectedResources?.length;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions",ref:this.props.actionsButtonRef},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions-wrapper"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,canViewShare&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"share_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleShareClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_share_svg__WEBPACK_IMPORTED_MODULE_40__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Share")))),canViewCopy&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"copy_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_23__.A,{className:"button-action-contextual"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_copy_svg__WEBPACK_IMPORTED_MODULE_32__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_caret_down_svg__WEBPACK_IMPORTED_MODULE_24__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_26__.A,{className:"menu-action-contextual"},this.hasResourceUsername&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"username_action",type:"button",className:"no-border",disabled:!this.canCopyUsername(),onClick:this.handleCopyUsernameClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_owned_by_me_svg__WEBPACK_IMPORTED_MODULE_33__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy username")))),canCopySecret&&this.canCopyPassword()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"secret_action",type:"button",className:"no-border",onClick:this.handleCopySecretClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_key_svg__WEBPACK_IMPORTED_MODULE_34__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy password")))),this.canUseTotp&&this.canCopyTotp()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"totp_action",type:"button",className:"no-border",onClick:this.handleCopyTotpClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_totp_svg__WEBPACK_IMPORTED_MODULE_35__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy TOTP")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"uri_action",type:"button",className:"no-border",disabled:!this.canCopyUri(),onClick:this.handleCopyUriClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_globe_svg__WEBPACK_IMPORTED_MODULE_36__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy URI")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"permalink_action",type:"button",className:"no-border",onClick:this.handleCopyPermalinkClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_link_svg__WEBPACK_IMPORTED_MODULE_37__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Copy permalink"))))))),canViewEdit&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"edit_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleEditClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_edit_svg__WEBPACK_IMPORTED_MODULE_39__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Edit")))),canViewDelete&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{id:"delete_action"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-action-contextual",onClick:this.handleDeleteClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_delete_svg__WEBPACK_IMPORTED_MODULE_38__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Delete")))),this.hasMoreActionAllowed()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_Dropdown__WEBPACK_IMPORTED_MODULE_25__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownButton__WEBPACK_IMPORTED_MODULE_23__.A,{className:"more button-action-contextual button-action-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_27__.A,null)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenu__WEBPACK_IMPORTED_MODULE_26__.A,{className:"menu-action-contextual"},this.canExport()&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"export_action",type:"button",className:"no-border",onClick:this.handleExportClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_download_file_svg__WEBPACK_IMPORTED_MODULE_29__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Export")))),this.canOverridePasswordExpiry&&canUpdate&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"set_expiry_date_action",type:"button",className:"no-border",onClick:this.handleSetExpiryDateClickEvent},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_calendar_cog_svg__WEBPACK_IMPORTED_MODULE_30__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Set expiry date")))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dropdown_DropdownMenuItem__WEBPACK_IMPORTED_MODULE_28__.A,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"mark_as_expired_action",type:"button",className:"no-border",onClick:this.handleMarkAsExpiredClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_alarm_clock_svg__WEBPACK_IMPORTED_MODULE_31__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Mark as expired"))))))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"counter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,{count},{count}," selected")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button-transparent inline",onClick:this.handleClearSelectionClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_img_svg_close_svg__WEBPACK_IMPORTED_MODULE_41__.A,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"visuallyhidden"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Clear selection")))))}}DisplayResourcesWorkspaceMenu.propTypes={actionsButtonRef:prop_types__WEBPACK_IMPORTED_MODULE_43___default().object,context:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,rbacContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,resourceTypes:prop_types__WEBPACK_IMPORTED_MODULE_43___default().instanceOf(_shared_models_entity_resourceType_resourceTypesCollection__WEBPACK_IMPORTED_MODULE_22__.A),passwordExpiryContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,progressContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,workflowContext:prop_types__WEBPACK_IMPORTED_MODULE_43___default().any,t:prop_types__WEBPACK_IMPORTED_MODULE_43___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_2__.L)((0,_shared_context_Rbac_RbacContext__WEBPACK_IMPORTED_MODULE_10__.x6)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_4__.z9)((0,_contexts_WorkflowContext__WEBPACK_IMPORTED_MODULE_16__.AV)((0,_contexts_ProgressContext__WEBPACK_IMPORTED_MODULE_12__.E0)((0,_contexts_PasswordExpirySettingsContext__WEBPACK_IMPORTED_MODULE_18__.f4)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_3__.Qw)((0,_shared_context_ResourceTypesLocalStorageContext_ResourceTypesLocalStorageContext__WEBPACK_IMPORTED_MODULE_21__.KH)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_1__.ot)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(DisplayResourcesWorkspaceMenu))))))))));DisplayResourcesWorkspaceMenu.__docgenInfo={description:"This component allows the current user to add a new comment on a resource",methods:[{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDeleteClickEvent",docblock:"handle delete one or more resources",modifiers:[],params:[],returns:null,description:"handle delete one or more resources"},{name:"handleMarkAsExpiredClick",docblock:"Handle mark as expired\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle mark as expired"},{name:"handleEditClickEvent",docblock:"handle edit one resource",modifiers:[],params:[],returns:null,description:"handle edit one resource"},{name:"handleShareClickEvent",docblock:"handle share resources",modifiers:["async"],params:[],returns:null,description:"handle share resources"},{name:"handleCopyPermalinkClickEvent",docblock:"handle copy permalink of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy permalink of one resource"},{name:"handleCopyUsernameClickEvent",docblock:"handle copy username of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy username of one resource"},{name:"handleCopyUriClickEvent",docblock:"handle copy uri of one resource",modifiers:["async"],params:[],returns:null,description:"handle copy uri of one resource"},{name:"handleClearSelectionClick",docblock:"Handle the event on the 'close' icon to clear the current selection.\n@returns {Promise<void>}",modifiers:["async"],params:[],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Handle the event on the 'close' icon to clear the current selection."},{name:"decryptResourceSecret",docblock:"Decrypt the resource secret\n@returns {Promise<object>} The secret in plaintext format\n@throw UserAbortsOperationError If the user cancel the operation",modifiers:[],params:[],returns:{description:"The secret in plaintext format",type:{name:"Promise",elements:[{name:"object"}]}},description:"Decrypt the resource secret"},{name:"copyPasswordToClipboard",docblock:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)\n\n@param {object} plaintextSecretDto The plaintext secret DTO.\n@returns {Promise<void>}",modifiers:["async"],params:[{name:"plaintextSecretDto",description:"The plaintext secret DTO.",type:{name:"object"},optional:!1}],returns:{type:{name:"Promise",elements:[{name:"void"}]}},description:"Copy password from dto to clipboard\nSupport original password (a simple string) and composed objects)"},{name:"handleCopySecretClickEvent",docblock:"handle copy to clipboard the secret of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the secret of the selected resource"},{name:"handleCopyTotpClickEvent",docblock:"handle copy to clipboard the totp of the selected resource",modifiers:["async"],params:[],returns:null,description:"handle copy to clipboard the totp of the selected resource"},{name:"handleSetExpiryDateClickEvent",docblock:"Whenever the user intends to set the expiration date on the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to set the expiration date on the selected resources"},{name:"handleExportClickEvent",docblock:"Whenever the user intends to export the selected resources",modifiers:[],params:[],returns:null,description:"Whenever the user intends to export the selected resources"},{name:"displaySuccessNotification",docblock:"display a success notification message\n@param message",modifiers:[],params:[{name:"message",optional:!1}],returns:null,description:"display a success notification message"},{name:"selectedResources",docblock:"selected resources\n@returns {[]|null}",modifiers:["get"],params:[],returns:{type:{name:"union",elements:[{name:"tuple",elements:[]}]}},description:"selected resources"},{name:"hasOneResourceSelected",docblock:"has at least one resource selected\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"has at least one resource selected"},{name:"canUpdate",docblock:"Can update the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can update the selected resources"},{name:"canShare",docblock:"Can share the selected resources\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can share the selected resources"},{name:"canExport",docblock:"Check if the user can export.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Check if the user can export."},{name:"canCopyUsername",docblock:"Can copy username\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy username"},{name:"canCopyUri",docblock:"Can copy uri\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy uri"},{name:"canCopyPassword",docblock:"Can copy password\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy password"},{name:"isPasswordResources",docblock:"Is password resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is password resource"},{name:"canCopyTotp",docblock:"Can copy totp\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Can copy totp"},{name:"isStandaloneTotpResource",docblock:"Is TOTP resource\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Is TOTP resource"},{name:"hasResourceUsername",docblock:"Returns true if the resource type has a username associated.\n@returns {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the resource type has a username associated."},{name:"hasMoreActionAllowed",docblock:"Has at least one action of the more menu allowed.\n@return {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Has at least one action of the more menu allowed."},{name:"export",docblock:"Exports the selected resources",modifiers:["async"],params:[],returns:null,description:"Exports the selected resources"},{name:"canUseTotp",docblock:"Can use Totp\n@return {*}",modifiers:["get"],params:[],returns:{type:{name:"mixed"}},description:"Can use Totp"},{name:"canOverridePasswordExpiry",docblock:"Can use password expiry\n@return {boolean}",modifiers:["get"],params:[],returns:{type:{name:"boolean"}},description:"Can use password expiry"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"DisplayResourcesWorkspaceMenu",props:{actionsButtonRef:{description:"",type:{name:"object"},required:!1},context:{description:"",type:{name:"any"},required:!1},rbacContext:{description:"",type:{name:"any"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},resourceTypes:{description:"",type:{name:"instanceOf",value:"ResourceTypesCollection"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},progressContext:{description:"",type:{name:"any"},required:!1},workflowContext:{description:"",type:{name:"any"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/ExportResources/ExportResources.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_ExportResourcesCredentials__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/react-extension/components/Resource/ExportResources/ExportResourcesCredentials.js"),react_i18next__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_Common_Select_Select__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/react-extension/components/Common/Select/Select.js");class ExportResources extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers()}get defaultState(){return{selectedExportFormat:this.exportFormats[0].value,actions:{processing:!1}}}bindHandlers(){this.handleExport=this.handleExport.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleClose=this.handleClose.bind(this),this.handleExportFormatSelected=this.handleExportFormatSelected.bind(this)}componentDidMount(){this.findContentToExport()}findContentToExport(){const foldersIds=this.findFoldersIdsToExport(),resourcesIds=this.findResourcesIdsToExport(foldersIds);this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds,foldersIds})}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}get hasFoldersToExport(){const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds;return foldersIds&&foldersIds.length>0}get hasResourcesToExport(){const resourcesIds=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return resourcesIds&&resourcesIds.length>0}findFoldersIdsToExport(){if(!this.hasFoldersToExport)return[];const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,childrenFoldersIds=foldersIds.map((folderId=>this.getChildrenFoldersIds(folderId))).flat();return[...foldersIds,...childrenFoldersIds]}getChildrenFoldersIds(folderId){const childrenFoldersIds=this.props.context.folders.filter((folder=>folder.folder_parent_id===folderId)).map((folder=>folder.id));if(0!==childrenFoldersIds.length){const grandChildrenFolders=childrenFoldersIds.map((childFolderId=>this.getChildrenFoldersIds(childFolderId)));return[...childrenFoldersIds,...grandChildrenFolders.flat()]}return[]}findResourcesIdsToExport(foldersIds){const resourcesIdsOfFoldersIds=this.getResourcesIdsOfFoldersToExport(foldersIds),resourcesIdsToExport=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds||[];return Array.from(new Set([...resourcesIdsToExport,...resourcesIdsOfFoldersIds]))}getResourcesIdsOfFoldersToExport(foldersIds){return this.props.context.resources.filter((resource=>foldersIds.some((folderId=>folderId===resource.folder_parent_id)))).map((resource=>resource.id))}get exportFormats(){return[{label:"kdbx (keepass)",value:"kdbx"},{label:"kdbx (keepassXC & others)",value:"kdbx-others"},{label:"csv (keepass)",value:"csv-kdbx"},{label:"csv (lastpass)",value:"csv-lastpass"},{label:"csv (1password)",value:"csv-1password"},{label:"csv (chromium based browsers)",value:"csv-chromium"},{label:"csv (bitwarden)",value:"csv-bitwarden"},{label:"csv (mozilla)",value:"csv-mozilla"},{label:"csv (safari)",value:"csv-safari"},{label:"csv (dashlane)",value:"csv-dashlane"},{label:"csv (nordpass)",value:"csv-nordpass"},{label:"csv (logmeonce)",value:"csv-logmeonce"}]}handleExportFormatSelected(event){this.selectFormat(event.target.value)}async handleExport(event){event.preventDefault();this.state.selectedExportFormat.startsWith("csv")?(await this.setState({actions:{processing:!0}}),this.export().then(this.onExportSuccess.bind(this)).catch(this.onExportFailure.bind(this))):(await this.props.dialogContext.open(_ExportResourcesCredentials__WEBPACK_IMPORTED_MODULE_9__.A,{format:this.state.selectedExportFormat}),this.close())}async handleCancel(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}async handleClose(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}selectFormat(selectedExportFormat){this.setState({selectedExportFormat})}async export(){const foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,resourcesIds=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds,exportDto={format:this.state.selectedExportFormat,folders_ids:foldersIds,resources_ids:resourcesIds};await this.props.context.port.request("passbolt.export-resources.export-to-file",exportDto)}async onExportSuccess(){await this.setState({actions:{processing:!1}}),await this.props.actionFeedbackContext.displaySuccess(this.translate("The passwords have been exported successfully")),await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),this.close()}onExportFailure(error){if("UserAbortsOperationError"===error.name)return void this.setState({actions:{processing:!1}});const errorDialogProps={error};this.setState({actions:{processing:!1}}),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_7__.A,errorDialogProps)}close(){this.props.onClose()}get translate(){return this.props.t}render(){const foldersIdsToExport=this.hasFoldersToExport&&this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,resourcesIdsToExport=this.hasResourcesToExport&&this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__.A,{title:this.translate("Export passwords"),onClose:this.handleClose,disabled:!this.areActionsAllowed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleExport,noValidate:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select-wrapper input required "+(this.areActionsAllowed?"":"disabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"export-format"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_10__.x6,null,"Choose the export format (csv and kdbx are supported)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Select_Select__WEBPACK_IMPORTED_MODULE_11__.A,{id:"export-format",value:this.state.selectedExportFormat,items:this.exportFormats,onChange:this.handleExportFormatSelected,disabled:!this.areActionsAllowed})),this.hasFoldersToExport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",null,this.translate("{{count}} folder is going to be exported.",{count:foldersIdsToExport.length}))),this.hasResourcesToExport&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("em",null,this.translate("{{count}} password is going to be exported.",{count:resourcesIdsToExport.length})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:!this.areActionsAllowed,processing:this.isProcessing,onClick:this.handleCancel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Export")}))))}}ExportResources.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_12___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_12___default().object,t:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_3__.L)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_8__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_2__.z9)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_1__.Qw)((0,react_i18next__WEBPACK_IMPORTED_MODULE_10__.CI)("common")(ExportResources)))));ExportResources.__docgenInfo={description:"This component allows to export resources to a specified format",methods:[{name:"defaultState",docblock:"Returns the component default state",modifiers:["get"],params:[],returns:null,description:"Returns the component default state"},{name:"bindHandlers",docblock:"Bind the component handlers",modifiers:[],params:[],returns:null,description:"Bind the component handlers"},{name:"findContentToExport",docblock:"Find the content to export and update the context.",modifiers:[],params:[],returns:null,description:"Find the content to export and update the context."},{name:"isProcessing",docblock:"Return trus if the export is processing",modifiers:["get"],params:[],returns:null,description:"Return trus if the export is processing"},{name:"areActionsAllowed",docblock:"Returns true if actions can be performed",modifiers:["get"],params:[],returns:null,description:"Returns true if actions can be performed"},{name:"hasFoldersToExport",docblock:"Returns true if some folders must be exported",modifiers:["get"],params:[],returns:null,description:"Returns true if some folders must be exported"},{name:"hasResourcesToExport",docblock:"Returns true if some resources must be exported",modifiers:["get"],params:[],returns:null,description:"Returns true if some resources must be exported"},{name:"findFoldersIdsToExport",docblock:"Returns the folders identifiers to export",modifiers:[],params:[],returns:null,description:"Returns the folders identifiers to export"},{name:"getChildrenFoldersIds",docblock:"Returns the children folders ids of the given folder\n@param folderId A folder identifier",modifiers:[],params:[{name:"folderId",description:"A folder identifier",optional:!1}],returns:null,description:"Returns the children folders ids of the given folder"},{name:"findResourcesIdsToExport",docblock:"Returns the resources identifiers to export\n@param {array} foldersIds The list of folders to crawl for resources",modifiers:[],params:[{name:"foldersIds",description:"The list of folders to crawl for resources",type:{name:"array"},optional:!1}],returns:null,description:"Returns the resources identifiers to export"},{name:"getResourcesIdsOfFoldersToExport",docblock:"Returns the resources ids of the folders to export\n@param foldersIds The folders to look into",modifiers:[],params:[{name:"foldersIds",description:"The folders to look into",optional:!1}],returns:null,description:"Returns the resources ids of the folders to export"},{name:"exportFormats",docblock:"Returns the list of available export formats",modifiers:["get"],params:[],returns:null,description:"Returns the list of available export formats"},{name:"handleExportFormatSelected",docblock:"Whenever the user selects an export format\n@param event Select DOM event",modifiers:[],params:[{name:"event",description:"Select DOM event",optional:!1}],returns:null,description:"Whenever the user selects an export format"},{name:"handleExport",docblock:"Whenever the export is submitted\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Whenever the export is submitted"},{name:"handleCancel",docblock:"Whenever the export is cancelled",modifiers:["async"],params:[],returns:null,description:"Whenever the export is cancelled"},{name:"handleClose",docblock:"Whenever the dialog is closed",modifiers:["async"],params:[],returns:null,description:"Whenever the dialog is closed"},{name:"selectFormat",docblock:"Select the export format\n@param selectedExportFormat The selected export format",modifiers:[],params:[{name:"selectedExportFormat",description:"The selected export format",optional:!1}],returns:null,description:"Select the export format"},{name:"export",docblock:"Export the selected resources or folders",modifiers:["async"],params:[],returns:null,description:"Export the selected resources or folders"},{name:"onExportSuccess",docblock:"Whenever the export has been performed successfully",modifiers:["async"],params:[],returns:null,description:"Whenever the export has been performed successfully"},{name:"onExportFailure",docblock:"Whenever the export has been performed with failure",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Whenever the export has been performed with failure"},{name:"close",docblock:"Close the dialog",modifiers:[],params:[],returns:null,description:"Close the dialog"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ExportResources",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/ExportResources/ExportResourcesCredentials.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/react-extension/contexts/ResourceWorkspaceContext.js"),_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),react_i18next__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/shared/components/Password/Password.js");class ExportResourcesCredentials extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.state=this.defaultState,this.bindHandlers(),this.createReferences()}get defaultState(){return{password:"",keyFile:null,actions:{processing:!1}}}bindHandlers(){this.handleInputChange=this.handleInputChange.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFileSelected=this.handleFileSelected.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}createReferences(){this.fileUploaderRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef(),this.passwordInputRef=react__WEBPACK_IMPORTED_MODULE_0__.createRef()}get selectedFilename(){return this.state.keyFile?this.state.keyFile.name:""}get isProcessing(){return this.state.actions.processing}get areActionsAllowed(){return!this.isProcessing}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFileSelected(event){const[keyFile]=event.target.files;await this.setState({keyFile})}handleInputChange(event){const target=event.target,value=target.value,name=target.name;this.setState({[name]:value})}handleCancel(){this.close()}async handleSubmit(event){event.preventDefault(),await this.setState({actions:{processing:!0}}),await this.export().then(this.onExportSuccess.bind(this)).catch(this.onExportFailure.bind(this))}async export(){const options={credentials:{password:this.state.password,keyfile:await this.readFile()}},foldersIds=this.props.resourceWorkspaceContext.resourcesToExport.foldersIds,resourcesIds=this.props.resourceWorkspaceContext.resourcesToExport.resourcesIds,exportDto={format:this.props.format,folders_ids:foldersIds,resources_ids:resourcesIds,options};await this.props.context.port.request("passbolt.export-resources.export-to-file",exportDto)}readFile(){if(!this.state.keyFile)return;const reader=new FileReader;return new Promise(((resolve,reject)=>{reader.onloadend=event=>{try{const fileBase64=event.target.result.split(",")[1];resolve(fileBase64)}catch(e){reject(e)}},reader.readAsDataURL(this.state.keyFile)}))}async onExportSuccess(){await this.props.resourceWorkspaceContext.onResourcesToExport({resourcesIds:null,foldersIds:null}),await this.props.actionFeedbackContext.displaySuccess(this.translate("The passwords have been exported successfully")),this.close()}onExportFailure(error){if("UserAbortsOperationError"===error.name)return void this.setState({actions:{processing:!1}});const errorDialogProps={error};this.setState({actions:{processing:!1}}),this.props.dialogContext.open(_Common_Error_NotifyError_NotifyError__WEBPACK_IMPORTED_MODULE_8__.A,errorDialogProps)}close(){this.props.onClose()}get translate(){return this.props.t}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Dialog_DialogWrapper_DialogWrapper__WEBPACK_IMPORTED_MODULE_4__.A,{title:this.translate("Enter the password and/or key file"),className:"export-password-dialog",onClose:this.handleCancel,disabled:!this.areActionsAllowed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{onSubmit:this.handleSubmit},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"form-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-password-wrapper input "+(this.areActionsAllowed?"":"disabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"password"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Keepass password")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_shared_components_Password_Password__WEBPACK_IMPORTED_MODULE_10__.A,{id:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:this.translate("Passphrase"),autoComplete:"off",inputRef:this.passwordInputRef,preview:!0,disabled:!this.areActionsAllowed})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input file "+(this.areActionsAllowed?"":"disabled")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"file",ref:this.fileUploaderRef,id:"dialog-exports-passwords",onChange:this.handleFileSelected}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{htmlFor:"dialog-exports-passwords"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Keepass key file (optional)")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"input-file-inline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",placeholder:this.translate("No key file selected"),disabled:!0,value:this.selectedFilename}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"button primary",disabled:!this.areActionsAllowed,onClick:this.handleSelectFile},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_9__.x6,null,"Choose a file")))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"submit-wrapper clearfix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormCancelButton__WEBPACK_IMPORTED_MODULE_6__.A,{disabled:!this.areActionsAllowed,onClick:this.handleCancel}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Common_Inputs_FormSubmitButton_FormSubmitButton__WEBPACK_IMPORTED_MODULE_5__.A,{disabled:!this.areActionsAllowed,processing:this.isProcessing,value:this.translate("Export")}))))}}ExportResourcesCredentials.propTypes={context:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,onClose:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,actionFeedbackContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,resourceWorkspaceContext:prop_types__WEBPACK_IMPORTED_MODULE_11___default().any,format:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,t:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func};const __WEBPACK_DEFAULT_EXPORT__=(0,_shared_context_AppContext_AppContext__WEBPACK_IMPORTED_MODULE_1__.L)((0,_contexts_ResourceWorkspaceContext__WEBPACK_IMPORTED_MODULE_7__.Qw)((0,_contexts_ActionFeedbackContext__WEBPACK_IMPORTED_MODULE_2__.ot)((0,_contexts_DialogContext__WEBPACK_IMPORTED_MODULE_3__.z9)((0,react_i18next__WEBPACK_IMPORTED_MODULE_9__.CI)("common")(ExportResourcesCredentials)))));ExportResourcesCredentials.__docgenInfo={description:"This component is the second step of the export dialog when the file to import is KDB(X) file",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindHandlers",docblock:"Bind component handlers",modifiers:[],params:[],returns:null,description:"Bind component handlers"},{name:"createReferences",docblock:"Create elements references",modifiers:[],params:[],returns:null,description:"Create elements references"},{name:"selectedFilename",docblock:"Returns the selected file's name",modifiers:["get"],params:[],returns:null,description:"Returns the selected file's name"},{name:"isProcessing",docblock:"Return trus if the export is processing",modifiers:["get"],params:[],returns:null,description:"Return trus if the export is processing"},{name:"areActionsAllowed",docblock:"Returns true if actions can be performed",modifiers:["get"],params:[],returns:null,description:"Returns true if actions can be performed"},{name:"handleSelectFile",docblock:"Handle the selection of a file by file explorer",modifiers:[],params:[],returns:null,description:"Handle the selection of a file by file explorer"},{name:"handleFileSelected",docblock:"Handle the event that a file has been selected\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the event that a file has been selected"},{name:"handleInputChange",docblock:"Handle input change\n@param event",modifiers:[],params:[{name:"event",optional:!1}],returns:null,description:"Handle input change"},{name:"handleCancel",docblock:"Handle the cancellation of the import",modifiers:[],params:[],returns:null,description:"Handle the cancellation of the import"},{name:"handleSubmit",docblock:"Handle the export submit event\n@param event A dom event",modifiers:["async"],params:[{name:"event",description:"A dom event",optional:!1}],returns:null,description:"Handle the export submit event"},{name:"export",docblock:"Export the resource file",modifiers:["async"],params:[],returns:null,description:"Export the resource file"},{name:"readFile",docblock:"Read the selected file and returns its content in a base 64\n@return {Promise<string>}",modifiers:[],params:[],returns:{type:{name:"Promise",elements:[{name:"string"}]}},description:"Read the selected file and returns its content in a base 64"},{name:"onExportSuccess",docblock:"Whenever the export has been performed succesfully",modifiers:["async"],params:[],returns:null,description:"Whenever the export has been performed succesfully"},{name:"onExportFailure",docblock:"Whenever the export has been performed with failure",modifiers:[],params:[{name:"error",optional:!1}],returns:null,description:"Whenever the export has been performed with failure"},{name:"close",docblock:"Close the dialog",modifiers:[],params:[],returns:null,description:"Close the dialog"},{name:"translate",docblock:"Get the translate function\n@returns {function(...[*]=)}",modifiers:["get"],params:[],returns:{},description:"Get the translate function"}],displayName:"ExportResourcesCredentials",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},actionFeedbackContext:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"any"},required:!1},resourceWorkspaceContext:{description:"",type:{name:"any"},required:!1},format:{description:"",type:{name:"string"},required:!1},t:{description:"",type:{name:"func"},required:!1}}}},"./src/react-extension/components/Resource/PasswordExpiryDialog/PasswordExpiryDialog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>PasswordExpiryDialog_PasswordExpiryDialog});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),AppContext=__webpack_require__("./src/shared/context/AppContext/AppContext.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),DialogWrapper=__webpack_require__("./src/react-extension/components/Common/Dialog/DialogWrapper/DialogWrapper.js"),FormCancelButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormCancelButton.js"),FormSubmitButton=__webpack_require__("./src/react-extension/components/Common/Inputs/FormSubmitButton/FormSubmitButton.js"),Icon=__webpack_require__("./src/shared/components/Icons/Icon.js"),PasswordExpirySettingsContext=__webpack_require__("./src/react-extension/contexts/PasswordExpirySettingsContext.js"),NotifyError=__webpack_require__("./src/react-extension/components/Common/Error/NotifyError/NotifyError.js"),DialogContext=__webpack_require__("./src/react-extension/contexts/DialogContext.js"),ActionFeedbackContext=__webpack_require__("./src/react-extension/contexts/ActionFeedbackContext.js"),entityValidationError=__webpack_require__("./src/shared/models/entity/abstract/entityValidationError.js"),entitySchema=__webpack_require__("./src/shared/models/entity/abstract/entitySchema.js"),luxon=__webpack_require__("./node_modules/luxon/src/luxon.js"),dateUtils=__webpack_require__("./src/shared/utils/dateUtils.js");const PasswordExpiryOptionEnum={AUTOMATIC:"automatic",MANUAL:"manual",NEVER:"never"};class PasswordExpiryDialogViewModel{constructor(settings={}){this.passwordExpiryDurationInDay=settings.passwordExpiryDurationInDay,this.passwordExpiryDate=settings.passwordExpiryDate,this.passwordExpiryOption=settings.passwordExpiryOption}static getSchema(){return{type:"object",required:["passwordExpiryDurationInDay","passwordExpiryDate","passwordExpiryOption"],properties:{passwordExpiryDurationInDay:{type:"integer",maximum:999,minimum:-99},passwordExpiryDate:{type:"string",pattern:/\d{4}-\d{2}-\d{2}/},passwordExpiryOption:{type:"string",enum:PasswordExpiryOptionEnum}}}}static fromEntityDto(entityDto){const passwordExpiryDurationInDay=entityDto?.default_expiry_period||90,passwordExpiryDate=luxon.c9.utc().plus({days:passwordExpiryDurationInDay}).toFormat("yyyy-MM-dd");return new PasswordExpiryDialogViewModel({passwordExpiryDurationInDay,passwordExpiryDate,passwordExpiryOption:PasswordExpiryOptionEnum.AUTOMATIC})}toDto(){return{passwordExpiryDurationInDay:this.passwordExpiryDurationInDay,passwordExpiryDate:this.passwordExpiryDate,passwordExpiryOption:this.passwordExpiryOption}}getExpiryDateToApply(){let date;switch(this.passwordExpiryOption){case PasswordExpiryOptionEnum.AUTOMATIC:date=luxon.c9.utc().plus({days:this.passwordExpiryDurationInDay});break;case PasswordExpiryOptionEnum.MANUAL:date=luxon.c9.fromFormat(this.passwordExpiryDate,"yyyy-MM-dd",{zone:"UTC"});break;case PasswordExpiryOptionEnum.NEVER:date=null;break;default:throw new Error(`Unsuppored Password Expiry dialog option '${this.passwordExpiryOption}'`)}return(0,dateUtils.B7)(date)}mapResourcesToPasswordExpiryDto(resourceList){const expiryDate=this.getExpiryDateToApply();return resourceList.map((resource=>({id:resource.id,expired:expiryDate})))}validate(){switch(this.passwordExpiryOption){case PasswordExpiryOptionEnum.AUTOMATIC:return this.validatePasswordExpiryDurationInDay();case PasswordExpiryOptionEnum.MANUAL:return this.validatePasswordExpiryDate()}return new entityValidationError.A}validatePasswordExpiryDurationInDay(){const schema=PasswordExpiryDialogViewModel.getSchema();try{entitySchema.A.validateProp("passwordExpiryDurationInDay",this.passwordExpiryDurationInDay,schema.properties.passwordExpiryDurationInDay)}catch(e){if(!(e instanceof entityValidationError.A))throw e;return e}return new entityValidationError.A}validatePasswordExpiryDate(){const schema=PasswordExpiryDialogViewModel.getSchema();try{entitySchema.A.validateProp("passwordExpiryDate",this.passwordExpiryDate,schema.properties.passwordExpiryDate)}catch(e){if(!(e instanceof entityValidationError.A))throw e;return e}return new entityValidationError.A}}const passwordExpirySettings_PasswordExpiryDialogViewModel=PasswordExpiryDialogViewModel;class PasswordExpiryDialog extends react.Component{constructor(props){super(props),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){const settings=this.props.passwordExpiryContext.getSettings();return{hasBeenSubmitted:!1,processing:!1,passwordExpiryDialogViewModel:passwordExpirySettings_PasswordExpiryDialogViewModel.fromEntityDto(settings),errors:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleDurationInDayChange=this.handleDurationInDayChange.bind(this),this.handleDuration=this.handleDurationInDayChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.selectExpiryOption=this.selectExpiryOption.bind(this)}handleDurationInDayChange(event){if(event.target.value.toString().length>3)return void event.preventDefault();const newExpiryDurationInDay={passwordExpiryDurationInDay:parseInt(event.target.value,10)};this.selectExpiryOption(PasswordExpiryOptionEnum.AUTOMATIC,newExpiryDurationInDay)}handleDateChange(event){const newPasswordExpiryDate={passwordExpiryDate:event.target.value};this.selectExpiryOption(PasswordExpiryOptionEnum.MANUAL,newPasswordExpiryDate)}selectExpiryOption(passwordExpiryOption,newInputFieldDate={}){const data=Object.assign({},this.state.passwordExpiryDialogViewModel.toDto(),newInputFieldDate,{passwordExpiryOption}),newState={passwordExpiryDialogViewModel:new passwordExpirySettings_PasswordExpiryDialogViewModel(data)};this.state.hasBeenSubmitted?(newState.errors=this.state.passwordExpiryDialogViewModel.validate(),this.setState(newState)):this.setState(newState)}hasAllInputDisabled(){return this.state.processing}handleError(error){this.props.dialogContext.open(NotifyError.A,{error})}displayErrors(errors){return react.createElement("span",{className:"error-message"},Object.keys(errors).map((errorKey=>react.createElement(react.Fragment,null,errors[errorKey]))))}get resourceCount(){return this.props.resources.length}async handleFormSubmit(e){e.preventDefault();const errors=this.state.passwordExpiryDialogViewModel.validate();if(this.setState({hasBeenSubmitted:!0,errors}),errors.hasErrors())return;this.setState({processing:!0});const resourceExpirationDto=this.state.passwordExpiryDialogViewModel.mapResourcesToPasswordExpiryDto(this.props.resources);try{await this.props.context.port.request("passbolt.resources.set-expiration-date",resourceExpirationDto),this.props.actionFeedbackContext.displaySuccess(this.props.t("The expiry date of the selected resource has been updated.",{count:this.props.resources.length})),this.setState({processing:!1}),this.props.onClose()}catch(e){this.handleError(e),this.setState({processing:!1})}}render(){const viewModel=this.state.passwordExpiryDialogViewModel,isDisabled=this.hasAllInputDisabled(),errors=this.state.errors;return react.createElement(DialogWrapper.A,{className:"password-expiry-dialog",title:this.props.t("Set an expiry date",{count:this.resourceCount}),onClose:this.props.onClose,disabled:isDisabled},react.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},react.createElement("div",{className:"form-content"},react.createElement("div",{className:"radiolist-alt"},react.createElement("div",{className:"input radio"},react.createElement("label",{htmlFor:"passwordExpiryOptionAutomatic"},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.AUTOMATIC,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.AUTOMATIC),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.AUTOMATIC,id:"passwordExpiryOptionAutomatic",disabled:this.hasAllInputDisabled()}),react.createElement("span",null,react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Set the date automatically:")),react.createElement("span",{className:"info"},react.createElement("input",{type:"number",value:viewModel.passwordExpiryDurationInDay,id:"passwordExpiryDateAutomatic",name:"passwordExpiryDurationInDay",onChange:this.handleDurationInDayChange,disabled:this.hasAllInputDisabled(),min:"1",max:"365"}),react.createElement(es.x6,null,"days from now.")),errors?.hasError("passwordExpiryDurationInDay")&&this.displayErrors(errors.getError("passwordExpiryDurationInDay"))))),react.createElement("div",{className:"input radio"},react.createElement("label",{htmlFor:"passwordExpiryOptionManual"},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.MANUAL,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.MANUAL),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.MANUAL,id:"passwordExpiryOptionManual",disabled:this.hasAllInputDisabled()}),react.createElement("span",null,react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Set the date manually:")),react.createElement("span",{className:"info date-wrapper"},react.createElement("div",{className:"button-inline"},react.createElement("input",{className:"fluid form-element "+(viewModel.passwordExpiryDate?"":"empty"),type:"date",value:viewModel.passwordExpiryDate,id:"passwordExpiryDateManual",name:"passwordExpiryDate",onChange:this.handleDateChange,disabled:this.hasAllInputDisabled()}),react.createElement(Icon.A,{name:"calendar"}))),errors?.hasError("passwordExpiryDate")&&this.displayErrors(errors.getError("passwordExpiryDate"))))),react.createElement("div",{className:"input radio"},react.createElement("label",{htmlFor:"passwordExpiryOptionNever"},react.createElement("input",{type:"radio",value:PasswordExpiryOptionEnum.NEVER,onChange:()=>this.selectExpiryOption(PasswordExpiryOptionEnum.NEVER),name:"passwordExpiryOption",checked:viewModel.passwordExpiryOption===PasswordExpiryOptionEnum.NEVER,id:"passwordExpiryOptionNever",disabled:this.hasAllInputDisabled()}),react.createElement("span",null,react.createElement("span",{className:"name"},react.createElement(es.x6,null,"Not set")),react.createElement("span",{className:"info"},react.createElement(es.x6,{count:this.resourceCount},"This resource does not need an expiry date."))))))),react.createElement("div",{className:"submit-wrapper clearfix"},react.createElement(FormCancelButton.A,{disabled:isDisabled,onClick:this.props.onClose}),react.createElement(FormSubmitButton.A,{disabled:isDisabled,processing:this.state.processing,value:this.props.t("Save")}))))}}PasswordExpiryDialog.propTypes={context:prop_types_default().any,onClose:prop_types_default().func,passwordExpiryContext:prop_types_default().object,dialogContext:prop_types_default().object,actionFeedbackContext:prop_types_default().object,t:prop_types_default().func,resources:prop_types_default().arrayOf(Object)};const PasswordExpiryDialog_PasswordExpiryDialog=(0,AppContext.L)((0,DialogContext.z9)((0,PasswordExpirySettingsContext.f4)((0,ActionFeedbackContext.ot)((0,es.CI)("common")(PasswordExpiryDialog)))));PasswordExpiryDialog.__docgenInfo={description:"",methods:[{name:"defaultState",docblock:"Get default state\n@returns {Object}",modifiers:["get"],params:[],returns:{type:{name:"Object"}},description:"Get default state"},{name:"bindCallbacks",docblock:"Bind callbacks methods",modifiers:[],params:[],returns:null,description:"Bind callbacks methods"},{name:"handleDurationInDayChange",docblock:"Handle duration in day input change\n@param {Event} event",modifiers:[],params:[{name:"event",type:{name:"Event"},optional:!1}],returns:null,description:"Handle duration in day input change"},{name:"handleDateChange",docblock:"Handle manual date input change\n@param {Event} event",modifiers:[],params:[{name:"event",type:{name:"Event"},optional:!1}],returns:null,description:"Handle manual date input change"},{name:"selectExpiryOption",docblock:"Change the currently selected expiration option\n@param {string} passwordExpiryOption\n@param {object} [newInputFieldDate]",modifiers:[],params:[{name:"passwordExpiryOption",type:{name:"string"},optional:!1},{name:"newInputFieldDate",optional:!0}],returns:null,description:"Change the currently selected expiration option"},{name:"hasAllInputDisabled",docblock:"Returns true if the input must be disabled.\n@returns {boolean}",modifiers:[],params:[],returns:{type:{name:"boolean"}},description:"Returns true if the input must be disabled."},{name:"handleError",docblock:"Handles error by displaying the NotifyError dialog.\n@param {Error} error",modifiers:[],params:[{name:"error",type:{name:"Error"},optional:!1}],returns:null,description:"Handles error by displaying the NotifyError dialog."},{name:"displayErrors",docblock:"Handles EntityValidationError for displaying on the UI.\n@param {object} errors",modifiers:[],params:[{name:"errors",type:{name:"object"},optional:!1}],returns:null,description:"Handles EntityValidationError for displaying on the UI."},{name:"resourceCount",docblock:"Returns the count of selected resources.\nThis is mainly used to adapt the translations accordingly.\n@returns {number}",modifiers:["get"],params:[],returns:{type:{name:"number"}},description:"Returns the count of selected resources.\nThis is mainly used to adapt the translations accordingly."},{name:"handleFormSubmit",docblock:"Handles form submission\n@param {Event} e",modifiers:["async"],params:[{name:"e",type:{name:"Event"},optional:!1}],returns:null,description:"Handles form submission"}],displayName:"PasswordExpiryDialog",props:{context:{description:"",type:{name:"any"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},passwordExpiryContext:{description:"",type:{name:"object"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1},actionFeedbackContext:{description:"",type:{name:"object"},required:!1},t:{description:"",type:{name:"func"},required:!1},resources:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"Object"}},required:!1}}}},"./src/react-extension/components/Share/SharePermissionItemSkeleton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");class SharePermissionItemSkeleton extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className:"row skeleton"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"avatar"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-name"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"aro-details"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"select rights"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actions"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"shimmer"}))}}SharePermissionItemSkeleton.propTypes={};const __WEBPACK_DEFAULT_EXPORT__=SharePermissionItemSkeleton;SharePermissionItemSkeleton.__docgenInfo={description:"",methods:[],displayName:"SharePermissionItemSkeleton"}},"./src/react-extension/contexts/DialogContext.test.data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function defaultDialogContext(context={}){const defaultContext={dialogs:[],open:jest.fn(),close:jest.fn(),closeAll:jest.fn()};return Object.assign(defaultContext,context)}__webpack_require__.d(__webpack_exports__,{L:()=>defaultDialogContext})},"./src/react-extension/contexts/ProgressContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,E0:()=>withProgress});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react-extension/components/Common/Progress/DisplayProgress/DisplayProgress.js"),_DialogContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react-extension/contexts/DialogContext.js");const ProgressContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({progressDialogProps:null,dialogIndex:null,open:()=>{},updateMessage:()=>{},updateGoals:()=>{},close:()=>{}});class ProgressContextProvider extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.bindCallbacks(),this.state=this.defaultState}get defaultState(){return{progressDialogProps:null,dialogIndex:null,open:this.open,updateMessage:this.updateMessage,updateGoals:this.updateGoals,close:this.close}}bindCallbacks(){this.open=this.open.bind(this),this.updateGoals=this.updateGoals.bind(this),this.updateMessage=this.updateMessage.bind(this),this.close=this.close.bind(this)}open(title,goals,message){const progressDialogProps={title,goals,message};this.setState({progressDialogProps});const dialogIndex=this.props.dialogContext.open(_components_Common_Progress_DisplayProgress_DisplayProgress__WEBPACK_IMPORTED_MODULE_1__.A);this.setState({dialogIndex})}updateMessage(message,completed=!1){const progressDialogProps={...this.state.progressDialogProps,message:message||this.state.progressDialogProps.message,completed};this.setState({progressDialogProps})}async updateGoals(goals){const progressDialogProps={...this.state.progressDialogProps,goals};this.setState({progressDialogProps})}async close(){this.props.dialogContext.close(this.state.dialogIndex);this.setState({progressDialogProps:{},dialogIndex:null})}render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Provider,{value:this.state},this.props.children)}}ProgressContextProvider.displayName="ProgressContextProvider",ProgressContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_3___default().any,dialogContext:prop_types__WEBPACK_IMPORTED_MODULE_3___default().object};const __WEBPACK_DEFAULT_EXPORT__=(0,_DialogContext__WEBPACK_IMPORTED_MODULE_2__.z9)(ProgressContextProvider);function withProgress(WrappedComponent){return class WithProgress extends react__WEBPACK_IMPORTED_MODULE_0__.Component{render(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressContext.Consumer,null,(progressContext=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(WrappedComponent,{progressContext,...this.props})))}}}ProgressContextProvider.__docgenInfo={description:"The related context provider",methods:[{name:"defaultState",docblock:"Returns the default component state",modifiers:["get"],params:[],returns:null,description:"Returns the default component state"},{name:"bindCallbacks",docblock:"Bind callbacks",modifiers:[],params:[],returns:null,description:"Bind callbacks"},{name:"open",docblock:"Open the progress dialog\n@param {string} title The title\n@param {integer} goals The goals\n@param {string} message The message",modifiers:[],params:[{name:"title",description:"The title",type:{name:"string"},optional:!1},{name:"goals",description:"The goals",type:{name:"integer"},optional:!1},{name:"message",description:"The message",type:{name:"string"},optional:!1}],returns:null,description:"Open the progress dialog"},{name:"updateMessage",docblock:"Update the progress dialog message.\n@param {string} message The message\n@param {boolean} completed The progress is completed.",modifiers:[],params:[{name:"message",description:"The message",type:{name:"string"},optional:!1},{name:"completed",description:"The progress is completed.",type:{name:"boolean"},optional:!0}],returns:null,description:"Update the progress dialog message."},{name:"updateGoals",docblock:"Upate the progress dialog goals.\n@param {integer} goals the goals",modifiers:["async"],params:[{name:"goals",description:"the goals",type:{name:"integer"},optional:!1}],returns:null,description:"Upate the progress dialog goals."},{name:"close",docblock:"Close the progress dialog.",modifiers:["async"],params:[],returns:null,description:"Close the progress dialog."}],displayName:"ProgressContextProvider",props:{children:{description:"",type:{name:"any"},required:!1},dialogContext:{description:"",type:{name:"object"},required:!1}}}}}]);